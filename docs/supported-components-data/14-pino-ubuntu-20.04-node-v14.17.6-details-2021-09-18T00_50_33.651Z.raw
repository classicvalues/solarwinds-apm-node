npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.3.0
added 11 packages from 4 contributors, removed 5 packages, updated 1 package and audited 1100 packages in 7.267s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:50:42.825Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:42.826Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:42.826Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:42.827Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:42.941Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:43.028Z appoptics:patching patched crypto 
2021-09-18T00:50:43.072Z appoptics:patching patched https 
2021-09-18T00:50:43.072Z appoptics:patching patched http 
2021-09-18T00:50:43.119Z appoptics:patching patched pino 2.3.0
2021-09-18T00:50:43.124Z appoptics:debug starting runtimeMetrics


  pino v2.3.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (235ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.4.0
updated 1 package and audited 1100 packages in 7.381s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:50:52.127Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:52.127Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:52.127Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:52.128Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:52.195Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:52.249Z appoptics:patching patched crypto 
2021-09-18T00:50:52.272Z appoptics:patching patched https 
2021-09-18T00:50:52.272Z appoptics:patching patched http 
2021-09-18T00:50:52.308Z appoptics:patching patched pino 2.4.0
2021-09-18T00:50:52.312Z appoptics:debug starting runtimeMetrics


  pino v2.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.4.1
updated 1 package and audited 1100 packages in 6.295s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:50:59.940Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:59.941Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:59.941Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:59.941Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:00.011Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:00.061Z appoptics:patching patched crypto 
2021-09-18T00:51:00.084Z appoptics:patching patched https 
2021-09-18T00:51:00.084Z appoptics:patching patched http 
2021-09-18T00:51:00.117Z appoptics:patching patched pino 2.4.1
2021-09-18T00:51:00.121Z appoptics:debug starting runtimeMetrics


  pino v2.4.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (184ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.4.2
updated 1 package and audited 1100 packages in 6.115s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:08.072Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:08.072Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:08.072Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:08.073Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:08.134Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:08.184Z appoptics:patching patched crypto 
2021-09-18T00:51:08.206Z appoptics:patching patched https 
2021-09-18T00:51:08.207Z appoptics:patching patched http 
2021-09-18T00:51:08.241Z appoptics:patching patched pino 2.4.2
2021-09-18T00:51:08.245Z appoptics:debug starting runtimeMetrics


  pino v2.4.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.4.3
updated 1 package and audited 1100 packages in 6.988s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:16.606Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:16.607Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:16.607Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:16.607Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:16.685Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:16.736Z appoptics:patching patched crypto 
2021-09-18T00:51:16.758Z appoptics:patching patched https 
2021-09-18T00:51:16.759Z appoptics:patching patched http 
2021-09-18T00:51:16.792Z appoptics:patching patched pino 2.4.3
2021-09-18T00:51:16.796Z appoptics:debug starting runtimeMetrics


  pino v2.4.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.4.4
updated 1 package and audited 1100 packages in 5.605s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:23.747Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:23.748Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:23.748Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:23.749Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:23.809Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:23.860Z appoptics:patching patched crypto 
2021-09-18T00:51:23.882Z appoptics:patching patched https 
2021-09-18T00:51:23.882Z appoptics:patching patched http 
2021-09-18T00:51:23.915Z appoptics:patching patched pino 2.4.4
2021-09-18T00:51:23.919Z appoptics:debug starting runtimeMetrics


  pino v2.4.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.5.0
updated 1 package and audited 1100 packages in 4.965s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:30.203Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:30.204Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:30.204Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:30.205Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:30.304Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:30.369Z appoptics:patching patched crypto 
2021-09-18T00:51:30.401Z appoptics:patching patched https 
2021-09-18T00:51:30.401Z appoptics:patching patched http 
2021-09-18T00:51:30.442Z appoptics:patching patched pino 2.5.0
2021-09-18T00:51:30.446Z appoptics:debug starting runtimeMetrics


  pino v2.5.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (181ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.6.0
updated 1 package and audited 1100 packages in 6.415s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:38.329Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:38.329Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:38.330Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:38.330Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:38.445Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:38.496Z appoptics:patching patched crypto 
2021-09-18T00:51:38.518Z appoptics:patching patched https 
2021-09-18T00:51:38.519Z appoptics:patching patched http 
2021-09-18T00:51:38.559Z appoptics:patching patched pino 2.6.0
2021-09-18T00:51:38.562Z appoptics:debug starting runtimeMetrics


  pino v2.6.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (182ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.6.1
updated 1 package and audited 1100 packages in 6.043s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:45.996Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:45.997Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:45.997Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:45.997Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:46.060Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:46.112Z appoptics:patching patched crypto 
2021-09-18T00:51:46.135Z appoptics:patching patched https 
2021-09-18T00:51:46.135Z appoptics:patching patched http 
2021-09-18T00:51:46.175Z appoptics:patching patched pino 2.6.1
2021-09-18T00:51:46.179Z appoptics:debug starting runtimeMetrics


  pino v2.6.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.7.0
updated 1 package and audited 1100 packages in 4.728s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:52.322Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:52.323Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:52.323Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:52.324Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:52.384Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:52.435Z appoptics:patching patched crypto 
2021-09-18T00:51:52.458Z appoptics:patching patched https 
2021-09-18T00:51:52.458Z appoptics:patching patched http 
2021-09-18T00:51:52.491Z appoptics:patching patched pino 2.7.0
2021-09-18T00:51:52.495Z appoptics:debug starting runtimeMetrics


  pino v2.7.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.7.1
updated 1 package and audited 1100 packages in 5.821s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:59.660Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:59.661Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:59.661Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:59.661Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:59.727Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:59.778Z appoptics:patching patched crypto 
2021-09-18T00:51:59.801Z appoptics:patching patched https 
2021-09-18T00:51:59.801Z appoptics:patching patched http 
2021-09-18T00:51:59.836Z appoptics:patching patched pino 2.7.1
2021-09-18T00:51:59.840Z appoptics:debug starting runtimeMetrics


  pino v2.7.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.7.2
updated 1 package and audited 1100 packages in 5.403s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:52:06.723Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:06.724Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:06.724Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:06.725Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:06.789Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:06.842Z appoptics:patching patched crypto 
2021-09-18T00:52:06.888Z appoptics:patching patched https 
2021-09-18T00:52:06.888Z appoptics:patching patched http 
2021-09-18T00:52:06.924Z appoptics:patching patched pino 2.7.2
2021-09-18T00:52:06.928Z appoptics:debug starting runtimeMetrics


  pino v2.7.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (223ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.7.3
updated 1 package and audited 1100 packages in 6.011s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:52:14.406Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:14.407Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:14.407Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:14.407Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:14.475Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:14.526Z appoptics:patching patched crypto 
2021-09-18T00:52:14.549Z appoptics:patching patched https 
2021-09-18T00:52:14.549Z appoptics:patching patched http 
2021-09-18T00:52:14.583Z appoptics:patching patched pino 2.7.3
2021-09-18T00:52:14.587Z appoptics:debug starting runtimeMetrics


  pino v2.7.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (181ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.7.4
updated 1 package and audited 1100 packages in 5.899s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:52:21.945Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:21.946Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:21.946Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:21.947Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:22.017Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:22.093Z appoptics:patching patched crypto 
2021-09-18T00:52:22.156Z appoptics:patching patched https 
2021-09-18T00:52:22.156Z appoptics:patching patched http 
2021-09-18T00:52:22.195Z appoptics:patching patched pino 2.7.4
2021-09-18T00:52:22.199Z appoptics:debug starting runtimeMetrics


  pino v2.7.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (190ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.7.5
updated 1 package and audited 1100 packages in 5.97s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:52:29.702Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:29.703Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:29.703Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:29.703Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:29.788Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:29.840Z appoptics:patching patched crypto 
2021-09-18T00:52:29.863Z appoptics:patching patched https 
2021-09-18T00:52:29.863Z appoptics:patching patched http 
2021-09-18T00:52:29.898Z appoptics:patching patched pino 2.7.5
2021-09-18T00:52:29.902Z appoptics:debug starting runtimeMetrics


  pino v2.7.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.8.0
updated 1 package and audited 1100 packages in 6.004s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:52:37.302Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:37.303Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:37.303Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:37.304Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:37.371Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:37.420Z appoptics:patching patched crypto 
2021-09-18T00:52:37.445Z appoptics:patching patched https 
2021-09-18T00:52:37.445Z appoptics:patching patched http 
2021-09-18T00:52:37.503Z appoptics:patching patched pino 2.8.0
2021-09-18T00:52:37.507Z appoptics:debug starting runtimeMetrics


  pino v2.8.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.8.1
updated 1 package and audited 1100 packages in 5.705s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:52:44.590Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:44.591Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:44.591Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:44.592Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:44.660Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:44.714Z appoptics:patching patched crypto 
2021-09-18T00:52:44.742Z appoptics:patching patched https 
2021-09-18T00:52:44.742Z appoptics:patching patched http 
2021-09-18T00:52:44.792Z appoptics:patching patched pino 2.8.1
2021-09-18T00:52:44.796Z appoptics:debug starting runtimeMetrics


  pino v2.8.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (181ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.8.2
updated 1 package and audited 1100 packages in 5.565s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:52:51.842Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:51.843Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:51.843Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:51.844Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:51.916Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:51.968Z appoptics:patching patched crypto 
2021-09-18T00:52:51.995Z appoptics:patching patched https 
2021-09-18T00:52:51.995Z appoptics:patching patched http 
2021-09-18T00:52:52.039Z appoptics:patching patched pino 2.8.2
2021-09-18T00:52:52.043Z appoptics:debug starting runtimeMetrics


  pino v2.8.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.8.3
updated 1 package and audited 1100 packages in 6.148s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:52:59.749Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:59.750Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:59.750Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:59.751Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:59.817Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:59.870Z appoptics:patching patched crypto 
2021-09-18T00:52:59.893Z appoptics:patching patched https 
2021-09-18T00:52:59.893Z appoptics:patching patched http 
2021-09-18T00:52:59.933Z appoptics:patching patched pino 2.8.3
2021-09-18T00:52:59.937Z appoptics:debug starting runtimeMetrics


  pino v2.8.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.9.0
updated 1 package and audited 1100 packages in 4.884s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:06.282Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:06.284Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:06.284Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:06.285Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:06.350Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:06.402Z appoptics:patching patched crypto 
2021-09-18T00:53:06.425Z appoptics:patching patched https 
2021-09-18T00:53:06.425Z appoptics:patching patched http 
2021-09-18T00:53:06.467Z appoptics:patching patched pino 2.9.0
2021-09-18T00:53:06.471Z appoptics:debug starting runtimeMetrics


  pino v2.9.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.10.0
updated 1 package and audited 1100 packages in 6.509s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:14.301Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:14.302Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:14.302Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:14.302Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:14.367Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:14.419Z appoptics:patching patched crypto 
2021-09-18T00:53:14.445Z appoptics:patching patched https 
2021-09-18T00:53:14.446Z appoptics:patching patched http 
2021-09-18T00:53:14.489Z appoptics:patching patched pino 2.10.0
2021-09-18T00:53:14.493Z appoptics:debug starting runtimeMetrics


  pino v2.10.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.10.1
updated 1 package and audited 1100 packages in 4.743s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:20.568Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:20.569Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:20.569Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:20.570Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:20.634Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:20.686Z appoptics:patching patched crypto 
2021-09-18T00:53:20.715Z appoptics:patching patched https 
2021-09-18T00:53:20.715Z appoptics:patching patched http 
2021-09-18T00:53:20.780Z appoptics:patching patched pino 2.10.1
2021-09-18T00:53:20.785Z appoptics:debug starting runtimeMetrics


  pino v2.10.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.11.0
updated 1 package and audited 1100 packages in 6.09s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:28.398Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:28.399Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:28.399Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:28.400Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:28.485Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:28.538Z appoptics:patching patched crypto 
2021-09-18T00:53:28.561Z appoptics:patching patched https 
2021-09-18T00:53:28.561Z appoptics:patching patched http 
2021-09-18T00:53:28.628Z appoptics:patching patched pino 2.11.0
2021-09-18T00:53:28.632Z appoptics:debug starting runtimeMetrics


  pino v2.11.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.12.0
updated 1 package and audited 1100 packages in 5.614s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:36.057Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:36.058Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:36.058Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:36.058Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:36.141Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:36.198Z appoptics:patching patched crypto 
2021-09-18T00:53:36.244Z appoptics:patching patched https 
2021-09-18T00:53:36.245Z appoptics:patching patched http 
2021-09-18T00:53:36.287Z appoptics:patching patched pino 2.12.0
2021-09-18T00:53:36.291Z appoptics:debug starting runtimeMetrics


  pino v2.12.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.12.1
updated 1 package and audited 1100 packages in 5.882s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:43.667Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:43.667Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:43.667Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:43.668Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:43.745Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:43.813Z appoptics:patching patched crypto 
2021-09-18T00:53:43.837Z appoptics:patching patched https 
2021-09-18T00:53:43.837Z appoptics:patching patched http 
2021-09-18T00:53:43.879Z appoptics:patching patched pino 2.12.1
2021-09-18T00:53:43.883Z appoptics:debug starting runtimeMetrics


  pino v2.12.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.12.2
updated 1 package and audited 1100 packages in 6.395s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:51.733Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:51.734Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:51.734Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:51.734Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:51.801Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:51.856Z appoptics:patching patched crypto 
2021-09-18T00:53:51.879Z appoptics:patching patched https 
2021-09-18T00:53:51.879Z appoptics:patching patched http 
2021-09-18T00:53:51.922Z appoptics:patching patched pino 2.12.2
2021-09-18T00:53:51.926Z appoptics:debug starting runtimeMetrics


  pino v2.12.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (182ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.12.3
updated 1 package and audited 1100 packages in 5.715s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:58.998Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:58.999Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:58.999Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:58.999Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:59.093Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:59.150Z appoptics:patching patched crypto 
2021-09-18T00:53:59.172Z appoptics:patching patched https 
2021-09-18T00:53:59.172Z appoptics:patching patched http 
2021-09-18T00:53:59.214Z appoptics:patching patched pino 2.12.3
2021-09-18T00:53:59.218Z appoptics:debug starting runtimeMetrics


  pino v2.12.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.12.4
updated 1 package and audited 1100 packages in 6.242s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:54:06.842Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:06.842Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:06.842Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:06.843Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:06.911Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:06.961Z appoptics:patching patched crypto 
2021-09-18T00:54:06.984Z appoptics:patching patched https 
2021-09-18T00:54:06.984Z appoptics:patching patched http 
2021-09-18T00:54:07.024Z appoptics:patching patched pino 2.12.4
2021-09-18T00:54:07.028Z appoptics:debug starting runtimeMetrics


  pino v2.12.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.13.0
updated 1 package and audited 1100 packages in 5.204s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:54:13.747Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:13.748Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:13.748Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:13.749Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:13.811Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:13.869Z appoptics:patching patched crypto 
2021-09-18T00:54:13.907Z appoptics:patching patched https 
2021-09-18T00:54:13.907Z appoptics:patching patched http 
2021-09-18T00:54:13.960Z appoptics:patching patched pino 2.13.0
2021-09-18T00:54:13.964Z appoptics:debug starting runtimeMetrics


  pino v2.13.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (191ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.13.2
updated 1 package and audited 1100 packages in 4.917s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:54:20.390Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:20.391Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:20.391Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:20.392Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:20.470Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:20.521Z appoptics:patching patched crypto 
2021-09-18T00:54:20.544Z appoptics:patching patched https 
2021-09-18T00:54:20.544Z appoptics:patching patched http 
2021-09-18T00:54:20.585Z appoptics:patching patched pino 2.13.2
2021-09-18T00:54:20.589Z appoptics:debug starting runtimeMetrics


  pino v2.13.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (204ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.14.0
updated 1 package and audited 1100 packages in 5.029s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:54:27.155Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:27.155Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:27.155Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:27.156Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:27.222Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:27.273Z appoptics:patching patched crypto 
2021-09-18T00:54:27.296Z appoptics:patching patched https 
2021-09-18T00:54:27.296Z appoptics:patching patched http 
2021-09-18T00:54:27.336Z appoptics:patching patched pino 2.14.0
2021-09-18T00:54:27.340Z appoptics:debug starting runtimeMetrics


  pino v2.14.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.15.0
updated 1 package and audited 1100 packages in 5.251s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:54:33.961Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:33.962Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:33.962Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:33.963Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:34.029Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:34.081Z appoptics:patching patched crypto 
2021-09-18T00:54:34.104Z appoptics:patching patched https 
2021-09-18T00:54:34.104Z appoptics:patching patched http 
2021-09-18T00:54:34.145Z appoptics:patching patched pino 2.15.0
2021-09-18T00:54:34.149Z appoptics:debug starting runtimeMetrics


  pino v2.15.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (190ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.16.0
added 1 package from 1 contributor, removed 1 package, updated 1 package, moved 1 package and audited 1100 packages in 5.311s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:54:40.895Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:40.896Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:40.896Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:40.897Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:40.984Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:41.045Z appoptics:patching patched crypto 
2021-09-18T00:54:41.092Z appoptics:patching patched https 
2021-09-18T00:54:41.092Z appoptics:patching patched http 
2021-09-18T00:54:41.115Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:41.115Z appoptics:patching patched fs 
2021-09-18T00:54:41.138Z appoptics:patching patched pino 2.16.0
2021-09-18T00:54:41.143Z appoptics:debug starting runtimeMetrics


  pino v2.16.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.0
added 1 package from 1 contributor, removed 1 package, updated 1 package, moved 1 package and audited 1100 packages in 5.609s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:54:48.156Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:48.157Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:48.157Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:48.158Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:48.220Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:48.272Z appoptics:patching patched crypto 
2021-09-18T00:54:48.295Z appoptics:patching patched https 
2021-09-18T00:54:48.296Z appoptics:patching patched http 
2021-09-18T00:54:48.325Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:48.325Z appoptics:patching patched fs 
2021-09-18T00:54:48.334Z appoptics:patching patched pino 3.0.0
2021-09-18T00:54:48.339Z appoptics:debug starting runtimeMetrics


  pino v3.0.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.1
added 1 package from 1 contributor, removed 1 package, updated 1 package, moved 1 package and audited 1100 packages in 6.134s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:54:55.884Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:55.885Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:55.885Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:55.885Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:55.950Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:56.005Z appoptics:patching patched crypto 
2021-09-18T00:54:56.028Z appoptics:patching patched https 
2021-09-18T00:54:56.028Z appoptics:patching patched http 
2021-09-18T00:54:56.057Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:56.057Z appoptics:patching patched fs 
2021-09-18T00:54:56.066Z appoptics:patching patched pino 3.0.1
2021-09-18T00:54:56.070Z appoptics:debug starting runtimeMetrics


  pino v3.0.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.2
updated 1 package and audited 1100 packages in 4.763s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:02.187Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:02.188Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:02.188Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:02.189Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:02.263Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:02.322Z appoptics:patching patched crypto 
2021-09-18T00:55:02.369Z appoptics:patching patched https 
2021-09-18T00:55:02.370Z appoptics:patching patched http 
2021-09-18T00:55:02.393Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:02.393Z appoptics:patching patched fs 
2021-09-18T00:55:02.402Z appoptics:patching patched pino 3.0.2
2021-09-18T00:55:02.407Z appoptics:debug starting runtimeMetrics


  pino v3.0.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.3
updated 1 package and audited 1100 packages in 6.094s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:10.449Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:10.449Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:10.449Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:10.450Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:10.516Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:10.569Z appoptics:patching patched crypto 
2021-09-18T00:55:10.591Z appoptics:patching patched https 
2021-09-18T00:55:10.591Z appoptics:patching patched http 
2021-09-18T00:55:10.621Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:10.622Z appoptics:patching patched fs 
2021-09-18T00:55:10.633Z appoptics:patching patched pino 3.0.3
2021-09-18T00:55:10.641Z appoptics:debug starting runtimeMetrics


  pino v3.0.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.4
updated 1 package and audited 1100 packages in 6.184s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:18.185Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:18.186Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:18.186Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:18.187Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:18.253Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:18.304Z appoptics:patching patched crypto 
2021-09-18T00:55:18.326Z appoptics:patching patched https 
2021-09-18T00:55:18.326Z appoptics:patching patched http 
2021-09-18T00:55:18.354Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:18.355Z appoptics:patching patched fs 
2021-09-18T00:55:18.363Z appoptics:patching patched pino 3.0.4
2021-09-18T00:55:18.368Z appoptics:debug starting runtimeMetrics


  pino v3.0.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.5
updated 1 package and audited 1100 packages in 5.455s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:25.169Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:25.170Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:25.170Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:25.170Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:25.233Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:25.283Z appoptics:patching patched crypto 
2021-09-18T00:55:25.305Z appoptics:patching patched https 
2021-09-18T00:55:25.306Z appoptics:patching patched http 
2021-09-18T00:55:25.332Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:25.333Z appoptics:patching patched fs 
2021-09-18T00:55:25.342Z appoptics:patching patched pino 3.0.5
2021-09-18T00:55:25.346Z appoptics:debug starting runtimeMetrics


  pino v3.0.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.6
updated 1 package and audited 1100 packages in 5.669s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:32.390Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:32.391Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:32.391Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:32.392Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:32.455Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:32.505Z appoptics:patching patched crypto 
2021-09-18T00:55:32.528Z appoptics:patching patched https 
2021-09-18T00:55:32.528Z appoptics:patching patched http 
2021-09-18T00:55:32.556Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:32.556Z appoptics:patching patched fs 
2021-09-18T00:55:32.565Z appoptics:patching patched pino 3.0.6
2021-09-18T00:55:32.569Z appoptics:debug starting runtimeMetrics


  pino v3.0.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (105ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.7
updated 1 package and audited 1100 packages in 5.769s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:39.747Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:39.747Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:39.747Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:39.748Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:39.822Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:39.872Z appoptics:patching patched crypto 
2021-09-18T00:55:39.895Z appoptics:patching patched https 
2021-09-18T00:55:39.896Z appoptics:patching patched http 
2021-09-18T00:55:39.924Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:39.924Z appoptics:patching patched fs 
2021-09-18T00:55:39.933Z appoptics:patching patched pino 3.0.7
2021-09-18T00:55:39.937Z appoptics:debug starting runtimeMetrics


  pino v3.0.7
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.1.0
updated 1 package and audited 1100 packages in 5.327s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:46.861Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:46.862Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:46.862Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:46.863Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:46.929Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:46.980Z appoptics:patching patched crypto 
2021-09-18T00:55:47.006Z appoptics:patching patched https 
2021-09-18T00:55:47.006Z appoptics:patching patched http 
2021-09-18T00:55:47.033Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:47.033Z appoptics:patching patched fs 
2021-09-18T00:55:47.042Z appoptics:patching patched pino 3.1.0
2021-09-18T00:55:47.047Z appoptics:debug starting runtimeMetrics


  pino v3.1.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.1.1
updated 1 package and audited 1100 packages in 5.808s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:54.409Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:54.410Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:54.410Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:54.422Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:54.555Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:54.653Z appoptics:patching patched crypto 
2021-09-18T00:55:54.734Z appoptics:patching patched https 
2021-09-18T00:55:54.734Z appoptics:patching patched http 
2021-09-18T00:55:54.776Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:54.776Z appoptics:patching patched fs 
2021-09-18T00:55:54.788Z appoptics:patching patched pino 3.1.1
2021-09-18T00:55:54.795Z appoptics:debug starting runtimeMetrics


  pino v3.1.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.1.2
updated 1 package and audited 1100 packages in 4.881s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:56:01.149Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:01.149Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:01.149Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:01.150Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:01.216Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:01.269Z appoptics:patching patched crypto 
2021-09-18T00:56:01.291Z appoptics:patching patched https 
2021-09-18T00:56:01.291Z appoptics:patching patched http 
2021-09-18T00:56:01.321Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:01.321Z appoptics:patching patched fs 
2021-09-18T00:56:01.330Z appoptics:patching patched pino 3.1.2
2021-09-18T00:56:01.334Z appoptics:debug starting runtimeMetrics


  pino v3.1.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.1.3
updated 1 package and audited 1100 packages in 5.029s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:56:07.763Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:07.763Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:07.763Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:07.764Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:07.829Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:07.880Z appoptics:patching patched crypto 
2021-09-18T00:56:07.902Z appoptics:patching patched https 
2021-09-18T00:56:07.903Z appoptics:patching patched http 
2021-09-18T00:56:07.931Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:07.932Z appoptics:patching patched fs 
2021-09-18T00:56:07.940Z appoptics:patching patched pino 3.1.3
2021-09-18T00:56:07.945Z appoptics:debug starting runtimeMetrics


  pino v3.1.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.2.0
updated 1 package and audited 1100 packages in 5.051s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:56:14.326Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:14.326Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:14.326Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:14.327Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:14.393Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:14.443Z appoptics:patching patched crypto 
2021-09-18T00:56:14.466Z appoptics:patching patched https 
2021-09-18T00:56:14.466Z appoptics:patching patched http 
2021-09-18T00:56:14.498Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:14.498Z appoptics:patching patched fs 
2021-09-18T00:56:14.507Z appoptics:patching patched pino 3.2.0
2021-09-18T00:56:14.511Z appoptics:debug starting runtimeMetrics


  pino v3.2.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.3.0
updated 1 package and audited 1100 packages in 5.147s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:56:21.285Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:21.288Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:21.288Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:21.289Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:21.411Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:21.471Z appoptics:patching patched crypto 
2021-09-18T00:56:21.512Z appoptics:patching patched https 
2021-09-18T00:56:21.513Z appoptics:patching patched http 
2021-09-18T00:56:21.547Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:21.547Z appoptics:patching patched fs 

Error: Cannot find module './lib/events'
Require stack:
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/pino.js
- /__w/appoptics-apm-node/appoptics-apm-node/test/probes/pino.test.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/esm-utils.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/mocha.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/one-and-dones.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/options.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/bin/mocha
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:889:15)
    at Function.Module._load (internal/modules/cjs/loader.js:745:27)
    at Module.require (internal/modules/cjs/loader.js:961:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:92:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/pino.js:7:14)
    at Module._compile (internal/modules/cjs/loader.js:1072:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1101:10)
    at Module.load (internal/modules/cjs/loader.js:937:32)
    at Function.Module._load (internal/modules/cjs/loader.js:778:12)
    at Module.require (internal/modules/cjs/loader.js:961:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:92:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/pino.test.js:11:14)
    at Module._compile (internal/modules/cjs/loader.js:1072:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1101:10)
    at Module.load (internal/modules/cjs/loader.js:937:32)
    at Function.Module._load (internal/modules/cjs/loader.js:778:12)
    at Module.require (internal/modules/cjs/loader.js:961:19)
    at require (internal/modules/cjs/helpers.js:92:18)
    at Object.exports.requireOrImport (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/esm-utils.js:42:12)
    at Object.exports.loadFilesAsync (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/esm-utils.js:55:34)
    at Mocha.loadFilesAsync (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/mocha.js:473:19)
    at singleRun (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/run-helpers.js:125:15)
    at exports.runMocha (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/run-helpers.js:190:10)
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.3.1
updated 1 package and audited 1100 packages in 4.842s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:56:27.484Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:27.485Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:27.485Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:27.486Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:27.552Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:27.602Z appoptics:patching patched crypto 
2021-09-18T00:56:27.625Z appoptics:patching patched https 
2021-09-18T00:56:27.625Z appoptics:patching patched http 
2021-09-18T00:56:27.651Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:27.652Z appoptics:patching patched fs 
2021-09-18T00:56:27.663Z appoptics:patching patched pino 3.3.1
2021-09-18T00:56:27.667Z appoptics:debug starting runtimeMetrics


  pino v3.3.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.3.2
updated 1 package and audited 1100 packages in 5.703s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:56:34.691Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:34.692Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:34.692Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:34.693Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:34.761Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:34.814Z appoptics:patching patched crypto 
2021-09-18T00:56:34.837Z appoptics:patching patched https 
2021-09-18T00:56:34.838Z appoptics:patching patched http 
2021-09-18T00:56:34.866Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:34.866Z appoptics:patching patched fs 
2021-09-18T00:56:34.878Z appoptics:patching patched pino 3.3.2
2021-09-18T00:56:34.882Z appoptics:debug starting runtimeMetrics


  pino v3.3.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.4.0
added 2 packages from 2 contributors, updated 1 package and audited 1102 packages in 4.691s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:56:41.091Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:41.099Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:41.099Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:41.099Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:41.172Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:41.224Z appoptics:patching patched crypto 
2021-09-18T00:56:41.247Z appoptics:patching patched https 
2021-09-18T00:56:41.247Z appoptics:patching patched http 
2021-09-18T00:56:41.275Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:41.276Z appoptics:patching patched fs 
2021-09-18T00:56:41.288Z appoptics:patching patched pino 3.4.0
2021-09-18T00:56:41.292Z appoptics:debug starting runtimeMetrics


  pino v3.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.0.0
updated 1 package and audited 1102 packages in 6.074s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:56:48.761Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:48.762Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:48.762Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:48.763Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:48.830Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:48.882Z appoptics:patching patched crypto 
2021-09-18T00:56:48.905Z appoptics:patching patched https 
2021-09-18T00:56:48.905Z appoptics:patching patched http 
2021-09-18T00:56:48.935Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:48.935Z appoptics:patching patched fs 
2021-09-18T00:56:48.947Z appoptics:patching patched pino 4.0.0
2021-09-18T00:56:48.952Z appoptics:debug starting runtimeMetrics


  pino v4.0.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.0.1
updated 1 package and audited 1102 packages in 5.608s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:56:56.253Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:56.253Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:56.254Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:56.254Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:56.317Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:56.374Z appoptics:patching patched crypto 
2021-09-18T00:56:56.412Z appoptics:patching patched https 
2021-09-18T00:56:56.412Z appoptics:patching patched http 
2021-09-18T00:56:56.450Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:56.451Z appoptics:patching patched fs 
2021-09-18T00:56:56.463Z appoptics:patching patched pino 4.0.1
2021-09-18T00:56:56.467Z appoptics:debug starting runtimeMetrics


  pino v4.0.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.0.2
updated 1 package and audited 1102 packages in 4.965s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:57:02.844Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:02.845Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:02.845Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:02.845Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:02.911Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:02.963Z appoptics:patching patched crypto 
2021-09-18T00:57:02.986Z appoptics:patching patched https 
2021-09-18T00:57:02.986Z appoptics:patching patched http 
2021-09-18T00:57:03.016Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:57:03.016Z appoptics:patching patched fs 
2021-09-18T00:57:03.030Z appoptics:patching patched pino 4.0.2
2021-09-18T00:57:03.035Z appoptics:debug starting runtimeMetrics


  pino v4.0.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.0.3
updated 1 package and audited 1102 packages in 5.956s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:57:10.464Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:10.465Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:10.465Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:10.466Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:10.532Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:10.583Z appoptics:patching patched crypto 
2021-09-18T00:57:10.605Z appoptics:patching patched https 
2021-09-18T00:57:10.606Z appoptics:patching patched http 
2021-09-18T00:57:10.632Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:57:10.633Z appoptics:patching patched fs 
2021-09-18T00:57:10.645Z appoptics:patching patched pino 4.0.3
2021-09-18T00:57:10.649Z appoptics:debug starting runtimeMetrics


  pino v4.0.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

npm ERR! code ENOENT
npm ERR! syscall chmod
npm ERR! path /__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/bin.js
npm ERR! errno -2
npm ERR! enoent ENOENT: no such file or directory, chmod '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/bin.js'
npm ERR! enoent This is related to npm not being able to find a file.
npm ERR! enoent 

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-18T00_57_16_052Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.1.1
added 7 packages from 6 contributors and audited 1102 packages in 6.373s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:57:23.524Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:23.524Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:23.524Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:23.525Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:23.596Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:23.651Z appoptics:patching patched crypto 
2021-09-18T00:57:23.674Z appoptics:patching patched https 
2021-09-18T00:57:23.674Z appoptics:patching patched http 
2021-09-18T00:57:23.702Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:57:23.702Z appoptics:patching patched fs 
2021-09-18T00:57:23.714Z appoptics:patching patched pino 4.1.1
2021-09-18T00:57:23.719Z appoptics:debug starting runtimeMetrics


  pino v4.1.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.1.2
updated 1 package and audited 1102 packages in 4.909s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:57:29.990Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:29.990Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:29.990Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:29.991Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:30.057Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:30.109Z appoptics:patching patched crypto 
2021-09-18T00:57:30.132Z appoptics:patching patched https 
2021-09-18T00:57:30.133Z appoptics:patching patched http 
2021-09-18T00:57:30.159Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:57:30.160Z appoptics:patching patched fs 
2021-09-18T00:57:30.171Z appoptics:patching patched pino 4.1.2
2021-09-18T00:57:30.176Z appoptics:debug starting runtimeMetrics


  pino v4.1.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.2.0
updated 1 package and audited 1102 packages in 5.254s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:57:36.800Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:36.800Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:36.800Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:36.801Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:36.863Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:36.920Z appoptics:patching patched crypto 
2021-09-18T00:57:36.942Z appoptics:patching patched https 
2021-09-18T00:57:36.943Z appoptics:patching patched http 
2021-09-18T00:57:36.970Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:57:36.971Z appoptics:patching patched fs 
2021-09-18T00:57:36.991Z appoptics:patching patched pino 4.2.0
2021-09-18T00:57:36.995Z appoptics:debug starting runtimeMetrics


  pino v4.2.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.2.1
updated 1 package and audited 1102 packages in 5.656s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:57:44.133Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:44.134Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:44.134Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:44.135Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:44.201Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:44.253Z appoptics:patching patched crypto 
2021-09-18T00:57:44.282Z appoptics:patching patched https 
2021-09-18T00:57:44.282Z appoptics:patching patched http 
2021-09-18T00:57:44.307Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:57:44.307Z appoptics:patching patched fs 
2021-09-18T00:57:44.319Z appoptics:patching patched pino 4.2.1
2021-09-18T00:57:44.323Z appoptics:debug starting runtimeMetrics


  pino v4.2.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.2.2
updated 1 package and audited 1102 packages in 5.76s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:57:51.445Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:51.446Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:51.446Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:51.447Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:51.539Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:51.656Z appoptics:patching patched crypto 
2021-09-18T00:57:51.680Z appoptics:patching patched https 
2021-09-18T00:57:51.680Z appoptics:patching patched http 
2021-09-18T00:57:51.708Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:57:51.708Z appoptics:patching patched fs 
2021-09-18T00:57:51.720Z appoptics:patching patched pino 4.2.2
2021-09-18T00:57:51.725Z appoptics:debug starting runtimeMetrics


  pino v4.2.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.2.3
updated 1 package and audited 1102 packages in 5.5s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:57:58.681Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:58.682Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:58.682Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:58.683Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:58.746Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:58.803Z appoptics:patching patched crypto 
2021-09-18T00:57:58.841Z appoptics:patching patched https 
2021-09-18T00:57:58.841Z appoptics:patching patched http 
2021-09-18T00:57:58.879Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:57:58.880Z appoptics:patching patched fs 
2021-09-18T00:57:58.892Z appoptics:patching patched pino 4.2.3
2021-09-18T00:57:58.896Z appoptics:debug starting runtimeMetrics


  pino v4.2.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.2.4
updated 1 package and audited 1102 packages in 5.359s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:58:05.732Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:58:05.732Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:58:05.732Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:58:05.733Z appoptics:debug using context provider: ace-context
2021-09-18T00:58:05.800Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:58:05.851Z appoptics:patching patched crypto 
2021-09-18T00:58:05.873Z appoptics:patching patched https 
2021-09-18T00:58:05.874Z appoptics:patching patched http 
2021-09-18T00:58:05.901Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:58:05.902Z appoptics:patching patched fs 
2021-09-18T00:58:05.913Z appoptics:patching patched pino 4.2.4
2021-09-18T00:58:05.918Z appoptics:debug starting runtimeMetrics


  pino v4.2.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.3.0
updated 1 package and audited 1102 packages in 7.88s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:58:15.138Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:58:15.139Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:58:15.139Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:58:15.139Z appoptics:debug using context provider: ace-context
2021-09-18T00:58:15.205Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:58:15.258Z appoptics:patching patched crypto 
2021-09-18T00:58:15.281Z appoptics:patching patched https 
2021-09-18T00:58:15.281Z appoptics:patching patched http 
2021-09-18T00:58:15.312Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:58:15.312Z appoptics:patching patched fs 
2021-09-18T00:58:15.324Z appoptics:patching patched pino 4.3.0
2021-09-18T00:58:15.329Z appoptics:debug starting runtimeMetrics


  pino v4.3.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (105ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.4.0
updated 1 package and audited 1102 packages in 5.26s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:58:21.937Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:58:21.938Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:58:21.938Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:58:21.939Z appoptics:debug using context provider: ace-context
2021-09-18T00:58:22.037Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:58:22.119Z appoptics:patching patched crypto 
2021-09-18T00:58:22.145Z appoptics:patching patched https 
2021-09-18T00:58:22.145Z appoptics:patching patched http 
2021-09-18T00:58:22.172Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:58:22.172Z appoptics:patching patched fs 
2021-09-18T00:58:22.184Z appoptics:patching patched pino 4.4.0
2021-09-18T00:58:22.188Z appoptics:debug starting runtimeMetrics


  pino v4.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.5.0
updated 1 package and audited 1102 packages in 5.747s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:58:29.403Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:58:29.404Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:58:29.404Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:58:29.404Z appoptics:debug using context provider: ace-context
2021-09-18T00:58:29.470Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:58:29.531Z appoptics:patching patched crypto 
2021-09-18T00:58:29.555Z appoptics:patching patched https 
2021-09-18T00:58:29.555Z appoptics:patching patched http 
2021-09-18T00:58:29.581Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:58:29.582Z appoptics:patching patched fs 
2021-09-18T00:58:29.593Z appoptics:patching patched pino 4.5.0
2021-09-18T00:58:29.598Z appoptics:debug starting runtimeMetrics


  pino v4.5.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.5.1
updated 1 package and audited 1102 packages in 5.047s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:58:36.077Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:58:36.078Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:58:36.078Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:58:36.079Z appoptics:debug using context provider: ace-context
2021-09-18T00:58:36.161Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:58:36.212Z appoptics:patching patched crypto 
2021-09-18T00:58:36.239Z appoptics:patching patched https 
2021-09-18T00:58:36.239Z appoptics:patching patched http 
2021-09-18T00:58:36.290Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:58:36.290Z appoptics:patching patched fs 
2021-09-18T00:58:36.303Z appoptics:patching patched pino 4.5.1
2021-09-18T00:58:36.307Z appoptics:debug starting runtimeMetrics


  pino v4.5.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.5.2
updated 1 package and audited 1102 packages in 5.617s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:58:43.385Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:58:43.386Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:58:43.386Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:58:43.387Z appoptics:debug using context provider: ace-context
2021-09-18T00:58:43.448Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:58:43.499Z appoptics:patching patched crypto 
2021-09-18T00:58:43.522Z appoptics:patching patched https 
2021-09-18T00:58:43.523Z appoptics:patching patched http 
2021-09-18T00:58:43.550Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:58:43.550Z appoptics:patching patched fs 
2021-09-18T00:58:43.562Z appoptics:patching patched pino 4.5.2
2021-09-18T00:58:43.566Z appoptics:debug starting runtimeMetrics


  pino v4.5.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (216ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.5.3
updated 1 package and audited 1102 packages in 6.177s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:58:51.144Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:58:51.145Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:58:51.145Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:58:51.146Z appoptics:debug using context provider: ace-context
2021-09-18T00:58:51.213Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:58:51.268Z appoptics:patching patched crypto 
2021-09-18T00:58:51.293Z appoptics:patching patched https 
2021-09-18T00:58:51.293Z appoptics:patching patched http 
2021-09-18T00:58:51.327Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:58:51.328Z appoptics:patching patched fs 
2021-09-18T00:58:51.350Z appoptics:patching patched pino 4.5.3
2021-09-18T00:58:51.354Z appoptics:debug starting runtimeMetrics


  pino v4.5.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.5.4
updated 1 package and audited 1102 packages in 5.047s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:58:57.750Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:58:57.751Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:58:57.751Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:58:57.752Z appoptics:debug using context provider: ace-context
2021-09-18T00:58:57.817Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:58:57.868Z appoptics:patching patched crypto 
2021-09-18T00:58:57.890Z appoptics:patching patched https 
2021-09-18T00:58:57.891Z appoptics:patching patched http 
2021-09-18T00:58:57.919Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:58:57.919Z appoptics:patching patched fs 
2021-09-18T00:58:57.930Z appoptics:patching patched pino 4.5.4
2021-09-18T00:58:57.935Z appoptics:debug starting runtimeMetrics


  pino v4.5.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.6.0
updated 1 package and audited 1102 packages in 6.145s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:59:05.457Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:59:05.457Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:59:05.457Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:59:05.458Z appoptics:debug using context provider: ace-context
2021-09-18T00:59:05.523Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:59:05.575Z appoptics:patching patched crypto 
2021-09-18T00:59:05.609Z appoptics:patching patched https 
2021-09-18T00:59:05.610Z appoptics:patching patched http 
2021-09-18T00:59:05.629Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:59:05.630Z appoptics:patching patched fs 
2021-09-18T00:59:05.642Z appoptics:patching patched pino 4.6.0
2021-09-18T00:59:05.646Z appoptics:debug starting runtimeMetrics


  pino v4.6.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.7.0
removed 3 packages, updated 2 packages and audited 1099 packages in 5.55s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:59:12.701Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:59:12.702Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:59:12.702Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:59:12.703Z appoptics:debug using context provider: ace-context
2021-09-18T00:59:12.790Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:59:12.845Z appoptics:patching patched crypto 
2021-09-18T00:59:12.891Z appoptics:patching patched https 
2021-09-18T00:59:12.892Z appoptics:patching patched http 
2021-09-18T00:59:12.920Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:59:12.921Z appoptics:patching patched fs 
2021-09-18T00:59:12.938Z appoptics:patching patched pino 4.7.0
2021-09-18T00:59:12.942Z appoptics:debug starting runtimeMetrics


  pino v4.7.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.7.1
updated 1 package and audited 1099 packages in 5.113s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:59:19.517Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:59:19.517Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:59:19.517Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:59:19.518Z appoptics:debug using context provider: ace-context
2021-09-18T00:59:19.641Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:59:19.711Z appoptics:patching patched crypto 
2021-09-18T00:59:19.748Z appoptics:patching patched https 
2021-09-18T00:59:19.749Z appoptics:patching patched http 
2021-09-18T00:59:19.774Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:59:19.774Z appoptics:patching patched fs 
2021-09-18T00:59:19.799Z appoptics:patching patched pino 4.7.1
2021-09-18T00:59:19.803Z appoptics:debug starting runtimeMetrics


  pino v4.7.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.7.2
updated 1 package and audited 1099 packages in 5.83s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:59:27.043Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:59:27.044Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:59:27.044Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:59:27.045Z appoptics:debug using context provider: ace-context
2021-09-18T00:59:27.106Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:59:27.156Z appoptics:patching patched crypto 
2021-09-18T00:59:27.178Z appoptics:patching patched https 
2021-09-18T00:59:27.179Z appoptics:patching patched http 
2021-09-18T00:59:27.208Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:59:27.209Z appoptics:patching patched fs 
2021-09-18T00:59:27.225Z appoptics:patching patched pino 4.7.2
2021-09-18T00:59:27.229Z appoptics:debug starting runtimeMetrics


  pino v4.7.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.7.3
updated 1 package and audited 1099 packages in 5.252s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:59:33.898Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:59:33.899Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:59:33.899Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:59:33.899Z appoptics:debug using context provider: ace-context
2021-09-18T00:59:33.966Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:59:34.019Z appoptics:patching patched crypto 
2021-09-18T00:59:34.042Z appoptics:patching patched https 
2021-09-18T00:59:34.042Z appoptics:patching patched http 
2021-09-18T00:59:34.070Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:59:34.070Z appoptics:patching patched fs 
2021-09-18T00:59:34.087Z appoptics:patching patched pino 4.7.3
2021-09-18T00:59:34.091Z appoptics:debug starting runtimeMetrics


  pino v4.7.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.8.0
updated 1 package and audited 1099 packages in 5.896s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:59:41.426Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:59:41.427Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:59:41.427Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:59:41.427Z appoptics:debug using context provider: ace-context
2021-09-18T00:59:41.493Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:59:41.544Z appoptics:patching patched crypto 
2021-09-18T00:59:41.567Z appoptics:patching patched https 
2021-09-18T00:59:41.568Z appoptics:patching patched http 
2021-09-18T00:59:41.594Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:59:41.594Z appoptics:patching patched fs 
2021-09-18T00:59:41.611Z appoptics:patching patched pino 4.8.0
2021-09-18T00:59:41.615Z appoptics:debug starting runtimeMetrics


  pino v4.8.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.8.1
updated 1 package and audited 1099 packages in 4.739s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:59:47.691Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:59:47.691Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:59:47.692Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:59:47.692Z appoptics:debug using context provider: ace-context
2021-09-18T00:59:47.759Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:59:47.810Z appoptics:patching patched crypto 
2021-09-18T00:59:47.840Z appoptics:patching patched https 
2021-09-18T00:59:47.841Z appoptics:patching patched http 
2021-09-18T00:59:47.865Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:59:47.865Z appoptics:patching patched fs 
2021-09-18T00:59:47.881Z appoptics:patching patched pino 4.8.1
2021-09-18T00:59:47.886Z appoptics:debug starting runtimeMetrics


  pino v4.8.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (182ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.8.2
updated 1 package and audited 1099 packages in 6.512s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:59:55.763Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:59:55.764Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:59:55.764Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:59:55.765Z appoptics:debug using context provider: ace-context
2021-09-18T00:59:55.845Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:59:55.910Z appoptics:patching patched crypto 
2021-09-18T00:59:55.933Z appoptics:patching patched https 
2021-09-18T00:59:55.934Z appoptics:patching patched http 
2021-09-18T00:59:55.962Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:59:55.962Z appoptics:patching patched fs 
2021-09-18T00:59:55.979Z appoptics:patching patched pino 4.8.2
2021-09-18T00:59:55.983Z appoptics:debug starting runtimeMetrics


  pino v4.8.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.9.0
updated 1 package and audited 1099 packages in 5.652s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:00:03.662Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:00:03.663Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:00:03.663Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:00:03.664Z appoptics:debug using context provider: ace-context
2021-09-18T01:00:03.750Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:00:03.810Z appoptics:patching patched crypto 
2021-09-18T01:00:03.860Z appoptics:patching patched https 
2021-09-18T01:00:03.860Z appoptics:patching patched http 
2021-09-18T01:00:03.890Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:00:03.890Z appoptics:patching patched fs 
2021-09-18T01:00:03.923Z appoptics:patching patched pino 4.9.0
2021-09-18T01:00:03.928Z appoptics:debug starting runtimeMetrics


  pino v4.9.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.10.0
updated 1 package and audited 1099 packages in 4.796s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:00:10.242Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:00:10.243Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:00:10.243Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:00:10.244Z appoptics:debug using context provider: ace-context
2021-09-18T01:00:10.310Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:00:10.364Z appoptics:patching patched crypto 
2021-09-18T01:00:10.387Z appoptics:patching patched https 
2021-09-18T01:00:10.387Z appoptics:patching patched http 
2021-09-18T01:00:10.416Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:00:10.416Z appoptics:patching patched fs 
2021-09-18T01:00:10.437Z appoptics:patching patched pino 4.10.0
2021-09-18T01:00:10.441Z appoptics:debug starting runtimeMetrics


  pino v4.10.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.10.1
updated 1 package and audited 1099 packages in 5.551s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:00:17.419Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:00:17.419Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:00:17.419Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:00:17.420Z appoptics:debug using context provider: ace-context
2021-09-18T01:00:17.487Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:00:17.544Z appoptics:patching patched crypto 
2021-09-18T01:00:17.571Z appoptics:patching patched https 
2021-09-18T01:00:17.571Z appoptics:patching patched http 
2021-09-18T01:00:17.598Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:00:17.598Z appoptics:patching patched fs 
2021-09-18T01:00:17.614Z appoptics:patching patched pino 4.10.1
2021-09-18T01:00:17.619Z appoptics:debug starting runtimeMetrics


  pino v4.10.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.10.2
updated 1 package and audited 1099 packages in 4.686s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:00:23.731Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:00:23.732Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:00:23.732Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:00:23.733Z appoptics:debug using context provider: ace-context
2021-09-18T01:00:23.797Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:00:23.849Z appoptics:patching patched crypto 
2021-09-18T01:00:23.872Z appoptics:patching patched https 
2021-09-18T01:00:23.872Z appoptics:patching patched http 
2021-09-18T01:00:23.901Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:00:23.901Z appoptics:patching patched fs 
2021-09-18T01:00:23.918Z appoptics:patching patched pino 4.10.2
2021-09-18T01:00:23.923Z appoptics:debug starting runtimeMetrics


  pino v4.10.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.10.3
updated 2 packages and audited 1099 packages in 5.485s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:00:30.820Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:00:30.821Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:00:30.821Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:00:30.822Z appoptics:debug using context provider: ace-context
2021-09-18T01:00:30.888Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:00:30.938Z appoptics:patching patched crypto 
2021-09-18T01:00:30.961Z appoptics:patching patched https 
2021-09-18T01:00:30.961Z appoptics:patching patched http 
2021-09-18T01:00:30.989Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:00:30.989Z appoptics:patching patched fs 
2021-09-18T01:00:31.007Z appoptics:patching patched pino 4.10.3
2021-09-18T01:00:31.011Z appoptics:debug starting runtimeMetrics


  pino v4.10.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.10.4
updated 1 package and audited 1099 packages in 4.893s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:00:37.270Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:00:37.271Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:00:37.271Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:00:37.271Z appoptics:debug using context provider: ace-context
2021-09-18T01:00:37.341Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:00:37.393Z appoptics:patching patched crypto 
2021-09-18T01:00:37.415Z appoptics:patching patched https 
2021-09-18T01:00:37.416Z appoptics:patching patched http 
2021-09-18T01:00:37.444Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:00:37.444Z appoptics:patching patched fs 
2021-09-18T01:00:37.461Z appoptics:patching patched pino 4.10.4
2021-09-18T01:00:37.465Z appoptics:debug starting runtimeMetrics


  pino v4.10.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.11.0
updated 1 package and audited 1099 packages in 5.571s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:00:44.418Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:00:44.418Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:00:44.418Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:00:44.419Z appoptics:debug using context provider: ace-context
2021-09-18T01:00:44.479Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:00:44.531Z appoptics:patching patched crypto 
2021-09-18T01:00:44.553Z appoptics:patching patched https 
2021-09-18T01:00:44.553Z appoptics:patching patched http 
2021-09-18T01:00:44.580Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:00:44.580Z appoptics:patching patched fs 
2021-09-18T01:00:44.596Z appoptics:patching patched pino 4.11.0
2021-09-18T01:00:44.601Z appoptics:debug starting runtimeMetrics


  pino v4.11.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.12.0
added 1 package from 1 contributor, updated 1 package and audited 1100 packages in 5.53s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:00:51.549Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:00:51.549Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:00:51.549Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:00:51.550Z appoptics:debug using context provider: ace-context
2021-09-18T01:00:51.632Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:00:51.727Z appoptics:patching patched crypto 
2021-09-18T01:00:51.772Z appoptics:patching patched https 
2021-09-18T01:00:51.772Z appoptics:patching patched http 
2021-09-18T01:00:51.835Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:00:51.836Z appoptics:patching patched fs 
2021-09-18T01:00:51.853Z appoptics:patching patched pino 4.12.0
2021-09-18T01:00:51.858Z appoptics:debug starting runtimeMetrics


  pino v4.12.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (108ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.13.0
updated 1 package and audited 1100 packages in 5.068s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:00:58.623Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:00:58.624Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:00:58.624Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:00:58.625Z appoptics:debug using context provider: ace-context
2021-09-18T01:00:58.693Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:00:58.750Z appoptics:patching patched crypto 
2021-09-18T01:00:58.774Z appoptics:patching patched https 
2021-09-18T01:00:58.774Z appoptics:patching patched http 
2021-09-18T01:00:58.816Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:00:58.817Z appoptics:patching patched fs 
2021-09-18T01:00:58.834Z appoptics:patching patched pino 4.13.0
2021-09-18T01:00:58.838Z appoptics:debug starting runtimeMetrics


  pino v4.13.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.14.0
updated 2 packages and audited 1100 packages in 5.813s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:01:06.234Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:01:06.235Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:01:06.235Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:01:06.236Z appoptics:debug using context provider: ace-context
2021-09-18T01:01:06.303Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:01:06.353Z appoptics:patching patched crypto 
2021-09-18T01:01:06.376Z appoptics:patching patched https 
2021-09-18T01:01:06.376Z appoptics:patching patched http 
2021-09-18T01:01:06.406Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:01:06.407Z appoptics:patching patched fs 
2021-09-18T01:01:06.423Z appoptics:patching patched pino 4.14.0
2021-09-18T01:01:06.427Z appoptics:debug starting runtimeMetrics


  pino v4.14.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.15.0
updated 1 package and audited 1100 packages in 5.421s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:01:13.265Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:01:13.265Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:01:13.265Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:01:13.266Z appoptics:debug using context provider: ace-context
2021-09-18T01:01:13.331Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:01:13.384Z appoptics:patching patched crypto 
2021-09-18T01:01:13.407Z appoptics:patching patched https 
2021-09-18T01:01:13.408Z appoptics:patching patched http 
2021-09-18T01:01:13.437Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:01:13.438Z appoptics:patching patched fs 
2021-09-18T01:01:13.454Z appoptics:patching patched pino 4.15.0
2021-09-18T01:01:13.458Z appoptics:debug starting runtimeMetrics


  pino v4.15.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.15.1
updated 1 package and audited 1100 packages in 5.886s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:01:20.735Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:01:20.735Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:01:20.735Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:01:20.736Z appoptics:debug using context provider: ace-context
2021-09-18T01:01:20.805Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:01:20.856Z appoptics:patching patched crypto 
2021-09-18T01:01:20.879Z appoptics:patching patched https 
2021-09-18T01:01:20.879Z appoptics:patching patched http 
2021-09-18T01:01:20.907Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:01:20.908Z appoptics:patching patched fs 
2021-09-18T01:01:20.924Z appoptics:patching patched pino 4.15.1
2021-09-18T01:01:20.928Z appoptics:debug starting runtimeMetrics


  pino v4.15.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.15.2
updated 1 package and audited 1100 packages in 4.748s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:01:27.111Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:01:27.112Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:01:27.112Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:01:27.113Z appoptics:debug using context provider: ace-context
2021-09-18T01:01:27.181Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:01:27.234Z appoptics:patching patched crypto 
2021-09-18T01:01:27.277Z appoptics:patching patched https 
2021-09-18T01:01:27.278Z appoptics:patching patched http 
2021-09-18T01:01:27.308Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:01:27.308Z appoptics:patching patched fs 
2021-09-18T01:01:27.325Z appoptics:patching patched pino 4.15.2
2021-09-18T01:01:27.331Z appoptics:debug starting runtimeMetrics


  pino v4.15.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.15.3
updated 2 packages and audited 1100 packages in 5.887s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:01:34.617Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:01:34.618Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:01:34.618Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:01:34.619Z appoptics:debug using context provider: ace-context
2021-09-18T01:01:34.685Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:01:34.743Z appoptics:patching patched crypto 
2021-09-18T01:01:34.766Z appoptics:patching patched https 
2021-09-18T01:01:34.766Z appoptics:patching patched http 
2021-09-18T01:01:34.793Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:01:34.794Z appoptics:patching patched fs 
2021-09-18T01:01:34.810Z appoptics:patching patched pino 4.15.3
2021-09-18T01:01:34.815Z appoptics:debug starting runtimeMetrics


  pino v4.15.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.15.4
updated 1 package and audited 1100 packages in 5.243s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:01:41.393Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:01:41.394Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:01:41.394Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:01:41.394Z appoptics:debug using context provider: ace-context
2021-09-18T01:01:41.461Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:01:41.515Z appoptics:patching patched crypto 
2021-09-18T01:01:41.537Z appoptics:patching patched https 
2021-09-18T01:01:41.537Z appoptics:patching patched http 
2021-09-18T01:01:41.567Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:01:41.567Z appoptics:patching patched fs 
2021-09-18T01:01:41.583Z appoptics:patching patched pino 4.15.4
2021-09-18T01:01:41.588Z appoptics:debug starting runtimeMetrics


  pino v4.15.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (190ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.16.0
updated 1 package and audited 1100 packages in 5.885s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:01:49.033Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:01:49.034Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:01:49.034Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:01:49.034Z appoptics:debug using context provider: ace-context
2021-09-18T01:01:49.100Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:01:49.152Z appoptics:patching patched crypto 
2021-09-18T01:01:49.175Z appoptics:patching patched https 
2021-09-18T01:01:49.175Z appoptics:patching patched http 
2021-09-18T01:01:49.204Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:01:49.204Z appoptics:patching patched fs 
2021-09-18T01:01:49.221Z appoptics:patching patched pino 4.16.0
2021-09-18T01:01:49.225Z appoptics:debug starting runtimeMetrics


  pino v4.16.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.16.1
updated 1 package and audited 1100 packages in 4.972s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:01:55.665Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:01:55.666Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:01:55.666Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:01:55.667Z appoptics:debug using context provider: ace-context
2021-09-18T01:01:55.730Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:01:55.787Z appoptics:patching patched crypto 
2021-09-18T01:01:55.834Z appoptics:patching patched https 
2021-09-18T01:01:55.834Z appoptics:patching patched http 
2021-09-18T01:01:55.864Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:01:55.865Z appoptics:patching patched fs 
2021-09-18T01:01:55.882Z appoptics:patching patched pino 4.16.1
2021-09-18T01:01:55.887Z appoptics:debug starting runtimeMetrics


  pino v4.16.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.17.0
updated 1 package and audited 1100 packages in 5.417s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:02:02.856Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:02.857Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:02.857Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:02.858Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:02.929Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:02.983Z appoptics:patching patched crypto 
2021-09-18T01:02:03.007Z appoptics:patching patched https 
2021-09-18T01:02:03.007Z appoptics:patching patched http 
2021-09-18T01:02:03.038Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:02:03.038Z appoptics:patching patched fs 
2021-09-18T01:02:03.055Z appoptics:patching patched pino 4.17.0
2021-09-18T01:02:03.059Z appoptics:debug starting runtimeMetrics


  pino v4.17.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.17.1
updated 1 package and audited 1100 packages in 5.654s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:02:10.179Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:10.180Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:10.180Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:10.181Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:10.247Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:10.299Z appoptics:patching patched crypto 
2021-09-18T01:02:10.323Z appoptics:patching patched https 
2021-09-18T01:02:10.323Z appoptics:patching patched http 
2021-09-18T01:02:10.356Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:02:10.356Z appoptics:patching patched fs 
2021-09-18T01:02:10.373Z appoptics:patching patched pino 4.17.1
2021-09-18T01:02:10.377Z appoptics:debug starting runtimeMetrics


  pino v4.17.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.17.2
updated 1 package and audited 1100 packages in 4.755s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:02:16.575Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:16.576Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:16.576Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:16.576Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:16.639Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:16.696Z appoptics:patching patched crypto 
2021-09-18T01:02:16.733Z appoptics:patching patched https 
2021-09-18T01:02:16.734Z appoptics:patching patched http 
2021-09-18T01:02:16.757Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:02:16.757Z appoptics:patching patched fs 
2021-09-18T01:02:16.774Z appoptics:patching patched pino 4.17.2
2021-09-18T01:02:16.778Z appoptics:debug starting runtimeMetrics


  pino v4.17.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.17.3
updated 1 package and audited 1100 packages in 5.05s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:02:23.196Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:23.196Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:23.196Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:23.197Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:23.261Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:23.311Z appoptics:patching patched crypto 
2021-09-18T01:02:23.333Z appoptics:patching patched https 
2021-09-18T01:02:23.334Z appoptics:patching patched http 
2021-09-18T01:02:23.361Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:02:23.362Z appoptics:patching patched fs 
2021-09-18T01:02:23.378Z appoptics:patching patched pino 4.17.3
2021-09-18T01:02:23.382Z appoptics:debug starting runtimeMetrics


  pino v4.17.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.17.5
updated 1 package and audited 1100 packages in 5.878s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:02:30.697Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:30.697Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:30.697Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:30.698Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:30.765Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:30.818Z appoptics:patching patched crypto 
2021-09-18T01:02:30.842Z appoptics:patching patched https 
2021-09-18T01:02:30.843Z appoptics:patching patched http 
2021-09-18T01:02:30.870Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:02:30.871Z appoptics:patching patched fs 
2021-09-18T01:02:30.889Z appoptics:patching patched pino 4.17.5
2021-09-18T01:02:30.894Z appoptics:debug starting runtimeMetrics


  pino v4.17.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.17.6
updated 1 package and audited 1100 packages in 5.592s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:02:38.076Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:38.076Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:38.077Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:38.077Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:38.141Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:38.197Z appoptics:patching patched crypto 
2021-09-18T01:02:38.244Z appoptics:patching patched https 
2021-09-18T01:02:38.244Z appoptics:patching patched http 
2021-09-18T01:02:38.275Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:02:38.275Z appoptics:patching patched fs 
2021-09-18T01:02:38.292Z appoptics:patching patched pino 4.17.6
2021-09-18T01:02:38.296Z appoptics:debug starting runtimeMetrics


  pino v4.17.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (191ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.0.0
added 2 packages from 2 contributors, removed 6 packages, updated 2 packages and audited 1096 packages in 4.708s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:02:44.679Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:44.681Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:44.681Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:44.682Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:44.810Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:44.884Z appoptics:patching patched crypto 
2021-09-18T01:02:44.935Z appoptics:patching patched https 
2021-09-18T01:02:44.935Z appoptics:patching patched http 
2021-09-18T01:02:44.974Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:02:44.975Z appoptics:patching patched fs 
2021-09-18T01:02:44.991Z appoptics:patching patched pino 5.0.0
2021-09-18T01:02:44.995Z appoptics:debug starting runtimeMetrics


  pino v5.0.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (267ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.0.1
updated 2 packages and audited 1096 packages in 5.06s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:02:51.712Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:51.713Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:51.713Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:51.714Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:51.779Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:51.829Z appoptics:patching patched crypto 
2021-09-18T01:02:51.851Z appoptics:patching patched https 
2021-09-18T01:02:51.851Z appoptics:patching patched http 
2021-09-18T01:02:51.879Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:02:51.879Z appoptics:patching patched fs 
2021-09-18T01:02:51.889Z appoptics:patching patched pino 5.0.1
2021-09-18T01:02:51.893Z appoptics:debug starting runtimeMetrics


  pino v5.0.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.0.2
updated 1 package and audited 1096 packages in 4.76s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:02:58.130Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:58.135Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:58.135Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:58.136Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:58.300Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:58.389Z appoptics:patching patched crypto 
2021-09-18T01:02:58.429Z appoptics:patching patched https 
2021-09-18T01:02:58.429Z appoptics:patching patched http 
2021-09-18T01:02:58.482Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:02:58.482Z appoptics:patching patched fs 
2021-09-18T01:02:58.493Z appoptics:patching patched pino 5.0.2
2021-09-18T01:02:58.497Z appoptics:debug starting runtimeMetrics


  pino v5.0.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.0.3
updated 1 package and audited 1096 packages in 4.846s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:03:04.773Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:03:04.774Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:03:04.774Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:03:04.775Z appoptics:debug using context provider: ace-context
2021-09-18T01:03:04.840Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:03:04.905Z appoptics:patching patched crypto 
2021-09-18T01:03:04.959Z appoptics:patching patched https 
2021-09-18T01:03:04.960Z appoptics:patching patched http 
2021-09-18T01:03:04.996Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:03:04.997Z appoptics:patching patched fs 
2021-09-18T01:03:05.009Z appoptics:patching patched pino 5.0.3
2021-09-18T01:03:05.015Z appoptics:debug starting runtimeMetrics


  pino v5.0.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.0.4
updated 1 package and audited 1096 packages in 5.574s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:03:12.167Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:03:12.168Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:03:12.168Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:03:12.168Z appoptics:debug using context provider: ace-context
2021-09-18T01:03:12.234Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:03:12.284Z appoptics:patching patched crypto 
2021-09-18T01:03:12.307Z appoptics:patching patched https 
2021-09-18T01:03:12.307Z appoptics:patching patched http 
2021-09-18T01:03:12.336Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:03:12.336Z appoptics:patching patched fs 
2021-09-18T01:03:12.346Z appoptics:patching patched pino 5.0.4
2021-09-18T01:03:12.350Z appoptics:debug starting runtimeMetrics


  pino v5.0.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.0.5
updated 1 package and audited 1096 packages in 4.713s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:03:18.409Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:03:18.410Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:03:18.410Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:03:18.411Z appoptics:debug using context provider: ace-context
2021-09-18T01:03:18.476Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:03:18.528Z appoptics:patching patched crypto 
2021-09-18T01:03:18.551Z appoptics:patching patched https 
2021-09-18T01:03:18.552Z appoptics:patching patched http 
2021-09-18T01:03:18.591Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:03:18.591Z appoptics:patching patched fs 
2021-09-18T01:03:18.608Z appoptics:patching patched pino 5.0.5
2021-09-18T01:03:18.613Z appoptics:debug starting runtimeMetrics


  pino v5.0.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.1.0
updated 1 package and audited 1096 packages in 5.748s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:03:25.953Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:03:25.954Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:03:25.954Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:03:25.955Z appoptics:debug using context provider: ace-context
2021-09-18T01:03:26.021Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:03:26.074Z appoptics:patching patched crypto 
2021-09-18T01:03:26.097Z appoptics:patching patched https 
2021-09-18T01:03:26.097Z appoptics:patching patched http 
2021-09-18T01:03:26.125Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:03:26.126Z appoptics:patching patched fs 
2021-09-18T01:03:26.136Z appoptics:patching patched pino 5.1.0
2021-09-18T01:03:26.140Z appoptics:debug starting runtimeMetrics


  pino v5.1.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.1.1
updated 1 package and audited 1096 packages in 4.686s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:03:32.266Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:03:32.266Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:03:32.266Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:03:32.267Z appoptics:debug using context provider: ace-context
2021-09-18T01:03:32.334Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:03:32.389Z appoptics:patching patched crypto 
2021-09-18T01:03:32.419Z appoptics:patching patched https 
2021-09-18T01:03:32.419Z appoptics:patching patched http 
2021-09-18T01:03:32.446Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:03:32.446Z appoptics:patching patched fs 
2021-09-18T01:03:32.457Z appoptics:patching patched pino 5.1.1
2021-09-18T01:03:32.461Z appoptics:debug starting runtimeMetrics


  pino v5.1.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.2.0
updated 1 package and audited 1096 packages in 6.193s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:03:40.022Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:03:40.023Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:03:40.023Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:03:40.024Z appoptics:debug using context provider: ace-context
2021-09-18T01:03:40.095Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:03:40.148Z appoptics:patching patched crypto 
2021-09-18T01:03:40.171Z appoptics:patching patched https 
2021-09-18T01:03:40.171Z appoptics:patching patched http 
2021-09-18T01:03:40.214Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:03:40.215Z appoptics:patching patched fs 
2021-09-18T01:03:40.225Z appoptics:patching patched pino 5.2.0
2021-09-18T01:03:40.229Z appoptics:debug starting runtimeMetrics


  pino v5.2.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.3.0
updated 1 package and audited 1096 packages in 7.232s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:03:49.021Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:03:49.022Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:03:49.022Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:03:49.023Z appoptics:debug using context provider: ace-context
2021-09-18T01:03:49.130Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:03:49.220Z appoptics:patching patched crypto 
2021-09-18T01:03:49.270Z appoptics:patching patched https 
2021-09-18T01:03:49.270Z appoptics:patching patched http 
2021-09-18T01:03:49.351Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:03:49.352Z appoptics:patching patched fs 
2021-09-18T01:03:49.374Z appoptics:patching patched pino 5.3.0
2021-09-18T01:03:49.390Z appoptics:debug starting runtimeMetrics


  pino v5.3.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.3.1
updated 1 package and audited 1096 packages in 4.948s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:03:55.736Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:03:55.737Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:03:55.737Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:03:55.737Z appoptics:debug using context provider: ace-context
2021-09-18T01:03:55.804Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:03:55.854Z appoptics:patching patched crypto 
2021-09-18T01:03:55.878Z appoptics:patching patched https 
2021-09-18T01:03:55.878Z appoptics:patching patched http 
2021-09-18T01:03:55.905Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:03:55.906Z appoptics:patching patched fs 
2021-09-18T01:03:55.916Z appoptics:patching patched pino 5.3.1
2021-09-18T01:03:55.920Z appoptics:debug starting runtimeMetrics


  pino v5.3.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (212ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.4.0
updated 1 package and audited 1096 packages in 5.765s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:04:03.256Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:04:03.257Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:04:03.257Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:04:03.258Z appoptics:debug using context provider: ace-context
2021-09-18T01:04:03.325Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:04:03.376Z appoptics:patching patched crypto 
2021-09-18T01:04:03.405Z appoptics:patching patched https 
2021-09-18T01:04:03.405Z appoptics:patching patched http 
2021-09-18T01:04:03.432Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:04:03.432Z appoptics:patching patched fs 
2021-09-18T01:04:03.442Z appoptics:patching patched pino 5.4.0
2021-09-18T01:04:03.446Z appoptics:debug starting runtimeMetrics


  pino v5.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.4.1
updated 1 package and audited 1096 packages in 4.824s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:04:09.675Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:04:09.675Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:04:09.675Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:04:09.676Z appoptics:debug using context provider: ace-context
2021-09-18T01:04:09.759Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:04:09.818Z appoptics:patching patched crypto 
2021-09-18T01:04:09.854Z appoptics:patching patched https 
2021-09-18T01:04:09.854Z appoptics:patching patched http 
2021-09-18T01:04:09.876Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:04:09.876Z appoptics:patching patched fs 
2021-09-18T01:04:09.886Z appoptics:patching patched pino 5.4.1
2021-09-18T01:04:09.890Z appoptics:debug starting runtimeMetrics


  pino v5.4.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (191ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.5.0
updated 1 package and audited 1096 packages in 5.122s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:04:16.361Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:04:16.362Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:04:16.362Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:04:16.363Z appoptics:debug using context provider: ace-context
2021-09-18T01:04:16.457Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:04:16.524Z appoptics:patching patched crypto 
2021-09-18T01:04:16.567Z appoptics:patching patched https 
2021-09-18T01:04:16.567Z appoptics:patching patched http 
2021-09-18T01:04:16.588Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:04:16.588Z appoptics:patching patched fs 
2021-09-18T01:04:16.598Z appoptics:patching patched pino 5.5.0
2021-09-18T01:04:16.603Z appoptics:debug starting runtimeMetrics


  pino v5.5.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.6.0
updated 1 package and audited 1096 packages in 4.905s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:04:22.852Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:04:22.853Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:04:22.853Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:04:22.854Z appoptics:debug using context provider: ace-context
2021-09-18T01:04:22.918Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:04:22.971Z appoptics:patching patched crypto 
2021-09-18T01:04:22.994Z appoptics:patching patched https 
2021-09-18T01:04:22.995Z appoptics:patching patched http 
2021-09-18T01:04:23.023Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:04:23.024Z appoptics:patching patched fs 
2021-09-18T01:04:23.034Z appoptics:patching patched pino 5.6.0
2021-09-18T01:04:23.038Z appoptics:debug starting runtimeMetrics


  pino v5.6.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.6.1
updated 1 package and audited 1096 packages in 5.659s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:04:30.223Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:04:30.223Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:04:30.223Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:04:30.224Z appoptics:debug using context provider: ace-context
2021-09-18T01:04:30.288Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:04:30.365Z appoptics:patching patched crypto 
2021-09-18T01:04:30.393Z appoptics:patching patched https 
2021-09-18T01:04:30.393Z appoptics:patching patched http 
2021-09-18T01:04:30.436Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:04:30.436Z appoptics:patching patched fs 
2021-09-18T01:04:30.451Z appoptics:patching patched pino 5.6.1
2021-09-18T01:04:30.455Z appoptics:debug starting runtimeMetrics


  pino v5.6.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.6.2
updated 1 package and audited 1096 packages in 4.626s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:04:36.478Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:04:36.479Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:04:36.479Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:04:36.480Z appoptics:debug using context provider: ace-context
2021-09-18T01:04:36.552Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:04:36.604Z appoptics:patching patched crypto 
2021-09-18T01:04:36.659Z appoptics:patching patched https 
2021-09-18T01:04:36.660Z appoptics:patching patched http 
2021-09-18T01:04:36.714Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:04:36.714Z appoptics:patching patched fs 
2021-09-18T01:04:36.738Z appoptics:patching patched pino 5.6.2
2021-09-18T01:04:36.748Z appoptics:debug starting runtimeMetrics


  pino v5.6.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (182ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.6.3
updated 1 package and audited 1096 packages in 6.282s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:04:44.698Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:04:44.699Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:04:44.699Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:04:44.700Z appoptics:debug using context provider: ace-context
2021-09-18T01:04:44.764Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:04:44.819Z appoptics:patching patched crypto 
2021-09-18T01:04:44.842Z appoptics:patching patched https 
2021-09-18T01:04:44.842Z appoptics:patching patched http 
2021-09-18T01:04:44.874Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:04:44.875Z appoptics:patching patched fs 
2021-09-18T01:04:44.884Z appoptics:patching patched pino 5.6.3
2021-09-18T01:04:44.889Z appoptics:debug starting runtimeMetrics


  pino v5.6.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.6.4
updated 1 package and audited 1096 packages in 6.226s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:04:52.478Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:04:52.479Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:04:52.479Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:04:52.480Z appoptics:debug using context provider: ace-context
2021-09-18T01:04:52.545Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:04:52.596Z appoptics:patching patched crypto 
2021-09-18T01:04:52.619Z appoptics:patching patched https 
2021-09-18T01:04:52.619Z appoptics:patching patched http 
2021-09-18T01:04:52.650Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:04:52.650Z appoptics:patching patched fs 
2021-09-18T01:04:52.661Z appoptics:patching patched pino 5.6.4
2021-09-18T01:04:52.665Z appoptics:debug starting runtimeMetrics


  pino v5.6.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.7.0
updated 1 package and audited 1096 packages in 5.318s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:04:59.356Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:04:59.357Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:04:59.357Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:04:59.358Z appoptics:debug using context provider: ace-context
2021-09-18T01:04:59.425Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:04:59.477Z appoptics:patching patched crypto 
2021-09-18T01:04:59.499Z appoptics:patching patched https 
2021-09-18T01:04:59.499Z appoptics:patching patched http 
2021-09-18T01:04:59.528Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:04:59.529Z appoptics:patching patched fs 
2021-09-18T01:04:59.539Z appoptics:patching patched pino 5.7.0
2021-09-18T01:04:59.543Z appoptics:debug starting runtimeMetrics


  pino v5.7.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.8.0
updated 1 package and audited 1096 packages in 6.031s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:05:06.928Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:05:06.929Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:05:06.929Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:05:06.930Z appoptics:debug using context provider: ace-context
2021-09-18T01:05:06.995Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:05:07.049Z appoptics:patching patched crypto 
2021-09-18T01:05:07.072Z appoptics:patching patched https 
2021-09-18T01:05:07.072Z appoptics:patching patched http 
2021-09-18T01:05:07.111Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:05:07.111Z appoptics:patching patched fs 
2021-09-18T01:05:07.133Z appoptics:patching patched pino 5.8.0
2021-09-18T01:05:07.139Z appoptics:debug starting runtimeMetrics


  pino v5.8.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.8.1
updated 1 package and audited 1096 packages in 5.388s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:05:14.077Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:05:14.078Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:05:14.078Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:05:14.078Z appoptics:debug using context provider: ace-context
2021-09-18T01:05:14.146Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:05:14.208Z appoptics:patching patched crypto 
2021-09-18T01:05:14.280Z appoptics:patching patched https 
2021-09-18T01:05:14.283Z appoptics:patching patched http 
2021-09-18T01:05:14.335Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:05:14.335Z appoptics:patching patched fs 
2021-09-18T01:05:14.347Z appoptics:patching patched pino 5.8.1
2021-09-18T01:05:14.351Z appoptics:debug starting runtimeMetrics


  pino v5.8.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.9.0
updated 1 package and audited 1096 packages in 5.077s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:05:21.070Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:05:21.071Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:05:21.071Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:05:21.071Z appoptics:debug using context provider: ace-context
2021-09-18T01:05:21.141Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:05:21.202Z appoptics:patching patched crypto 
2021-09-18T01:05:21.239Z appoptics:patching patched https 
2021-09-18T01:05:21.239Z appoptics:patching patched http 
2021-09-18T01:05:21.275Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:05:21.276Z appoptics:patching patched fs 
2021-09-18T01:05:21.283Z appoptics:patching patched pino 5.9.0
2021-09-18T01:05:21.287Z appoptics:debug starting runtimeMetrics


  pino v5.9.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.1
added 1 package from 1 contributor, updated 2 packages and audited 1097 packages in 4.736s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:05:27.653Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:05:27.657Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:05:27.657Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:05:27.657Z appoptics:debug using context provider: ace-context
2021-09-18T01:05:27.763Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:05:27.838Z appoptics:patching patched crypto 
2021-09-18T01:05:27.865Z appoptics:patching patched https 
2021-09-18T01:05:27.865Z appoptics:patching patched http 
2021-09-18T01:05:27.915Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:05:27.915Z appoptics:patching patched fs 
2021-09-18T01:05:27.922Z appoptics:patching patched pino 5.10.1
2021-09-18T01:05:27.927Z appoptics:debug starting runtimeMetrics


  pino v5.10.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.2
updated 1 package and audited 1097 packages in 5.259s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:05:34.855Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:05:34.856Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:05:34.856Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:05:34.857Z appoptics:debug using context provider: ace-context
2021-09-18T01:05:34.921Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:05:34.974Z appoptics:patching patched crypto 
2021-09-18T01:05:34.997Z appoptics:patching patched https 
2021-09-18T01:05:34.997Z appoptics:patching patched http 
2021-09-18T01:05:35.029Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:05:35.029Z appoptics:patching patched fs 
2021-09-18T01:05:35.036Z appoptics:patching patched pino 5.10.2
2021-09-18T01:05:35.040Z appoptics:debug starting runtimeMetrics


  pino v5.10.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.3
updated 1 package and audited 1097 packages in 6.162s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:05:42.581Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:05:42.583Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:05:42.583Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:05:42.583Z appoptics:debug using context provider: ace-context
2021-09-18T01:05:42.651Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:05:42.702Z appoptics:patching patched crypto 
2021-09-18T01:05:42.724Z appoptics:patching patched https 
2021-09-18T01:05:42.725Z appoptics:patching patched http 
2021-09-18T01:05:42.758Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:05:42.758Z appoptics:patching patched fs 
2021-09-18T01:05:42.765Z appoptics:patching patched pino 5.10.3
2021-09-18T01:05:42.769Z appoptics:debug starting runtimeMetrics


  pino v5.10.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.4
updated 1 package and audited 1097 packages in 4.868s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:05:49.037Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:05:49.037Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:05:49.037Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:05:49.038Z appoptics:debug using context provider: ace-context
2021-09-18T01:05:49.120Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:05:49.189Z appoptics:patching patched crypto 
2021-09-18T01:05:49.219Z appoptics:patching patched https 
2021-09-18T01:05:49.219Z appoptics:patching patched http 
2021-09-18T01:05:49.248Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:05:49.249Z appoptics:patching patched fs 
2021-09-18T01:05:49.255Z appoptics:patching patched pino 5.10.4
2021-09-18T01:05:49.259Z appoptics:debug starting runtimeMetrics


  pino v5.10.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.5
removed 3 packages, updated 1 package and audited 1094 packages in 5.387s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:05:55.966Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:05:55.966Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:05:55.967Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:05:55.967Z appoptics:debug using context provider: ace-context
2021-09-18T01:05:56.031Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:05:56.082Z appoptics:patching patched crypto 
2021-09-18T01:05:56.104Z appoptics:patching patched https 
2021-09-18T01:05:56.105Z appoptics:patching patched http 
2021-09-18T01:05:56.137Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:05:56.137Z appoptics:patching patched fs 
2021-09-18T01:05:56.144Z appoptics:patching patched pino 5.10.5
2021-09-18T01:05:56.148Z appoptics:debug starting runtimeMetrics


  pino v5.10.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.6
updated 1 package and audited 1094 packages in 5.629s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:06:03.112Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:06:03.112Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:06:03.112Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:06:03.113Z appoptics:debug using context provider: ace-context
2021-09-18T01:06:03.178Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:06:03.232Z appoptics:patching patched crypto 
2021-09-18T01:06:03.255Z appoptics:patching patched https 
2021-09-18T01:06:03.255Z appoptics:patching patched http 
2021-09-18T01:06:03.303Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:06:03.303Z appoptics:patching patched fs 
2021-09-18T01:06:03.310Z appoptics:patching patched pino 5.10.6
2021-09-18T01:06:03.314Z appoptics:debug starting runtimeMetrics


  pino v5.10.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.7
updated 1 package and audited 1094 packages in 5.658s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:06:10.342Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:06:10.343Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:06:10.343Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:06:10.344Z appoptics:debug using context provider: ace-context
2021-09-18T01:06:10.409Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:06:10.460Z appoptics:patching patched crypto 
2021-09-18T01:06:10.482Z appoptics:patching patched https 
2021-09-18T01:06:10.483Z appoptics:patching patched http 
2021-09-18T01:06:10.515Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:06:10.516Z appoptics:patching patched fs 
2021-09-18T01:06:10.522Z appoptics:patching patched pino 5.10.7
2021-09-18T01:06:10.527Z appoptics:debug starting runtimeMetrics


  pino v5.10.7
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.8
updated 1 package and audited 1094 packages in 5.259s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:06:17.230Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:06:17.231Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:06:17.231Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:06:17.232Z appoptics:debug using context provider: ace-context
2021-09-18T01:06:17.295Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:06:17.351Z appoptics:patching patched crypto 
2021-09-18T01:06:17.388Z appoptics:patching patched https 
2021-09-18T01:06:17.389Z appoptics:patching patched http 
2021-09-18T01:06:17.432Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:06:17.432Z appoptics:patching patched fs 
2021-09-18T01:06:17.439Z appoptics:patching patched pino 5.10.8
2021-09-18T01:06:17.443Z appoptics:debug starting runtimeMetrics


  pino v5.10.8
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.9
updated 1 package and audited 1094 packages in 5.575s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:06:24.554Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:06:24.555Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:06:24.555Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:06:24.555Z appoptics:debug using context provider: ace-context
2021-09-18T01:06:24.621Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:06:24.672Z appoptics:patching patched crypto 
2021-09-18T01:06:24.695Z appoptics:patching patched https 
2021-09-18T01:06:24.695Z appoptics:patching patched http 
2021-09-18T01:06:24.728Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:06:24.728Z appoptics:patching patched fs 
2021-09-18T01:06:24.734Z appoptics:patching patched pino 5.10.9
2021-09-18T01:06:24.739Z appoptics:debug starting runtimeMetrics


  pino v5.10.9
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.10
updated 1 package and audited 1094 packages in 4.831s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:06:31.359Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:06:31.360Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:06:31.360Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:06:31.360Z appoptics:debug using context provider: ace-context
2021-09-18T01:06:31.475Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:06:31.595Z appoptics:patching patched crypto 
2021-09-18T01:06:31.627Z appoptics:patching patched https 
2021-09-18T01:06:31.628Z appoptics:patching patched http 
2021-09-18T01:06:31.701Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:06:31.702Z appoptics:patching patched fs 
2021-09-18T01:06:31.722Z appoptics:patching patched pino 5.10.10
2021-09-18T01:06:31.735Z appoptics:debug starting runtimeMetrics


  pino v5.10.10
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (203ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.11.0
updated 1 package and audited 1094 packages in 4.673s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:06:38.050Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:06:38.051Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:06:38.051Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:06:38.052Z appoptics:debug using context provider: ace-context
2021-09-18T01:06:38.117Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:06:38.168Z appoptics:patching patched crypto 
2021-09-18T01:06:38.190Z appoptics:patching patched https 
2021-09-18T01:06:38.191Z appoptics:patching patched http 
2021-09-18T01:06:38.223Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:06:38.223Z appoptics:patching patched fs 
2021-09-18T01:06:38.232Z appoptics:patching patched pino 5.11.0
2021-09-18T01:06:38.237Z appoptics:debug starting runtimeMetrics


  pino v5.11.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.11.1
updated 1 package and audited 1094 packages in 5.656s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:06:45.352Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:06:45.352Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:06:45.352Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:06:45.353Z appoptics:debug using context provider: ace-context
2021-09-18T01:06:45.417Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:06:45.470Z appoptics:patching patched crypto 
2021-09-18T01:06:45.493Z appoptics:patching patched https 
2021-09-18T01:06:45.493Z appoptics:patching patched http 
2021-09-18T01:06:45.525Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:06:45.525Z appoptics:patching patched fs 
2021-09-18T01:06:45.532Z appoptics:patching patched pino 5.11.1
2021-09-18T01:06:45.536Z appoptics:debug starting runtimeMetrics


  pino v5.11.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.11.2
updated 1 package and audited 1094 packages in 4.663s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:06:51.526Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:06:51.527Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:06:51.527Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:06:51.527Z appoptics:debug using context provider: ace-context
2021-09-18T01:06:51.592Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:06:51.643Z appoptics:patching patched crypto 
2021-09-18T01:06:51.665Z appoptics:patching patched https 
2021-09-18T01:06:51.666Z appoptics:patching patched http 
2021-09-18T01:06:51.698Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:06:51.698Z appoptics:patching patched fs 
2021-09-18T01:06:51.705Z appoptics:patching patched pino 5.11.2
2021-09-18T01:06:51.709Z appoptics:debug starting runtimeMetrics


  pino v5.11.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.11.3
updated 1 package and audited 1094 packages in 5.957s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:06:59.098Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:06:59.099Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:06:59.099Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:06:59.100Z appoptics:debug using context provider: ace-context
2021-09-18T01:06:59.165Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:06:59.214Z appoptics:patching patched crypto 
2021-09-18T01:06:59.237Z appoptics:patching patched https 
2021-09-18T01:06:59.237Z appoptics:patching patched http 
2021-09-18T01:06:59.269Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:06:59.269Z appoptics:patching patched fs 
2021-09-18T01:06:59.276Z appoptics:patching patched pino 5.11.3
2021-09-18T01:06:59.280Z appoptics:debug starting runtimeMetrics


  pino v5.11.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.0
updated 1 package and audited 1094 packages in 4.845s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:07:05.580Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:07:05.581Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:07:05.581Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:07:05.582Z appoptics:debug using context provider: ace-context
2021-09-18T01:07:05.650Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:07:05.703Z appoptics:patching patched crypto 
2021-09-18T01:07:05.726Z appoptics:patching patched https 
2021-09-18T01:07:05.726Z appoptics:patching patched http 
2021-09-18T01:07:05.760Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:07:05.761Z appoptics:patching patched fs 
2021-09-18T01:07:05.767Z appoptics:patching patched pino 5.12.0
2021-09-18T01:07:05.773Z appoptics:debug starting runtimeMetrics


  pino v5.12.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.1
updated 1 package and audited 1094 packages in 5.727s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:07:12.918Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:07:12.919Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:07:12.919Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:07:12.920Z appoptics:debug using context provider: ace-context
2021-09-18T01:07:12.984Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:07:13.037Z appoptics:patching patched crypto 
2021-09-18T01:07:13.086Z appoptics:patching patched https 
2021-09-18T01:07:13.086Z appoptics:patching patched http 
2021-09-18T01:07:13.133Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:07:13.134Z appoptics:patching patched fs 
2021-09-18T01:07:13.150Z appoptics:patching patched pino 5.12.1
2021-09-18T01:07:13.160Z appoptics:debug starting runtimeMetrics


  pino v5.12.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.2
updated 1 package and audited 1094 packages in 4.665s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:07:19.285Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:07:19.286Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:07:19.286Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:07:19.287Z appoptics:debug using context provider: ace-context
2021-09-18T01:07:19.365Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:07:19.434Z appoptics:patching patched crypto 
2021-09-18T01:07:19.471Z appoptics:patching patched https 
2021-09-18T01:07:19.472Z appoptics:patching patched http 
2021-09-18T01:07:19.518Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:07:19.518Z appoptics:patching patched fs 
2021-09-18T01:07:19.525Z appoptics:patching patched pino 5.12.2
2021-09-18T01:07:19.529Z appoptics:debug starting runtimeMetrics


  pino v5.12.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.3
updated 1 package and audited 1094 packages in 5.159s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:07:26.120Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:07:26.120Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:07:26.121Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:07:26.121Z appoptics:debug using context provider: ace-context
2021-09-18T01:07:26.184Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:07:26.233Z appoptics:patching patched crypto 
2021-09-18T01:07:26.255Z appoptics:patching patched https 
2021-09-18T01:07:26.256Z appoptics:patching patched http 
2021-09-18T01:07:26.286Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:07:26.286Z appoptics:patching patched fs 
2021-09-18T01:07:26.292Z appoptics:patching patched pino 5.12.3
2021-09-18T01:07:26.297Z appoptics:debug starting runtimeMetrics


  pino v5.12.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (188ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.4
updated 1 package and audited 1094 packages in 4.715s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:07:32.569Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:07:32.570Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:07:32.570Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:07:32.570Z appoptics:debug using context provider: ace-context
2021-09-18T01:07:32.665Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:07:32.752Z appoptics:patching patched crypto 
2021-09-18T01:07:32.793Z appoptics:patching patched https 
2021-09-18T01:07:32.801Z appoptics:patching patched http 
2021-09-18T01:07:32.861Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:07:32.862Z appoptics:patching patched fs 
2021-09-18T01:07:32.869Z appoptics:patching patched pino 5.12.4
2021-09-18T01:07:32.873Z appoptics:debug starting runtimeMetrics


  pino v5.12.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (213ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.5
updated 1 package and audited 1094 packages in 4.696s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:07:39.395Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:07:39.396Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:07:39.396Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:07:39.396Z appoptics:debug using context provider: ace-context
2021-09-18T01:07:39.483Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:07:39.538Z appoptics:patching patched crypto 
2021-09-18T01:07:39.561Z appoptics:patching patched https 
2021-09-18T01:07:39.561Z appoptics:patching patched http 
2021-09-18T01:07:39.596Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:07:39.596Z appoptics:patching patched fs 
2021-09-18T01:07:39.603Z appoptics:patching patched pino 5.12.5
2021-09-18T01:07:39.607Z appoptics:debug starting runtimeMetrics


  pino v5.12.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (105ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.6
updated 1 package and audited 1094 packages in 4.981s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:07:46.091Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:07:46.092Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:07:46.092Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:07:46.093Z appoptics:debug using context provider: ace-context
2021-09-18T01:07:46.167Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:07:46.232Z appoptics:patching patched crypto 
2021-09-18T01:07:46.265Z appoptics:patching patched https 
2021-09-18T01:07:46.265Z appoptics:patching patched http 
2021-09-18T01:07:46.292Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:07:46.292Z appoptics:patching patched fs 
2021-09-18T01:07:46.299Z appoptics:patching patched pino 5.12.6
2021-09-18T01:07:46.303Z appoptics:debug starting runtimeMetrics


  pino v5.12.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.0
updated 1 package and audited 1094 packages in 4.813s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:07:52.563Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:07:52.563Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:07:52.564Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:07:52.564Z appoptics:debug using context provider: ace-context
2021-09-18T01:07:52.629Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:07:52.682Z appoptics:patching patched crypto 
2021-09-18T01:07:52.706Z appoptics:patching patched https 
2021-09-18T01:07:52.707Z appoptics:patching patched http 
2021-09-18T01:07:52.737Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:07:52.738Z appoptics:patching patched fs 
2021-09-18T01:07:52.744Z appoptics:patching patched pino 5.13.0
2021-09-18T01:07:52.748Z appoptics:debug starting runtimeMetrics


  pino v5.13.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.1
updated 1 package and audited 1094 packages in 5.844s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:08:00.239Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:08:00.239Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:08:00.239Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:08:00.240Z appoptics:debug using context provider: ace-context
2021-09-18T01:08:00.321Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:08:00.381Z appoptics:patching patched crypto 
2021-09-18T01:08:00.418Z appoptics:patching patched https 
2021-09-18T01:08:00.418Z appoptics:patching patched http 
2021-09-18T01:08:00.443Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:08:00.443Z appoptics:patching patched fs 
2021-09-18T01:08:00.450Z appoptics:patching patched pino 5.13.1
2021-09-18T01:08:00.454Z appoptics:debug starting runtimeMetrics


  pino v5.13.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.2
updated 1 package and audited 1094 packages in 4.752s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:08:06.570Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:08:06.571Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:08:06.571Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:08:06.572Z appoptics:debug using context provider: ace-context
2021-09-18T01:08:06.636Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:08:06.687Z appoptics:patching patched crypto 
2021-09-18T01:08:06.719Z appoptics:patching patched https 
2021-09-18T01:08:06.719Z appoptics:patching patched http 
2021-09-18T01:08:06.749Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:08:06.749Z appoptics:patching patched fs 
2021-09-18T01:08:06.756Z appoptics:patching patched pino 5.13.2
2021-09-18T01:08:06.760Z appoptics:debug starting runtimeMetrics


  pino v5.13.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.3
updated 1 package and audited 1094 packages in 5.67s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:08:13.872Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:08:13.874Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:08:13.874Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:08:13.875Z appoptics:debug using context provider: ace-context
2021-09-18T01:08:13.947Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:08:13.999Z appoptics:patching patched crypto 
2021-09-18T01:08:14.025Z appoptics:patching patched https 
2021-09-18T01:08:14.025Z appoptics:patching patched http 
2021-09-18T01:08:14.056Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:08:14.057Z appoptics:patching patched fs 
2021-09-18T01:08:14.063Z appoptics:patching patched pino 5.13.3
2021-09-18T01:08:14.068Z appoptics:debug starting runtimeMetrics


  pino v5.13.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.4
updated 2 packages and audited 1094 packages in 4.488s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:08:19.925Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:08:19.925Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:08:19.925Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:08:19.926Z appoptics:debug using context provider: ace-context
2021-09-18T01:08:20.031Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:08:20.106Z appoptics:patching patched crypto 
2021-09-18T01:08:20.150Z appoptics:patching patched https 
2021-09-18T01:08:20.150Z appoptics:patching patched http 
2021-09-18T01:08:20.176Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:08:20.176Z appoptics:patching patched fs 
2021-09-18T01:08:20.183Z appoptics:patching patched pino 5.13.4
2021-09-18T01:08:20.187Z appoptics:debug starting runtimeMetrics


  pino v5.13.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.5
updated 1 package and audited 1094 packages in 6.054s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:08:27.584Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:08:27.585Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:08:27.585Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:08:27.586Z appoptics:debug using context provider: ace-context
2021-09-18T01:08:27.653Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:08:27.704Z appoptics:patching patched crypto 
2021-09-18T01:08:27.727Z appoptics:patching patched https 
2021-09-18T01:08:27.727Z appoptics:patching patched http 
2021-09-18T01:08:27.759Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:08:27.760Z appoptics:patching patched fs 
2021-09-18T01:08:27.766Z appoptics:patching patched pino 5.13.5
2021-09-18T01:08:27.770Z appoptics:debug starting runtimeMetrics


  pino v5.13.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.6
updated 1 package and audited 1094 packages in 4.53s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:08:33.982Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:08:33.983Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:08:33.983Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:08:33.983Z appoptics:debug using context provider: ace-context
2021-09-18T01:08:34.129Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:08:34.254Z appoptics:patching patched crypto 
2021-09-18T01:08:34.339Z appoptics:patching patched https 
2021-09-18T01:08:34.339Z appoptics:patching patched http 
2021-09-18T01:08:34.416Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:08:34.417Z appoptics:patching patched fs 
2021-09-18T01:08:34.429Z appoptics:patching patched pino 5.13.6
2021-09-18T01:08:34.455Z appoptics:debug starting runtimeMetrics


  pino v5.13.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (190ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.14.0
updated 1 package and audited 1094 packages in 5.005s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:08:41.170Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:08:41.170Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:08:41.171Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:08:41.171Z appoptics:debug using context provider: ace-context
2021-09-18T01:08:41.238Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:08:41.289Z appoptics:patching patched crypto 
2021-09-18T01:08:41.323Z appoptics:patching patched https 
2021-09-18T01:08:41.323Z appoptics:patching patched http 
2021-09-18T01:08:41.348Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:08:41.349Z appoptics:patching patched fs 
2021-09-18T01:08:41.355Z appoptics:patching patched pino 5.14.0
2021-09-18T01:08:41.360Z appoptics:debug starting runtimeMetrics


  pino v5.14.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.15.0
updated 1 package and audited 1094 packages in 5.005s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:08:47.960Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:08:47.961Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:08:47.961Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:08:47.962Z appoptics:debug using context provider: ace-context
2021-09-18T01:08:48.045Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:08:48.099Z appoptics:patching patched crypto 
2021-09-18T01:08:48.139Z appoptics:patching patched https 
2021-09-18T01:08:48.139Z appoptics:patching patched http 
2021-09-18T01:08:48.171Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:08:48.171Z appoptics:patching patched fs 
2021-09-18T01:08:48.178Z appoptics:patching patched pino 5.15.0
2021-09-18T01:08:48.182Z appoptics:debug starting runtimeMetrics


  pino v5.15.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.16.0
updated 1 package and audited 1094 packages in 4.678s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:08:54.392Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:08:54.393Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:08:54.393Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:08:54.393Z appoptics:debug using context provider: ace-context
2021-09-18T01:08:54.480Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:08:54.568Z appoptics:patching patched crypto 
2021-09-18T01:08:54.601Z appoptics:patching patched https 
2021-09-18T01:08:54.602Z appoptics:patching patched http 
2021-09-18T01:08:54.648Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:08:54.648Z appoptics:patching patched fs 
2021-09-18T01:08:54.655Z appoptics:patching patched pino 5.16.0
2021-09-18T01:08:54.660Z appoptics:debug starting runtimeMetrics


  pino v5.16.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.17.0
updated 1 package and audited 1094 packages in 4.97s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:09:01.396Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:09:01.397Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:09:01.397Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:09:01.398Z appoptics:debug using context provider: ace-context
2021-09-18T01:09:01.470Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:09:01.534Z appoptics:patching patched crypto 
2021-09-18T01:09:01.575Z appoptics:patching patched https 
2021-09-18T01:09:01.576Z appoptics:patching patched http 
2021-09-18T01:09:01.600Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:09:01.601Z appoptics:patching patched fs 
2021-09-18T01:09:01.607Z appoptics:patching patched pino 5.17.0
2021-09-18T01:09:01.612Z appoptics:debug starting runtimeMetrics


  pino v5.17.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.0.0
updated 3 packages and audited 1094 packages in 4.921s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:09:07.938Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:09:07.938Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:09:07.938Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:09:07.939Z appoptics:debug using context provider: ace-context
2021-09-18T01:09:08.004Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:09:08.054Z appoptics:patching patched crypto 
2021-09-18T01:09:08.078Z appoptics:patching patched https 
2021-09-18T01:09:08.078Z appoptics:patching patched http 
2021-09-18T01:09:08.119Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:09:08.120Z appoptics:patching patched fs 
2021-09-18T01:09:08.126Z appoptics:patching patched pino 6.0.0
2021-09-18T01:09:08.131Z appoptics:debug starting runtimeMetrics


  pino v6.0.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (184ms)
  14 failing

  1) pino v6.0.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4039
         "time": 1631927348284
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.0.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4039
         "time": 1631927348291
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.0.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4039
         "time": 1631927348294
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.0.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4039
         "time": 1631927348296
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.0.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4039
         "time": 1631927348299
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.0.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4039
         "time": 1631927348302
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.0.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4039
         "time": 1631927348304
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.0.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4039
         "time": 1631927348305
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.0.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4039
         "time": 1631927348307
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.0.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4039
         "time": 1631927348309
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.0.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4039
         "time": 1631927348310
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.0.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4039
         "time": 1631927348312
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.0.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4039
         "time": 1631927348418
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.0.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 795452017752B6C956E8F9507B6FBC1478D88F80-1"
         "pid": 4039
         "time": 1631927348447
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.1.0
updated 1 package and audited 1094 packages in 5.53s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:09:15.089Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:09:15.090Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:09:15.090Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:09:15.091Z appoptics:debug using context provider: ace-context
2021-09-18T01:09:15.160Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:09:15.227Z appoptics:patching patched crypto 
2021-09-18T01:09:15.258Z appoptics:patching patched https 
2021-09-18T01:09:15.258Z appoptics:patching patched http 
2021-09-18T01:09:15.300Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:09:15.301Z appoptics:patching patched fs 
2021-09-18T01:09:15.311Z appoptics:patching patched pino 6.1.0
2021-09-18T01:09:15.315Z appoptics:debug starting runtimeMetrics


  pino v6.1.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (181ms)
  14 failing

  1) pino v6.1.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4062
         "time": 1631927355466
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.1.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4062
         "time": 1631927355473
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.1.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4062
         "time": 1631927355476
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.1.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4062
         "time": 1631927355479
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.1.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4062
         "time": 1631927355481
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.1.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4062
         "time": 1631927355484
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.1.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4062
         "time": 1631927355486
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.1.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4062
         "time": 1631927355487
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.1.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4062
         "time": 1631927355489
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.1.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4062
         "time": 1631927355490
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.1.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4062
         "time": 1631927355491
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.1.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4062
         "time": 1631927355493
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.1.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4062
         "time": 1631927355597
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.1.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 8DC6A707BDF15DA4BA4CCD774AA626AEFD40364A-1"
         "pid": 4062
         "time": 1631927355626
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.1.1
updated 1 package and audited 1094 packages in 4.868s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:09:21.588Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:09:21.588Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:09:21.588Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:09:21.589Z appoptics:debug using context provider: ace-context
2021-09-18T01:09:21.657Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:09:21.707Z appoptics:patching patched crypto 
2021-09-18T01:09:21.729Z appoptics:patching patched https 
2021-09-18T01:09:21.729Z appoptics:patching patched http 
2021-09-18T01:09:21.761Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:09:21.761Z appoptics:patching patched fs 
2021-09-18T01:09:21.768Z appoptics:patching patched pino 6.1.1
2021-09-18T01:09:21.773Z appoptics:debug starting runtimeMetrics


  pino v6.1.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (181ms)
  14 failing

  1) pino v6.1.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4085
         "time": 1631927361923
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.1.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4085
         "time": 1631927361930
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.1.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4085
         "time": 1631927361933
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.1.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4085
         "time": 1631927361936
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.1.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4085
         "time": 1631927361938
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.1.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4085
         "time": 1631927361941
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.1.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4085
         "time": 1631927361943
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.1.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4085
         "time": 1631927361944
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.1.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4085
         "time": 1631927361945
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.1.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4085
         "time": 1631927361947
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.1.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4085
         "time": 1631927361948
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.1.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4085
         "time": 1631927361950
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.1.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4085
         "time": 1631927362055
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.1.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous F7B5FABB749906F53E3ED964F6FFFD0F4A45B3FF-1"
         "pid": 4085
         "time": 1631927362084
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.2.0
updated 1 package and audited 1094 packages in 5.616s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:09:28.801Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:09:28.802Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:09:28.802Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:09:28.803Z appoptics:debug using context provider: ace-context
2021-09-18T01:09:28.864Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:09:28.920Z appoptics:patching patched crypto 
2021-09-18T01:09:28.957Z appoptics:patching patched https 
2021-09-18T01:09:28.957Z appoptics:patching patched http 
2021-09-18T01:09:28.999Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:09:29.000Z appoptics:patching patched fs 
2021-09-18T01:09:29.007Z appoptics:patching patched pino 6.2.0
2021-09-18T01:09:29.011Z appoptics:debug starting runtimeMetrics


  pino v6.2.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (180ms)
  14 failing

  1) pino v6.2.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4108
         "time": 1631927369182
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.2.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4108
         "time": 1631927369189
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.2.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4108
         "time": 1631927369192
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.2.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4108
         "time": 1631927369194
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.2.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4108
         "time": 1631927369197
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.2.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4108
         "time": 1631927369200
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.2.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4108
         "time": 1631927369201
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.2.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4108
         "time": 1631927369203
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.2.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4108
         "time": 1631927369204
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.2.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4108
         "time": 1631927369205
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.2.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4108
         "time": 1631927369207
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.2.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4108
         "time": 1631927369209
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.2.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4108
         "time": 1631927369313
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.2.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous B331ED9304444DE2E5F69B30B9AE5C1B0B083A9B-1"
         "pid": 4108
         "time": 1631927369341
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.2.1
updated 1 package and audited 1094 packages in 4.513s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:09:35.041Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:09:35.041Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:09:35.041Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:09:35.042Z appoptics:debug using context provider: ace-context
2021-09-18T01:09:35.107Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:09:35.158Z appoptics:patching patched crypto 
2021-09-18T01:09:35.204Z appoptics:patching patched https 
2021-09-18T01:09:35.204Z appoptics:patching patched http 
2021-09-18T01:09:35.241Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:09:35.242Z appoptics:patching patched fs 
2021-09-18T01:09:35.253Z appoptics:patching patched pino 6.2.1
2021-09-18T01:09:35.258Z appoptics:debug starting runtimeMetrics


  pino v6.2.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (181ms)
  14 failing

  1) pino v6.2.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4131
         "time": 1631927375423
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.2.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4131
         "time": 1631927375431
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.2.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4131
         "time": 1631927375434
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.2.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4131
         "time": 1631927375436
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.2.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4131
         "time": 1631927375439
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.2.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4131
         "time": 1631927375442
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.2.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4131
         "time": 1631927375443
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.2.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4131
         "time": 1631927375445
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.2.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4131
         "time": 1631927375446
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.2.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4131
         "time": 1631927375447
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.2.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4131
         "time": 1631927375449
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.2.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4131
         "time": 1631927375451
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.2.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4131
         "time": 1631927375555
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.2.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous CC1BD9F682EA8233A588F6CBD59A0C933C5B171D-1"
         "pid": 4131
         "time": 1631927375584
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.3.0
updated 1 package and audited 1094 packages in 6.838s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:09:43.472Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:09:43.473Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:09:43.473Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:09:43.474Z appoptics:debug using context provider: ace-context
2021-09-18T01:09:43.539Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:09:43.589Z appoptics:patching patched crypto 
2021-09-18T01:09:43.611Z appoptics:patching patched https 
2021-09-18T01:09:43.612Z appoptics:patching patched http 
2021-09-18T01:09:43.643Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:09:43.644Z appoptics:patching patched fs 
2021-09-18T01:09:43.651Z appoptics:patching patched pino 6.3.0
2021-09-18T01:09:43.655Z appoptics:debug starting runtimeMetrics


  pino v6.3.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (181ms)
  14 failing

  1) pino v6.3.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4154
         "time": 1631927383804
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.3.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4154
         "time": 1631927383811
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.3.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4154
         "time": 1631927383814
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.3.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4154
         "time": 1631927383816
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.3.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4154
         "time": 1631927383819
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.3.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4154
         "time": 1631927383821
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.3.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4154
         "time": 1631927383823
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.3.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4154
         "time": 1631927383825
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.3.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4154
         "time": 1631927383826
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.3.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4154
         "time": 1631927383827
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.3.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4154
         "time": 1631927383829
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.3.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4154
         "time": 1631927383831
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.3.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4154
         "time": 1631927383937
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.3.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous F8C3BFA064CAFCFB8D2375EC682896455587DF23-1"
         "pid": 4154
         "time": 1631927383965
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.3.1
updated 1 package and audited 1094 packages in 5.061s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:09:50.196Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:09:50.197Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:09:50.197Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:09:50.197Z appoptics:debug using context provider: ace-context
2021-09-18T01:09:50.260Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:09:50.356Z appoptics:patching patched crypto 
2021-09-18T01:09:50.415Z appoptics:patching patched https 
2021-09-18T01:09:50.416Z appoptics:patching patched http 
2021-09-18T01:09:50.488Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:09:50.488Z appoptics:patching patched fs 
2021-09-18T01:09:50.500Z appoptics:patching patched pino 6.3.1
2021-09-18T01:09:50.508Z appoptics:debug starting runtimeMetrics


  pino v6.3.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (187ms)
  14 failing

  1) pino v6.3.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4177
         "time": 1631927390741
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.3.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4177
         "time": 1631927390748
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.3.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4177
         "time": 1631927390751
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.3.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4177
         "time": 1631927390754
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.3.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4177
         "time": 1631927390756
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.3.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4177
         "time": 1631927390759
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.3.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4177
         "time": 1631927390761
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.3.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4177
         "time": 1631927390762
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.3.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4177
         "time": 1631927390764
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.3.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4177
         "time": 1631927390765
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.3.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4177
         "time": 1631927390766
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.3.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4177
         "time": 1631927390769
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.3.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4177
         "time": 1631927390873
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.3.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 99FD6594646F163492FB680C1EF26983EEBBFB67-1"
         "pid": 4177
         "time": 1631927390901
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.3.2
updated 1 package and audited 1094 packages in 4.779s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:09:56.921Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:09:56.922Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:09:56.922Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:09:56.923Z appoptics:debug using context provider: ace-context
2021-09-18T01:09:56.988Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:09:57.039Z appoptics:patching patched crypto 
2021-09-18T01:09:57.062Z appoptics:patching patched https 
2021-09-18T01:09:57.062Z appoptics:patching patched http 
2021-09-18T01:09:57.095Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:09:57.095Z appoptics:patching patched fs 
2021-09-18T01:09:57.102Z appoptics:patching patched pino 6.3.2
2021-09-18T01:09:57.107Z appoptics:debug starting runtimeMetrics


  pino v6.3.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (184ms)
  14 failing

  1) pino v6.3.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4200
         "time": 1631927397258
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.3.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4200
         "time": 1631927397265
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.3.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4200
         "time": 1631927397271
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.3.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4200
         "time": 1631927397273
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.3.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4200
         "time": 1631927397276
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.3.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4200
         "time": 1631927397278
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.3.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4200
         "time": 1631927397280
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.3.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4200
         "time": 1631927397281
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.3.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4200
         "time": 1631927397283
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.3.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4200
         "time": 1631927397284
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.3.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4200
         "time": 1631927397285
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.3.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4200
         "time": 1631927397287
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.3.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4200
         "time": 1631927397392
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.3.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 6F61F7623EE2DB214AE608277AAB0871A60E3704-1"
         "pid": 4200
         "time": 1631927397421
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.4.0
updated 1 package and audited 1094 packages in 5.189s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:10:03.775Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:10:03.775Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:10:03.775Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:10:03.776Z appoptics:debug using context provider: ace-context
2021-09-18T01:10:03.853Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:10:03.920Z appoptics:patching patched crypto 
2021-09-18T01:10:03.966Z appoptics:patching patched https 
2021-09-18T01:10:03.967Z appoptics:patching patched http 
2021-09-18T01:10:04.002Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:10:04.003Z appoptics:patching patched fs 
2021-09-18T01:10:04.011Z appoptics:patching patched pino 6.4.0
2021-09-18T01:10:04.017Z appoptics:debug starting runtimeMetrics


  pino v6.4.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (183ms)
  14 failing

  1) pino v6.4.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4223
         "time": 1631927404207
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.4.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CF95433AA8A824ADE5A727EF7FFBEC4583A930ED-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4223
         "time": 1631927404214
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.4.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E5B32FAAB62A6FDA06AACA9BE1F8E29E59C130BC-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4223
         "time": 1631927404217
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.4.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0F170A253C37142846AF4C752448C7B429383035-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4223
         "time": 1631927404220
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.4.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E9DB19D14D077B34FC0656836E837FA4357EF01F-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4223
         "time": 1631927404222
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.4.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4223
         "time": 1631927404225
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.4.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "BE1D6B08F3E3D06347809EA42DF90E7714BC100B-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4223
         "time": 1631927404227
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.4.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EDDA3D38BDC015C369713557C07BB870F1F7601D-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4223
         "time": 1631927404228
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.4.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4223
         "time": 1631927404229
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.4.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D74630B5A3D7B6CF8D8F863011452F0DA80C77E6-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4223
         "time": 1631927404231
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.4.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "always insert"
         "pid": 4223
         "time": 1631927404232
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.4.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FC4E1B32545D03336D4D19EE3EFFA14BF04A9F1F-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4223
         "time": 1631927404234
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.4.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3B4D66E118647E7524BC595E08E48D9F9761C700-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4223
         "time": 1631927404339
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.4.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 4D52C1FC8EBE6482E9A9400CF9A1A3DBBE51491A-1"
         "pid": 4223
         "time": 1631927404368
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.4.1
updated 1 package and audited 1094 packages in 4.762s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:10:10.194Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:10:10.194Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:10:10.194Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:10:10.195Z appoptics:debug using context provider: ace-context
2021-09-18T01:10:10.260Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:10:10.310Z appoptics:patching patched crypto 
2021-09-18T01:10:10.333Z appoptics:patching patched https 
2021-09-18T01:10:10.333Z appoptics:patching patched http 
2021-09-18T01:10:10.365Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:10:10.366Z appoptics:patching patched fs 
2021-09-18T01:10:10.373Z appoptics:patching patched pino 6.4.1
2021-09-18T01:10:10.378Z appoptics:debug starting runtimeMetrics


  pino v6.4.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (181ms)
  14 failing

  1) pino v6.4.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4246
         "time": 1631927410528
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.4.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E57EA9AF95847BABAB275A0DE8AECF637850ACA0-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4246
         "time": 1631927410535
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.4.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4737CF0E6B871CD91D42EFD234CE4C1571FC1C3C-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4246
         "time": 1631927410538
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.4.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "488AEC727406FAEDDF477969CA182E8432B24EDF-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4246
         "time": 1631927410541
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.4.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "91D2659A6DC7F8632D72E03DDC6A510A91FE6A3B-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4246
         "time": 1631927410544
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.4.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4246
         "time": 1631927410546
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.4.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "55E4FD8BCC1ED1512F22304E0D3E48CD9BE02186-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4246
         "time": 1631927410548
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.4.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3592689AE2DD35E13E1C865A95B4A149F13C2E8B-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4246
         "time": 1631927410549
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.4.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4246
         "time": 1631927410551
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.4.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D5716647E7F4E7439FB02AF6FD2F985B90A04271-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4246
         "time": 1631927410552
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.4.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "always insert"
         "pid": 4246
         "time": 1631927410554
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.4.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B49215031EE7F2067081D1051C009D294853628F-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4246
         "time": 1631927410555
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.4.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5B540794502CF56E036AA9AA05D69BF1B4208EB0-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4246
         "time": 1631927410660
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.4.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 8512CBB61D4BF0AD5C5735AE1614FEEFC8B37ED2-1"
         "pid": 4246
         "time": 1631927410689
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.5.0
updated 1 package and audited 1094 packages in 5.623s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:10:17.406Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:10:17.407Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:10:17.407Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:10:17.408Z appoptics:debug using context provider: ace-context
2021-09-18T01:10:17.469Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:10:17.520Z appoptics:patching patched crypto 
2021-09-18T01:10:17.542Z appoptics:patching patched https 
2021-09-18T01:10:17.543Z appoptics:patching patched http 
2021-09-18T01:10:17.575Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:10:17.575Z appoptics:patching patched fs 
2021-09-18T01:10:17.583Z appoptics:patching patched pino 6.5.0
2021-09-18T01:10:17.587Z appoptics:debug starting runtimeMetrics


  pino v6.5.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (183ms)
  14 failing

  1) pino v6.5.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4269
         "time": 1631927417738
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.5.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6435DC0F2B848C87E909B5DA1F0516572084672D-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4269
         "time": 1631927417745
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.5.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "79024ABEB1A0F18CBD8E047F56C766B6557BA190-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4269
         "time": 1631927417748
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.5.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "74A137522D1A70DA4274254BBDA989FBB0B8B969-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4269
         "time": 1631927417750
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.5.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F75B36A608B34660803B819E48C4414C9368A469-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4269
         "time": 1631927417752
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.5.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4269
         "time": 1631927417755
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.5.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "43F248064754BEF7140C176B544B0F5EE17A122D-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4269
         "time": 1631927417757
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.5.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "02D665485DB78786C9F64B53863557AE2B4F631E-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4269
         "time": 1631927417758
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.5.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4269
         "time": 1631927417760
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.5.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6B145964B64DF3E51C4DA2DAB54DDC243E3B527F-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4269
         "time": 1631927417762
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.5.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "always insert"
         "pid": 4269
         "time": 1631927417763
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.5.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4892F16EDAAD78C958880DAF9213EB302A0D82EE-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4269
         "time": 1631927417765
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.5.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4FF384BAD08EB5340309829124D08B8DFCCD40B8-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4269
         "time": 1631927417871
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.5.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 3244C3841777F0BF27FC0F8CF8F6132C94849150-1"
         "pid": 4269
         "time": 1631927417900
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.5.1
updated 1 package and audited 1094 packages in 4.581s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:10:23.515Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:10:23.516Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:10:23.516Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:10:23.517Z appoptics:debug using context provider: ace-context
2021-09-18T01:10:23.588Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:10:23.643Z appoptics:patching patched crypto 
2021-09-18T01:10:23.666Z appoptics:patching patched https 
2021-09-18T01:10:23.666Z appoptics:patching patched http 
2021-09-18T01:10:23.697Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:10:23.698Z appoptics:patching patched fs 
2021-09-18T01:10:23.705Z appoptics:patching patched pino 6.5.1
2021-09-18T01:10:23.709Z appoptics:debug starting runtimeMetrics


  pino v6.5.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (184ms)
  14 failing

  1) pino v6.5.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4292
         "time": 1631927423863
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.5.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FC2F8BD3EC310789635F704756DF5B1E3A90A5B9-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4292
         "time": 1631927423871
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.5.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CEFDAFF2B3F63B59ADA3CD88FA98071947F497B8-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4292
         "time": 1631927423873
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.5.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "791C09086B7F4646FC5908B56A456B53F1ED3BE7-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4292
         "time": 1631927423876
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.5.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2418AD2D9E27CB611E5F31B51C20E02995AE3086-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4292
         "time": 1631927423879
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.5.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4292
         "time": 1631927423881
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.5.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E02867D9D86D553501F0AFE0C1780E8226962204-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4292
         "time": 1631927423883
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.5.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CF093E390CCC2FDB86CDC44F6D964EB76CD6E592-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4292
         "time": 1631927423885
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.5.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4292
         "time": 1631927423886
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.5.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "BFD40CF47B5766CB73EE3D312E03F647AE0DB64C-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4292
         "time": 1631927423887
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.5.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "always insert"
         "pid": 4292
         "time": 1631927423889
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.5.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "59DE26132E42BC5F65AE1BAE8135BB4DDA3F6A12-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4292
         "time": 1631927423890
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.5.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E98E15E7E4B0B54E600898A937C314A63D658EE9-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4292
         "time": 1631927423999
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.5.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous D46D82CD891B8A524ABEBC553AD59A6B0C948C89-1"
         "pid": 4292
         "time": 1631927424027
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.6.0
updated 1 package and audited 1094 packages in 5.278s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:10:30.418Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:10:30.418Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:10:30.418Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:10:30.419Z appoptics:debug using context provider: ace-context
2021-09-18T01:10:30.485Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:10:30.536Z appoptics:patching patched crypto 
2021-09-18T01:10:30.560Z appoptics:patching patched https 
2021-09-18T01:10:30.560Z appoptics:patching patched http 
2021-09-18T01:10:30.596Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:10:30.596Z appoptics:patching patched fs 
2021-09-18T01:10:30.603Z appoptics:patching patched pino 6.6.0
2021-09-18T01:10:30.608Z appoptics:debug starting runtimeMetrics


  pino v6.6.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (187ms)
  14 failing

  1) pino v6.6.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4315
         "time": 1631927430769
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.6.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DFEDE6566E717FEBC8102318AEE0BB01F0B4E64E-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4315
         "time": 1631927430776
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.6.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A771D7914244631539CCCC83B988A4E3C1A8546D-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4315
         "time": 1631927430780
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.6.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CA18CA9BB0234767202B606DE5B1C6841341EB77-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4315
         "time": 1631927430783
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.6.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "04E155D8A965DEDEE5B7859BC38C8C6CB6C86835-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4315
         "time": 1631927430785
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.6.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4315
         "time": 1631927430788
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.6.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "004511F9D01D36B9CA6428EE5DCDCB56A7804922-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4315
         "time": 1631927430790
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.6.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F7FFFF58BC639E7642A17BA1AB71C4A9AE52485A-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4315
         "time": 1631927430791
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.6.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4315
         "time": 1631927430793
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.6.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A8D661CFEA91A94A1239E5AF1D245C9509C993E8-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4315
         "time": 1631927430794
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.6.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "always insert"
         "pid": 4315
         "time": 1631927430795
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.6.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EADBB731039C87F69503131E6FD0CE61E6369FDF-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4315
         "time": 1631927430797
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.6.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A0AFC343CFF8B419AB3D0A9E1294474268A68EF0-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4315
         "time": 1631927430901
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.6.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 11E0EFC17FDD0E8763D93EF84DC5F02D8151A880-1"
         "pid": 4315
         "time": 1631927430930
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.6.1
updated 1 package and audited 1094 packages in 5.146s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:10:37.132Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:10:37.133Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:10:37.133Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:10:37.134Z appoptics:debug using context provider: ace-context
2021-09-18T01:10:37.202Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:10:37.253Z appoptics:patching patched crypto 
2021-09-18T01:10:37.275Z appoptics:patching patched https 
2021-09-18T01:10:37.275Z appoptics:patching patched http 
2021-09-18T01:10:37.308Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:10:37.308Z appoptics:patching patched fs 
2021-09-18T01:10:37.315Z appoptics:patching patched pino 6.6.1
2021-09-18T01:10:37.319Z appoptics:debug starting runtimeMetrics


  pino v6.6.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (179ms)
  14 failing

  1) pino v6.6.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4338
         "time": 1631927437474
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.6.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A9C6CD17F920A4CA25BC7493CF47D8607477D42A-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4338
         "time": 1631927437480
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.6.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5AEDA040E148021C63F40B77D6A920B47C132E9D-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4338
         "time": 1631927437484
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.6.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3190C9DA068E0D34DA059698F32E74818CB5203F-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4338
         "time": 1631927437486
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.6.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F5A2642591EC11300B5103FFD5A9C68EFDEE2381-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4338
         "time": 1631927437489
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.6.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4338
         "time": 1631927437491
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.6.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D0CD83DB611BCB136FDEB8BDA68698032DA232B5-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4338
         "time": 1631927437493
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.6.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "31A579EA9D49EED7C469DEE02367C16A57D364DC-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4338
         "time": 1631927437494
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.6.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4338
         "time": 1631927437496
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.6.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B40167BB115413A9932633B440213577AE04EE17-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4338
         "time": 1631927437497
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.6.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "always insert"
         "pid": 4338
         "time": 1631927437498
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.6.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0AE2533D7630AC828F93B0842C3375A379F9C01C-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4338
         "time": 1631927437500
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.6.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A98412C38F6A033212AE1D28E20C6023412DE8F5-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4338
         "time": 1631927437604
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.6.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous FCF47DEE796952612CE49AD5975176B01097CE9A-1"
         "pid": 4338
         "time": 1631927437632
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.7.0
updated 2 packages and audited 1094 packages in 5.185s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:10:43.867Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:10:43.868Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:10:43.868Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:10:43.869Z appoptics:debug using context provider: ace-context
2021-09-18T01:10:43.937Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:10:43.987Z appoptics:patching patched crypto 
2021-09-18T01:10:44.010Z appoptics:patching patched https 
2021-09-18T01:10:44.010Z appoptics:patching patched http 
2021-09-18T01:10:44.043Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:10:44.043Z appoptics:patching patched fs 
2021-09-18T01:10:44.050Z appoptics:patching patched pino 6.7.0
2021-09-18T01:10:44.054Z appoptics:debug starting runtimeMetrics


  pino v6.7.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (185ms)
  14 failing

  1) pino v6.7.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4361
         "time": 1631927444213
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.7.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A5E4A16773CC938948E84FD423A956C11B929BF6-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4361
         "time": 1631927444220
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.7.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B742C38286626A9B5C2E4A9BECA63D8E5249FEB8-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4361
         "time": 1631927444223
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.7.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3CBEE4BDD6BAECDEB35FC656B4E4934C903D60BD-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4361
         "time": 1631927444225
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.7.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0EC0CEB7FD9BBEF2089B80CB4636E0AFBF09900A-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4361
         "time": 1631927444228
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.7.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4361
         "time": 1631927444230
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.7.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3540C526B6D144BCB98FC3D1F8676AFF0C93D2CA-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4361
         "time": 1631927444232
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.7.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9D143A9BA375E97F50FB4A034E82DC0DBAD2C546-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4361
         "time": 1631927444233
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.7.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4361
         "time": 1631927444235
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.7.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E7233E2D88B9D2271B716F4ADEF4E86EDCB0F7C2-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4361
         "time": 1631927444236
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.7.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "always insert"
         "pid": 4361
         "time": 1631927444237
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.7.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0B63EE5DDBDF7B88E3B556F2EEAA8ECA4F6ACE47-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4361
         "time": 1631927444239
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.7.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "872358B64A7E9599D0B2F1CD994971B7325C07EC-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4361
         "time": 1631927444343
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.7.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 53BB606CCE2AC62F654E328D546BF153E6C9B512-1"
         "pid": 4361
         "time": 1631927444371
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.8.0
updated 1 package and audited 1094 packages in 5.192s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:10:50.576Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:10:50.577Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:10:50.577Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:10:50.577Z appoptics:debug using context provider: ace-context
2021-09-18T01:10:50.642Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:10:50.693Z appoptics:patching patched crypto 
2021-09-18T01:10:50.716Z appoptics:patching patched https 
2021-09-18T01:10:50.716Z appoptics:patching patched http 
2021-09-18T01:10:50.749Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:10:50.750Z appoptics:patching patched fs 
2021-09-18T01:10:50.756Z appoptics:patching patched pino 6.8.0
2021-09-18T01:10:50.761Z appoptics:debug starting runtimeMetrics


  pino v6.8.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (183ms)
  14 failing

  1) pino v6.8.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4384
         "time": 1631927450915
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.8.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E5D7101800F1DD8B9CC7CEB0767A737C688BA95B-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4384
         "time": 1631927450922
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.8.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E0F9C9598F6B01FC3DADAF2BF4F7AEFDC49DCD3A-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4384
         "time": 1631927450925
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.8.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9754180A55B8D89487022BF7AA2AE63A897B81B2-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4384
         "time": 1631927450928
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.8.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "784F029785CF413008DD24471C844D96B8C20E6C-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4384
         "time": 1631927450930
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.8.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4384
         "time": 1631927450933
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.8.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "71CC5847BF0674FA0CDD2AE27D4FA75E21A8EC63-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4384
         "time": 1631927450934
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.8.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CD635272390C429692695166686B292DC729CEE8-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4384
         "time": 1631927450936
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.8.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4384
         "time": 1631927450937
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.8.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8D73563FB0713DBD7D441DB716CA2F90A715099B-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4384
         "time": 1631927450938
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.8.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "always insert"
         "pid": 4384
         "time": 1631927450940
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.8.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B9271F7C40398C219365040CB5F0E3EBD2918D82-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4384
         "time": 1631927450942
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.8.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "200E95ED8B0784604DCAD809704BA100E0637845-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4384
         "time": 1631927451048
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.8.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous DD91B092466BC5FF3CF98AE07F2C2C6C3B21F8D1-1"
         "pid": 4384
         "time": 1631927451077
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.9.0
updated 1 package and audited 1094 packages in 5.693s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:10:57.948Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:10:57.948Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:10:57.948Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:10:57.949Z appoptics:debug using context provider: ace-context
2021-09-18T01:10:58.041Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:10:58.099Z appoptics:patching patched crypto 
2021-09-18T01:10:58.122Z appoptics:patching patched https 
2021-09-18T01:10:58.122Z appoptics:patching patched http 
2021-09-18T01:10:58.156Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:10:58.157Z appoptics:patching patched fs 
2021-09-18T01:10:58.164Z appoptics:patching patched pino 6.9.0
2021-09-18T01:10:58.169Z appoptics:debug starting runtimeMetrics


  pino v6.9.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (181ms)
  14 failing

  1) pino v6.9.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4407
         "time": 1631927458323
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.9.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1969782D27198D6FF79ED08B296703797AA182A2-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4407
         "time": 1631927458330
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.9.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A1403584456E7B70C4884F9CF3F76BDFB2387544-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4407
         "time": 1631927458333
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.9.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "563ADD3D83032B4B2512AC821147BF5B6D043A48-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4407
         "time": 1631927458335
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.9.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "414DB0F40E5ECAB712327C230E3E45B6D403F73C-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4407
         "time": 1631927458338
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.9.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4407
         "time": 1631927458341
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.9.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "257C2544514AC0BDE61A0D73EC08DF01AF5794DB-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4407
         "time": 1631927458342
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.9.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EF72DE447D821545509DB53A4D7672306630C5E8-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4407
         "time": 1631927458343
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.9.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4407
         "time": 1631927458345
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.9.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "326C50B3571DD0E795DD8C0F0AB180502998C513-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4407
         "time": 1631927458346
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.9.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "always insert"
         "pid": 4407
         "time": 1631927458348
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.9.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6136E9CC4990BABE13B8F22EDAB0851BC1EB60FF-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4407
         "time": 1631927458349
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.9.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6FD13835AC579BDCF8B66EBC301D636C31E40B34-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4407
         "time": 1631927458455
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.9.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 3A43CA89D68F1260B35C7304614549FAF9D3C255-1"
         "pid": 4407
         "time": 1631927458484
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.10.0
updated 2 packages and audited 1094 packages in 4.585s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:11:04.180Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:11:04.181Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:11:04.181Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:11:04.181Z appoptics:debug using context provider: ace-context
2021-09-18T01:11:04.245Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:11:04.307Z appoptics:patching patched crypto 
2021-09-18T01:11:04.339Z appoptics:patching patched https 
2021-09-18T01:11:04.340Z appoptics:patching patched http 
2021-09-18T01:11:04.390Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:11:04.390Z appoptics:patching patched fs 
2021-09-18T01:11:04.398Z appoptics:patching patched pino 6.10.0
2021-09-18T01:11:04.402Z appoptics:debug starting runtimeMetrics


  pino v6.10.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (181ms)
  14 failing

  1) pino v6.10.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4430
         "time": 1631927464591
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.10.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1CC77757ADEBC7783059510AB73BE7A7A984C4D1-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4430
         "time": 1631927464598
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.10.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A3476AB22E2838B6D7218F3B26ADC3778F175729-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4430
         "time": 1631927464601
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.10.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7C83AB99C92309331617510FC6F6AF75BA0435DA-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4430
         "time": 1631927464603
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.10.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D3DCA3B32BF8A73CE1940B1421BF3AABF8757E90-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4430
         "time": 1631927464606
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.10.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4430
         "time": 1631927464609
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.10.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B41A374210BF473253A0299BD737229C225205C2-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4430
         "time": 1631927464611
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.10.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8C710F0D493FE6F82F2D4A84FE4D2D93DAB4807A-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4430
         "time": 1631927464612
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.10.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4430
         "time": 1631927464614
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.10.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "12366FD0D55C0CB5BF142F8C757E92586D16BEE0-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4430
         "time": 1631927464615
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.10.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "always insert"
         "pid": 4430
         "time": 1631927464616
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.10.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2BA0EF2723E97298EC66FDA4E842FDFC2C6EB6E0-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4430
         "time": 1631927464618
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.10.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "510D92F5A552BFCEC1517B5E81F836256E757C1A-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4430
         "time": 1631927464722
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.10.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 43ED64F40603CBF0A131E7A1F54C4CAB32417BB3-1"
         "pid": 4430
         "time": 1631927464750
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.11.0
updated 1 package and audited 1094 packages in 5.406s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:11:11.264Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:11:11.265Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:11:11.265Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:11:11.266Z appoptics:debug using context provider: ace-context
2021-09-18T01:11:11.331Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:11:11.383Z appoptics:patching patched crypto 
2021-09-18T01:11:11.406Z appoptics:patching patched https 
2021-09-18T01:11:11.406Z appoptics:patching patched http 
2021-09-18T01:11:11.439Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:11:11.440Z appoptics:patching patched fs 
2021-09-18T01:11:11.447Z appoptics:patching patched pino 6.11.0
2021-09-18T01:11:11.451Z appoptics:debug starting runtimeMetrics


  pino v6.11.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (180ms)
  14 failing

  1) pino v6.11.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4453
         "time": 1631927471602
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.11.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "283A0A7304BB48578A8C63ACE7FEEE4D0CF517E8-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4453
         "time": 1631927471609
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.11.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CB962733B1AFD0ADA4CB65952CC72A5807AD6ACC-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4453
         "time": 1631927471612
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.11.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "89D0DE817144197EA7E9661D8CA7F1CCF1CA1C81-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4453
         "time": 1631927471615
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.11.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6C84B3C394170A7D171C4B98BE5DC3762A4A5C9A-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4453
         "time": 1631927471617
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.11.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4453
         "time": 1631927471620
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.11.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "56712FA3475CB0C19A94920B48128265A563412B-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4453
         "time": 1631927471622
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.11.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CBAD2E0799C461602C7FD7076B5BC58972FF3C12-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4453
         "time": 1631927471623
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.11.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4453
         "time": 1631927471625
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.11.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1188937FF44165C71F7E4724B011410649B7BCC0-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4453
         "time": 1631927471626
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.11.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "always insert"
         "pid": 4453
         "time": 1631927471627
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.11.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "55FB1F18592CBE67869A346BE1531D67A18A42C1-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4453
         "time": 1631927471629
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.11.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "ABFA9E8F7B73C81684CD400C844772AF131309E4-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4453
         "time": 1631927471733
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.11.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 075946C7D78E15D100CBB4B32B3C38A19A08A94E-1"
         "pid": 4453
         "time": 1631927471762
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.11.1
updated 1 package and audited 1094 packages in 4.876s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:11:18.158Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:11:18.159Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:11:18.159Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:11:18.160Z appoptics:debug using context provider: ace-context
2021-09-18T01:11:18.225Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:11:18.286Z appoptics:patching patched crypto 
2021-09-18T01:11:18.337Z appoptics:patching patched https 
2021-09-18T01:11:18.337Z appoptics:patching patched http 
2021-09-18T01:11:18.375Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:11:18.375Z appoptics:patching patched fs 
2021-09-18T01:11:18.384Z appoptics:patching patched pino 6.11.1
2021-09-18T01:11:18.389Z appoptics:debug starting runtimeMetrics


  pino v6.11.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (186ms)
  14 failing

  1) pino v6.11.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4476
         "time": 1631927478644
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.11.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5FBC38792EDED1DF20B73984C9027A390F9ECC15-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4476
         "time": 1631927478652
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.11.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D3AFABC9444412E48EC3ECFFAEC1313A0FFBCCF5-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4476
         "time": 1631927478655
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.11.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5FEFB025015D242785BE57C6FBB302225852E03B-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4476
         "time": 1631927478658
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.11.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "32D609F42645E7EBACA5F708CB99D9F50E7CB399-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4476
         "time": 1631927478660
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.11.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4476
         "time": 1631927478663
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.11.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4DB330EF40F9CB04B6F835A71DC5D9B378655197-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4476
         "time": 1631927478665
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.11.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2B5D06ED09C8BD1C1AF6B5F33A7A43C8F5F6F0BD-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4476
         "time": 1631927478666
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.11.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4476
         "time": 1631927478667
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.11.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0D13A69DFA644AF6E10D35AA6CC487FC82A4488C-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4476
         "time": 1631927478669
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.11.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "always insert"
         "pid": 4476
         "time": 1631927478670
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.11.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DFA9EA24797A50F78C9E040261AC48010E8B823C-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4476
         "time": 1631927478672
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.11.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7485F41BB9817932776D400464CDFB6723200247-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4476
         "time": 1631927478777
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.11.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 25561ADEDF7BBF2CB5DC1046A08A7B23747F57BC-1"
         "pid": 4476
         "time": 1631927478806
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.11.2
updated 2 packages and audited 1094 packages in 4.76s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:11:24.636Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:11:24.637Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:11:24.637Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:11:24.637Z appoptics:debug using context provider: ace-context
2021-09-18T01:11:24.703Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:11:24.756Z appoptics:patching patched crypto 
2021-09-18T01:11:24.779Z appoptics:patching patched https 
2021-09-18T01:11:24.779Z appoptics:patching patched http 
2021-09-18T01:11:24.812Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:11:24.812Z appoptics:patching patched fs 
2021-09-18T01:11:24.819Z appoptics:patching patched pino 6.11.2
2021-09-18T01:11:24.824Z appoptics:debug starting runtimeMetrics


  pino v6.11.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (184ms)
  14 failing

  1) pino v6.11.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4499
         "time": 1631927484974
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.11.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8D7F436DE5DA15D29747A2A1560997127997CFDC-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4499
         "time": 1631927484981
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.11.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "671D430914A48F983FFDD12E7A2690312C20C8F1-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4499
         "time": 1631927484984
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.11.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "33ACB16E2C935FD98F7017A0651BD742737CCEDE-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4499
         "time": 1631927484986
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.11.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A15C340153E1417831B7C8183FA7CD552593C86B-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4499
         "time": 1631927484989
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.11.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4499
         "time": 1631927484992
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.11.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "73C2BA1AE34ACE9FD0C4CE7F3DBA794A75CD806F-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4499
         "time": 1631927484993
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.11.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B00C962976FF36115ED3F8ACFED93F39C68E844E-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4499
         "time": 1631927484995
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.11.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4499
         "time": 1631927484996
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.11.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7FC4CF93FEE8BD25B1B9D5FC868FA5041C27A34B-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4499
         "time": 1631927484997
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.11.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "always insert"
         "pid": 4499
         "time": 1631927484999
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.11.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E071476B89B69AD85AD9F1823C37B500634D8687-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4499
         "time": 1631927485002
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.11.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B6B377831647E057B4EC3234D2E87E92E29FDB39-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4499
         "time": 1631927485108
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.11.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous D927F13F7F013D5F46B533B1C4D8F7940235D3F1-1"
         "pid": 4499
         "time": 1631927485137
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.11.3
updated 2 packages and audited 1094 packages in 5.38s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:11:31.852Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:11:31.853Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:11:31.853Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:11:31.854Z appoptics:debug using context provider: ace-context
2021-09-18T01:11:31.924Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:11:31.978Z appoptics:patching patched crypto 
2021-09-18T01:11:32.006Z appoptics:patching patched https 
2021-09-18T01:11:32.006Z appoptics:patching patched http 
2021-09-18T01:11:32.038Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:11:32.038Z appoptics:patching patched fs 
2021-09-18T01:11:32.045Z appoptics:patching patched pino 6.11.3
2021-09-18T01:11:32.049Z appoptics:debug starting runtimeMetrics


  pino v6.11.3
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (186ms)
  14 failing

  1) pino v6.11.3
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4522
         "time": 1631927492209
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.11.3
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6EE152E6FAAA87C879A4A1992124B735EFB0A046-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4522
         "time": 1631927492216
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.11.3
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "18EB091CABA76A980792984D2A36D0DBE4B8157E-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4522
         "time": 1631927492219
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.11.3
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "649D04EAA88392C5157586004E308203908DD60C-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4522
         "time": 1631927492222
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.11.3
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "72C03D879D24391DB09B9A1C65429878570D3BAF-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4522
         "time": 1631927492224
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.11.3
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4522
         "time": 1631927492227
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.11.3
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "557B6449A34B735DDC6FBEA275674BC753894BD9-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4522
         "time": 1631927492229
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.11.3
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2D3B8D77DE9802101C10D0926237148061071CA5-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4522
         "time": 1631927492230
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.11.3
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4522
         "time": 1631927492231
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.11.3
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F5FD587EB629CFF0BF5EB0A2A5766067A1EC0705-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4522
         "time": 1631927492233
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.11.3
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "always insert"
         "pid": 4522
         "time": 1631927492235
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.11.3
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C518788DD4BB74FAA91090A7F6E47CA0277FD065-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4522
         "time": 1631927492237
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.11.3
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F384E58779EE1803DEE3AA1BC32A669A2E929E12-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4522
         "time": 1631927492341
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.11.3
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 7E5DF33812D4B0FEAAEB095EAB2D4B6C52767B0F-1"
         "pid": 4522
         "time": 1631927492370
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.12.0
updated 1 package and audited 1094 packages in 4.721s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:11:38.326Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:11:38.327Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:11:38.327Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:11:38.328Z appoptics:debug using context provider: ace-context
2021-09-18T01:11:38.397Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:11:38.447Z appoptics:patching patched crypto 
2021-09-18T01:11:38.469Z appoptics:patching patched https 
2021-09-18T01:11:38.469Z appoptics:patching patched http 
2021-09-18T01:11:38.505Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:11:38.506Z appoptics:patching patched fs 
2021-09-18T01:11:38.513Z appoptics:patching patched pino 6.12.0
2021-09-18T01:11:38.517Z appoptics:debug starting runtimeMetrics


  pino v6.12.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (182ms)
  14 failing

  1) pino v6.12.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4545
         "time": 1631927498668
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.12.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E4A866EF1C5FEA23D0AE0DE5D0F207A7EBA9C3A1-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4545
         "time": 1631927498675
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.12.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F8DEA933CEE17CCA39E9675358AF06556A564445-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4545
         "time": 1631927498678
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.12.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C4B7317A32AE3DDC0C36226A85DA102FA22C8E5E-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4545
         "time": 1631927498681
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.12.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D544C6C6EC3898BAAC7A28924DE1F98106A91BC7-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4545
         "time": 1631927498683
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.12.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4545
         "time": 1631927498686
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.12.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9D86823B5E87098422B43D1759DE29D45EBD6385-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4545
         "time": 1631927498687
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.12.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4F6A7AF4B92872AAD0F3F8A655D42336FA8290A6-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4545
         "time": 1631927498689
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.12.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4545
         "time": 1631927498690
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.12.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C6B2FE1BF276E9E6AF2828D4E0B438297B9B8E31-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4545
         "time": 1631927498692
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.12.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "always insert"
         "pid": 4545
         "time": 1631927498693
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.12.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "749C7CDB4F2A6E12B6A29D8D63C5534D6EC06009-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4545
         "time": 1631927498695
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.12.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "46160446FE0D5D7ADA42E7211C14605F4E62B9F0-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4545
         "time": 1631927498801
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.12.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 473F177B5533080CC47AFE7305B0578BA550AE94-1"
         "pid": 4545
         "time": 1631927498830
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.13.0
updated 1 package and audited 1094 packages in 5.653s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:11:45.536Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:11:45.537Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:11:45.537Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:11:45.538Z appoptics:debug using context provider: ace-context
2021-09-18T01:11:45.604Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:11:45.656Z appoptics:patching patched crypto 
2021-09-18T01:11:45.678Z appoptics:patching patched https 
2021-09-18T01:11:45.678Z appoptics:patching patched http 
2021-09-18T01:11:45.709Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:11:45.709Z appoptics:patching patched fs 
2021-09-18T01:11:45.716Z appoptics:patching patched pino 6.13.0
2021-09-18T01:11:45.721Z appoptics:debug starting runtimeMetrics


  pino v6.13.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (184ms)
  14 failing

  1) pino v6.13.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4568
         "time": 1631927505873
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.13.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "ECB2F9DFF42C8B251A1D96C5D3461D3FA677ACC3-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4568
         "time": 1631927505880
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.13.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B0F3F5D261AF403479DBAF9952FE0D0BAB03057C-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4568
         "time": 1631927505883
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.13.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CD921F79AAE2E5C78F7D373FCD641DD10C0F6971-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4568
         "time": 1631927505885
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.13.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DBDDA2DB86B3ECFEDB00A602DDCADF8311B37883-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4568
         "time": 1631927505887
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.13.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4568
         "time": 1631927505891
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.13.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7BC85508F6AFE4379778E7E667A913AC1920D98E-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4568
         "time": 1631927505893
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.13.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0D576D0417327C90088304451D632EBB4E325823-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4568
         "time": 1631927505894
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.13.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4568
         "time": 1631927505896
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.13.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "84BD1A8DBB1A8186CDE8E2DECB9594471F2A47C0-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4568
         "time": 1631927505897
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.13.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "always insert"
         "pid": 4568
         "time": 1631927505899
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.13.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "45DAEEB24C421BBF3042941A07C3C220F223DF43-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4568
         "time": 1631927505900
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.13.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "66C86CF4D343C6EA66BD68CF32A644016BE8B9F9-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4568
         "time": 1631927506006
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.13.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous B98CF68C71F444C44EBE3D8073EE6427179DB896-1"
         "pid": 4568
         "time": 1631927506035
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.13.1
added 1 package from 1 contributor, updated 1 package and audited 1095 packages in 4.96s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:11:52.010Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:11:52.011Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:11:52.011Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:11:52.012Z appoptics:debug using context provider: ace-context
2021-09-18T01:11:52.078Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:11:52.129Z appoptics:patching patched crypto 
2021-09-18T01:11:52.152Z appoptics:patching patched https 
2021-09-18T01:11:52.152Z appoptics:patching patched http 
2021-09-18T01:11:52.184Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:11:52.185Z appoptics:patching patched fs 
2021-09-18T01:11:52.193Z appoptics:patching patched pino 6.13.1
2021-09-18T01:11:52.197Z appoptics:debug starting runtimeMetrics


  pino v6.13.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (178ms)
  14 failing

  1) pino v6.13.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4591
         "time": 1631927512347
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.13.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F819C09985B341B10CF6F5972EB4E6465940216E-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4591
         "time": 1631927512354
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.13.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "AFE912AFAB8891519D56A74CDB6C90E57F5063CF-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4591
         "time": 1631927512357
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.13.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "53625874FFB1AA5043538C0708D6247584F8204F-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4591
         "time": 1631927512360
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.13.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D0607B68EADA6CE439DFE429CB3546BB38842B68-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4591
         "time": 1631927512362
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.13.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4591
         "time": 1631927512365
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.13.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "822D1FCC2BBF105CAEFF19B021A5F5225E215346-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4591
         "time": 1631927512367
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.13.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "46A06DC7CB9C1AFAC8082022C2A6822D68756F86-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4591
         "time": 1631927512368
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.13.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4591
         "time": 1631927512370
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.13.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FFB114DA3E5FA8E03938FC83B68B264D8D6B84F0-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4591
         "time": 1631927512371
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.13.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "always insert"
         "pid": 4591
         "time": 1631927512372
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.13.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "391FB7B69A848BD297464CCC95030D332A90EE7E-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4591
         "time": 1631927512374
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.13.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "269024CFBB736499CA29DA572E029D2997FF95E2-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4591
         "time": 1631927512477
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.13.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous B38A269DE3C16B60442C56330B7CBF92A3447C02-1"
         "pid": 4591
         "time": 1631927512505
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.13.2
updated 1 package and audited 1095 packages in 5.582s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:11:59.331Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:11:59.332Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:11:59.332Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:11:59.332Z appoptics:debug using context provider: ace-context
2021-09-18T01:11:59.399Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:11:59.450Z appoptics:patching patched crypto 
2021-09-18T01:11:59.472Z appoptics:patching patched https 
2021-09-18T01:11:59.472Z appoptics:patching patched http 
2021-09-18T01:11:59.505Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:11:59.506Z appoptics:patching patched fs 
2021-09-18T01:11:59.513Z appoptics:patching patched pino 6.13.2
2021-09-18T01:11:59.517Z appoptics:debug starting runtimeMetrics


  pino v6.13.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (183ms)
  14 failing

  1) pino v6.13.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4614
         "time": 1631927519668
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) pino v6.13.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "26D7DD0FCF1A1D3F21561E8BE3ED378C1B1FA9A2-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4614
         "time": 1631927519675
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) pino v6.13.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FD2E36ECC4CFFE0B483FC23ACBAD5B4359DCBA48-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4614
         "time": 1631927519678
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) pino v6.13.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FE76BDEC464C5841805A1880A4CD1D1BC708FE1D-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4614
         "time": 1631927519680
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) pino v6.13.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4196BF703FABEE43D0D554871E39006F183FDA53-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4614
         "time": 1631927519683
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) pino v6.13.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4614
         "time": 1631927519686
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.13.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "546FA2E4AB3D0853B7FDBDC77DEF37FA6D85B01C-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4614
         "time": 1631927519687
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.13.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "75A8BB70790ACE36A1C710CF5688580B4E2D1BE6-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4614
         "time": 1631927519689
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.13.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4614
         "time": 1631927519690
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.13.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E357CC8A46235148EE5822DC43F9CF791EA204FD-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4614
         "time": 1631927519691
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.13.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "always insert"
         "pid": 4614
         "time": 1631927519693
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.13.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "56F7753A89408EE133FC96951154E1A999D96BEA-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4614
         "time": 1631927519695
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) pino v6.13.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "73B36B7D40E26B36C8098A4E0024AB1CD9FAC433-1"
      +  }
         "hostname": "9135667bfb02"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4614
         "time": 1631927519801
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) pino v6.13.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 4107412043B45667525A955F81FDC733010D16F7-1"
         "pid": 4614
         "time": 1631927519830
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.17.0
removed 1 package, updated 5 packages and audited 1094 packages in 4.631s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
