npm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated mkdirp@0.3.3: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated formidable@1.0.11: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.6.0: connect 2.x series is deprecated

added 19 packages, removed 26 packages, changed 9 packages, and audited 920 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (7 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:39:03.698Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:39:03.699Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:39:03.699Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:39:03.700Z appoptics:debug using context provider: ace-context
2022-04-25T18:39:03.770Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:39:03.904Z appoptics:patching patched crypto 
2022-04-25T18:39:03.930Z appoptics:patching patched https 
2022-04-25T18:39:03.930Z appoptics:patching patched http 
2022-04-25T18:39:03.976Z appoptics:patching patched zlib 
2022-04-25T18:39:03.982Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:39:03.983Z appoptics:patching patched fs 
2022-04-25T18:39:04.027Z appoptics:patching express 3.0.0 does not support render spans
2022-04-25T18:39:04.027Z appoptics:patching patched express 3.0.0
2022-04-25T18:39:04.033Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:39:04.040Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.0
    ✓ UDP might lose a message
2022-04-25T18:39:04.082Z appoptics:patching patched raw-body 2.5.1
(node:823) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (225ms)
  3 pending

npm WARN deprecated connect@2.6.2: connect 2.x series is deprecated

added 1 package, removed 2 packages, changed 2 packages, and audited 919 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:39:12.116Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:39:12.117Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:39:12.117Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:39:12.118Z appoptics:debug using context provider: ace-context
2022-04-25T18:39:12.227Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:39:12.381Z appoptics:patching patched crypto 
2022-04-25T18:39:12.429Z appoptics:patching patched https 
2022-04-25T18:39:12.430Z appoptics:patching patched http 
2022-04-25T18:39:12.478Z appoptics:patching patched zlib 
2022-04-25T18:39:12.490Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:39:12.491Z appoptics:patching patched fs 
2022-04-25T18:39:12.543Z appoptics:patching express 3.0.1 does not support render spans
2022-04-25T18:39:12.543Z appoptics:patching patched express 3.0.1
2022-04-25T18:39:12.551Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:39:12.561Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.1
    ✓ UDP might lose a message
2022-04-25T18:39:12.616Z appoptics:patching patched raw-body 2.5.1
(node:845) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (92ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (332ms)
  3 pending


changed 1 package, and audited 919 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:39:19.801Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:39:19.804Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:39:19.804Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:39:19.805Z appoptics:debug using context provider: ace-context
2022-04-25T18:39:19.910Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:39:20.048Z appoptics:patching patched crypto 
2022-04-25T18:39:20.078Z appoptics:patching patched https 
2022-04-25T18:39:20.079Z appoptics:patching patched http 
2022-04-25T18:39:20.137Z appoptics:patching patched zlib 
2022-04-25T18:39:20.147Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:39:20.147Z appoptics:patching patched fs 
2022-04-25T18:39:20.215Z appoptics:patching express 3.0.2 does not support render spans
2022-04-25T18:39:20.216Z appoptics:patching patched express 3.0.2
2022-04-25T18:39:20.221Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:39:20.240Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.2
    ✓ UDP might lose a message
2022-04-25T18:39:20.332Z appoptics:patching patched raw-body 2.5.1
(node:867) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (137ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (391ms)
  3 pending

npm WARN deprecated connect@2.7.0: connect 2.x series is deprecated

changed 3 packages, and audited 919 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:39:28.109Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:39:28.110Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:39:28.110Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:39:28.111Z appoptics:debug using context provider: ace-context
2022-04-25T18:39:28.178Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:39:28.307Z appoptics:patching patched crypto 
2022-04-25T18:39:28.327Z appoptics:patching patched https 
2022-04-25T18:39:28.328Z appoptics:patching patched http 
2022-04-25T18:39:28.369Z appoptics:patching patched zlib 
2022-04-25T18:39:28.379Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:39:28.379Z appoptics:patching patched fs 
2022-04-25T18:39:28.413Z appoptics:patching express 3.0.3 does not support render spans
2022-04-25T18:39:28.413Z appoptics:patching patched express 3.0.3
2022-04-25T18:39:28.418Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:39:28.425Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.3
    ✓ UDP might lose a message
2022-04-25T18:39:28.461Z appoptics:patching patched raw-body 2.5.1
(node:889) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (220ms)
  3 pending

npm WARN deprecated connect@2.7.1: connect 2.x series is deprecated

added 1 package, changed 2 packages, and audited 920 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:39:36.331Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:39:36.331Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:39:36.331Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:39:36.334Z appoptics:debug using context provider: ace-context
2022-04-25T18:39:36.421Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:39:36.591Z appoptics:patching patched crypto 
2022-04-25T18:39:36.640Z appoptics:patching patched https 
2022-04-25T18:39:36.641Z appoptics:patching patched http 
2022-04-25T18:39:36.684Z appoptics:patching patched zlib 
2022-04-25T18:39:36.695Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:39:36.695Z appoptics:patching patched fs 
2022-04-25T18:39:36.738Z appoptics:patching express 3.0.4 does not support render spans
2022-04-25T18:39:36.738Z appoptics:patching patched express 3.0.4
2022-04-25T18:39:36.744Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:39:36.752Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.4
    ✓ UDP might lose a message
2022-04-25T18:39:36.796Z appoptics:patching patched raw-body 2.5.1
(node:911) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (86ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (268ms)
  3 pending


changed 1 package, and audited 920 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:39:44.660Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:39:44.661Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:39:44.661Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:39:44.662Z appoptics:debug using context provider: ace-context
2022-04-25T18:39:44.732Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:39:44.868Z appoptics:patching patched crypto 
2022-04-25T18:39:44.902Z appoptics:patching patched https 
2022-04-25T18:39:44.903Z appoptics:patching patched http 
2022-04-25T18:39:44.937Z appoptics:patching patched zlib 
2022-04-25T18:39:44.946Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:39:44.947Z appoptics:patching patched fs 
2022-04-25T18:39:44.982Z appoptics:patching express 3.0.5 does not support render spans
2022-04-25T18:39:44.983Z appoptics:patching patched express 3.0.5
2022-04-25T18:39:44.988Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:39:44.995Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.5
    ✓ UDP might lose a message
2022-04-25T18:39:45.038Z appoptics:patching patched raw-body 2.5.1
(node:933) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (230ms)
  3 pending

npm WARN deprecated connect@2.7.2: connect 2.x series is deprecated

removed 1 package, changed 2 packages, and audited 919 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:39:53.151Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:39:53.152Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:39:53.152Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:39:53.153Z appoptics:debug using context provider: ace-context
2022-04-25T18:39:53.250Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:39:53.394Z appoptics:patching patched crypto 
2022-04-25T18:39:53.433Z appoptics:patching patched https 
2022-04-25T18:39:53.434Z appoptics:patching patched http 
2022-04-25T18:39:53.476Z appoptics:patching patched zlib 
2022-04-25T18:39:53.486Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:39:53.487Z appoptics:patching patched fs 
2022-04-25T18:39:53.528Z appoptics:patching express 3.0.6 does not support render spans
2022-04-25T18:39:53.529Z appoptics:patching patched express 3.0.6
2022-04-25T18:39:53.536Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:39:53.543Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.6
    ✓ UDP might lose a message
2022-04-25T18:39:53.590Z appoptics:patching patched raw-body 2.5.1
(node:955) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (251ms)
  3 pending


changed 1 package, and audited 919 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:40:00.978Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:40:00.979Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:40:00.979Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:40:00.980Z appoptics:debug using context provider: ace-context
2022-04-25T18:40:01.106Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:40:01.355Z appoptics:patching patched crypto 
2022-04-25T18:40:01.407Z appoptics:patching patched https 
2022-04-25T18:40:01.408Z appoptics:patching patched http 
2022-04-25T18:40:01.503Z appoptics:patching patched zlib 
2022-04-25T18:40:01.524Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:40:01.525Z appoptics:patching patched fs 
2022-04-25T18:40:01.592Z appoptics:patching express 3.1.0 does not support render spans
2022-04-25T18:40:01.592Z appoptics:patching patched express 3.1.0
2022-04-25T18:40:01.602Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:40:01.614Z appoptics:debug starting runtimeMetrics


  probes.express 3.1.0
    ✓ UDP might lose a message
2022-04-25T18:40:01.696Z appoptics:patching patched raw-body 2.5.1
(node:977) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (105ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (304ms)
  3 pending

npm WARN deprecated mkdirp@0.3.5: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.7.4: connect 2.x series is deprecated

added 1 package, changed 5 packages, and audited 920 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:40:09.801Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:40:09.801Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:40:09.801Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:40:09.802Z appoptics:debug using context provider: ace-context
2022-04-25T18:40:09.872Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:40:10.038Z appoptics:patching patched crypto 
2022-04-25T18:40:10.061Z appoptics:patching patched https 
2022-04-25T18:40:10.062Z appoptics:patching patched http 
2022-04-25T18:40:10.123Z appoptics:patching patched zlib 
2022-04-25T18:40:10.136Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:40:10.136Z appoptics:patching patched fs 
2022-04-25T18:40:10.177Z appoptics:patching express 3.1.1 does not support render spans
2022-04-25T18:40:10.177Z appoptics:patching patched express 3.1.1
2022-04-25T18:40:10.183Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:40:10.191Z appoptics:debug starting runtimeMetrics


  probes.express 3.1.1
    ✓ UDP might lose a message
2022-04-25T18:40:10.236Z appoptics:patching patched raw-body 2.5.1
(node:999) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (247ms)
  3 pending

npm WARN deprecated connect@2.7.5: connect 2.x series is deprecated

changed 3 packages, and audited 920 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:40:18.465Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:40:18.466Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:40:18.466Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:40:18.467Z appoptics:debug using context provider: ace-context
2022-04-25T18:40:18.535Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:40:18.664Z appoptics:patching patched crypto 
2022-04-25T18:40:18.685Z appoptics:patching patched https 
2022-04-25T18:40:18.685Z appoptics:patching patched http 
2022-04-25T18:40:18.732Z appoptics:patching patched zlib 
2022-04-25T18:40:18.742Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:40:18.742Z appoptics:patching patched fs 
2022-04-25T18:40:18.780Z appoptics:patching express 3.1.2 does not support render spans
2022-04-25T18:40:18.780Z appoptics:patching patched express 3.1.2
2022-04-25T18:40:18.786Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:40:18.794Z appoptics:debug starting runtimeMetrics


  probes.express 3.1.2
    ✓ UDP might lose a message
2022-04-25T18:40:18.837Z appoptics:patching patched raw-body 2.5.1
(node:1021) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (74ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (259ms)
  3 pending

npm WARN deprecated connect@2.7.6: connect 2.x series is deprecated

changed 3 packages, and audited 920 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:40:28.114Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:40:28.115Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:40:28.115Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:40:28.116Z appoptics:debug using context provider: ace-context
2022-04-25T18:40:28.216Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:40:28.350Z appoptics:patching patched crypto 
2022-04-25T18:40:28.377Z appoptics:patching patched https 
2022-04-25T18:40:28.378Z appoptics:patching patched http 
2022-04-25T18:40:28.419Z appoptics:patching patched zlib 
2022-04-25T18:40:28.429Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:40:28.429Z appoptics:patching patched fs 
2022-04-25T18:40:28.466Z appoptics:patching patched express 3.2.0
2022-04-25T18:40:28.472Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:40:28.479Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.0
    ✓ UDP might lose a message
2022-04-25T18:40:28.520Z appoptics:patching patched raw-body 2.5.1
(node:1043) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (260ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }
npm WARN deprecated mkdirp@0.3.4: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated formidable@1.0.13: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.7.7: connect 2.x series is deprecated

added 1 package, removed 1 package, changed 6 packages, and audited 920 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:40:36.388Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:40:36.388Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:40:36.388Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:40:36.389Z appoptics:debug using context provider: ace-context
2022-04-25T18:40:36.490Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:40:36.622Z appoptics:patching patched crypto 
2022-04-25T18:40:36.643Z appoptics:patching patched https 
2022-04-25T18:40:36.644Z appoptics:patching patched http 
2022-04-25T18:40:36.686Z appoptics:patching patched zlib 
2022-04-25T18:40:36.697Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:40:36.697Z appoptics:patching patched fs 
2022-04-25T18:40:36.737Z appoptics:patching patched express 3.2.1
2022-04-25T18:40:36.743Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:40:36.754Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.1
    ✓ UDP might lose a message
2022-04-25T18:40:36.824Z appoptics:patching patched raw-body 2.5.1
(node:1065) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (92ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (289ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }
npm WARN deprecated connect@2.7.8: connect 2.x series is deprecated

changed 4 packages, and audited 920 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:40:45.773Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:40:45.774Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:40:45.774Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:40:45.775Z appoptics:debug using context provider: ace-context
2022-04-25T18:40:45.843Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:40:45.970Z appoptics:patching patched crypto 
2022-04-25T18:40:45.991Z appoptics:patching patched https 
2022-04-25T18:40:45.992Z appoptics:patching patched http 
2022-04-25T18:40:46.035Z appoptics:patching patched zlib 
2022-04-25T18:40:46.044Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:40:46.044Z appoptics:patching patched fs 
2022-04-25T18:40:46.079Z appoptics:patching patched express 3.2.2
2022-04-25T18:40:46.084Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:40:46.091Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.2
    ✓ UDP might lose a message
2022-04-25T18:40:46.129Z appoptics:patching patched raw-body 2.5.1
(node:1087) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (231ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }
npm WARN deprecated connect@2.7.9: connect 2.x series is deprecated

changed 4 packages, and audited 920 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:40:55.132Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:40:55.133Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:40:55.133Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:40:55.134Z appoptics:debug using context provider: ace-context
2022-04-25T18:40:55.207Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:40:55.345Z appoptics:patching patched crypto 
2022-04-25T18:40:55.384Z appoptics:patching patched https 
2022-04-25T18:40:55.385Z appoptics:patching patched http 
2022-04-25T18:40:55.421Z appoptics:patching patched zlib 
2022-04-25T18:40:55.431Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:40:55.432Z appoptics:patching patched fs 
2022-04-25T18:40:55.470Z appoptics:patching patched express 3.2.3
2022-04-25T18:40:55.476Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:40:55.483Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.3
    ✓ UDP might lose a message
2022-04-25T18:40:55.526Z appoptics:patching patched raw-body 2.5.1
(node:1109) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (72ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (258ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }

removed 1 package, changed 1 package, and audited 919 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:41:03.777Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:41:03.778Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:41:03.778Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:41:03.779Z appoptics:debug using context provider: ace-context
2022-04-25T18:41:03.863Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:41:04.012Z appoptics:patching patched crypto 
2022-04-25T18:41:04.067Z appoptics:patching patched https 
2022-04-25T18:41:04.067Z appoptics:patching patched http 
2022-04-25T18:41:04.116Z appoptics:patching patched zlib 
2022-04-25T18:41:04.126Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:41:04.126Z appoptics:patching patched fs 
2022-04-25T18:41:04.167Z appoptics:patching patched express 3.2.4
2022-04-25T18:41:04.173Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:41:04.181Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.4
    ✓ UDP might lose a message
2022-04-25T18:41:04.225Z appoptics:patching patched raw-body 2.5.1
(node:1131) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (75ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (265ms)
  2 pending

npm WARN deprecated formidable@1.0.14: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.7.10: connect 2.x series is deprecated

added 1 package, changed 5 packages, and audited 920 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:41:12.300Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:41:12.301Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:41:12.301Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:41:12.302Z appoptics:debug using context provider: ace-context
2022-04-25T18:41:12.395Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:41:12.614Z appoptics:patching patched crypto 
2022-04-25T18:41:12.736Z appoptics:patching patched https 
2022-04-25T18:41:12.738Z appoptics:patching patched http 
2022-04-25T18:41:12.835Z appoptics:patching patched zlib 
2022-04-25T18:41:12.855Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:41:12.855Z appoptics:patching patched fs 
2022-04-25T18:41:12.911Z appoptics:patching patched express 3.2.5
2022-04-25T18:41:12.917Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:41:12.924Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.5
    ✓ UDP might lose a message
2022-04-25T18:41:12.974Z appoptics:patching patched raw-body 2.5.1
(node:1153) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (72ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (263ms)
  2 pending

npm WARN deprecated connect@2.7.11: connect 2.x series is deprecated

added 2 packages, changed 2 packages, and audited 922 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:41:21.043Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:41:21.044Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:41:21.044Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:41:21.045Z appoptics:debug using context provider: ace-context
2022-04-25T18:41:21.122Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:41:21.258Z appoptics:patching patched crypto 
2022-04-25T18:41:21.280Z appoptics:patching patched https 
2022-04-25T18:41:21.280Z appoptics:patching patched http 
2022-04-25T18:41:21.368Z appoptics:patching patched zlib 
2022-04-25T18:41:21.396Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:41:21.396Z appoptics:patching patched fs 
2022-04-25T18:41:21.455Z appoptics:patching patched express 3.2.6
2022-04-25T18:41:21.461Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:41:21.468Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.6
    ✓ UDP might lose a message
2022-04-25T18:41:21.520Z appoptics:patching patched raw-body 2.5.1
(node:1175) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (252ms)
  2 pending

npm WARN deprecated connect@2.8.0: connect 2.x series is deprecated

added 1 package, removed 2 packages, changed 4 packages, and audited 921 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:41:29.484Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:41:29.484Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:41:29.484Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:41:29.485Z appoptics:debug using context provider: ace-context
2022-04-25T18:41:29.574Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:41:29.730Z appoptics:patching patched crypto 
2022-04-25T18:41:29.777Z appoptics:patching patched https 
2022-04-25T18:41:29.777Z appoptics:patching patched http 
2022-04-25T18:41:29.820Z appoptics:patching patched zlib 
2022-04-25T18:41:29.830Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:41:29.830Z appoptics:patching patched fs 
2022-04-25T18:41:29.874Z appoptics:patching patched express 3.3.0
2022-04-25T18:41:29.880Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:41:29.887Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.0
    ✓ UDP might lose a message
2022-04-25T18:41:29.933Z appoptics:patching patched raw-body 2.5.1
(node:1197) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (76ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (276ms)
  2 pending

npm WARN deprecated connect@2.8.1: connect 2.x series is deprecated

changed 2 packages, and audited 921 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:41:38.106Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:41:38.107Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:41:38.107Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:41:38.108Z appoptics:debug using context provider: ace-context
2022-04-25T18:41:38.178Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:41:38.314Z appoptics:patching patched crypto 
2022-04-25T18:41:38.335Z appoptics:patching patched https 
2022-04-25T18:41:38.336Z appoptics:patching patched http 
2022-04-25T18:41:38.390Z appoptics:patching patched zlib 
2022-04-25T18:41:38.400Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:41:38.400Z appoptics:patching patched fs 
2022-04-25T18:41:38.437Z appoptics:patching patched express 3.3.1
2022-04-25T18:41:38.445Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:41:38.453Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.1
    ✓ UDP might lose a message
2022-04-25T18:41:38.492Z appoptics:patching patched raw-body 2.5.1
(node:1219) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (235ms)
  2 pending

npm WARN deprecated connect@2.8.2: connect 2.x series is deprecated

added 1 package, removed 1 package, changed 3 packages, and audited 921 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:41:47.097Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:41:47.098Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:41:47.098Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:41:47.099Z appoptics:debug using context provider: ace-context
2022-04-25T18:41:47.169Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:41:47.304Z appoptics:patching patched crypto 
2022-04-25T18:41:47.325Z appoptics:patching patched https 
2022-04-25T18:41:47.326Z appoptics:patching patched http 
2022-04-25T18:41:47.371Z appoptics:patching patched zlib 
2022-04-25T18:41:47.381Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:41:47.381Z appoptics:patching patched fs 
2022-04-25T18:41:47.421Z appoptics:patching patched express 3.3.2
2022-04-25T18:41:47.426Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:41:47.433Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.2
    ✓ UDP might lose a message
2022-04-25T18:41:47.471Z appoptics:patching patched raw-body 2.5.1
(node:1241) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (259ms)
  2 pending

npm WARN deprecated mkdirp@0.3.5: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.8.3: connect 2.x series is deprecated

added 1 package, changed 4 packages, and audited 922 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:41:55.044Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:41:55.045Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:41:55.045Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:41:55.045Z appoptics:debug using context provider: ace-context
2022-04-25T18:41:55.136Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:41:55.286Z appoptics:patching patched crypto 
2022-04-25T18:41:55.333Z appoptics:patching patched https 
2022-04-25T18:41:55.334Z appoptics:patching patched http 
2022-04-25T18:41:55.379Z appoptics:patching patched zlib 
2022-04-25T18:41:55.389Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:41:55.389Z appoptics:patching patched fs 
2022-04-25T18:41:55.438Z appoptics:patching patched express 3.3.3
2022-04-25T18:41:55.444Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:41:55.452Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.3
    ✓ UDP might lose a message
2022-04-25T18:41:55.495Z appoptics:patching patched raw-body 2.5.1
(node:1263) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (77ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (263ms)
  2 pending

npm WARN deprecated connect@2.8.4: connect 2.x series is deprecated

changed 3 packages, and audited 922 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:42:02.965Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:42:02.966Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:42:02.966Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:42:02.967Z appoptics:debug using context provider: ace-context
2022-04-25T18:42:03.037Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:42:03.164Z appoptics:patching patched crypto 
2022-04-25T18:42:03.185Z appoptics:patching patched https 
2022-04-25T18:42:03.185Z appoptics:patching patched http 
2022-04-25T18:42:03.228Z appoptics:patching patched zlib 
2022-04-25T18:42:03.237Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:42:03.237Z appoptics:patching patched fs 
2022-04-25T18:42:03.274Z appoptics:patching patched express 3.3.4
2022-04-25T18:42:03.279Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:42:03.286Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.4
    ✓ UDP might lose a message
2022-04-25T18:42:03.323Z appoptics:patching patched raw-body 2.5.1
(node:1285) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (235ms)
  2 pending

npm WARN deprecated connect@2.8.5: connect 2.x series is deprecated

changed 4 packages, and audited 922 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:42:11.829Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:42:11.830Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:42:11.830Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:42:11.831Z appoptics:debug using context provider: ace-context
2022-04-25T18:42:11.899Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:42:12.033Z appoptics:patching patched crypto 
2022-04-25T18:42:12.088Z appoptics:patching patched https 
2022-04-25T18:42:12.089Z appoptics:patching patched http 
2022-04-25T18:42:12.142Z appoptics:patching patched zlib 
2022-04-25T18:42:12.152Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:42:12.153Z appoptics:patching patched fs 
2022-04-25T18:42:12.192Z appoptics:patching patched express 3.3.5
2022-04-25T18:42:12.198Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:42:12.206Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.5
    ✓ UDP might lose a message
2022-04-25T18:42:12.266Z appoptics:patching patched raw-body 2.5.1
(node:1307) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (69ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (259ms)
  2 pending


changed 1 package, and audited 922 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:42:19.337Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:42:19.337Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:42:19.337Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:42:19.338Z appoptics:debug using context provider: ace-context
2022-04-25T18:42:19.499Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:42:19.687Z appoptics:patching patched crypto 
2022-04-25T18:42:19.765Z appoptics:patching patched https 
2022-04-25T18:42:19.790Z appoptics:patching patched http 
2022-04-25T18:42:19.818Z appoptics:patching patched zlib 
2022-04-25T18:42:19.828Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:42:19.828Z appoptics:patching patched fs 
2022-04-25T18:42:19.877Z appoptics:patching patched express 3.3.6
2022-04-25T18:42:19.883Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:42:19.891Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.6
    ✓ UDP might lose a message
2022-04-25T18:42:19.939Z appoptics:patching patched raw-body 2.5.1
(node:1329) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (78ms)
    ✓ should forward controller/action for POST (45ms)
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (339ms)
  2 pending

npm WARN deprecated connect@2.8.7: connect 2.x series is deprecated

changed 2 packages, and audited 922 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:42:28.121Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:42:28.121Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:42:28.121Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:42:28.122Z appoptics:debug using context provider: ace-context
2022-04-25T18:42:28.204Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:42:28.331Z appoptics:patching patched crypto 
2022-04-25T18:42:28.352Z appoptics:patching patched https 
2022-04-25T18:42:28.353Z appoptics:patching patched http 
2022-04-25T18:42:28.394Z appoptics:patching patched zlib 
2022-04-25T18:42:28.403Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:42:28.404Z appoptics:patching patched fs 
2022-04-25T18:42:28.440Z appoptics:patching patched express 3.3.7
2022-04-25T18:42:28.445Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:42:28.452Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.7
    ✓ UDP might lose a message
2022-04-25T18:42:28.489Z appoptics:patching patched raw-body 2.5.1
(node:1351) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (243ms)
  2 pending

npm WARN deprecated connect@2.8.8: connect 2.x series is deprecated

changed 2 packages, and audited 922 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:42:37.137Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:42:37.137Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:42:37.137Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:42:37.138Z appoptics:debug using context provider: ace-context
2022-04-25T18:42:37.217Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:42:37.365Z appoptics:patching patched crypto 
2022-04-25T18:42:37.386Z appoptics:patching patched https 
2022-04-25T18:42:37.387Z appoptics:patching patched http 
2022-04-25T18:42:37.432Z appoptics:patching patched zlib 
2022-04-25T18:42:37.445Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:42:37.445Z appoptics:patching patched fs 
2022-04-25T18:42:37.483Z appoptics:patching patched express 3.3.8
2022-04-25T18:42:37.488Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:42:37.496Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.8
    ✓ UDP might lose a message
2022-04-25T18:42:37.540Z appoptics:patching patched raw-body 2.5.1
(node:1373) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (78ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (284ms)
  2 pending

npm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.9.0: connect 2.x series is deprecated

added 6 packages, removed 2 packages, changed 3 packages, and audited 926 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:42:46.247Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:42:46.248Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:42:46.248Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:42:46.249Z appoptics:debug using context provider: ace-context
2022-04-25T18:42:46.339Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:42:46.488Z appoptics:patching patched crypto 
2022-04-25T18:42:46.535Z appoptics:patching patched https 
2022-04-25T18:42:46.536Z appoptics:patching patched http 
2022-04-25T18:42:46.579Z appoptics:patching patched zlib 
2022-04-25T18:42:46.589Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:42:46.590Z appoptics:patching patched fs 
2022-04-25T18:42:46.642Z appoptics:patching patched express 3.4.0
2022-04-25T18:42:46.647Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:42:46.655Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.0
    ✓ UDP might lose a message
2022-04-25T18:42:46.700Z appoptics:patching patched raw-body 2.5.1
(node:1395) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (75ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (266ms)
  2 pending

npm WARN deprecated connect@2.9.1: connect 2.x series is deprecated

removed 5 packages, changed 5 packages, and audited 921 packages in 16s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:43:03.833Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:43:03.834Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:43:03.834Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:43:03.834Z appoptics:debug using context provider: ace-context
2022-04-25T18:43:03.944Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:43:04.095Z appoptics:patching patched crypto 
2022-04-25T18:43:04.143Z appoptics:patching patched https 
2022-04-25T18:43:04.144Z appoptics:patching patched http 
2022-04-25T18:43:04.189Z appoptics:patching patched zlib 
2022-04-25T18:43:04.199Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:43:04.199Z appoptics:patching patched fs 
2022-04-25T18:43:04.246Z appoptics:patching patched express 3.4.1
2022-04-25T18:43:04.251Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:43:04.259Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.1
    ✓ UDP might lose a message
2022-04-25T18:43:04.303Z appoptics:patching patched raw-body 2.5.1
(node:1417) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (74ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (298ms)
  2 pending

npm WARN deprecated connect@2.9.2: connect 2.x series is deprecated

added 4 packages, changed 4 packages, and audited 925 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:43:13.075Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:43:13.076Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:43:13.076Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:43:13.077Z appoptics:debug using context provider: ace-context
2022-04-25T18:43:13.171Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:43:13.321Z appoptics:patching patched crypto 
2022-04-25T18:43:13.342Z appoptics:patching patched https 
2022-04-25T18:43:13.342Z appoptics:patching patched http 
2022-04-25T18:43:13.400Z appoptics:patching patched zlib 
2022-04-25T18:43:13.428Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:43:13.429Z appoptics:patching patched fs 
2022-04-25T18:43:13.470Z appoptics:patching patched raw-body 0.0.3
2022-04-25T18:43:13.487Z appoptics:patching patched express 3.4.2
2022-04-25T18:43:13.493Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:43:13.500Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.2
    ✓ UDP might lose a message
2022-04-25T18:43:13.547Z appoptics:patching patched raw-body 2.5.1
(node:1439) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (75ms)
    ✓ should forward controller/action for POST (40ms)
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (302ms)
  2 pending

npm WARN deprecated connect@2.10.1: connect 2.x series is deprecated

changed 2 packages, and audited 925 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:43:21.356Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:43:21.356Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:43:21.356Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:43:21.357Z appoptics:debug using context provider: ace-context
2022-04-25T18:43:21.425Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:43:21.554Z appoptics:patching patched crypto 
2022-04-25T18:43:21.576Z appoptics:patching patched https 
2022-04-25T18:43:21.577Z appoptics:patching patched http 
2022-04-25T18:43:21.618Z appoptics:patching patched zlib 
2022-04-25T18:43:21.628Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:43:21.628Z appoptics:patching patched fs 
2022-04-25T18:43:21.656Z appoptics:patching patched raw-body 0.0.3
2022-04-25T18:43:21.669Z appoptics:patching patched express 3.4.3
2022-04-25T18:43:21.675Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:43:21.681Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.3
    ✓ UDP might lose a message
2022-04-25T18:43:21.719Z appoptics:patching patched raw-body 2.5.1
(node:1461) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (251ms)
  2 pending

npm WARN deprecated connect@2.11.0: connect 2.x series is deprecated

changed 6 packages, and audited 925 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:43:30.389Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:43:30.390Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:43:30.390Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:43:30.391Z appoptics:debug using context provider: ace-context
2022-04-25T18:43:30.460Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:43:30.606Z appoptics:patching patched crypto 
2022-04-25T18:43:30.628Z appoptics:patching patched https 
2022-04-25T18:43:30.629Z appoptics:patching patched http 
2022-04-25T18:43:30.678Z appoptics:patching patched zlib 
2022-04-25T18:43:30.689Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:43:30.690Z appoptics:patching patched fs 
2022-04-25T18:43:30.725Z appoptics:patching patched raw-body 0.0.3
2022-04-25T18:43:30.741Z appoptics:patching patched express 3.4.4
2022-04-25T18:43:30.747Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:43:30.755Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.4
    ✓ UDP might lose a message
2022-04-25T18:43:30.798Z appoptics:patching patched raw-body 2.5.1
(node:1483) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (231ms)
  2 pending

npm WARN deprecated connect@2.11.1: connect 2.x series is deprecated

added 2 packages, changed 4 packages, and audited 927 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:43:40.101Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:43:40.102Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:43:40.102Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:43:40.103Z appoptics:debug using context provider: ace-context
2022-04-25T18:43:40.187Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:43:40.381Z appoptics:patching patched crypto 
2022-04-25T18:43:40.407Z appoptics:patching patched https 
2022-04-25T18:43:40.408Z appoptics:patching patched http 
2022-04-25T18:43:40.454Z appoptics:patching patched zlib 
2022-04-25T18:43:40.463Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:43:40.464Z appoptics:patching patched fs 
2022-04-25T18:43:40.499Z appoptics:patching patched raw-body 1.1.1
2022-04-25T18:43:40.515Z appoptics:patching patched express 3.4.5
2022-04-25T18:43:40.521Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:43:40.528Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.5
    ✓ UDP might lose a message
2022-04-25T18:43:40.570Z appoptics:patching patched raw-body 2.5.1
(node:1505) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (77ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (48ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (327ms)
  2 pending

npm WARN deprecated connect@2.11.2: connect 2.x series is deprecated

changed 3 packages, and audited 927 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:43:49.776Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:43:49.778Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:43:49.778Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:43:49.784Z appoptics:debug using context provider: ace-context
2022-04-25T18:43:49.892Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:43:50.099Z appoptics:patching patched crypto 
2022-04-25T18:43:50.131Z appoptics:patching patched https 
2022-04-25T18:43:50.132Z appoptics:patching patched http 
2022-04-25T18:43:50.221Z appoptics:patching patched zlib 
2022-04-25T18:43:50.230Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:43:50.230Z appoptics:patching patched fs 
2022-04-25T18:43:50.269Z appoptics:patching patched raw-body 1.1.2
2022-04-25T18:43:50.284Z appoptics:patching patched express 3.4.6
2022-04-25T18:43:50.290Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:43:50.301Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.6
    ✓ UDP might lose a message
2022-04-25T18:43:50.358Z appoptics:patching patched raw-body 2.5.1
(node:1527) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (84ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (303ms)
  2 pending

npm WARN deprecated connect@2.12.0: connect 2.x series is deprecated

added 2 packages, changed 3 packages, and audited 929 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:43:59.208Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:43:59.208Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:43:59.208Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:43:59.209Z appoptics:debug using context provider: ace-context
2022-04-25T18:43:59.282Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:43:59.443Z appoptics:patching patched crypto 
2022-04-25T18:43:59.466Z appoptics:patching patched https 
2022-04-25T18:43:59.467Z appoptics:patching patched http 
2022-04-25T18:43:59.511Z appoptics:patching patched zlib 
2022-04-25T18:43:59.519Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:43:59.519Z appoptics:patching patched fs 
2022-04-25T18:43:59.551Z appoptics:patching patched raw-body 1.1.2
2022-04-25T18:43:59.565Z appoptics:patching patched express 3.4.7
2022-04-25T18:43:59.570Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:43:59.576Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.7
    ✓ UDP might lose a message
2022-04-25T18:43:59.614Z appoptics:patching patched raw-body 2.5.1
(node:1549) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (282ms)
  2 pending


changed 1 package, and audited 929 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:44:08.010Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:44:08.011Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:44:08.011Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:44:08.012Z appoptics:debug using context provider: ace-context
2022-04-25T18:44:08.090Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:44:08.228Z appoptics:patching patched crypto 
2022-04-25T18:44:08.264Z appoptics:patching patched https 
2022-04-25T18:44:08.264Z appoptics:patching patched http 
2022-04-25T18:44:08.301Z appoptics:patching patched zlib 
2022-04-25T18:44:08.309Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:44:08.310Z appoptics:patching patched fs 
2022-04-25T18:44:08.351Z appoptics:patching patched raw-body 1.1.2
2022-04-25T18:44:08.370Z appoptics:patching patched express 3.4.8
2022-04-25T18:44:08.375Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:44:08.382Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.8
    ✓ UDP might lose a message
2022-04-25T18:44:08.423Z appoptics:patching patched raw-body 2.5.1
(node:1571) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (245ms)
  2 pending

npm WARN deprecated static-favicon@1.0.0: use serve-favicon module
npm WARN deprecated connect@2.14.1: connect 2.x series is deprecated

added 22 packages, removed 1 package, changed 10 packages, and audited 950 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:44:18.039Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:44:18.039Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:44:18.039Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:44:18.040Z appoptics:debug using context provider: ace-context
2022-04-25T18:44:18.115Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:44:18.255Z appoptics:patching patched crypto 
2022-04-25T18:44:18.276Z appoptics:patching patched https 
2022-04-25T18:44:18.276Z appoptics:patching patched http 
2022-04-25T18:44:18.320Z appoptics:patching patched zlib 
2022-04-25T18:44:18.328Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:44:18.329Z appoptics:patching patched fs 
2022-04-25T18:44:18.363Z appoptics:patching patched raw-body 1.1.3
2022-04-25T18:44:18.380Z appoptics:patching patched morgan 1.0.0
2022-04-25T18:44:18.389Z appoptics:patching patched express 3.5.0
2022-04-25T18:44:18.394Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:44:18.401Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.0
    ✓ UDP might lose a message
2022-04-25T18:44:18.442Z appoptics:patching patched raw-body 2.5.1
(node:1593) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (249ms)
  2 pending


changed 1 package, and audited 950 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:44:26.631Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:44:26.631Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:44:26.631Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:44:26.632Z appoptics:debug using context provider: ace-context
2022-04-25T18:44:26.717Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:44:26.868Z appoptics:patching patched crypto 
2022-04-25T18:44:26.914Z appoptics:patching patched https 
2022-04-25T18:44:26.926Z appoptics:patching patched http 
2022-04-25T18:44:26.957Z appoptics:patching patched zlib 
2022-04-25T18:44:26.966Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:44:26.966Z appoptics:patching patched fs 
2022-04-25T18:44:27.006Z appoptics:patching patched raw-body 1.1.3
2022-04-25T18:44:27.026Z appoptics:patching patched morgan 1.0.0
2022-04-25T18:44:27.033Z appoptics:patching patched express 3.5.1
2022-04-25T18:44:27.051Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:44:27.063Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.1
    ✓ UDP might lose a message
2022-04-25T18:44:27.111Z appoptics:patching patched raw-body 2.5.1
(node:1615) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (72ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (264ms)
  2 pending

npm WARN deprecated static-favicon@1.0.2: use serve-favicon module
npm WARN deprecated scmp@0.0.3: scmp v2 uses improved core crypto comparison since Node v6.6.0
npm WARN deprecated mkdirp@0.4.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.14.5: connect 2.x series is deprecated

added 5 packages, changed 10 packages, and audited 955 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:44:35.679Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:44:35.679Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:44:35.679Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:44:35.680Z appoptics:debug using context provider: ace-context
2022-04-25T18:44:35.757Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:44:35.893Z appoptics:patching patched crypto 
2022-04-25T18:44:35.929Z appoptics:patching patched https 
2022-04-25T18:44:35.930Z appoptics:patching patched http 
2022-04-25T18:44:35.966Z appoptics:patching patched zlib 
2022-04-25T18:44:35.974Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:44:35.974Z appoptics:patching patched fs 
2022-04-25T18:44:36.008Z appoptics:patching patched raw-body 1.1.4
2022-04-25T18:44:36.027Z appoptics:patching patched morgan 1.0.0
2022-04-25T18:44:36.037Z appoptics:patching patched express 3.5.2
2022-04-25T18:44:36.042Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:44:36.049Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.2
    ✓ UDP might lose a message
2022-04-25T18:44:36.092Z appoptics:patching patched raw-body 2.5.1
(node:1637) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (240ms)
  2 pending

npm WARN deprecated mkdirp@0.4.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 955 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:44:44.265Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:44:44.266Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:44:44.266Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:44:44.266Z appoptics:debug using context provider: ace-context
2022-04-25T18:44:44.333Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:44:44.474Z appoptics:patching patched crypto 
2022-04-25T18:44:44.517Z appoptics:patching patched https 
2022-04-25T18:44:44.518Z appoptics:patching patched http 
2022-04-25T18:44:44.569Z appoptics:patching patched zlib 
2022-04-25T18:44:44.580Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:44:44.580Z appoptics:patching patched fs 
2022-04-25T18:44:44.628Z appoptics:patching patched raw-body 1.1.4
2022-04-25T18:44:44.655Z appoptics:patching patched morgan 1.0.0
2022-04-25T18:44:44.670Z appoptics:patching patched express 3.5.3
2022-04-25T18:44:44.675Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:44:44.682Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.3
    ✓ UDP might lose a message
2022-04-25T18:44:44.728Z appoptics:patching patched raw-body 2.5.1
(node:1659) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (268ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.15.0: connect 2.x series is deprecated

added 3 packages, removed 5 packages, changed 14 packages, and audited 953 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (3 low, 11 moderate, 11 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:44:53.316Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:44:53.317Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:44:53.317Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:44:53.318Z appoptics:debug using context provider: ace-context
2022-04-25T18:44:53.410Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:44:53.566Z appoptics:patching patched crypto 
2022-04-25T18:44:53.593Z appoptics:patching patched https 
2022-04-25T18:44:53.594Z appoptics:patching patched http 
2022-04-25T18:44:53.632Z appoptics:patching patched zlib 
2022-04-25T18:44:53.640Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:44:53.640Z appoptics:patching patched fs 
2022-04-25T18:44:53.673Z appoptics:patching patched raw-body 1.1.4
2022-04-25T18:44:53.688Z appoptics:patching patched morgan 1.0.1
2022-04-25T18:44:53.696Z appoptics:patching patched express 3.6.0
2022-04-25T18:44:53.703Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:44:53.709Z appoptics:debug starting runtimeMetrics


  probes.express 3.6.0
    ✓ UDP might lose a message
2022-04-25T18:44:53.749Z appoptics:patching patched raw-body 2.5.1
(node:1681) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (223ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.16.2: connect 2.x series is deprecated

added 11 packages, removed 2 packages, changed 10 packages, and audited 962 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

30 vulnerabilities (3 low, 12 moderate, 12 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:45:01.918Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:45:01.918Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:45:01.918Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:45:01.919Z appoptics:debug using context provider: ace-context
2022-04-25T18:45:02.034Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:45:02.174Z appoptics:patching patched crypto 
2022-04-25T18:45:02.196Z appoptics:patching patched https 
2022-04-25T18:45:02.196Z appoptics:patching patched http 
2022-04-25T18:45:02.242Z appoptics:patching patched zlib 
2022-04-25T18:45:02.251Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:45:02.251Z appoptics:patching patched fs 
2022-04-25T18:45:02.294Z appoptics:patching patched raw-body 1.1.4
2022-04-25T18:45:02.309Z appoptics:patching patched morgan 1.0.1
2022-04-25T18:45:02.317Z appoptics:patching patched express 3.7.0
2022-04-25T18:45:02.324Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:45:02.332Z appoptics:debug starting runtimeMetrics


  probes.express 3.7.0
    ✓ UDP might lose a message
2022-04-25T18:45:02.374Z appoptics:patching patched raw-body 2.5.1
(node:1703) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (235ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.17.1: connect 2.x series is deprecated

removed 1 package, changed 6 packages, and audited 961 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

30 vulnerabilities (3 low, 12 moderate, 12 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:45:11.338Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:45:11.339Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:45:11.339Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:45:11.340Z appoptics:debug using context provider: ace-context
2022-04-25T18:45:11.426Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:45:11.573Z appoptics:patching patched crypto 
2022-04-25T18:45:11.594Z appoptics:patching patched https 
2022-04-25T18:45:11.595Z appoptics:patching patched http 
2022-04-25T18:45:11.638Z appoptics:patching patched zlib 
2022-04-25T18:45:11.646Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:45:11.646Z appoptics:patching patched fs 
2022-04-25T18:45:11.686Z appoptics:patching patched raw-body 1.1.4
2022-04-25T18:45:11.700Z appoptics:patching patched morgan 1.1.1
2022-04-25T18:45:11.708Z appoptics:patching patched express 3.8.0
2022-04-25T18:45:11.715Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:45:11.722Z appoptics:debug starting runtimeMetrics


  probes.express 3.8.0
    ✓ UDP might lose a message
2022-04-25T18:45:11.762Z appoptics:patching patched raw-body 2.5.1
(node:1725) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (235ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.17.3: connect 2.x series is deprecated

removed 1 package, changed 7 packages, and audited 960 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 12 moderate, 13 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:45:21.333Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:45:21.334Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:45:21.335Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:45:21.335Z appoptics:debug using context provider: ace-context
2022-04-25T18:45:21.406Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:45:21.556Z appoptics:patching patched crypto 
2022-04-25T18:45:21.595Z appoptics:patching patched https 
2022-04-25T18:45:21.601Z appoptics:patching patched http 
2022-04-25T18:45:21.673Z appoptics:patching patched zlib 
2022-04-25T18:45:21.682Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:45:21.682Z appoptics:patching patched fs 
2022-04-25T18:45:21.727Z appoptics:patching patched raw-body 1.1.6
2022-04-25T18:45:21.744Z appoptics:patching patched morgan 1.1.1
2022-04-25T18:45:21.753Z appoptics:patching patched express 3.8.1
2022-04-25T18:45:21.761Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:45:21.769Z appoptics:debug starting runtimeMetrics


  probes.express 3.8.1
    ✓ UDP might lose a message
2022-04-25T18:45:21.830Z appoptics:patching patched raw-body 2.5.1
(node:1747) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (72ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (241ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.18.0: connect 2.x series is deprecated

added 4 packages, removed 3 packages, changed 12 packages, and audited 961 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:45:31.236Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:45:31.237Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:45:31.237Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:45:31.238Z appoptics:debug using context provider: ace-context
2022-04-25T18:45:31.328Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:45:31.486Z appoptics:patching patched crypto 
2022-04-25T18:45:31.534Z appoptics:patching patched https 
2022-04-25T18:45:31.534Z appoptics:patching patched http 
2022-04-25T18:45:31.593Z appoptics:patching patched zlib 
2022-04-25T18:45:31.606Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:45:31.606Z appoptics:patching patched fs 
2022-04-25T18:45:31.653Z appoptics:patching patched raw-body 1.1.6
2022-04-25T18:45:31.694Z appoptics:patching patched morgan 1.1.1
2022-04-25T18:45:31.714Z appoptics:patching patched express 3.9.0
2022-04-25T18:45:31.727Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:45:31.735Z appoptics:debug starting runtimeMetrics


  probes.express 3.9.0
    ✓ UDP might lose a message
2022-04-25T18:45:31.822Z appoptics:patching patched raw-body 2.5.1
(node:1769) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (77ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (42ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (340ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.1: connect 2.x series is deprecated

added 2 packages, changed 12 packages, and audited 963 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:45:40.488Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:45:40.489Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:45:40.489Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:45:40.490Z appoptics:debug using context provider: ace-context
2022-04-25T18:45:40.559Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:45:40.713Z appoptics:patching patched crypto 
2022-04-25T18:45:40.763Z appoptics:patching patched https 
2022-04-25T18:45:40.763Z appoptics:patching patched http 
2022-04-25T18:45:40.813Z appoptics:patching patched zlib 
2022-04-25T18:45:40.822Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:45:40.823Z appoptics:patching patched fs 
2022-04-25T18:45:40.868Z appoptics:patching patched raw-body 1.1.6
2022-04-25T18:45:40.885Z appoptics:patching patched morgan 1.1.1
2022-04-25T18:45:40.906Z appoptics:patching patched express 3.10.0
2022-04-25T18:45:40.913Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:45:40.921Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.0
    ✓ UDP might lose a message
2022-04-25T18:45:40.966Z appoptics:patching patched raw-body 2.5.1
(node:1791) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (257ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.2: connect 2.x series is deprecated

changed 5 packages, and audited 963 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:45:50.006Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:45:50.007Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:45:50.007Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:45:50.007Z appoptics:debug using context provider: ace-context
2022-04-25T18:45:50.099Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:45:50.245Z appoptics:patching patched crypto 
2022-04-25T18:45:50.266Z appoptics:patching patched https 
2022-04-25T18:45:50.267Z appoptics:patching patched http 
2022-04-25T18:45:50.307Z appoptics:patching patched zlib 
2022-04-25T18:45:50.324Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:45:50.325Z appoptics:patching patched fs 
2022-04-25T18:45:50.361Z appoptics:patching patched raw-body 1.1.6
2022-04-25T18:45:50.376Z appoptics:patching patched morgan 1.1.1
2022-04-25T18:45:50.384Z appoptics:patching patched express 3.10.1
2022-04-25T18:45:50.391Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:45:50.399Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.1
    ✓ UDP might lose a message
2022-04-25T18:45:50.449Z appoptics:patching patched raw-body 2.5.1
(node:1813) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (90ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (271ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.3: connect 2.x series is deprecated

changed 4 packages, and audited 963 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:45:59.599Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:45:59.600Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:45:59.600Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:45:59.601Z appoptics:debug using context provider: ace-context
2022-04-25T18:45:59.682Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:45:59.825Z appoptics:patching patched crypto 
2022-04-25T18:45:59.857Z appoptics:patching patched https 
2022-04-25T18:45:59.858Z appoptics:patching patched http 
2022-04-25T18:45:59.896Z appoptics:patching patched zlib 
2022-04-25T18:45:59.905Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:45:59.906Z appoptics:patching patched fs 
2022-04-25T18:45:59.944Z appoptics:patching patched raw-body 1.1.6
2022-04-25T18:45:59.961Z appoptics:patching patched morgan 1.1.1
2022-04-25T18:45:59.970Z appoptics:patching patched express 3.10.2
2022-04-25T18:45:59.977Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:45:59.984Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.2
    ✓ UDP might lose a message
2022-04-25T18:46:00.025Z appoptics:patching patched raw-body 2.5.1
(node:1835) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (59ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (295ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.4: connect 2.x series is deprecated

added 3 packages, changed 8 packages, and audited 966 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (2 low, 12 moderate, 16 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:46:09.316Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:46:09.317Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:46:09.317Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:46:09.318Z appoptics:debug using context provider: ace-context
2022-04-25T18:46:09.403Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:46:09.553Z appoptics:patching patched crypto 
2022-04-25T18:46:09.575Z appoptics:patching patched https 
2022-04-25T18:46:09.576Z appoptics:patching patched http 
2022-04-25T18:46:09.643Z appoptics:patching patched zlib 
2022-04-25T18:46:09.660Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:46:09.660Z appoptics:patching patched fs 
2022-04-25T18:46:09.720Z appoptics:patching patched raw-body 1.1.6
2022-04-25T18:46:09.738Z appoptics:patching patched morgan 1.1.1
2022-04-25T18:46:09.754Z appoptics:patching patched express 3.10.3
2022-04-25T18:46:09.760Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:46:09.770Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.3
    ✓ UDP might lose a message
2022-04-25T18:46:09.820Z appoptics:patching patched raw-body 2.5.1
(node:1857) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (42ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (268ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.5: connect 2.x series is deprecated

added 6 packages, changed 11 packages, and audited 972 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (2 low, 12 moderate, 16 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:46:18.665Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:46:18.665Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:46:18.665Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:46:18.666Z appoptics:debug using context provider: ace-context
2022-04-25T18:46:18.746Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:46:18.910Z appoptics:patching patched crypto 
2022-04-25T18:46:18.943Z appoptics:patching patched https 
2022-04-25T18:46:18.943Z appoptics:patching patched http 
2022-04-25T18:46:18.983Z appoptics:patching patched zlib 
2022-04-25T18:46:18.998Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:46:18.999Z appoptics:patching patched fs 
2022-04-25T18:46:19.041Z appoptics:patching patched raw-body 1.1.6
2022-04-25T18:46:19.063Z appoptics:patching patched morgan 1.1.1
2022-04-25T18:46:19.075Z appoptics:patching patched express 3.10.4
2022-04-25T18:46:19.082Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:46:19.089Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.4
    ✓ UDP might lose a message
2022-04-25T18:46:19.145Z appoptics:patching patched raw-body 2.5.1
(node:1879) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (83ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (283ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.6: connect 2.x series is deprecated

added 1 package, removed 1 package, changed 15 packages, and audited 972 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (2 low, 11 moderate, 16 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:46:28.569Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:46:28.569Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:46:28.569Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:46:28.570Z appoptics:debug using context provider: ace-context
2022-04-25T18:46:28.649Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:46:28.814Z appoptics:patching patched crypto 
2022-04-25T18:46:28.835Z appoptics:patching patched https 
2022-04-25T18:46:28.836Z appoptics:patching patched http 
2022-04-25T18:46:28.914Z appoptics:patching patched zlib 
2022-04-25T18:46:28.934Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:46:28.934Z appoptics:patching patched fs 
2022-04-25T18:46:28.990Z appoptics:patching patched raw-body 1.1.6
2022-04-25T18:46:29.024Z appoptics:patching patched morgan 1.1.1
2022-04-25T18:46:29.035Z appoptics:patching patched express 3.10.5
2022-04-25T18:46:29.046Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:46:29.066Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.5
    ✓ UDP might lose a message
2022-04-25T18:46:29.105Z appoptics:patching patched raw-body 2.5.1
(node:1901) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (79ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (277ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated native-or-bluebird@1.1.2: 'native-or-bluebird' is deprecated. Please use 'any-promise' instead.
npm WARN deprecated connect@2.20.2: connect 2.x series is deprecated

added 14 packages, removed 2 packages, changed 20 packages, and audited 984 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

38 vulnerabilities (3 low, 11 moderate, 21 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:46:38.460Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:46:38.461Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:46:38.461Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:46:38.462Z appoptics:debug using context provider: ace-context
2022-04-25T18:46:38.532Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:46:38.684Z appoptics:patching patched crypto 
2022-04-25T18:46:38.704Z appoptics:patching patched https 
2022-04-25T18:46:38.705Z appoptics:patching patched http 
2022-04-25T18:46:38.748Z appoptics:patching patched zlib 
2022-04-25T18:46:38.769Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:46:38.770Z appoptics:patching patched fs 
2022-04-25T18:46:38.820Z appoptics:patching patched morgan 1.1.1
2022-04-25T18:46:38.833Z appoptics:patching patched express 3.11.0
2022-04-25T18:46:38.839Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:46:38.850Z appoptics:debug starting runtimeMetrics


  probes.express 3.11.0
    ✓ UDP might lose a message
2022-04-25T18:46:38.891Z appoptics:patching patched raw-body 2.5.1
(node:1923) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (251ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.21.0: connect 2.x series is deprecated

added 15 packages, removed 2 packages, changed 12 packages, and audited 997 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

38 vulnerabilities (3 low, 10 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:46:47.804Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:46:47.806Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:46:47.806Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:46:47.807Z appoptics:debug using context provider: ace-context
2022-04-25T18:46:48.015Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:46:48.183Z appoptics:patching patched crypto 
2022-04-25T18:46:48.231Z appoptics:patching patched https 
2022-04-25T18:46:48.232Z appoptics:patching patched http 
2022-04-25T18:46:48.274Z appoptics:patching patched zlib 
2022-04-25T18:46:48.296Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:46:48.296Z appoptics:patching patched fs 
2022-04-25T18:46:48.383Z appoptics:patching patched morgan 1.1.1
2022-04-25T18:46:48.395Z appoptics:patching patched express 3.12.0
2022-04-25T18:46:48.402Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:46:48.409Z appoptics:debug starting runtimeMetrics


  probes.express 3.12.0
    ✓ UDP might lose a message
2022-04-25T18:46:48.475Z appoptics:patching patched raw-body 2.5.1
(node:1945) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (93ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (313ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.21.1: connect 2.x series is deprecated

added 2 packages, removed 2 packages, changed 6 packages, and audited 997 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (3 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:46:56.192Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:46:56.192Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:46:56.192Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:46:56.193Z appoptics:debug using context provider: ace-context
2022-04-25T18:46:56.259Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:46:56.388Z appoptics:patching patched crypto 
2022-04-25T18:46:56.408Z appoptics:patching patched https 
2022-04-25T18:46:56.409Z appoptics:patching patched http 
2022-04-25T18:46:56.449Z appoptics:patching patched zlib 
2022-04-25T18:46:56.469Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:46:56.470Z appoptics:patching patched fs 
2022-04-25T18:46:56.521Z appoptics:patching patched morgan 1.1.1
2022-04-25T18:46:56.533Z appoptics:patching patched express 3.12.1
2022-04-25T18:46:56.539Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:46:56.550Z appoptics:debug starting runtimeMetrics


  probes.express 3.12.1
    ✓ UDP might lose a message
2022-04-25T18:46:56.589Z appoptics:patching patched raw-body 2.5.1
(node:1967) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (232ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.22.0: connect 2.x series is deprecated

added 8 packages, removed 1 package, changed 10 packages, and audited 1004 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (3 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:47:05.720Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:47:05.721Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:47:05.721Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:47:05.722Z appoptics:debug using context provider: ace-context
2022-04-25T18:47:05.792Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:47:05.925Z appoptics:patching patched crypto 
2022-04-25T18:47:05.946Z appoptics:patching patched https 
2022-04-25T18:47:05.946Z appoptics:patching patched http 
2022-04-25T18:47:05.992Z appoptics:patching patched zlib 
2022-04-25T18:47:06.012Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:47:06.012Z appoptics:patching patched fs 
2022-04-25T18:47:06.085Z appoptics:patching patched morgan 1.1.1
2022-04-25T18:47:06.098Z appoptics:patching patched express 3.13.0
2022-04-25T18:47:06.105Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:47:06.112Z appoptics:debug starting runtimeMetrics


  probes.express 3.13.0
    ✓ UDP might lose a message
2022-04-25T18:47:06.152Z appoptics:patching patched raw-body 2.5.1
(node:1989) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (232ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.23.0: connect 2.x series is deprecated

added 3 packages, removed 1 package, changed 10 packages, and audited 1006 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (3 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:47:15.028Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:47:15.029Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:47:15.029Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:47:15.030Z appoptics:debug using context provider: ace-context
2022-04-25T18:47:15.103Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:47:15.243Z appoptics:patching patched crypto 
2022-04-25T18:47:15.273Z appoptics:patching patched https 
2022-04-25T18:47:15.274Z appoptics:patching patched http 
2022-04-25T18:47:15.311Z appoptics:patching patched zlib 
2022-04-25T18:47:15.331Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:47:15.332Z appoptics:patching patched fs 
2022-04-25T18:47:15.401Z appoptics:patching patched morgan 1.1.1
2022-04-25T18:47:15.414Z appoptics:patching patched express 3.14.0
2022-04-25T18:47:15.420Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:47:15.427Z appoptics:debug starting runtimeMetrics


  probes.express 3.14.0
    ✓ UDP might lose a message
2022-04-25T18:47:15.469Z appoptics:patching patched raw-body 2.5.1
(node:2011) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (244ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.0: connect 2.x series is deprecated

added 8 packages, removed 3 packages, changed 26 packages, and audited 1011 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:47:23.689Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:47:23.690Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:47:23.690Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:47:23.691Z appoptics:debug using context provider: ace-context
2022-04-25T18:47:23.757Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:47:23.887Z appoptics:patching patched crypto 
2022-04-25T18:47:23.909Z appoptics:patching patched https 
2022-04-25T18:47:23.910Z appoptics:patching patched http 
2022-04-25T18:47:23.980Z appoptics:patching patched zlib 
2022-04-25T18:47:24.011Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:47:24.011Z appoptics:patching patched fs 
2022-04-25T18:47:24.104Z appoptics:patching patched morgan 1.2.3
2022-04-25T18:47:24.118Z appoptics:patching patched express 3.15.0
2022-04-25T18:47:24.124Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:47:24.132Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.0
    ✓ UDP might lose a message
2022-04-25T18:47:24.172Z appoptics:patching patched raw-body 2.5.1
(node:2033) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (72ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (60ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (298ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.1: connect 2.x series is deprecated

changed 7 packages, and audited 1011 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:47:32.645Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:47:32.646Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:47:32.646Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:47:32.647Z appoptics:debug using context provider: ace-context
2022-04-25T18:47:32.714Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:47:32.854Z appoptics:patching patched crypto 
2022-04-25T18:47:32.876Z appoptics:patching patched https 
2022-04-25T18:47:32.876Z appoptics:patching patched http 
2022-04-25T18:47:32.946Z appoptics:patching patched zlib 
2022-04-25T18:47:32.968Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:47:32.968Z appoptics:patching patched fs 
2022-04-25T18:47:33.055Z appoptics:patching patched morgan 1.2.3
2022-04-25T18:47:33.071Z appoptics:patching patched express 3.15.1
2022-04-25T18:47:33.078Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:47:33.086Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.1
    ✓ UDP might lose a message
2022-04-25T18:47:33.147Z appoptics:patching patched raw-body 2.5.1
(node:2055) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (105ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (311ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.2: connect 2.x series is deprecated

removed 2 packages, changed 7 packages, and audited 1009 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:47:41.882Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:47:41.883Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:47:41.883Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:47:41.884Z appoptics:debug using context provider: ace-context
2022-04-25T18:47:41.951Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:47:42.082Z appoptics:patching patched crypto 
2022-04-25T18:47:42.102Z appoptics:patching patched https 
2022-04-25T18:47:42.103Z appoptics:patching patched http 
2022-04-25T18:47:42.146Z appoptics:patching patched zlib 
2022-04-25T18:47:42.167Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:47:42.167Z appoptics:patching patched fs 
2022-04-25T18:47:42.238Z appoptics:patching patched morgan 1.2.3
2022-04-25T18:47:42.251Z appoptics:patching patched express 3.15.2
2022-04-25T18:47:42.257Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:47:42.264Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.2
    ✓ UDP might lose a message
2022-04-25T18:47:42.303Z appoptics:patching patched raw-body 2.5.1
(node:2077) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (247ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.3: connect 2.x series is deprecated

removed 5 packages, changed 4 packages, and audited 1004 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:47:51.405Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:47:51.406Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:47:51.406Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:47:51.407Z appoptics:debug using context provider: ace-context
2022-04-25T18:47:51.479Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:47:51.616Z appoptics:patching patched crypto 
2022-04-25T18:47:51.637Z appoptics:patching patched https 
2022-04-25T18:47:51.638Z appoptics:patching patched http 
2022-04-25T18:47:51.681Z appoptics:patching patched zlib 
2022-04-25T18:47:51.702Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:47:51.702Z appoptics:patching patched fs 
2022-04-25T18:47:51.764Z appoptics:patching patched morgan 1.2.3
2022-04-25T18:47:51.786Z appoptics:patching patched express 3.15.3
2022-04-25T18:47:51.804Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:47:51.817Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.3
    ✓ UDP might lose a message
2022-04-25T18:47:51.862Z appoptics:patching patched raw-body 2.5.1
(node:2099) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (261ms)
  2 pending

npm WARN deprecated scmp@1.0.0: scmp v2 uses improved core crypto comparison since Node v6.6.0
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.0: connect 2.x series is deprecated

added 11 packages, removed 2 packages, changed 11 packages, and audited 1013 packages in 19s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:48:12.223Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:48:12.224Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:48:12.224Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:48:12.225Z appoptics:debug using context provider: ace-context
2022-04-25T18:48:12.308Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:48:12.473Z appoptics:patching patched crypto 
2022-04-25T18:48:12.494Z appoptics:patching patched https 
2022-04-25T18:48:12.495Z appoptics:patching patched http 
2022-04-25T18:48:12.547Z appoptics:patching patched zlib 
2022-04-25T18:48:12.574Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:48:12.574Z appoptics:patching patched fs 
2022-04-25T18:48:12.654Z appoptics:patching patched morgan 1.2.3
2022-04-25T18:48:12.668Z appoptics:patching patched express 3.16.0
2022-04-25T18:48:12.675Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:48:12.683Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.0
    ✓ UDP might lose a message
2022-04-25T18:48:12.724Z appoptics:patching patched raw-body 2.5.1
(node:2121) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (72ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (239ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.1: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:48:21.623Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:48:21.624Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:48:21.624Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:48:21.624Z appoptics:debug using context provider: ace-context
2022-04-25T18:48:21.693Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:48:21.825Z appoptics:patching patched crypto 
2022-04-25T18:48:21.845Z appoptics:patching patched https 
2022-04-25T18:48:21.846Z appoptics:patching patched http 
2022-04-25T18:48:21.890Z appoptics:patching patched zlib 
2022-04-25T18:48:21.911Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:48:21.911Z appoptics:patching patched fs 
2022-04-25T18:48:21.985Z appoptics:patching patched morgan 1.2.3
2022-04-25T18:48:21.998Z appoptics:patching patched express 3.16.1
2022-04-25T18:48:22.005Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:48:22.012Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.1
    ✓ UDP might lose a message
2022-04-25T18:48:22.051Z appoptics:patching patched raw-body 2.5.1
(node:2143) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (82ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (271ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.2: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:48:31.393Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:48:31.393Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:48:31.394Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:48:31.394Z appoptics:debug using context provider: ace-context
2022-04-25T18:48:31.469Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:48:31.622Z appoptics:patching patched crypto 
2022-04-25T18:48:31.653Z appoptics:patching patched https 
2022-04-25T18:48:31.654Z appoptics:patching patched http 
2022-04-25T18:48:31.691Z appoptics:patching patched zlib 
2022-04-25T18:48:31.713Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:48:31.713Z appoptics:patching patched fs 
2022-04-25T18:48:31.809Z appoptics:patching patched morgan 1.2.3
2022-04-25T18:48:31.822Z appoptics:patching patched express 3.16.2
2022-04-25T18:48:31.828Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:48:31.836Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.2
    ✓ UDP might lose a message
2022-04-25T18:48:31.883Z appoptics:patching patched raw-body 2.5.1
(node:2165) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (247ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.3: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:48:39.812Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:48:39.813Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:48:39.813Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:48:39.818Z appoptics:debug using context provider: ace-context
2022-04-25T18:48:39.985Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:48:40.253Z appoptics:patching patched crypto 
2022-04-25T18:48:40.352Z appoptics:patching patched https 
2022-04-25T18:48:40.353Z appoptics:patching patched http 
2022-04-25T18:48:40.447Z appoptics:patching patched zlib 
2022-04-25T18:48:40.499Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:48:40.499Z appoptics:patching patched fs 
2022-04-25T18:48:40.680Z appoptics:patching patched morgan 1.2.3
2022-04-25T18:48:40.702Z appoptics:patching patched express 3.16.3
2022-04-25T18:48:40.711Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:48:40.724Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.3
    ✓ UDP might lose a message
2022-04-25T18:48:40.804Z appoptics:patching patched raw-body 2.5.1
(node:2187) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (119ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (55ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (404ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.4: connect 2.x series is deprecated

removed 10 packages, changed 7 packages, and audited 1003 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:48:48.963Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:48:48.964Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:48:48.964Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:48:48.965Z appoptics:debug using context provider: ace-context
2022-04-25T18:48:49.036Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:48:49.175Z appoptics:patching patched crypto 
2022-04-25T18:48:49.196Z appoptics:patching patched https 
2022-04-25T18:48:49.197Z appoptics:patching patched http 
2022-04-25T18:48:49.240Z appoptics:patching patched zlib 
2022-04-25T18:48:49.261Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:48:49.261Z appoptics:patching patched fs 
2022-04-25T18:48:49.334Z appoptics:patching patched morgan 1.2.3
2022-04-25T18:48:49.347Z appoptics:patching patched express 3.16.4
2022-04-25T18:48:49.353Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:48:49.361Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.4
    ✓ UDP might lose a message
2022-04-25T18:48:49.400Z appoptics:patching patched raw-body 2.5.1
(node:2209) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (77ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (48ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (335ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.5: connect 2.x series is deprecated

changed 3 packages, and audited 1003 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:48:58.457Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:48:58.458Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:48:58.458Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:48:58.459Z appoptics:debug using context provider: ace-context
2022-04-25T18:48:58.532Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:48:58.671Z appoptics:patching patched crypto 
2022-04-25T18:48:58.692Z appoptics:patching patched https 
2022-04-25T18:48:58.693Z appoptics:patching patched http 
2022-04-25T18:48:58.735Z appoptics:patching patched zlib 
2022-04-25T18:48:58.756Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:48:58.757Z appoptics:patching patched fs 
2022-04-25T18:48:58.831Z appoptics:patching patched morgan 1.2.3
2022-04-25T18:48:58.844Z appoptics:patching patched express 3.16.5
2022-04-25T18:48:58.851Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:48:58.858Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.5
    ✓ UDP might lose a message
2022-04-25T18:48:58.897Z appoptics:patching patched raw-body 2.5.1
(node:2231) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (244ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.6: connect 2.x series is deprecated

added 1 package, changed 5 packages, and audited 1004 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:49:07.923Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:49:07.924Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:49:07.924Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:49:07.924Z appoptics:debug using context provider: ace-context
2022-04-25T18:49:07.995Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:49:08.146Z appoptics:patching patched crypto 
2022-04-25T18:49:08.167Z appoptics:patching patched https 
2022-04-25T18:49:08.168Z appoptics:patching patched http 
2022-04-25T18:49:08.211Z appoptics:patching patched zlib 
2022-04-25T18:49:08.232Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:49:08.232Z appoptics:patching patched fs 
2022-04-25T18:49:08.313Z appoptics:patching patched morgan 1.2.3
2022-04-25T18:49:08.325Z appoptics:patching patched express 3.16.6
2022-04-25T18:49:08.332Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:49:08.339Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.6
    ✓ UDP might lose a message
2022-04-25T18:49:08.382Z appoptics:patching patched raw-body 2.5.1
(node:2253) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (241ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.7: connect 2.x series is deprecated

added 3 packages, removed 3 packages, changed 4 packages, and audited 1004 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:49:16.648Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:49:16.649Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:49:16.649Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:49:16.650Z appoptics:debug using context provider: ace-context
2022-04-25T18:49:16.743Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:49:16.905Z appoptics:patching patched crypto 
2022-04-25T18:49:16.926Z appoptics:patching patched https 
2022-04-25T18:49:16.927Z appoptics:patching patched http 
2022-04-25T18:49:16.981Z appoptics:patching patched zlib 
2022-04-25T18:49:17.004Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:49:17.004Z appoptics:patching patched fs 
2022-04-25T18:49:17.110Z appoptics:patching patched morgan 1.2.3
2022-04-25T18:49:17.128Z appoptics:patching patched express 3.16.7
2022-04-25T18:49:17.135Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:49:17.142Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.7
    ✓ UDP might lose a message
2022-04-25T18:49:17.182Z appoptics:patching patched raw-body 2.5.1
(node:2275) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (232ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.8: connect 2.x series is deprecated

changed 4 packages, and audited 1004 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:49:25.839Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:49:25.840Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:49:25.840Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:49:25.842Z appoptics:debug using context provider: ace-context
2022-04-25T18:49:25.911Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:49:26.046Z appoptics:patching patched crypto 
2022-04-25T18:49:26.075Z appoptics:patching patched https 
2022-04-25T18:49:26.075Z appoptics:patching patched http 
2022-04-25T18:49:26.123Z appoptics:patching patched zlib 
2022-04-25T18:49:26.144Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:49:26.145Z appoptics:patching patched fs 
2022-04-25T18:49:26.219Z appoptics:patching patched morgan 1.2.3
2022-04-25T18:49:26.232Z appoptics:patching patched express 3.16.8
2022-04-25T18:49:26.238Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:49:26.245Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.8
    ✓ UDP might lose a message
2022-04-25T18:49:26.285Z appoptics:patching patched raw-body 2.5.1
(node:2297) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (242ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.9: connect 2.x series is deprecated

removed 1 package, changed 4 packages, and audited 1003 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:49:35.066Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:49:35.067Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:49:35.067Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:49:35.067Z appoptics:debug using context provider: ace-context
2022-04-25T18:49:35.138Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:49:35.274Z appoptics:patching patched crypto 
2022-04-25T18:49:35.295Z appoptics:patching patched https 
2022-04-25T18:49:35.296Z appoptics:patching patched http 
2022-04-25T18:49:35.337Z appoptics:patching patched zlib 
2022-04-25T18:49:35.358Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:49:35.358Z appoptics:patching patched fs 
2022-04-25T18:49:35.431Z appoptics:patching patched morgan 1.2.3
2022-04-25T18:49:35.444Z appoptics:patching patched express 3.16.9
2022-04-25T18:49:35.450Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:49:35.457Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.9
    ✓ UDP might lose a message
2022-04-25T18:49:35.504Z appoptics:patching patched raw-body 2.5.1
(node:2319) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (92ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (269ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.10: connect 2.x series is deprecated

removed 8 packages, changed 4 packages, and audited 995 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:49:43.982Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:49:43.983Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:49:43.983Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:49:43.984Z appoptics:debug using context provider: ace-context
2022-04-25T18:49:44.087Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:49:44.341Z appoptics:patching patched crypto 
2022-04-25T18:49:44.378Z appoptics:patching patched https 
2022-04-25T18:49:44.379Z appoptics:patching patched http 
2022-04-25T18:49:44.428Z appoptics:patching patched zlib 
2022-04-25T18:49:44.450Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:49:44.450Z appoptics:patching patched fs 
2022-04-25T18:49:44.521Z appoptics:patching patched morgan 1.2.3
2022-04-25T18:49:44.533Z appoptics:patching patched express 3.16.10
2022-04-25T18:49:44.539Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:49:44.547Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.10
    ✓ UDP might lose a message
2022-04-25T18:49:44.585Z appoptics:patching patched raw-body 2.5.1
(node:2341) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (72ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (262ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.0: connect 2.x series is deprecated

added 24 packages, removed 3 packages, changed 38 packages, and audited 1016 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:49:53.698Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:49:53.699Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:49:53.699Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:49:53.700Z appoptics:debug using context provider: ace-context
2022-04-25T18:49:53.768Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:49:53.900Z appoptics:patching patched crypto 
2022-04-25T18:49:53.921Z appoptics:patching patched https 
2022-04-25T18:49:53.922Z appoptics:patching patched http 
2022-04-25T18:49:53.965Z appoptics:patching patched zlib 
2022-04-25T18:49:53.988Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:49:53.988Z appoptics:patching patched fs 
2022-04-25T18:49:54.087Z appoptics:patching patched morgan 1.3.2
2022-04-25T18:49:54.100Z appoptics:patching patched express 3.17.0
2022-04-25T18:49:54.107Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:49:54.114Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.0
    ✓ UDP might lose a message
2022-04-25T18:49:54.153Z appoptics:patching patched raw-body 2.5.1
(node:2363) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (235ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1016 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:50:02.903Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:50:02.904Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:50:02.904Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:50:02.905Z appoptics:debug using context provider: ace-context
2022-04-25T18:50:02.996Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:50:03.143Z appoptics:patching patched crypto 
2022-04-25T18:50:03.164Z appoptics:patching patched https 
2022-04-25T18:50:03.165Z appoptics:patching patched http 
2022-04-25T18:50:03.209Z appoptics:patching patched zlib 
2022-04-25T18:50:03.231Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:50:03.231Z appoptics:patching patched fs 
2022-04-25T18:50:03.340Z appoptics:patching patched morgan 1.3.2
2022-04-25T18:50:03.352Z appoptics:patching patched express 3.17.1
2022-04-25T18:50:03.363Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:50:03.371Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.1
    ✓ UDP might lose a message
2022-04-25T18:50:03.409Z appoptics:patching patched raw-body 2.5.1
(node:2385) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (220ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.1: connect 2.x series is deprecated

removed 3 packages, changed 7 packages, and audited 1013 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:50:12.327Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:50:12.328Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:50:12.328Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:50:12.328Z appoptics:debug using context provider: ace-context
2022-04-25T18:50:12.409Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:50:12.560Z appoptics:patching patched crypto 
2022-04-25T18:50:12.584Z appoptics:patching patched https 
2022-04-25T18:50:12.585Z appoptics:patching patched http 
2022-04-25T18:50:12.644Z appoptics:patching patched zlib 
2022-04-25T18:50:12.669Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:50:12.669Z appoptics:patching patched fs 
2022-04-25T18:50:12.766Z appoptics:patching patched morgan 1.3.2
2022-04-25T18:50:12.779Z appoptics:patching patched express 3.17.2
2022-04-25T18:50:12.785Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:50:12.792Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.2
    ✓ UDP might lose a message
2022-04-25T18:50:12.837Z appoptics:patching patched raw-body 2.5.1
(node:2407) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (43ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (253ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

added 1 package, changed 4 packages, and audited 1014 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:50:21.541Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:50:21.542Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:50:21.542Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:50:21.542Z appoptics:debug using context provider: ace-context
2022-04-25T18:50:21.640Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:50:21.784Z appoptics:patching patched crypto 
2022-04-25T18:50:21.826Z appoptics:patching patched https 
2022-04-25T18:50:21.827Z appoptics:patching patched http 
2022-04-25T18:50:21.894Z appoptics:patching patched zlib 
2022-04-25T18:50:21.924Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:50:21.924Z appoptics:patching patched fs 
2022-04-25T18:50:22.127Z appoptics:patching patched morgan 1.3.2
2022-04-25T18:50:22.151Z appoptics:patching patched express 3.17.3
2022-04-25T18:50:22.162Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:50:22.181Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.3
    ✓ UDP might lose a message
2022-04-25T18:50:22.269Z appoptics:patching patched raw-body 2.5.1
(node:2429) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (86ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (336ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.2: connect 2.x series is deprecated

removed 1 package, changed 4 packages, and audited 1013 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:50:30.196Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:50:30.197Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:50:30.197Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:50:30.198Z appoptics:debug using context provider: ace-context
2022-04-25T18:50:30.267Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:50:30.402Z appoptics:patching patched crypto 
2022-04-25T18:50:30.423Z appoptics:patching patched https 
2022-04-25T18:50:30.424Z appoptics:patching patched http 
2022-04-25T18:50:30.467Z appoptics:patching patched zlib 
2022-04-25T18:50:30.491Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:50:30.491Z appoptics:patching patched fs 
2022-04-25T18:50:30.586Z appoptics:patching patched morgan 1.3.2
2022-04-25T18:50:30.598Z appoptics:patching patched express 3.17.4
2022-04-25T18:50:30.604Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:50:30.612Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.4
    ✓ UDP might lose a message
2022-04-25T18:50:30.651Z appoptics:patching patched raw-body 2.5.1
(node:2451) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (254ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.3: connect 2.x series is deprecated

removed 9 packages, changed 5 packages, and audited 1004 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:50:39.567Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:50:39.568Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:50:39.568Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:50:39.569Z appoptics:debug using context provider: ace-context
2022-04-25T18:50:39.641Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:50:39.788Z appoptics:patching patched crypto 
2022-04-25T18:50:39.810Z appoptics:patching patched https 
2022-04-25T18:50:39.811Z appoptics:patching patched http 
2022-04-25T18:50:39.855Z appoptics:patching patched zlib 
2022-04-25T18:50:39.878Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:50:39.879Z appoptics:patching patched fs 
2022-04-25T18:50:39.962Z appoptics:patching patched morgan 1.3.2
2022-04-25T18:50:39.975Z appoptics:patching patched express 3.17.5
2022-04-25T18:50:39.981Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:50:39.989Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.5
    ✓ UDP might lose a message
2022-04-25T18:50:40.028Z appoptics:patching patched raw-body 2.5.1
(node:2473) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (232ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.4: connect 2.x series is deprecated

changed 3 packages, and audited 1004 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:50:48.877Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:50:48.878Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:50:48.878Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:50:48.878Z appoptics:debug using context provider: ace-context
2022-04-25T18:50:48.949Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:50:49.094Z appoptics:patching patched crypto 
2022-04-25T18:50:49.115Z appoptics:patching patched https 
2022-04-25T18:50:49.115Z appoptics:patching patched http 
2022-04-25T18:50:49.164Z appoptics:patching patched zlib 
2022-04-25T18:50:49.187Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:50:49.188Z appoptics:patching patched fs 
2022-04-25T18:50:49.268Z appoptics:patching patched morgan 1.3.2
2022-04-25T18:50:49.281Z appoptics:patching patched express 3.17.6
2022-04-25T18:50:49.287Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:50:49.294Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.6
    ✓ UDP might lose a message
2022-04-25T18:50:49.334Z appoptics:patching patched raw-body 2.5.1
(node:2495) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (230ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.5: connect 2.x series is deprecated

changed 3 packages, and audited 1004 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:50:57.279Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:50:57.280Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:50:57.280Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:50:57.281Z appoptics:debug using context provider: ace-context
2022-04-25T18:50:57.362Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:50:57.522Z appoptics:patching patched crypto 
2022-04-25T18:50:57.570Z appoptics:patching patched https 
2022-04-25T18:50:57.571Z appoptics:patching patched http 
2022-04-25T18:50:57.613Z appoptics:patching patched zlib 
2022-04-25T18:50:57.637Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:50:57.637Z appoptics:patching patched fs 
2022-04-25T18:50:57.747Z appoptics:patching patched morgan 1.3.2
2022-04-25T18:50:57.764Z appoptics:patching patched express 3.17.7
2022-04-25T18:50:57.771Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:50:57.778Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.7
    ✓ UDP might lose a message
2022-04-25T18:50:57.824Z appoptics:patching patched raw-body 2.5.1
(node:2517) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (247ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.6: connect 2.x series is deprecated

changed 3 packages, and audited 1004 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:51:06.397Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:51:06.398Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:51:06.398Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:51:06.399Z appoptics:debug using context provider: ace-context
2022-04-25T18:51:06.466Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:51:06.595Z appoptics:patching patched crypto 
2022-04-25T18:51:06.619Z appoptics:patching patched https 
2022-04-25T18:51:06.620Z appoptics:patching patched http 
2022-04-25T18:51:06.663Z appoptics:patching patched zlib 
2022-04-25T18:51:06.686Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:51:06.686Z appoptics:patching patched fs 
2022-04-25T18:51:06.767Z appoptics:patching patched morgan 1.3.2
2022-04-25T18:51:06.779Z appoptics:patching patched express 3.17.8
2022-04-25T18:51:06.785Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:51:06.792Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.8
    ✓ UDP might lose a message
2022-04-25T18:51:06.831Z appoptics:patching patched raw-body 2.5.1
(node:2539) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (237ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.0: connect 2.x series is deprecated

added 22 packages, removed 4 packages, changed 38 packages, and audited 1022 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:51:16.783Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:51:16.784Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:51:16.784Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:51:16.785Z appoptics:debug using context provider: ace-context
2022-04-25T18:51:16.854Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:51:16.984Z appoptics:patching patched crypto 
2022-04-25T18:51:17.006Z appoptics:patching patched https 
2022-04-25T18:51:17.007Z appoptics:patching patched http 
2022-04-25T18:51:17.054Z appoptics:patching patched zlib 
2022-04-25T18:51:17.083Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:51:17.084Z appoptics:patching patched fs 
2022-04-25T18:51:17.183Z appoptics:patching patched morgan 1.4.1
2022-04-25T18:51:17.201Z appoptics:patching patched express 3.18.0
2022-04-25T18:51:17.206Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:51:17.212Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.0
    ✓ UDP might lose a message
Mon, 25 Apr 2022 18:51:17 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/express.js:36:9
2022-04-25T18:51:17.271Z appoptics:patching patched raw-body 2.5.1
(node:2561) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
Mon, 25 Apr 2022 18:51:17 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/application.js:487:9
Mon, 25 Apr 2022 18:51:17 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/application.js:490:30
Mon, 25 Apr 2022 18:51:17 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/application.js:493:9
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (247ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.1: connect 2.x series is deprecated

removed 9 packages, changed 8 packages, and audited 1013 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:51:25.931Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:51:25.932Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:51:25.932Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:51:25.933Z appoptics:debug using context provider: ace-context
2022-04-25T18:51:26.002Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:51:26.146Z appoptics:patching patched crypto 
2022-04-25T18:51:26.168Z appoptics:patching patched https 
2022-04-25T18:51:26.168Z appoptics:patching patched http 
2022-04-25T18:51:26.214Z appoptics:patching patched zlib 
2022-04-25T18:51:26.240Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:51:26.241Z appoptics:patching patched fs 
2022-04-25T18:51:26.324Z appoptics:patching patched morgan 1.4.1
2022-04-25T18:51:26.343Z appoptics:patching patched express 3.18.1
2022-04-25T18:51:26.347Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:51:26.354Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.1
    ✓ UDP might lose a message
2022-04-25T18:51:26.395Z appoptics:patching patched raw-body 2.5.1
(node:2583) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (264ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.2: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:51:34.954Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:51:34.955Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:51:34.955Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:51:34.956Z appoptics:debug using context provider: ace-context
2022-04-25T18:51:35.043Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:51:35.198Z appoptics:patching patched crypto 
2022-04-25T18:51:35.246Z appoptics:patching patched https 
2022-04-25T18:51:35.247Z appoptics:patching patched http 
2022-04-25T18:51:35.291Z appoptics:patching patched zlib 
2022-04-25T18:51:35.320Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:51:35.321Z appoptics:patching patched fs 
2022-04-25T18:51:35.428Z appoptics:patching patched morgan 1.4.1
2022-04-25T18:51:35.446Z appoptics:patching patched express 3.18.2
2022-04-25T18:51:35.450Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:51:35.457Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.2
    ✓ UDP might lose a message
2022-04-25T18:51:35.507Z appoptics:patching patched raw-body 2.5.1
(node:2605) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (255ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.3: connect 2.x series is deprecated

changed 3 packages, and audited 1013 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:51:44.264Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:51:44.265Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:51:44.265Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:51:44.265Z appoptics:debug using context provider: ace-context
2022-04-25T18:51:44.334Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:51:44.463Z appoptics:patching patched crypto 
2022-04-25T18:51:44.484Z appoptics:patching patched https 
2022-04-25T18:51:44.485Z appoptics:patching patched http 
2022-04-25T18:51:44.544Z appoptics:patching patched zlib 
2022-04-25T18:51:44.574Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:51:44.575Z appoptics:patching patched fs 
2022-04-25T18:51:44.675Z appoptics:patching patched morgan 1.4.1
2022-04-25T18:51:44.693Z appoptics:patching patched express 3.18.3
2022-04-25T18:51:44.697Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:51:44.706Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.3
    ✓ UDP might lose a message
2022-04-25T18:51:44.755Z appoptics:patching patched raw-body 2.5.1
(node:2627) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (69ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (241ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.4: connect 2.x series is deprecated

removed 1 package, changed 4 packages, and audited 1012 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:51:53.596Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:51:53.597Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:51:53.598Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:51:53.599Z appoptics:debug using context provider: ace-context
2022-04-25T18:51:53.684Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:51:53.822Z appoptics:patching patched crypto 
2022-04-25T18:51:53.852Z appoptics:patching patched https 
2022-04-25T18:51:53.852Z appoptics:patching patched http 
2022-04-25T18:51:53.890Z appoptics:patching patched zlib 
2022-04-25T18:51:53.917Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:51:53.917Z appoptics:patching patched fs 
2022-04-25T18:51:54.002Z appoptics:patching patched morgan 1.4.1
2022-04-25T18:51:54.019Z appoptics:patching patched express 3.18.4
2022-04-25T18:51:54.023Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:51:54.030Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.4
    ✓ UDP might lose a message
2022-04-25T18:51:54.079Z appoptics:patching patched raw-body 2.5.1
(node:2649) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (225ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.6: connect 2.x series is deprecated

changed 3 packages, and audited 1012 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:52:03.032Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:52:03.033Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:52:03.033Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:52:03.034Z appoptics:debug using context provider: ace-context
2022-04-25T18:52:03.104Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:52:03.242Z appoptics:patching patched crypto 
2022-04-25T18:52:03.263Z appoptics:patching patched https 
2022-04-25T18:52:03.264Z appoptics:patching patched http 
2022-04-25T18:52:03.307Z appoptics:patching patched zlib 
2022-04-25T18:52:03.350Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:52:03.350Z appoptics:patching patched fs 
2022-04-25T18:52:03.489Z appoptics:patching patched morgan 1.4.1
2022-04-25T18:52:03.508Z appoptics:patching patched express 3.18.5
2022-04-25T18:52:03.512Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:52:03.518Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.5
    ✓ UDP might lose a message
2022-04-25T18:52:03.560Z appoptics:patching patched raw-body 2.5.1
(node:2671) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (243ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1012 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:52:11.034Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:52:11.035Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:52:11.035Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:52:11.036Z appoptics:debug using context provider: ace-context
2022-04-25T18:52:11.105Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:52:11.237Z appoptics:patching patched crypto 
2022-04-25T18:52:11.258Z appoptics:patching patched https 
2022-04-25T18:52:11.258Z appoptics:patching patched http 
2022-04-25T18:52:11.298Z appoptics:patching patched zlib 
2022-04-25T18:52:11.322Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:52:11.323Z appoptics:patching patched fs 
2022-04-25T18:52:11.399Z appoptics:patching patched morgan 1.4.1
2022-04-25T18:52:11.416Z appoptics:patching patched express 3.18.6
2022-04-25T18:52:11.420Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:52:11.426Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.6
    ✓ UDP might lose a message
2022-04-25T18:52:11.466Z appoptics:patching patched raw-body 2.5.1
(node:2693) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (254ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.28.1: connect 2.x series is deprecated

added 17 packages, removed 12 packages, changed 30 packages, and audited 1017 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:52:20.923Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:52:20.924Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:52:20.924Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:52:20.925Z appoptics:debug using context provider: ace-context
2022-04-25T18:52:20.991Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:52:21.119Z appoptics:patching patched crypto 
2022-04-25T18:52:21.138Z appoptics:patching patched https 
2022-04-25T18:52:21.139Z appoptics:patching patched http 
2022-04-25T18:52:21.183Z appoptics:patching patched zlib 
2022-04-25T18:52:21.209Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:52:21.210Z appoptics:patching patched fs 
2022-04-25T18:52:21.309Z appoptics:patching patched morgan 1.5.3
2022-04-25T18:52:21.327Z appoptics:patching patched express 3.19.0
2022-04-25T18:52:21.331Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:52:21.337Z appoptics:debug starting runtimeMetrics


  probes.express 3.19.0
    ✓ UDP might lose a message
2022-04-25T18:52:21.381Z appoptics:patching patched raw-body 2.5.1
(node:2715) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (227ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.28.2: connect 2.x series is deprecated

removed 8 packages, changed 4 packages, and audited 1009 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:52:29.974Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:52:29.975Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:52:29.975Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:52:29.976Z appoptics:debug using context provider: ace-context
2022-04-25T18:52:30.057Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:52:30.207Z appoptics:patching patched crypto 
2022-04-25T18:52:30.241Z appoptics:patching patched https 
2022-04-25T18:52:30.241Z appoptics:patching patched http 
2022-04-25T18:52:30.280Z appoptics:patching patched zlib 
2022-04-25T18:52:30.306Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:52:30.307Z appoptics:patching patched fs 
2022-04-25T18:52:30.412Z appoptics:patching patched morgan 1.5.3
2022-04-25T18:52:30.431Z appoptics:patching patched express 3.19.1
2022-04-25T18:52:30.435Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:52:30.442Z appoptics:debug starting runtimeMetrics


  probes.express 3.19.1
    ✓ UDP might lose a message
2022-04-25T18:52:30.491Z appoptics:patching patched raw-body 2.5.1
(node:2737) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (218ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.28.3: connect 2.x series is deprecated

changed 3 packages, and audited 1009 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:52:38.662Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:52:38.663Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:52:38.663Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:52:38.664Z appoptics:debug using context provider: ace-context
2022-04-25T18:52:38.750Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:52:38.896Z appoptics:patching patched crypto 
2022-04-25T18:52:38.943Z appoptics:patching patched https 
2022-04-25T18:52:38.944Z appoptics:patching patched http 
2022-04-25T18:52:38.987Z appoptics:patching patched zlib 
2022-04-25T18:52:39.014Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:52:39.015Z appoptics:patching patched fs 
2022-04-25T18:52:39.134Z appoptics:patching patched morgan 1.5.3
2022-04-25T18:52:39.152Z appoptics:patching patched express 3.19.2
2022-04-25T18:52:39.156Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:52:39.162Z appoptics:debug starting runtimeMetrics


  probes.express 3.19.2
    ✓ UDP might lose a message
2022-04-25T18:52:39.210Z appoptics:patching patched raw-body 2.5.1
(node:2759) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (262ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.29.0: connect 2.x series is deprecated

added 13 packages, removed 5 packages, changed 22 packages, and audited 1017 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:52:47.654Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:52:47.655Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:52:47.655Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:52:47.656Z appoptics:debug using context provider: ace-context
2022-04-25T18:52:47.724Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:52:47.856Z appoptics:patching patched crypto 
2022-04-25T18:52:47.878Z appoptics:patching patched https 
2022-04-25T18:52:47.879Z appoptics:patching patched http 
2022-04-25T18:52:47.922Z appoptics:patching patched zlib 
2022-04-25T18:52:47.949Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:52:47.950Z appoptics:patching patched fs 
2022-04-25T18:52:48.044Z appoptics:patching patched morgan 1.5.3
2022-04-25T18:52:48.063Z appoptics:patching patched express 3.20.0
2022-04-25T18:52:48.067Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:52:48.073Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.0
    ✓ UDP might lose a message
2022-04-25T18:52:48.118Z appoptics:patching patched raw-body 2.5.1
(node:2781) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (221ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1017 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:52:56.794Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:52:56.795Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:52:56.795Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:52:56.795Z appoptics:debug using context provider: ace-context
2022-04-25T18:52:56.890Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:52:57.034Z appoptics:patching patched crypto 
2022-04-25T18:52:57.064Z appoptics:patching patched https 
2022-04-25T18:52:57.065Z appoptics:patching patched http 
2022-04-25T18:52:57.103Z appoptics:patching patched zlib 
2022-04-25T18:52:57.130Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:52:57.131Z appoptics:patching patched fs 
2022-04-25T18:52:57.227Z appoptics:patching patched morgan 1.5.3
2022-04-25T18:52:57.245Z appoptics:patching patched express 3.20.1
2022-04-25T18:52:57.249Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:52:57.255Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.1
    ✓ UDP might lose a message
2022-04-25T18:52:57.300Z appoptics:patching patched raw-body 2.5.1
(node:2803) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (220ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.29.1: connect 2.x series is deprecated

changed 8 packages, and audited 1017 packages in 18s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:53:15.857Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:53:15.858Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:53:15.858Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:53:15.859Z appoptics:debug using context provider: ace-context
2022-04-25T18:53:15.944Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:53:16.086Z appoptics:patching patched crypto 
2022-04-25T18:53:16.141Z appoptics:patching patched https 
2022-04-25T18:53:16.142Z appoptics:patching patched http 
2022-04-25T18:53:16.174Z appoptics:patching patched zlib 
2022-04-25T18:53:16.202Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:53:16.203Z appoptics:patching patched fs 
2022-04-25T18:53:16.322Z appoptics:patching patched morgan 1.5.3
2022-04-25T18:53:16.345Z appoptics:patching patched express 3.20.2
2022-04-25T18:53:16.349Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:53:16.364Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.2
    ✓ UDP might lose a message
2022-04-25T18:53:16.473Z appoptics:patching patched raw-body 2.5.1
(node:2825) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (114ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (42ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (389ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.29.2: connect 2.x series is deprecated

added 1 package, removed 14 packages, changed 15 packages, and audited 1004 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:53:25.280Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:53:25.281Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:53:25.281Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:53:25.282Z appoptics:debug using context provider: ace-context
2022-04-25T18:53:25.351Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:53:25.491Z appoptics:patching patched crypto 
2022-04-25T18:53:25.515Z appoptics:patching patched https 
2022-04-25T18:53:25.515Z appoptics:patching patched http 
2022-04-25T18:53:25.557Z appoptics:patching patched zlib 
2022-04-25T18:53:25.585Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:53:25.585Z appoptics:patching patched fs 
2022-04-25T18:53:25.666Z appoptics:patching patched morgan 1.5.3
2022-04-25T18:53:25.685Z appoptics:patching patched express 3.20.3
2022-04-25T18:53:25.689Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:53:25.695Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.3
    ✓ UDP might lose a message
2022-04-25T18:53:25.738Z appoptics:patching patched raw-body 2.5.1
(node:2847) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (95ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (263ms)
  2 pending

npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.30.0: connect 2.x series is deprecated

added 21 packages, removed 10 packages, changed 37 packages, and audited 1015 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 8 moderate, 17 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:53:35.696Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:53:35.697Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:53:35.697Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:53:35.698Z appoptics:debug using context provider: ace-context
2022-04-25T18:53:35.775Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:53:35.944Z appoptics:patching patched crypto 
2022-04-25T18:53:35.973Z appoptics:patching patched https 
2022-04-25T18:53:35.973Z appoptics:patching patched http 
2022-04-25T18:53:36.030Z appoptics:patching patched zlib 
2022-04-25T18:53:36.060Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:53:36.061Z appoptics:patching patched fs 
2022-04-25T18:53:36.155Z appoptics:patching patched morgan 1.6.1
2022-04-25T18:53:36.173Z appoptics:patching patched express 3.21.0
2022-04-25T18:53:36.177Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:53:36.184Z appoptics:debug starting runtimeMetrics


  probes.express 3.21.0
    ✓ UDP might lose a message
2022-04-25T18:53:36.233Z appoptics:patching patched raw-body 2.5.1
(node:2869) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (240ms)
  2 pending

npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.30.1: connect 2.x series is deprecated

removed 2 packages, changed 6 packages, and audited 1013 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 8 moderate, 17 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:53:45.746Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:53:45.747Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:53:45.747Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:53:45.748Z appoptics:debug using context provider: ace-context
2022-04-25T18:53:45.818Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:53:45.957Z appoptics:patching patched crypto 
2022-04-25T18:53:46.010Z appoptics:patching patched https 
2022-04-25T18:53:46.012Z appoptics:patching patched http 
2022-04-25T18:53:46.048Z appoptics:patching patched zlib 
2022-04-25T18:53:46.078Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:53:46.079Z appoptics:patching patched fs 
2022-04-25T18:53:46.171Z appoptics:patching patched morgan 1.6.1
2022-04-25T18:53:46.189Z appoptics:patching patched express 3.21.1
2022-04-25T18:53:46.192Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:53:46.200Z appoptics:debug starting runtimeMetrics


  probes.express 3.21.1
    ✓ UDP might lose a message
2022-04-25T18:53:46.247Z appoptics:patching patched raw-body 2.5.1
(node:2891) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (237ms)
  2 pending

npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.30.2: connect 2.x series is deprecated

changed 3 packages, and audited 1013 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 8 moderate, 17 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:53:54.693Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:53:54.699Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:53:54.699Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:53:54.700Z appoptics:debug using context provider: ace-context
2022-04-25T18:53:54.794Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:53:54.971Z appoptics:patching patched crypto 
2022-04-25T18:53:55.033Z appoptics:patching patched https 
2022-04-25T18:53:55.034Z appoptics:patching patched http 
2022-04-25T18:53:55.084Z appoptics:patching patched zlib 
2022-04-25T18:53:55.121Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:53:55.122Z appoptics:patching patched fs 
2022-04-25T18:53:55.259Z appoptics:patching patched morgan 1.6.1
2022-04-25T18:53:55.281Z appoptics:patching patched express 3.21.2
2022-04-25T18:53:55.286Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:53:55.294Z appoptics:debug starting runtimeMetrics


  probes.express 3.21.2
    ✓ UDP might lose a message
2022-04-25T18:53:55.352Z appoptics:patching patched raw-body 2.5.1
(node:2913) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (245ms)
  2 pending


added 14 packages, removed 97 packages, changed 21 packages, and audited 930 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:54:03.277Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:54:03.277Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:54:03.278Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:54:03.278Z appoptics:debug using context provider: ace-context
2022-04-25T18:54:03.352Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:54:03.523Z appoptics:patching patched crypto 
2022-04-25T18:54:03.569Z appoptics:patching patched https 
2022-04-25T18:54:03.570Z appoptics:patching patched http 
2022-04-25T18:54:03.612Z appoptics:patching patched zlib 
2022-04-25T18:54:03.624Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:54:03.625Z appoptics:patching patched fs 
2022-04-25T18:54:03.654Z appoptics:patching patched express 4.0.0
2022-04-25T18:54:03.660Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:54:03.667Z appoptics:debug starting runtimeMetrics


  probes.express 4.0.0
    ✓ UDP might lose a message
2022-04-25T18:54:03.713Z appoptics:patching patched raw-body 2.5.1
(node:2935) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (260ms)


added 1 package, removed 3 packages, changed 7 packages, and audited 928 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:54:11.617Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:54:11.618Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:54:11.618Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:54:11.619Z appoptics:debug using context provider: ace-context
2022-04-25T18:54:11.688Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:54:11.821Z appoptics:patching patched crypto 
2022-04-25T18:54:11.865Z appoptics:patching patched https 
2022-04-25T18:54:11.866Z appoptics:patching patched http 
2022-04-25T18:54:11.901Z appoptics:patching patched zlib 
2022-04-25T18:54:11.912Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:54:11.913Z appoptics:patching patched fs 
2022-04-25T18:54:11.936Z appoptics:patching patched express 4.1.0
2022-04-25T18:54:11.944Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:54:11.951Z appoptics:debug starting runtimeMetrics


  probes.express 4.1.0
    ✓ UDP might lose a message
2022-04-25T18:54:11.994Z appoptics:patching patched raw-body 2.5.1
(node:2957) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (246ms)


changed 1 package, and audited 928 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:54:19.908Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:54:19.910Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:54:19.910Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:54:19.911Z appoptics:debug using context provider: ace-context
2022-04-25T18:54:20.012Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:54:20.181Z appoptics:patching patched crypto 
2022-04-25T18:54:20.235Z appoptics:patching patched https 
2022-04-25T18:54:20.235Z appoptics:patching patched http 
2022-04-25T18:54:20.286Z appoptics:patching patched zlib 
2022-04-25T18:54:20.298Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:54:20.298Z appoptics:patching patched fs 
2022-04-25T18:54:20.326Z appoptics:patching patched express 4.1.1
2022-04-25T18:54:20.339Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:54:20.347Z appoptics:debug starting runtimeMetrics


  probes.express 4.1.1
    ✓ UDP might lose a message
2022-04-25T18:54:20.393Z appoptics:patching patched raw-body 2.5.1
(node:2979) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (75ms)
    ✓ should forward controller/action for POST (46ms)
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (285ms)


changed 1 package, and audited 928 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:54:27.820Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:54:27.821Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:54:27.821Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:54:27.821Z appoptics:debug using context provider: ace-context
2022-04-25T18:54:27.922Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:54:28.055Z appoptics:patching patched crypto 
2022-04-25T18:54:28.075Z appoptics:patching patched https 
2022-04-25T18:54:28.076Z appoptics:patching patched http 
2022-04-25T18:54:28.117Z appoptics:patching patched zlib 
2022-04-25T18:54:28.128Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:54:28.128Z appoptics:patching patched fs 
2022-04-25T18:54:28.150Z appoptics:patching patched express 4.1.2
2022-04-25T18:54:28.157Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:54:28.164Z appoptics:debug starting runtimeMetrics


  probes.express 4.1.2
    ✓ UDP might lose a message
2022-04-25T18:54:28.202Z appoptics:patching patched raw-body 2.5.1
(node:3001) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (231ms)


changed 2 packages, and audited 928 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:54:35.942Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:54:35.943Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:54:35.943Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:54:35.944Z appoptics:debug using context provider: ace-context
2022-04-25T18:54:36.027Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:54:36.194Z appoptics:patching patched crypto 
2022-04-25T18:54:36.243Z appoptics:patching patched https 
2022-04-25T18:54:36.243Z appoptics:patching patched http 
2022-04-25T18:54:36.292Z appoptics:patching patched zlib 
2022-04-25T18:54:36.305Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:54:36.305Z appoptics:patching patched fs 
2022-04-25T18:54:36.336Z appoptics:patching patched express 4.2.0
2022-04-25T18:54:36.343Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:54:36.351Z appoptics:debug starting runtimeMetrics


  probes.express 4.2.0
    ✓ UDP might lose a message
2022-04-25T18:54:36.393Z appoptics:patching patched raw-body 2.5.1
(node:3023) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (55ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (346ms)


added 2 packages, changed 2 packages, and audited 930 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:54:44.132Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:54:44.136Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:54:44.136Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:54:44.137Z appoptics:debug using context provider: ace-context
2022-04-25T18:54:44.242Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:54:44.412Z appoptics:patching patched crypto 
2022-04-25T18:54:44.453Z appoptics:patching patched https 
2022-04-25T18:54:44.454Z appoptics:patching patched http 
2022-04-25T18:54:44.496Z appoptics:patching patched zlib 
2022-04-25T18:54:44.508Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:54:44.508Z appoptics:patching patched fs 
2022-04-25T18:54:44.539Z appoptics:patching patched express 4.3.0
2022-04-25T18:54:44.547Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:54:44.555Z appoptics:debug starting runtimeMetrics


  probes.express 4.3.0
    ✓ UDP might lose a message
2022-04-25T18:54:44.598Z appoptics:patching patched raw-body 2.5.1
(node:3045) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (67ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (43ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (283ms)


changed 1 package, and audited 930 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:54:52.058Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:54:52.059Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:54:52.059Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:54:52.060Z appoptics:debug using context provider: ace-context
2022-04-25T18:54:52.130Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:54:52.255Z appoptics:patching patched crypto 
2022-04-25T18:54:52.276Z appoptics:patching patched https 
2022-04-25T18:54:52.277Z appoptics:patching patched http 
2022-04-25T18:54:52.318Z appoptics:patching patched zlib 
2022-04-25T18:54:52.328Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:54:52.329Z appoptics:patching patched fs 
2022-04-25T18:54:52.353Z appoptics:patching patched express 4.3.1
2022-04-25T18:54:52.360Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:54:52.366Z appoptics:debug starting runtimeMetrics


  probes.express 4.3.1
    ✓ UDP might lose a message
2022-04-25T18:54:52.404Z appoptics:patching patched raw-body 2.5.1
(node:3067) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (246ms)


changed 1 package, and audited 930 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:55:00.546Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:55:00.546Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:55:00.546Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:55:00.547Z appoptics:debug using context provider: ace-context
2022-04-25T18:55:00.617Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:55:00.748Z appoptics:patching patched crypto 
2022-04-25T18:55:00.793Z appoptics:patching patched https 
2022-04-25T18:55:00.793Z appoptics:patching patched http 
2022-04-25T18:55:00.823Z appoptics:patching patched zlib 
2022-04-25T18:55:00.834Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:55:00.834Z appoptics:patching patched fs 
2022-04-25T18:55:00.860Z appoptics:patching patched express 4.3.2
2022-04-25T18:55:00.868Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:55:00.875Z appoptics:debug starting runtimeMetrics


  probes.express 4.3.2
    ✓ UDP might lose a message
2022-04-25T18:55:00.915Z appoptics:patching patched raw-body 2.5.1
(node:3089) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (261ms)


added 1 package, changed 6 packages, and audited 931 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:55:08.130Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:55:08.131Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:55:08.131Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:55:08.132Z appoptics:debug using context provider: ace-context
2022-04-25T18:55:08.225Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:55:08.371Z appoptics:patching patched crypto 
2022-04-25T18:55:08.443Z appoptics:patching patched https 
2022-04-25T18:55:08.467Z appoptics:patching patched http 
2022-04-25T18:55:08.517Z appoptics:patching patched zlib 
2022-04-25T18:55:08.529Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:55:08.529Z appoptics:patching patched fs 
2022-04-25T18:55:08.581Z appoptics:patching patched express 4.4.0
2022-04-25T18:55:08.598Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:55:08.608Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.0
    ✓ UDP might lose a message
2022-04-25T18:55:08.661Z appoptics:patching patched raw-body 2.5.1
(node:3111) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (110ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (51ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (360ms)


changed 4 packages, and audited 931 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:55:16.642Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:55:16.643Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:55:16.643Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:55:16.643Z appoptics:debug using context provider: ace-context
2022-04-25T18:55:16.711Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:55:16.843Z appoptics:patching patched crypto 
2022-04-25T18:55:16.864Z appoptics:patching patched https 
2022-04-25T18:55:16.864Z appoptics:patching patched http 
2022-04-25T18:55:16.906Z appoptics:patching patched zlib 
2022-04-25T18:55:16.917Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:55:16.917Z appoptics:patching patched fs 
2022-04-25T18:55:16.942Z appoptics:patching patched express 4.4.1
2022-04-25T18:55:16.949Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:55:16.956Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.1
    ✓ UDP might lose a message
2022-04-25T18:55:16.994Z appoptics:patching patched raw-body 2.5.1
(node:3133) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (245ms)


added 5 packages, changed 9 packages, and audited 936 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:55:25.384Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:55:25.385Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:55:25.385Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:55:25.386Z appoptics:debug using context provider: ace-context
2022-04-25T18:55:25.454Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:55:25.583Z appoptics:patching patched crypto 
2022-04-25T18:55:25.604Z appoptics:patching patched https 
2022-04-25T18:55:25.605Z appoptics:patching patched http 
2022-04-25T18:55:25.648Z appoptics:patching patched zlib 
2022-04-25T18:55:25.661Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:55:25.661Z appoptics:patching patched fs 
2022-04-25T18:55:25.691Z appoptics:patching patched express 4.4.2
2022-04-25T18:55:25.698Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:55:25.705Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.2
    ✓ UDP might lose a message
2022-04-25T18:55:25.743Z appoptics:patching patched raw-body 2.5.1
(node:3155) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (241ms)


added 1 package, changed 8 packages, and audited 937 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:55:33.260Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:55:33.261Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:55:33.261Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:55:33.261Z appoptics:debug using context provider: ace-context
2022-04-25T18:55:33.357Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:55:33.505Z appoptics:patching patched crypto 
2022-04-25T18:55:33.562Z appoptics:patching patched https 
2022-04-25T18:55:33.563Z appoptics:patching patched http 
2022-04-25T18:55:33.615Z appoptics:patching patched zlib 
2022-04-25T18:55:33.629Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:55:33.629Z appoptics:patching patched fs 
2022-04-25T18:55:33.676Z appoptics:patching patched express 4.4.3
2022-04-25T18:55:33.683Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:55:33.692Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.3
    ✓ UDP might lose a message
2022-04-25T18:55:33.738Z appoptics:patching patched raw-body 2.5.1
(node:3177) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (56ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (304ms)


added 6 packages, removed 1 package, changed 6 packages, and audited 942 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:55:41.469Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:55:41.470Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:55:41.470Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:55:41.471Z appoptics:debug using context provider: ace-context
2022-04-25T18:55:41.543Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:55:41.697Z appoptics:patching patched crypto 
2022-04-25T18:55:41.736Z appoptics:patching patched https 
2022-04-25T18:55:41.736Z appoptics:patching patched http 
2022-04-25T18:55:41.774Z appoptics:patching patched zlib 
2022-04-25T18:55:41.793Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:55:41.793Z appoptics:patching patched fs 
2022-04-25T18:55:41.829Z appoptics:patching patched express 4.4.4
2022-04-25T18:55:41.837Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:55:41.844Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.4
    ✓ UDP might lose a message
2022-04-25T18:55:41.886Z appoptics:patching patched raw-body 2.5.1
(node:3199) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (256ms)


changed 2 packages, and audited 942 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (1 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:55:50.202Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:55:50.202Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:55:50.202Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:55:50.203Z appoptics:debug using context provider: ace-context
2022-04-25T18:55:50.272Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:55:50.403Z appoptics:patching patched crypto 
2022-04-25T18:55:50.424Z appoptics:patching patched https 
2022-04-25T18:55:50.425Z appoptics:patching patched http 
2022-04-25T18:55:50.467Z appoptics:patching patched zlib 
2022-04-25T18:55:50.480Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:55:50.481Z appoptics:patching patched fs 
2022-04-25T18:55:50.515Z appoptics:patching patched express 4.4.5
2022-04-25T18:55:50.522Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:55:50.529Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.5
    ✓ UDP might lose a message
2022-04-25T18:55:50.575Z appoptics:patching patched raw-body 2.5.1
(node:3221) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (245ms)


added 11 packages, removed 1 package, changed 5 packages, and audited 952 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:55:58.112Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:55:58.113Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:55:58.113Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:55:58.114Z appoptics:debug using context provider: ace-context
2022-04-25T18:55:58.183Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:55:58.344Z appoptics:patching patched crypto 
2022-04-25T18:55:58.387Z appoptics:patching patched https 
2022-04-25T18:55:58.388Z appoptics:patching patched http 
2022-04-25T18:55:58.430Z appoptics:patching patched zlib 
2022-04-25T18:55:58.449Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:55:58.450Z appoptics:patching patched fs 
2022-04-25T18:55:58.578Z appoptics:patching patched express 4.5.0
2022-04-25T18:55:58.592Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:55:58.602Z appoptics:debug starting runtimeMetrics


  probes.express 4.5.0
    ✓ UDP might lose a message
2022-04-25T18:55:58.752Z appoptics:patching patched raw-body 2.5.1
(node:3243) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (136ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (70ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (451ms)


changed 1 package, and audited 952 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:56:06.711Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:56:06.711Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:56:06.711Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:56:06.712Z appoptics:debug using context provider: ace-context
2022-04-25T18:56:06.782Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:56:06.917Z appoptics:patching patched crypto 
2022-04-25T18:56:06.939Z appoptics:patching patched https 
2022-04-25T18:56:06.940Z appoptics:patching patched http 
2022-04-25T18:56:06.981Z appoptics:patching patched zlib 
2022-04-25T18:56:06.995Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:56:06.995Z appoptics:patching patched fs 
2022-04-25T18:56:07.035Z appoptics:patching patched express 4.5.1
2022-04-25T18:56:07.042Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:56:07.049Z appoptics:debug starting runtimeMetrics


  probes.express 4.5.1
    ✓ UDP might lose a message
2022-04-25T18:56:07.092Z appoptics:patching patched raw-body 2.5.1
(node:3265) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (241ms)


added 1 package, removed 6 packages, changed 9 packages, and audited 947 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:56:15.067Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:56:15.068Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:56:15.068Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:56:15.069Z appoptics:debug using context provider: ace-context
2022-04-25T18:56:15.136Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:56:15.262Z appoptics:patching patched crypto 
2022-04-25T18:56:15.282Z appoptics:patching patched https 
2022-04-25T18:56:15.283Z appoptics:patching patched http 
2022-04-25T18:56:15.326Z appoptics:patching patched zlib 
2022-04-25T18:56:15.342Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:56:15.342Z appoptics:patching patched fs 
2022-04-25T18:56:15.373Z appoptics:patching patched express 4.6.0
2022-04-25T18:56:15.380Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:56:15.387Z appoptics:debug starting runtimeMetrics


  probes.express 4.6.0
    ✓ UDP might lose a message
2022-04-25T18:56:15.428Z appoptics:patching patched raw-body 2.5.1
(node:3287) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (252ms)


changed 1 package, and audited 947 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:56:23.328Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:56:23.328Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:56:23.328Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:56:23.329Z appoptics:debug using context provider: ace-context
2022-04-25T18:56:23.424Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:56:23.583Z appoptics:patching patched crypto 
2022-04-25T18:56:23.606Z appoptics:patching patched https 
2022-04-25T18:56:23.606Z appoptics:patching patched http 
2022-04-25T18:56:23.676Z appoptics:patching patched zlib 
2022-04-25T18:56:23.695Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:56:23.695Z appoptics:patching patched fs 
2022-04-25T18:56:23.738Z appoptics:patching patched express 4.6.1
2022-04-25T18:56:23.745Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:56:23.753Z appoptics:debug starting runtimeMetrics


  probes.express 4.6.1
    ✓ UDP might lose a message
2022-04-25T18:56:23.795Z appoptics:patching patched raw-body 2.5.1
(node:3309) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (293ms)


added 5 packages, changed 10 packages, and audited 952 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:56:32.163Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:56:32.164Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:56:32.164Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:56:32.165Z appoptics:debug using context provider: ace-context
2022-04-25T18:56:32.248Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:56:32.398Z appoptics:patching patched crypto 
2022-04-25T18:56:32.420Z appoptics:patching patched https 
2022-04-25T18:56:32.421Z appoptics:patching patched http 
2022-04-25T18:56:32.464Z appoptics:patching patched zlib 
2022-04-25T18:56:32.481Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:56:32.481Z appoptics:patching patched fs 
2022-04-25T18:56:32.523Z appoptics:patching patched express 4.7.0
2022-04-25T18:56:32.530Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:56:32.538Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.0
    ✓ UDP might lose a message
2022-04-25T18:56:32.585Z appoptics:patching patched raw-body 2.5.1
(node:3331) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (77ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (274ms)


changed 4 packages, and audited 952 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:56:41.009Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:56:41.010Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:56:41.010Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:56:41.011Z appoptics:debug using context provider: ace-context
2022-04-25T18:56:41.080Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:56:41.218Z appoptics:patching patched crypto 
2022-04-25T18:56:41.239Z appoptics:patching patched https 
2022-04-25T18:56:41.239Z appoptics:patching patched http 
2022-04-25T18:56:41.282Z appoptics:patching patched zlib 
2022-04-25T18:56:41.298Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:56:41.299Z appoptics:patching patched fs 
2022-04-25T18:56:41.339Z appoptics:patching patched express 4.7.1
2022-04-25T18:56:41.346Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:56:41.353Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.1
    ✓ UDP might lose a message
2022-04-25T18:56:41.400Z appoptics:patching patched raw-body 2.5.1
(node:3353) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (257ms)


changed 4 packages, and audited 952 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:56:48.784Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:56:48.785Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:56:48.785Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:56:48.786Z appoptics:debug using context provider: ace-context
2022-04-25T18:56:48.879Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:56:49.031Z appoptics:patching patched crypto 
2022-04-25T18:56:49.079Z appoptics:patching patched https 
2022-04-25T18:56:49.079Z appoptics:patching patched http 
2022-04-25T18:56:49.122Z appoptics:patching patched zlib 
2022-04-25T18:56:49.139Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:56:49.139Z appoptics:patching patched fs 
2022-04-25T18:56:49.195Z appoptics:patching patched express 4.7.2
2022-04-25T18:56:49.204Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:56:49.217Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.2
    ✓ UDP might lose a message
2022-04-25T18:56:49.263Z appoptics:patching patched raw-body 2.5.1
(node:3375) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (80ms)
    ✓ should forward controller/action for POST (41ms)
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span (41ms)
    ✓ should work with supertest (85ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (519ms)


changed 2 packages, and audited 952 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:56:57.521Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:56:57.522Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:56:57.522Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:56:57.523Z appoptics:debug using context provider: ace-context
2022-04-25T18:56:57.590Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:56:57.715Z appoptics:patching patched crypto 
2022-04-25T18:56:57.735Z appoptics:patching patched https 
2022-04-25T18:56:57.736Z appoptics:patching patched http 
2022-04-25T18:56:57.779Z appoptics:patching patched zlib 
2022-04-25T18:56:57.796Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:56:57.796Z appoptics:patching patched fs 
2022-04-25T18:56:57.838Z appoptics:patching patched express 4.7.3
2022-04-25T18:56:57.844Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:56:57.852Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.3
    ✓ UDP might lose a message
2022-04-25T18:56:57.894Z appoptics:patching patched raw-body 2.5.1
(node:3397) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (241ms)


removed 5 packages, changed 2 packages, and audited 947 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:57:06.484Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:57:06.484Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:57:06.484Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:57:06.485Z appoptics:debug using context provider: ace-context
2022-04-25T18:57:06.555Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:57:06.695Z appoptics:patching patched crypto 
2022-04-25T18:57:06.716Z appoptics:patching patched https 
2022-04-25T18:57:06.717Z appoptics:patching patched http 
2022-04-25T18:57:06.762Z appoptics:patching patched zlib 
2022-04-25T18:57:06.780Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:57:06.780Z appoptics:patching patched fs 
2022-04-25T18:57:06.813Z appoptics:patching patched express 4.7.4
2022-04-25T18:57:06.820Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:57:06.827Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.4
    ✓ UDP might lose a message
2022-04-25T18:57:06.870Z appoptics:patching patched raw-body 2.5.1
(node:3419) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (253ms)


added 9 packages, changed 4 packages, and audited 956 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:57:14.920Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:57:14.921Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:57:14.921Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:57:14.924Z appoptics:debug using context provider: ace-context
2022-04-25T18:57:15.075Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:57:15.322Z appoptics:patching patched crypto 
2022-04-25T18:57:15.362Z appoptics:patching patched https 
2022-04-25T18:57:15.362Z appoptics:patching patched http 
2022-04-25T18:57:15.405Z appoptics:patching patched zlib 
2022-04-25T18:57:15.418Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:57:15.418Z appoptics:patching patched fs 
2022-04-25T18:57:15.473Z appoptics:patching patched express 4.8.0
2022-04-25T18:57:15.480Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:57:15.492Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.0
    ✓ UDP might lose a message
2022-04-25T18:57:15.530Z appoptics:patching patched raw-body 2.5.1
(node:3441) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (77ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (289ms)


changed 2 packages, and audited 956 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:57:23.040Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:57:23.041Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:57:23.041Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:57:23.042Z appoptics:debug using context provider: ace-context
2022-04-25T18:57:23.116Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:57:23.260Z appoptics:patching patched crypto 
2022-04-25T18:57:23.295Z appoptics:patching patched https 
2022-04-25T18:57:23.296Z appoptics:patching patched http 
2022-04-25T18:57:23.336Z appoptics:patching patched zlib 
2022-04-25T18:57:23.349Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:57:23.350Z appoptics:patching patched fs 
2022-04-25T18:57:23.400Z appoptics:patching patched express 4.8.1
2022-04-25T18:57:23.407Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:57:23.417Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.1
    ✓ UDP might lose a message
2022-04-25T18:57:23.455Z appoptics:patching patched raw-body 2.5.1
(node:3463) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (47ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (270ms)


changed 2 packages, and audited 956 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:57:32.038Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:57:32.039Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:57:32.039Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:57:32.040Z appoptics:debug using context provider: ace-context
2022-04-25T18:57:32.116Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:57:32.252Z appoptics:patching patched crypto 
2022-04-25T18:57:32.277Z appoptics:patching patched https 
2022-04-25T18:57:32.277Z appoptics:patching patched http 
2022-04-25T18:57:32.320Z appoptics:patching patched zlib 
2022-04-25T18:57:32.333Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:57:32.333Z appoptics:patching patched fs 
2022-04-25T18:57:32.385Z appoptics:patching patched express 4.8.2
2022-04-25T18:57:32.392Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:57:32.399Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.2
    ✓ UDP might lose a message
2022-04-25T18:57:32.444Z appoptics:patching patched raw-body 2.5.1
(node:3485) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (257ms)


removed 3 packages, changed 3 packages, and audited 953 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:57:40.028Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:57:40.029Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:57:40.029Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:57:40.030Z appoptics:debug using context provider: ace-context
2022-04-25T18:57:40.114Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:57:40.258Z appoptics:patching patched crypto 
2022-04-25T18:57:40.303Z appoptics:patching patched https 
2022-04-25T18:57:40.304Z appoptics:patching patched http 
2022-04-25T18:57:40.379Z appoptics:patching patched zlib 
2022-04-25T18:57:40.400Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:57:40.400Z appoptics:patching patched fs 
2022-04-25T18:57:40.509Z appoptics:patching patched express 4.8.3
2022-04-25T18:57:40.516Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:57:40.532Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.3
    ✓ UDP might lose a message
2022-04-25T18:57:40.607Z appoptics:patching patched raw-body 2.5.1
(node:3507) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (82ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (100ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (396ms)


added 1 package, changed 3 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:57:48.542Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:57:48.542Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:57:48.542Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:57:48.543Z appoptics:debug using context provider: ace-context
2022-04-25T18:57:48.615Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:57:48.759Z appoptics:patching patched crypto 
2022-04-25T18:57:48.780Z appoptics:patching patched https 
2022-04-25T18:57:48.781Z appoptics:patching patched http 
2022-04-25T18:57:48.829Z appoptics:patching patched zlib 
2022-04-25T18:57:48.841Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:57:48.842Z appoptics:patching patched fs 
2022-04-25T18:57:48.898Z appoptics:patching patched express 4.8.4
2022-04-25T18:57:48.909Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:57:48.920Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.4
    ✓ UDP might lose a message
2022-04-25T18:57:48.980Z appoptics:patching patched raw-body 2.5.1
(node:3529) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (274ms)


added 3 packages, removed 3 packages, changed 2 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:57:57.197Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:57:57.198Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:57:57.198Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:57:57.199Z appoptics:debug using context provider: ace-context
2022-04-25T18:57:57.292Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:57:57.442Z appoptics:patching patched crypto 
2022-04-25T18:57:57.463Z appoptics:patching patched https 
2022-04-25T18:57:57.464Z appoptics:patching patched http 
2022-04-25T18:57:57.506Z appoptics:patching patched zlib 
2022-04-25T18:57:57.519Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:57:57.519Z appoptics:patching patched fs 
2022-04-25T18:57:57.568Z appoptics:patching patched express 4.8.5
2022-04-25T18:57:57.575Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:57:57.582Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.5
    ✓ UDP might lose a message
2022-04-25T18:57:57.623Z appoptics:patching patched raw-body 2.5.1
(node:3551) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (239ms)


changed 2 packages, and audited 954 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:58:08.170Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:58:08.170Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:58:08.170Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:58:08.171Z appoptics:debug using context provider: ace-context
2022-04-25T18:58:08.285Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:58:08.431Z appoptics:patching patched crypto 
2022-04-25T18:58:08.454Z appoptics:patching patched https 
2022-04-25T18:58:08.455Z appoptics:patching patched http 
2022-04-25T18:58:08.496Z appoptics:patching patched zlib 
2022-04-25T18:58:08.508Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:58:08.508Z appoptics:patching patched fs 
2022-04-25T18:58:08.557Z appoptics:patching patched express 4.8.6
2022-04-25T18:58:08.565Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:58:08.572Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.6
    ✓ UDP might lose a message
2022-04-25T18:58:08.618Z appoptics:patching patched raw-body 2.5.1
(node:3573) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (257ms)


changed 2 packages, and audited 954 packages in 13s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:58:22.759Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:58:22.760Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:58:22.760Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:58:22.761Z appoptics:debug using context provider: ace-context
2022-04-25T18:58:22.830Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:58:22.965Z appoptics:patching patched crypto 
2022-04-25T18:58:22.987Z appoptics:patching patched https 
2022-04-25T18:58:22.987Z appoptics:patching patched http 
2022-04-25T18:58:23.029Z appoptics:patching patched zlib 
2022-04-25T18:58:23.041Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:58:23.042Z appoptics:patching patched fs 
2022-04-25T18:58:23.090Z appoptics:patching patched express 4.8.7
2022-04-25T18:58:23.097Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:58:23.104Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.7
    ✓ UDP might lose a message
2022-04-25T18:58:23.150Z appoptics:patching patched raw-body 2.5.1
(node:3595) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (246ms)


removed 8 packages, changed 2 packages, and audited 946 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:58:31.646Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:58:31.647Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:58:31.647Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:58:31.647Z appoptics:debug using context provider: ace-context
2022-04-25T18:58:31.726Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:58:31.907Z appoptics:patching patched crypto 
2022-04-25T18:58:31.929Z appoptics:patching patched https 
2022-04-25T18:58:31.950Z appoptics:patching patched http 
2022-04-25T18:58:32.012Z appoptics:patching patched zlib 
2022-04-25T18:58:32.024Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:58:32.024Z appoptics:patching patched fs 
2022-04-25T18:58:32.065Z appoptics:patching patched express 4.8.8
2022-04-25T18:58:32.072Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:58:32.080Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.8
    ✓ UDP might lose a message
2022-04-25T18:58:32.124Z appoptics:patching patched raw-body 2.5.1
(node:3617) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (265ms)


added 14 packages, removed 1 package, changed 18 packages, and audited 959 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:58:39.666Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:58:39.667Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:58:39.667Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:58:39.668Z appoptics:debug using context provider: ace-context
2022-04-25T18:58:39.737Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:58:39.867Z appoptics:patching patched crypto 
2022-04-25T18:58:39.888Z appoptics:patching patched https 
2022-04-25T18:58:39.888Z appoptics:patching patched http 
2022-04-25T18:58:39.931Z appoptics:patching patched zlib 
2022-04-25T18:58:39.944Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:58:39.944Z appoptics:patching patched fs 
2022-04-25T18:58:40.000Z appoptics:patching patched express 4.9.0
2022-04-25T18:58:40.007Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:58:40.014Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.0
    ✓ UDP might lose a message
2022-04-25T18:58:40.057Z appoptics:patching patched raw-body 2.5.1
(node:3639) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (260ms)


removed 1 package, changed 4 packages, and audited 958 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:58:48.437Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:58:48.438Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:58:48.438Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:58:48.439Z appoptics:debug using context provider: ace-context
2022-04-25T18:58:48.505Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:58:48.639Z appoptics:patching patched crypto 
2022-04-25T18:58:48.679Z appoptics:patching patched https 
2022-04-25T18:58:48.680Z appoptics:patching patched http 
2022-04-25T18:58:48.715Z appoptics:patching patched zlib 
2022-04-25T18:58:48.729Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:58:48.729Z appoptics:patching patched fs 
2022-04-25T18:58:48.790Z appoptics:patching patched express 4.9.1
2022-04-25T18:58:48.798Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:58:48.808Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.1
    ✓ UDP might lose a message
2022-04-25T18:58:48.847Z appoptics:patching patched raw-body 2.5.1
(node:3661) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (243ms)


changed 1 package, and audited 958 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:58:56.893Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:58:56.894Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:58:56.894Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:58:56.895Z appoptics:debug using context provider: ace-context
2022-04-25T18:58:56.971Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:58:57.104Z appoptics:patching patched crypto 
2022-04-25T18:58:57.125Z appoptics:patching patched https 
2022-04-25T18:58:57.126Z appoptics:patching patched http 
2022-04-25T18:58:57.168Z appoptics:patching patched zlib 
2022-04-25T18:58:57.181Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:58:57.182Z appoptics:patching patched fs 
2022-04-25T18:58:57.237Z appoptics:patching patched express 4.9.2
2022-04-25T18:58:57.244Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:58:57.252Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.2
    ✓ UDP might lose a message
2022-04-25T18:58:57.294Z appoptics:patching patched raw-body 2.5.1
(node:3683) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (250ms)


added 1 package, changed 3 packages, and audited 959 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:59:05.321Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:59:05.322Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:59:05.322Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:59:05.322Z appoptics:debug using context provider: ace-context
2022-04-25T18:59:05.393Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:59:05.527Z appoptics:patching patched crypto 
2022-04-25T18:59:05.547Z appoptics:patching patched https 
2022-04-25T18:59:05.548Z appoptics:patching patched http 
2022-04-25T18:59:05.593Z appoptics:patching patched zlib 
2022-04-25T18:59:05.606Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:59:05.606Z appoptics:patching patched fs 
2022-04-25T18:59:05.662Z appoptics:patching patched express 4.9.3
2022-04-25T18:59:05.669Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:59:05.676Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.3
    ✓ UDP might lose a message
2022-04-25T18:59:05.719Z appoptics:patching patched raw-body 2.5.1
(node:3705) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (250ms)


changed 2 packages, and audited 959 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:59:14.113Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:59:14.114Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:59:14.114Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:59:14.115Z appoptics:debug using context provider: ace-context
2022-04-25T18:59:14.186Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:59:14.318Z appoptics:patching patched crypto 
2022-04-25T18:59:14.340Z appoptics:patching patched https 
2022-04-25T18:59:14.341Z appoptics:patching patched http 
2022-04-25T18:59:14.386Z appoptics:patching patched zlib 
2022-04-25T18:59:14.399Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:59:14.400Z appoptics:patching patched fs 
2022-04-25T18:59:14.463Z appoptics:patching patched express 4.9.4
2022-04-25T18:59:14.472Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:59:14.482Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.4
    ✓ UDP might lose a message
2022-04-25T18:59:14.533Z appoptics:patching patched raw-body 2.5.1
(node:3727) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (44ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (308ms)


removed 9 packages, changed 3 packages, and audited 950 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:59:23.025Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:59:23.026Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:59:23.026Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:59:23.027Z appoptics:debug using context provider: ace-context
2022-04-25T18:59:23.102Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:59:23.261Z appoptics:patching patched crypto 
2022-04-25T18:59:23.299Z appoptics:patching patched https 
2022-04-25T18:59:23.299Z appoptics:patching patched http 
2022-04-25T18:59:23.353Z appoptics:patching patched zlib 
2022-04-25T18:59:23.368Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:59:23.368Z appoptics:patching patched fs 
2022-04-25T18:59:23.426Z appoptics:patching patched express 4.9.5
2022-04-25T18:59:23.433Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:59:23.441Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.5
    ✓ UDP might lose a message
2022-04-25T18:59:23.486Z appoptics:patching patched raw-body 2.5.1
(node:3749) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (257ms)


changed 1 package, and audited 950 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:59:31.089Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:59:31.089Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:59:31.089Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:59:31.090Z appoptics:debug using context provider: ace-context
2022-04-25T18:59:31.160Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:59:31.305Z appoptics:patching patched crypto 
2022-04-25T18:59:31.326Z appoptics:patching patched https 
2022-04-25T18:59:31.327Z appoptics:patching patched http 
2022-04-25T18:59:31.395Z appoptics:patching patched zlib 
2022-04-25T18:59:31.410Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:59:31.410Z appoptics:patching patched fs 
2022-04-25T18:59:31.461Z appoptics:patching patched express 4.9.6
2022-04-25T18:59:31.468Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:59:31.476Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.6
    ✓ UDP might lose a message
2022-04-25T18:59:31.530Z appoptics:patching patched raw-body 2.5.1
(node:3771) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (45ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (284ms)


changed 1 package, and audited 950 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:59:39.736Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:59:39.737Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:59:39.737Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:59:39.738Z appoptics:debug using context provider: ace-context
2022-04-25T18:59:39.807Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:59:39.958Z appoptics:patching patched crypto 
2022-04-25T18:59:39.988Z appoptics:patching patched https 
2022-04-25T18:59:39.989Z appoptics:patching patched http 
2022-04-25T18:59:40.030Z appoptics:patching patched zlib 
2022-04-25T18:59:40.043Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:59:40.043Z appoptics:patching patched fs 
2022-04-25T18:59:40.093Z appoptics:patching patched express 4.9.7
2022-04-25T18:59:40.100Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:59:40.108Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.7
    ✓ UDP might lose a message
2022-04-25T18:59:40.155Z appoptics:patching patched raw-body 2.5.1
(node:3793) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (297ms)


changed 1 package, and audited 950 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:59:48.564Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:59:48.564Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:59:48.565Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:59:48.566Z appoptics:debug using context provider: ace-context
2022-04-25T18:59:48.688Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:59:48.844Z appoptics:patching patched crypto 
2022-04-25T18:59:48.865Z appoptics:patching patched https 
2022-04-25T18:59:48.866Z appoptics:patching patched http 
2022-04-25T18:59:48.916Z appoptics:patching patched zlib 
2022-04-25T18:59:48.929Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:59:48.929Z appoptics:patching patched fs 
2022-04-25T18:59:48.975Z appoptics:patching patched express 4.9.8
2022-04-25T18:59:48.982Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:59:48.989Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.8
    ✓ UDP might lose a message
2022-04-25T18:59:49.032Z appoptics:patching patched raw-body 2.5.1
(node:3815) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (255ms)


added 4 packages, changed 17 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:59:56.537Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:59:56.538Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:59:56.538Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:59:56.539Z appoptics:debug using context provider: ace-context
2022-04-25T18:59:56.611Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:59:56.743Z appoptics:patching patched crypto 
2022-04-25T18:59:56.767Z appoptics:patching patched https 
2022-04-25T18:59:56.768Z appoptics:patching patched http 
2022-04-25T18:59:56.814Z appoptics:patching patched zlib 
2022-04-25T18:59:56.831Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:59:56.831Z appoptics:patching patched fs 
2022-04-25T18:59:56.876Z appoptics:patching patched express 4.10.0
2022-04-25T18:59:56.883Z appoptics:patching patched morgan 1.10.0
2022-04-25T18:59:56.891Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.0
    ✓ UDP might lose a message
2022-04-25T18:59:56.958Z appoptics:patching patched raw-body 2.5.1
(node:3837) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (91ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (297ms)


changed 2 packages, and audited 954 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:00:05.457Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:00:05.458Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:00:05.458Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:00:05.459Z appoptics:debug using context provider: ace-context
2022-04-25T19:00:05.534Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:00:05.669Z appoptics:patching patched crypto 
2022-04-25T19:00:05.690Z appoptics:patching patched https 
2022-04-25T19:00:05.690Z appoptics:patching patched http 
2022-04-25T19:00:05.735Z appoptics:patching patched zlib 
2022-04-25T19:00:05.751Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:00:05.751Z appoptics:patching patched fs 
2022-04-25T19:00:05.799Z appoptics:patching patched express 4.10.1
2022-04-25T19:00:05.806Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:00:05.814Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.1
    ✓ UDP might lose a message
2022-04-25T19:00:05.860Z appoptics:patching patched raw-body 2.5.1
(node:3859) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (267ms)


changed 1 package, and audited 954 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:00:14.524Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:00:14.525Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:00:14.525Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:00:14.526Z appoptics:debug using context provider: ace-context
2022-04-25T19:00:14.595Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:00:14.725Z appoptics:patching patched crypto 
2022-04-25T19:00:14.784Z appoptics:patching patched https 
2022-04-25T19:00:14.794Z appoptics:patching patched http 
2022-04-25T19:00:14.826Z appoptics:patching patched zlib 
2022-04-25T19:00:14.847Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:00:14.847Z appoptics:patching patched fs 
2022-04-25T19:00:14.895Z appoptics:patching patched express 4.10.2
2022-04-25T19:00:14.902Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:00:14.910Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.2
    ✓ UDP might lose a message
2022-04-25T19:00:14.955Z appoptics:patching patched raw-body 2.5.1
(node:3881) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (258ms)


changed 2 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:00:22.522Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:00:22.523Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:00:22.523Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:00:22.525Z appoptics:debug using context provider: ace-context
2022-04-25T19:00:22.631Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:00:22.797Z appoptics:patching patched crypto 
2022-04-25T19:00:22.819Z appoptics:patching patched https 
2022-04-25T19:00:22.819Z appoptics:patching patched http 
2022-04-25T19:00:22.880Z appoptics:patching patched zlib 
2022-04-25T19:00:22.896Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:00:22.896Z appoptics:patching patched fs 
2022-04-25T19:00:22.968Z appoptics:patching patched express 4.10.3
2022-04-25T19:00:22.982Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:00:22.991Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.3
    ✓ UDP might lose a message
2022-04-25T19:00:23.075Z appoptics:patching patched raw-body 2.5.1
(node:3903) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (89ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (313ms)


changed 1 package, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:00:31.091Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:00:31.091Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:00:31.091Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:00:31.092Z appoptics:debug using context provider: ace-context
2022-04-25T19:00:31.161Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:00:31.292Z appoptics:patching patched crypto 
2022-04-25T19:00:31.313Z appoptics:patching patched https 
2022-04-25T19:00:31.313Z appoptics:patching patched http 
2022-04-25T19:00:31.357Z appoptics:patching patched zlib 
2022-04-25T19:00:31.372Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:00:31.372Z appoptics:patching patched fs 
2022-04-25T19:00:31.417Z appoptics:patching patched express 4.10.4
2022-04-25T19:00:31.424Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:00:31.432Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.4
    ✓ UDP might lose a message
2022-04-25T19:00:31.475Z appoptics:patching patched raw-body 2.5.1
(node:3925) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (44ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (290ms)


changed 1 package, and audited 954 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:00:40.232Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:00:40.233Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:00:40.233Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:00:40.234Z appoptics:debug using context provider: ace-context
2022-04-25T19:00:40.303Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:00:40.440Z appoptics:patching patched crypto 
2022-04-25T19:00:40.461Z appoptics:patching patched https 
2022-04-25T19:00:40.462Z appoptics:patching patched http 
2022-04-25T19:00:40.507Z appoptics:patching patched zlib 
2022-04-25T19:00:40.523Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:00:40.524Z appoptics:patching patched fs 
2022-04-25T19:00:40.569Z appoptics:patching patched express 4.10.5
2022-04-25T19:00:40.576Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:00:40.583Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.5
    ✓ UDP might lose a message
2022-04-25T19:00:40.626Z appoptics:patching patched raw-body 2.5.1
(node:3947) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (265ms)


changed 1 package, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:00:48.756Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:00:48.756Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:00:48.756Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:00:48.757Z appoptics:debug using context provider: ace-context
2022-04-25T19:00:48.850Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:00:48.994Z appoptics:patching patched crypto 
2022-04-25T19:00:49.042Z appoptics:patching patched https 
2022-04-25T19:00:49.042Z appoptics:patching patched http 
2022-04-25T19:00:49.087Z appoptics:patching patched zlib 
2022-04-25T19:00:49.104Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:00:49.104Z appoptics:patching patched fs 
2022-04-25T19:00:49.156Z appoptics:patching patched express 4.10.6
2022-04-25T19:00:49.163Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:00:49.171Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.6
    ✓ UDP might lose a message
2022-04-25T19:00:49.223Z appoptics:patching patched raw-body 2.5.1
(node:3969) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (280ms)


changed 5 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:00:57.595Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:00:57.596Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:00:57.596Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:00:57.597Z appoptics:debug using context provider: ace-context
2022-04-25T19:00:57.666Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:00:57.802Z appoptics:patching patched crypto 
2022-04-25T19:00:57.823Z appoptics:patching patched https 
2022-04-25T19:00:57.823Z appoptics:patching patched http 
2022-04-25T19:00:57.867Z appoptics:patching patched zlib 
2022-04-25T19:00:57.882Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:00:57.882Z appoptics:patching patched fs 
2022-04-25T19:00:57.927Z appoptics:patching patched express 4.10.7
2022-04-25T19:00:57.934Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:00:57.941Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.7
    ✓ UDP might lose a message
2022-04-25T19:00:57.984Z appoptics:patching patched raw-body 2.5.1
(node:3991) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (261ms)


changed 1 package, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:01:06.323Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:01:06.323Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:01:06.323Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:01:06.324Z appoptics:debug using context provider: ace-context
2022-04-25T19:01:06.412Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:01:06.566Z appoptics:patching patched crypto 
2022-04-25T19:01:06.619Z appoptics:patching patched https 
2022-04-25T19:01:06.620Z appoptics:patching patched http 
2022-04-25T19:01:06.662Z appoptics:patching patched zlib 
2022-04-25T19:01:06.687Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:01:06.688Z appoptics:patching patched fs 
2022-04-25T19:01:06.745Z appoptics:patching patched express 4.10.8
2022-04-25T19:01:06.753Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:01:06.761Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.8
    ✓ UDP might lose a message
2022-04-25T19:01:06.812Z appoptics:patching patched raw-body 2.5.1
(node:4013) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (76ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (274ms)


added 10 packages, removed 8 packages, changed 8 packages, and audited 956 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:01:14.636Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:01:14.640Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:01:14.640Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:01:14.641Z appoptics:debug using context provider: ace-context
2022-04-25T19:01:14.730Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:01:14.884Z appoptics:patching patched crypto 
2022-04-25T19:01:14.934Z appoptics:patching patched https 
2022-04-25T19:01:14.934Z appoptics:patching patched http 
2022-04-25T19:01:15.023Z appoptics:patching patched zlib 
2022-04-25T19:01:15.056Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:01:15.057Z appoptics:patching patched fs 
2022-04-25T19:01:15.247Z appoptics:patching patched express 4.11.0
2022-04-25T19:01:15.262Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:01:15.271Z appoptics:debug starting runtimeMetrics


  probes.express 4.11.0
    ✓ UDP might lose a message
2022-04-25T19:01:15.322Z appoptics:patching patched raw-body 2.5.1
(node:4035) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (134ms)
    ✓ should forward controller/action for POST (77ms)
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (488ms)


removed 8 packages, changed 2 packages, and audited 948 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:01:22.892Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:01:22.893Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:01:22.893Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:01:22.894Z appoptics:debug using context provider: ace-context
2022-04-25T19:01:22.965Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:01:23.100Z appoptics:patching patched crypto 
2022-04-25T19:01:23.123Z appoptics:patching patched https 
2022-04-25T19:01:23.124Z appoptics:patching patched http 
2022-04-25T19:01:23.202Z appoptics:patching patched zlib 
2022-04-25T19:01:23.218Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:01:23.218Z appoptics:patching patched fs 
2022-04-25T19:01:23.281Z appoptics:patching patched express 4.11.1
2022-04-25T19:01:23.288Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:01:23.296Z appoptics:debug starting runtimeMetrics


  probes.express 4.11.1
    ✓ UDP might lose a message
2022-04-25T19:01:23.343Z appoptics:patching patched raw-body 2.5.1
(node:4057) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (253ms)


changed 1 package, and audited 948 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:01:31.464Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:01:31.465Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:01:31.465Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:01:31.465Z appoptics:debug using context provider: ace-context
2022-04-25T19:01:31.543Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:01:31.687Z appoptics:patching patched crypto 
2022-04-25T19:01:31.741Z appoptics:patching patched https 
2022-04-25T19:01:31.746Z appoptics:patching patched http 
2022-04-25T19:01:31.798Z appoptics:patching patched zlib 
2022-04-25T19:01:31.815Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:01:31.815Z appoptics:patching patched fs 
2022-04-25T19:01:31.876Z appoptics:patching patched express 4.11.2
2022-04-25T19:01:31.883Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:01:31.891Z appoptics:debug starting runtimeMetrics


  probes.express 4.11.2
    ✓ UDP might lose a message
2022-04-25T19:01:31.936Z appoptics:patching patched raw-body 2.5.1
(node:4079) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (254ms)


added 9 packages, removed 3 packages, changed 5 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:01:39.971Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:01:39.972Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:01:39.972Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:01:39.973Z appoptics:debug using context provider: ace-context
2022-04-25T19:01:40.123Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:01:40.404Z appoptics:patching patched crypto 
2022-04-25T19:01:40.450Z appoptics:patching patched https 
2022-04-25T19:01:40.451Z appoptics:patching patched http 
2022-04-25T19:01:40.593Z appoptics:patching patched zlib 
2022-04-25T19:01:40.645Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:01:40.647Z appoptics:patching patched fs 
2022-04-25T19:01:40.771Z appoptics:patching patched express 4.12.0
2022-04-25T19:01:40.780Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:01:40.790Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.0
    ✓ UDP might lose a message
2022-04-25T19:01:40.899Z appoptics:patching patched raw-body 2.5.1
(node:4101) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (119ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (372ms)


changed 2 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:01:48.434Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:01:48.435Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:01:48.435Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:01:48.436Z appoptics:debug using context provider: ace-context
2022-04-25T19:01:48.507Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:01:48.640Z appoptics:patching patched crypto 
2022-04-25T19:01:48.661Z appoptics:patching patched https 
2022-04-25T19:01:48.661Z appoptics:patching patched http 
2022-04-25T19:01:48.701Z appoptics:patching patched zlib 
2022-04-25T19:01:48.718Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:01:48.720Z appoptics:patching patched fs 
2022-04-25T19:01:48.776Z appoptics:patching patched express 4.12.1
2022-04-25T19:01:48.784Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:01:48.792Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.1
    ✓ UDP might lose a message
2022-04-25T19:01:48.834Z appoptics:patching patched raw-body 2.5.1
(node:4123) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (252ms)


changed 1 package, and audited 954 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:01:57.407Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:01:57.407Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:01:57.407Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:01:57.408Z appoptics:debug using context provider: ace-context
2022-04-25T19:01:57.479Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:01:57.610Z appoptics:patching patched crypto 
2022-04-25T19:01:57.631Z appoptics:patching patched https 
2022-04-25T19:01:57.632Z appoptics:patching patched http 
2022-04-25T19:01:57.676Z appoptics:patching patched zlib 
2022-04-25T19:01:57.691Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:01:57.692Z appoptics:patching patched fs 
2022-04-25T19:01:57.744Z appoptics:patching patched express 4.12.2
2022-04-25T19:01:57.754Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:01:57.761Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.2
    ✓ UDP might lose a message
2022-04-25T19:01:57.804Z appoptics:patching patched raw-body 2.5.1
(node:4145) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (245ms)


changed 5 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:02:06.029Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:02:06.030Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:02:06.030Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:02:06.032Z appoptics:debug using context provider: ace-context
2022-04-25T19:02:06.253Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:02:06.475Z appoptics:patching patched crypto 
2022-04-25T19:02:06.501Z appoptics:patching patched https 
2022-04-25T19:02:06.501Z appoptics:patching patched http 
2022-04-25T19:02:06.568Z appoptics:patching patched zlib 
2022-04-25T19:02:06.586Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:02:06.586Z appoptics:patching patched fs 
2022-04-25T19:02:06.648Z appoptics:patching patched express 4.12.3
2022-04-25T19:02:06.655Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:02:06.662Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.3
    ✓ UDP might lose a message
2022-04-25T19:02:06.706Z appoptics:patching patched raw-body 2.5.1
(node:4167) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (249ms)


removed 9 packages, changed 12 packages, and audited 945 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:02:14.285Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:02:14.286Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:02:14.286Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:02:14.289Z appoptics:debug using context provider: ace-context
2022-04-25T19:02:14.457Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:02:14.705Z appoptics:patching patched crypto 
2022-04-25T19:02:14.776Z appoptics:patching patched https 
2022-04-25T19:02:14.777Z appoptics:patching patched http 
2022-04-25T19:02:14.870Z appoptics:patching patched zlib 
2022-04-25T19:02:14.898Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:02:14.899Z appoptics:patching patched fs 
2022-04-25T19:02:14.958Z appoptics:patching patched express 4.12.4
2022-04-25T19:02:14.970Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:02:14.981Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.4
    ✓ UDP might lose a message
2022-04-25T19:02:15.034Z appoptics:patching patched raw-body 2.5.1
(node:4189) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (76ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (297ms)


added 13 packages, removed 4 packages, changed 13 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:02:23.357Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:02:23.358Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:02:23.358Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:02:23.359Z appoptics:debug using context provider: ace-context
2022-04-25T19:02:23.428Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:02:23.560Z appoptics:patching patched crypto 
2022-04-25T19:02:23.580Z appoptics:patching patched https 
2022-04-25T19:02:23.581Z appoptics:patching patched http 
2022-04-25T19:02:23.625Z appoptics:patching patched zlib 
2022-04-25T19:02:23.644Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:02:23.645Z appoptics:patching patched fs 
2022-04-25T19:02:23.694Z appoptics:patching patched express 4.13.0
2022-04-25T19:02:23.701Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:02:23.708Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.0
    ✓ UDP might lose a message
2022-04-25T19:02:23.754Z appoptics:patching patched raw-body 2.5.1
(node:4211) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (255ms)


changed 2 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:02:31.956Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:02:31.957Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:02:31.957Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:02:31.959Z appoptics:debug using context provider: ace-context
2022-04-25T19:02:32.058Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:02:32.199Z appoptics:patching patched crypto 
2022-04-25T19:02:32.235Z appoptics:patching patched https 
2022-04-25T19:02:32.236Z appoptics:patching patched http 
2022-04-25T19:02:32.274Z appoptics:patching patched zlib 
2022-04-25T19:02:32.295Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:02:32.295Z appoptics:patching patched fs 
2022-04-25T19:02:32.362Z appoptics:patching patched express 4.13.1
2022-04-25T19:02:32.372Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:02:32.380Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.1
    ✓ UDP might lose a message
2022-04-25T19:02:32.426Z appoptics:patching patched raw-body 2.5.1
(node:4233) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (248ms)


changed 3 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:02:40.050Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:02:40.051Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:02:40.051Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:02:40.052Z appoptics:debug using context provider: ace-context
2022-04-25T19:02:40.128Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:02:40.270Z appoptics:patching patched crypto 
2022-04-25T19:02:40.299Z appoptics:patching patched https 
2022-04-25T19:02:40.299Z appoptics:patching patched http 
2022-04-25T19:02:40.341Z appoptics:patching patched zlib 
2022-04-25T19:02:40.360Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:02:40.361Z appoptics:patching patched fs 
2022-04-25T19:02:40.413Z appoptics:patching patched express 4.13.2
2022-04-25T19:02:40.421Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:02:40.428Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.2
    ✓ UDP might lose a message
2022-04-25T19:02:40.472Z appoptics:patching patched raw-body 2.5.1
(node:4255) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (242ms)


changed 1 package, and audited 954 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:02:49.014Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:02:49.015Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:02:49.015Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:02:49.016Z appoptics:debug using context provider: ace-context
2022-04-25T19:02:49.091Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:02:49.228Z appoptics:patching patched crypto 
2022-04-25T19:02:49.249Z appoptics:patching patched https 
2022-04-25T19:02:49.250Z appoptics:patching patched http 
2022-04-25T19:02:49.295Z appoptics:patching patched zlib 
2022-04-25T19:02:49.315Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:02:49.315Z appoptics:patching patched fs 
2022-04-25T19:02:49.366Z appoptics:patching patched express 4.13.3
2022-04-25T19:02:49.373Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:02:49.381Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.3
    ✓ UDP might lose a message
2022-04-25T19:02:49.424Z appoptics:patching patched raw-body 2.5.1
(node:4277) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (249ms)


removed 3 packages, changed 11 packages, and audited 951 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:02:57.740Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:02:57.740Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:02:57.740Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:02:57.741Z appoptics:debug using context provider: ace-context
2022-04-25T19:02:57.812Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:02:57.952Z appoptics:patching patched crypto 
2022-04-25T19:02:57.973Z appoptics:patching patched https 
2022-04-25T19:02:57.974Z appoptics:patching patched http 
2022-04-25T19:02:58.017Z appoptics:patching patched zlib 
2022-04-25T19:02:58.035Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:02:58.036Z appoptics:patching patched fs 
2022-04-25T19:02:58.087Z appoptics:patching patched express 4.13.4
2022-04-25T19:02:58.095Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:02:58.102Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.4
    ✓ UDP might lose a message
2022-04-25T19:02:58.159Z appoptics:patching patched raw-body 2.5.1
(node:4299) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (76ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (273ms)


added 6 packages, removed 8 packages, changed 19 packages, and audited 949 packages in 14s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (2 low, 7 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:03:13.421Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:03:13.421Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:03:13.421Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:03:13.422Z appoptics:debug using context provider: ace-context
2022-04-25T19:03:13.490Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:03:13.618Z appoptics:patching patched crypto 
2022-04-25T19:03:13.638Z appoptics:patching patched https 
2022-04-25T19:03:13.639Z appoptics:patching patched http 
2022-04-25T19:03:13.683Z appoptics:patching patched zlib 
2022-04-25T19:03:13.703Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:03:13.703Z appoptics:patching patched fs 
2022-04-25T19:03:13.754Z appoptics:patching patched express 4.14.0
2022-04-25T19:03:13.760Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:03:13.767Z appoptics:debug starting runtimeMetrics


  probes.express 4.14.0
    ✓ UDP might lose a message
2022-04-25T19:03:13.810Z appoptics:patching patched raw-body 2.5.1
(node:4321) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (239ms)


added 1 package, removed 12 packages, changed 6 packages, and audited 938 packages in 14s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (2 low, 7 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:03:29.056Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:03:29.057Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:03:29.057Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:03:29.058Z appoptics:debug using context provider: ace-context
2022-04-25T19:03:29.135Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:03:29.269Z appoptics:patching patched crypto 
2022-04-25T19:03:29.290Z appoptics:patching patched https 
2022-04-25T19:03:29.290Z appoptics:patching patched http 
2022-04-25T19:03:29.335Z appoptics:patching patched zlib 
2022-04-25T19:03:29.354Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:03:29.355Z appoptics:patching patched fs 
2022-04-25T19:03:29.395Z appoptics:patching patched express 4.14.1
2022-04-25T19:03:29.402Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:03:29.409Z appoptics:debug starting runtimeMetrics


  probes.express 4.14.1
    ✓ UDP might lose a message
2022-04-25T19:03:29.456Z appoptics:patching patched raw-body 2.5.1
(node:4343) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (255ms)


added 5 packages, removed 4 packages, changed 14 packages, and audited 939 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (1 low, 7 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:03:38.308Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:03:38.308Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:03:38.308Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:03:38.309Z appoptics:debug using context provider: ace-context
2022-04-25T19:03:38.392Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:03:38.537Z appoptics:patching patched crypto 
2022-04-25T19:03:38.568Z appoptics:patching patched https 
2022-04-25T19:03:38.569Z appoptics:patching patched http 
2022-04-25T19:03:38.605Z appoptics:patching patched zlib 
2022-04-25T19:03:38.627Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:03:38.627Z appoptics:patching patched fs 
2022-04-25T19:03:38.669Z appoptics:patching patched express 4.15.0
2022-04-25T19:03:38.674Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:03:38.681Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.0
    ✓ UDP might lose a message
2022-04-25T19:03:38.724Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (241ms)


changed 4 packages, and audited 939 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (1 low, 7 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:03:46.531Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:03:46.532Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:03:46.532Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:03:46.533Z appoptics:debug using context provider: ace-context
2022-04-25T19:03:46.619Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:03:46.771Z appoptics:patching patched crypto 
2022-04-25T19:03:46.822Z appoptics:patching patched https 
2022-04-25T19:03:46.823Z appoptics:patching patched http 
2022-04-25T19:03:46.872Z appoptics:patching patched zlib 
2022-04-25T19:03:46.898Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:03:46.899Z appoptics:patching patched fs 
2022-04-25T19:03:46.953Z appoptics:patching patched express 4.15.1
2022-04-25T19:03:46.959Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:03:46.967Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.1
    ✓ UDP might lose a message
2022-04-25T19:03:47.018Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (76ms)
    ✓ should forward controller/action for POST (46ms)
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (347ms)


changed 2 packages, and audited 939 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (1 low, 7 moderate, 7 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:03:54.203Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:03:54.204Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:03:54.204Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:03:54.204Z appoptics:debug using context provider: ace-context
2022-04-25T19:03:54.290Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:03:54.444Z appoptics:patching patched crypto 
2022-04-25T19:03:54.494Z appoptics:patching patched https 
2022-04-25T19:03:54.494Z appoptics:patching patched http 
2022-04-25T19:03:54.538Z appoptics:patching patched zlib 
2022-04-25T19:03:54.563Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:03:54.563Z appoptics:patching patched fs 
2022-04-25T19:03:54.611Z appoptics:patching patched express 4.15.2
2022-04-25T19:03:54.625Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:03:54.636Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.2
    ✓ UDP might lose a message
2022-04-25T19:03:54.680Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (299ms)


removed 2 packages, changed 6 packages, and audited 937 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (1 low, 7 moderate, 7 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:04:02.891Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:04:02.892Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:04:02.892Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:04:02.892Z appoptics:debug using context provider: ace-context
2022-04-25T19:04:02.964Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:04:03.096Z appoptics:patching patched crypto 
2022-04-25T19:04:03.117Z appoptics:patching patched https 
2022-04-25T19:04:03.118Z appoptics:patching patched http 
2022-04-25T19:04:03.160Z appoptics:patching patched zlib 
2022-04-25T19:04:03.185Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:04:03.186Z appoptics:patching patched fs 
2022-04-25T19:04:03.227Z appoptics:patching patched express 4.15.3
2022-04-25T19:04:03.232Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:04:03.239Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.3
    ✓ UDP might lose a message
2022-04-25T19:04:03.283Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (275ms)


changed 7 packages, and audited 937 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (1 low, 7 moderate, 7 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:04:11.228Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:04:11.229Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:04:11.229Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:04:11.230Z appoptics:debug using context provider: ace-context
2022-04-25T19:04:11.305Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:04:11.468Z appoptics:patching patched crypto 
2022-04-25T19:04:11.520Z appoptics:patching patched https 
2022-04-25T19:04:11.521Z appoptics:patching patched http 
2022-04-25T19:04:11.563Z appoptics:patching patched zlib 
2022-04-25T19:04:11.586Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:04:11.586Z appoptics:patching patched fs 
2022-04-25T19:04:11.646Z appoptics:patching patched express 4.15.4
2022-04-25T19:04:11.651Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:04:11.658Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.4
    ✓ UDP might lose a message
2022-04-25T19:04:11.703Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (282ms)


removed 4 packages, changed 5 packages, and audited 933 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

13 vulnerabilities (10 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:04:19.557Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:04:19.558Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:04:19.558Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:04:19.559Z appoptics:debug using context provider: ace-context
2022-04-25T19:04:19.627Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:04:19.760Z appoptics:patching patched crypto 
2022-04-25T19:04:19.781Z appoptics:patching patched https 
2022-04-25T19:04:19.782Z appoptics:patching patched http 
2022-04-25T19:04:19.823Z appoptics:patching patched zlib 
2022-04-25T19:04:19.844Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:04:19.845Z appoptics:patching patched fs 
2022-04-25T19:04:19.884Z appoptics:patching patched express 4.15.5
2022-04-25T19:04:19.889Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:04:19.895Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.5
    ✓ UDP might lose a message
2022-04-25T19:04:19.934Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (252ms)


added 11 packages, removed 2 packages, changed 11 packages, and audited 942 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:04:28.540Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:04:28.541Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:04:28.541Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:04:28.542Z appoptics:debug using context provider: ace-context
2022-04-25T19:04:28.610Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:04:28.738Z appoptics:patching patched crypto 
2022-04-25T19:04:28.758Z appoptics:patching patched https 
2022-04-25T19:04:28.759Z appoptics:patching patched http 
2022-04-25T19:04:28.803Z appoptics:patching patched zlib 
2022-04-25T19:04:28.824Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:04:28.824Z appoptics:patching patched fs 
2022-04-25T19:04:28.896Z appoptics:patching patched raw-body 2.3.2
2022-04-25T19:04:28.922Z appoptics:patching patched express 4.16.0
2022-04-25T19:04:28.929Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:04:28.946Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.0
    ✓ UDP might lose a message
2022-04-25T19:04:29.015Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (270ms)


changed 4 packages, and audited 942 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:04:36.556Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:04:36.557Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:04:36.557Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:04:36.558Z appoptics:debug using context provider: ace-context
2022-04-25T19:04:36.666Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:04:36.819Z appoptics:patching patched crypto 
2022-04-25T19:04:36.866Z appoptics:patching patched https 
2022-04-25T19:04:36.867Z appoptics:patching patched http 
2022-04-25T19:04:36.915Z appoptics:patching patched zlib 
2022-04-25T19:04:36.940Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:04:36.940Z appoptics:patching patched fs 
2022-04-25T19:04:37.045Z appoptics:patching patched raw-body 2.3.2
2022-04-25T19:04:37.055Z appoptics:patching patched express 4.16.1
2022-04-25T19:04:37.063Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:04:37.075Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.1
    ✓ UDP might lose a message
2022-04-25T19:04:37.181Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (126ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (348ms)


changed 1 package, and audited 942 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:04:44.431Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:04:44.431Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:04:44.431Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:04:44.432Z appoptics:debug using context provider: ace-context
2022-04-25T19:04:44.503Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:04:44.640Z appoptics:patching patched crypto 
2022-04-25T19:04:44.661Z appoptics:patching patched https 
2022-04-25T19:04:44.662Z appoptics:patching patched http 
2022-04-25T19:04:44.704Z appoptics:patching patched zlib 
2022-04-25T19:04:44.726Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:04:44.727Z appoptics:patching patched fs 
2022-04-25T19:04:44.780Z appoptics:patching patched raw-body 2.3.2
2022-04-25T19:04:44.786Z appoptics:patching patched express 4.16.2
2022-04-25T19:04:44.791Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:04:44.797Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.2
    ✓ UDP might lose a message
2022-04-25T19:04:44.839Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (242ms)


removed 10 packages, changed 6 packages, and audited 932 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:04:53.273Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:04:53.274Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:04:53.274Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:04:53.275Z appoptics:debug using context provider: ace-context
2022-04-25T19:04:53.345Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:04:53.482Z appoptics:patching patched crypto 
2022-04-25T19:04:53.504Z appoptics:patching patched https 
2022-04-25T19:04:53.504Z appoptics:patching patched http 
2022-04-25T19:04:53.547Z appoptics:patching patched zlib 
2022-04-25T19:04:53.568Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:04:53.568Z appoptics:patching patched fs 
2022-04-25T19:04:53.615Z appoptics:patching patched raw-body 2.3.2
2022-04-25T19:04:53.622Z appoptics:patching patched express 4.16.3
2022-04-25T19:04:53.626Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:04:53.633Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.3
    ✓ UDP might lose a message
2022-04-25T19:04:53.674Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (248ms)


removed 3 packages, changed 6 packages, and audited 929 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:05:01.829Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:05:01.830Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:05:01.830Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:05:01.831Z appoptics:debug using context provider: ace-context
2022-04-25T19:05:01.980Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:05:02.316Z appoptics:patching patched crypto 
2022-04-25T19:05:02.363Z appoptics:patching patched https 
2022-04-25T19:05:02.364Z appoptics:patching patched http 
2022-04-25T19:05:02.411Z appoptics:patching patched zlib 
2022-04-25T19:05:02.439Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:05:02.439Z appoptics:patching patched fs 
2022-04-25T19:05:02.490Z appoptics:patching patched raw-body 2.3.3
2022-04-25T19:05:02.496Z appoptics:patching patched express 4.16.4
2022-04-25T19:05:02.501Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:05:02.508Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.4
    ✓ UDP might lose a message
2022-04-25T19:05:02.553Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (288ms)


added 13 packages, removed 5 packages, changed 15 packages, and audited 937 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:05:10.345Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:05:10.346Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:05:10.346Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:05:10.347Z appoptics:debug using context provider: ace-context
2022-04-25T19:05:10.428Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:05:10.569Z appoptics:patching patched crypto 
2022-04-25T19:05:10.591Z appoptics:patching patched https 
2022-04-25T19:05:10.591Z appoptics:patching patched http 
2022-04-25T19:05:10.633Z appoptics:patching patched zlib 
2022-04-25T19:05:10.655Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:05:10.655Z appoptics:patching patched fs 
2022-04-25T19:05:10.703Z appoptics:patching patched raw-body 2.4.0
2022-04-25T19:05:10.710Z appoptics:patching patched express 4.17.0
2022-04-25T19:05:10.715Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:05:10.722Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.0
    ✓ UDP might lose a message
2022-04-25T19:05:10.762Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (232ms)


changed 1 package, and audited 937 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:05:19.190Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:05:19.190Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:05:19.190Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:05:19.191Z appoptics:debug using context provider: ace-context
2022-04-25T19:05:19.262Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:05:19.397Z appoptics:patching patched crypto 
2022-04-25T19:05:19.418Z appoptics:patching patched https 
2022-04-25T19:05:19.419Z appoptics:patching patched http 
2022-04-25T19:05:19.465Z appoptics:patching patched zlib 
2022-04-25T19:05:19.487Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:05:19.488Z appoptics:patching patched fs 
2022-04-25T19:05:19.532Z appoptics:patching patched raw-body 2.4.0
2022-04-25T19:05:19.539Z appoptics:patching patched express 4.17.1
2022-04-25T19:05:19.543Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:05:19.550Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.1
    ✓ UDP might lose a message
2022-04-25T19:05:19.590Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (244ms)


removed 9 packages, changed 14 packages, and audited 928 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:05:27.715Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:05:27.716Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:05:27.716Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:05:27.717Z appoptics:debug using context provider: ace-context
2022-04-25T19:05:27.848Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:05:28.076Z appoptics:patching patched crypto 
2022-04-25T19:05:28.132Z appoptics:patching patched https 
2022-04-25T19:05:28.133Z appoptics:patching patched http 
2022-04-25T19:05:28.183Z appoptics:patching patched zlib 
2022-04-25T19:05:28.211Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:05:28.212Z appoptics:patching patched fs 
2022-04-25T19:05:28.267Z appoptics:patching patched raw-body 2.4.2
2022-04-25T19:05:28.275Z appoptics:patching patched express 4.17.2
2022-04-25T19:05:28.280Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:05:28.286Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.2
    ✓ UDP might lose a message
2022-04-25T19:05:28.324Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (233ms)


removed 1 package, changed 5 packages, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T19:05:35.808Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T19:05:35.809Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T19:05:35.809Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T19:05:35.810Z appoptics:debug using context provider: ace-context
2022-04-25T19:05:35.881Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T19:05:36.030Z appoptics:patching patched crypto 
2022-04-25T19:05:36.054Z appoptics:patching patched https 
2022-04-25T19:05:36.055Z appoptics:patching patched http 
2022-04-25T19:05:36.105Z appoptics:patching patched zlib 
2022-04-25T19:05:36.126Z appoptics:patching fs.realpath - adding native method
2022-04-25T19:05:36.126Z appoptics:patching patched fs 
2022-04-25T19:05:36.169Z appoptics:patching patched raw-body 2.4.3
2022-04-25T19:05:36.176Z appoptics:patching patched express 4.17.3
2022-04-25T19:05:36.181Z appoptics:patching patched morgan 1.10.0
2022-04-25T19:05:36.187Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.3
    ✓ UDP might lose a message
2022-04-25T19:05:36.237Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (253ms)


up to date, audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
