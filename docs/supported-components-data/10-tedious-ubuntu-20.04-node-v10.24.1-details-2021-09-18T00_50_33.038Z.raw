npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@0.1.5: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@0.1.5
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@0.1.5
added 2 packages from 2 contributors, removed 26 packages, updated 2 packages and audited 1070 packages in 5.433s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:50:40.044Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:40.046Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:40.046Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:40.047Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:40.189Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:40.250Z appoptics:patching patched crypto 
2021-09-18T00:50:40.296Z appoptics:patching patched https 
2021-09-18T00:50:40.296Z appoptics:patching patched http 
2021-09-18T00:50:40.394Z appoptics:patching patched tedious 0.1.5
2021-09-18T00:50:40.399Z appoptics:debug starting runtimeMetrics


  probes.tedious 0.1.5
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 0.1.5
       should support basic queries with a database name:
     Uncaught TypeError: Cannot create property 'error@context' on string 'Login failed; one or more errorMessage events should have been emitted'
      at Connection.clsBind (node_modules/ace-context/context.js:266:33)
      at Connection.emitted (node_modules/emitter-listener/listener.js:134:21)
      at Connection.processLogin7Response (node_modules/tedious/lib/connection.js:592:12)
      at Connection.message (node_modules/tedious/lib/connection.js:153:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:465:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:419:20)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:59:21)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 0.1.5
       should support parameters with a database name:
     Uncaught TypeError: Cannot create property 'error@context' on string 'Login failed; one or more errorMessage events should have been emitted'
      at Connection.clsBind (node_modules/ace-context/context.js:266:33)
      at Connection.emitted (node_modules/emitter-listener/listener.js:134:21)
      at Connection.processLogin7Response (node_modules/tedious/lib/connection.js:592:12)
      at Connection.message (node_modules/tedious/lib/connection.js:153:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:465:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:419:20)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:59:21)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 0.1.5
       should support sanitization with a database name:
     Uncaught TypeError: Cannot create property 'error@context' on string 'Login failed; one or more errorMessage events should have been emitted'
      at Connection.clsBind (node_modules/ace-context/context.js:266:33)
      at Connection.emitted (node_modules/emitter-listener/listener.js:134:21)
      at Connection.processLogin7Response (node_modules/tedious/lib/connection.js:592:12)
      at Connection.message (node_modules/tedious/lib/connection.js:153:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:465:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:419:20)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:59:21)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 0.1.5
       should support basic queries with no database name:
     Uncaught TypeError: Cannot create property 'error@context' on string 'Login failed; one or more errorMessage events should have been emitted'
      at Connection.clsBind (node_modules/ace-context/context.js:266:33)
      at Connection.emitted (node_modules/emitter-listener/listener.js:134:21)
      at Connection.processLogin7Response (node_modules/tedious/lib/connection.js:592:12)
      at Connection.message (node_modules/tedious/lib/connection.js:153:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:465:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:419:20)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:59:21)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 0.1.5
       should support parameters with no database name:
     Uncaught TypeError: Cannot create property 'error@context' on string 'Login failed; one or more errorMessage events should have been emitted'
      at Connection.clsBind (node_modules/ace-context/context.js:266:33)
      at Connection.emitted (node_modules/emitter-listener/listener.js:134:21)
      at Connection.processLogin7Response (node_modules/tedious/lib/connection.js:592:12)
      at Connection.message (node_modules/tedious/lib/connection.js:153:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:465:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:419:20)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:59:21)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 0.1.5
       should support sanitization with no database name:
     Uncaught TypeError: Cannot create property 'error@context' on string 'Login failed; one or more errorMessage events should have been emitted'
      at Connection.clsBind (node_modules/ace-context/context.js:266:33)
      at Connection.emitted (node_modules/emitter-listener/listener.js:134:21)
      at Connection.processLogin7Response (node_modules/tedious/lib/connection.js:592:12)
      at Connection.message (node_modules/tedious/lib/connection.js:153:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:465:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:419:20)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:59:21)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@0.2.1: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@0.2.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@0.2.1
updated 2 packages and audited 1070 packages in 5.698s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:50:49.684Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:49.685Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:49.686Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:49.686Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:49.750Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:49.814Z appoptics:patching patched crypto 
2021-09-18T00:50:49.844Z appoptics:patching patched https 
2021-09-18T00:50:49.844Z appoptics:patching patched http 
2021-09-18T00:50:49.956Z appoptics:patching patched tedious 0.2.1
2021-09-18T00:50:49.961Z appoptics:debug starting runtimeMetrics


  probes.tedious 0.2.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 0.2.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:674:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:572:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 0.2.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:674:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:572:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 0.2.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:674:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:572:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 0.2.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:674:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:572:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 0.2.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:674:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:572:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 0.2.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:674:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:572:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@0.2.2: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@0.2.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@0.2.2
updated 1 package and audited 1070 packages in 5.492s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:50:58.904Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:58.906Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:58.906Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:58.907Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:58.967Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:59.024Z appoptics:patching patched crypto 
2021-09-18T00:50:59.055Z appoptics:patching patched https 
2021-09-18T00:50:59.056Z appoptics:patching patched http 
2021-09-18T00:50:59.156Z appoptics:patching patched tedious 0.2.2
2021-09-18T00:50:59.169Z appoptics:debug starting runtimeMetrics


  probes.tedious 0.2.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 0.2.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 0.2.2
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 0.2.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 0.2.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 0.2.2
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 0.2.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@0.2.3: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@0.2.3
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@0.2.3
removed 1 package, updated 1 package and audited 1069 packages in 4.731s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:07.379Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:07.381Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:07.381Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:07.382Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:07.436Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:07.484Z appoptics:patching patched crypto 
2021-09-18T00:51:07.513Z appoptics:patching patched https 
2021-09-18T00:51:07.513Z appoptics:patching patched http 
2021-09-18T00:51:07.629Z appoptics:patching patched tedious 0.2.3
2021-09-18T00:51:07.635Z appoptics:debug starting runtimeMetrics


  probes.tedious 0.2.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 0.2.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 0.2.3
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 0.2.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 0.2.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 0.2.3
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 0.2.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@0.2.4: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@0.2.4
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@0.2.4
updated 2 packages and audited 1069 packages in 5.172s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:16.329Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:16.331Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:16.331Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:16.332Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:16.393Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:16.441Z appoptics:patching patched crypto 
2021-09-18T00:51:16.470Z appoptics:patching patched https 
2021-09-18T00:51:16.470Z appoptics:patching patched http 
2021-09-18T00:51:16.523Z appoptics:patching patched tedious 0.2.4
2021-09-18T00:51:16.529Z appoptics:debug starting runtimeMetrics


  probes.tedious 0.2.4
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 0.2.4
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:339:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:707:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:605:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:537:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 0.2.4
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:339:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:707:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:605:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:537:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 0.2.4
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:339:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:707:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:605:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:537:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 0.2.4
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:339:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:707:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:605:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:537:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 0.2.4
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:339:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:707:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:605:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:537:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 0.2.4
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:339:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:707:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:605:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:537:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@0.3.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@0.3.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@0.3.0
updated 1 package and audited 1069 packages in 6.667s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:26.748Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:26.749Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:26.749Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:26.750Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:26.802Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:26.855Z appoptics:patching patched crypto 
2021-09-18T00:51:26.884Z appoptics:patching patched https 
2021-09-18T00:51:26.884Z appoptics:patching patched http 
2021-09-18T00:51:26.931Z appoptics:patching patched tedious 0.3.0
2021-09-18T00:51:26.938Z appoptics:debug starting runtimeMetrics


  probes.tedious 0.3.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 0.3.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 0.3.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 0.3.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 0.3.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 0.3.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 0.3.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.0.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.0.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.0.0
updated 1 package and audited 1069 packages in 5.933s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:36.290Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:36.291Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:36.292Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:36.292Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:36.354Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:36.429Z appoptics:patching patched crypto 
2021-09-18T00:51:36.474Z appoptics:patching patched https 
2021-09-18T00:51:36.475Z appoptics:patching patched http 
2021-09-18T00:51:36.544Z appoptics:patching patched tedious 1.0.0
2021-09-18T00:51:36.558Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.0.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.0.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.0.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.0.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.0.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.0.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.1.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.1.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.1.0
added 1 package from 1 contributor, updated 1 package and audited 1070 packages in 7.065s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:47.302Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:47.303Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:47.303Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:47.304Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:47.357Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:47.406Z appoptics:patching patched crypto 
2021-09-18T00:51:47.434Z appoptics:patching patched https 
2021-09-18T00:51:47.434Z appoptics:patching patched http 
2021-09-18T00:51:47.483Z appoptics:patching patched tedious 1.1.0
2021-09-18T00:51:47.488Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.1.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.1.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:790:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.1.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:790:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.1.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:790:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.1.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:790:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.1.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:790:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.1.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:790:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.2.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.2.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.2.0
updated 1 package and audited 1070 packages in 4.798s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:55.817Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:55.819Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:55.819Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:55.819Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:55.882Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:55.935Z appoptics:patching patched crypto 
2021-09-18T00:51:55.964Z appoptics:patching patched https 
2021-09-18T00:51:55.964Z appoptics:patching patched http 
2021-09-18T00:51:56.031Z appoptics:patching patched tedious 1.2.0
2021-09-18T00:51:56.037Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.2.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.2.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.2.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.2.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.2.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.2.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.2.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.2.1: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.2.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.2.1
updated 1 package and audited 1070 packages in 5.324s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:52:04.787Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:04.789Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:04.789Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:04.790Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:04.842Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:04.890Z appoptics:patching patched crypto 
2021-09-18T00:52:04.917Z appoptics:patching patched https 
2021-09-18T00:52:04.918Z appoptics:patching patched http 
2021-09-18T00:52:04.965Z appoptics:patching patched tedious 1.2.1
2021-09-18T00:52:04.971Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.2.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.2.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.2.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.2.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.2.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.2.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.2.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.2.2: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.2.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.2.2
updated 1 package and audited 1070 packages in 5.599s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:52:13.916Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:13.918Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:13.918Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:13.919Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:13.971Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:14.019Z appoptics:patching patched crypto 
2021-09-18T00:52:14.047Z appoptics:patching patched https 
2021-09-18T00:52:14.047Z appoptics:patching patched http 
2021-09-18T00:52:14.110Z appoptics:patching patched tedious 1.2.2
2021-09-18T00:52:14.115Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.2.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.2.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.2.2
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.2.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.2.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.2.2
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.2.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.3.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.3.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.3.0
updated 1 package and audited 1070 packages in 5.961s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:52:23.558Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:23.559Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:23.560Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:23.560Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:23.612Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:23.661Z appoptics:patching patched crypto 
2021-09-18T00:52:23.691Z appoptics:patching patched https 
2021-09-18T00:52:23.692Z appoptics:patching patched http 
2021-09-18T00:52:23.742Z appoptics:patching patched tedious 1.3.0
2021-09-18T00:52:23.751Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.3.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.3.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.3.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.3.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.3.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.3.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.3.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.3.1: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.3.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.3.1
updated 1 package and audited 1070 packages in 5.424s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:52:32.657Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:32.659Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:32.659Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:32.660Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:32.716Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:32.765Z appoptics:patching patched crypto 
2021-09-18T00:52:32.799Z appoptics:patching patched https 
2021-09-18T00:52:32.799Z appoptics:patching patched http 
2021-09-18T00:52:32.860Z appoptics:patching patched tedious 1.3.1
2021-09-18T00:52:32.868Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.3.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.3.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.3.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.3.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.3.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.3.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.3.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.3.2: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.3.2
updated 1 package and audited 1070 packages in 5.517s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:52:41.839Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:41.840Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:41.840Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:41.841Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:41.895Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:41.947Z appoptics:patching patched crypto 
2021-09-18T00:52:41.975Z appoptics:patching patched https 
2021-09-18T00:52:41.976Z appoptics:patching patched http 
2021-09-18T00:52:42.030Z appoptics:patching patched tedious 1.3.2
2021-09-18T00:52:42.036Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.3.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.3.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.3.2
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.3.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.3.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.3.2
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.3.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.3.3: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.3.3
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.3.3
updated 1 package and audited 1070 packages in 5.545s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:52:51.121Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:51.123Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:51.123Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:51.123Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:51.175Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:51.232Z appoptics:patching patched crypto 
2021-09-18T00:52:51.263Z appoptics:patching patched https 
2021-09-18T00:52:51.263Z appoptics:patching patched http 
2021-09-18T00:52:51.313Z appoptics:patching patched tedious 1.3.3
2021-09-18T00:52:51.319Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.3.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.3.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.3.3
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.3.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.3.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.3.3
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.3.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.3.4: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.3.4
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.3.4
updated 1 package and audited 1070 packages in 6.103s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:00.910Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:00.911Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:00.911Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:00.912Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:00.976Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:01.038Z appoptics:patching patched crypto 
2021-09-18T00:53:01.067Z appoptics:patching patched https 
2021-09-18T00:53:01.067Z appoptics:patching patched http 
2021-09-18T00:53:01.115Z appoptics:patching patched tedious 1.3.4
2021-09-18T00:53:01.120Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.3.4
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.3.4
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.3.4
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.3.4
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.3.4
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.3.4
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.3.4
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.3.5: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.3.5
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.3.5
updated 1 package and audited 1070 packages in 5.829s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:10.565Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:10.566Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:10.567Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:10.567Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:10.654Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:10.731Z appoptics:patching patched crypto 
2021-09-18T00:53:10.770Z appoptics:patching patched https 
2021-09-18T00:53:10.770Z appoptics:patching patched http 
2021-09-18T00:53:10.833Z appoptics:patching patched tedious 1.3.5
2021-09-18T00:53:10.842Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.3.5
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.3.5
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.3.5
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.3.5
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.3.5
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.3.5
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.3.5
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.4.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.4.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.4.0
updated 1 package and audited 1070 packages in 4.951s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:19.306Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:19.307Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:19.308Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:19.308Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:19.360Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:19.409Z appoptics:patching patched crypto 
2021-09-18T00:53:19.437Z appoptics:patching patched https 
2021-09-18T00:53:19.437Z appoptics:patching patched http 
2021-09-18T00:53:19.488Z appoptics:patching patched tedious 1.4.0
2021-09-18T00:53:19.494Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.4.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.4.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.4.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.4.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.4.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.4.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.4.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.4.1: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.4.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.4.1
updated 1 package and audited 1070 packages in 5.878s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:29.346Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:29.348Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:29.348Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:29.349Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:29.401Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:29.450Z appoptics:patching patched crypto 
2021-09-18T00:53:29.479Z appoptics:patching patched https 
2021-09-18T00:53:29.479Z appoptics:patching patched http 
2021-09-18T00:53:29.530Z appoptics:patching patched tedious 1.4.1
2021-09-18T00:53:29.535Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.4.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.4.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.4.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.4.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.4.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.4.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.4.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.4.2: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.4.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.4.2
updated 1 package and audited 1070 packages in 5.857s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:38.913Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:38.914Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:38.915Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:38.915Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:38.967Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:39.018Z appoptics:patching patched crypto 
2021-09-18T00:53:39.045Z appoptics:patching patched https 
2021-09-18T00:53:39.045Z appoptics:patching patched http 
2021-09-18T00:53:39.092Z appoptics:patching patched tedious 1.4.2
2021-09-18T00:53:39.097Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.4.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.4.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.4.2
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.4.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.4.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.4.2
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.4.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.4.3: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.4.3
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.4.3
updated 1 package and audited 1070 packages in 6.334s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:48.944Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:48.945Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:48.946Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:48.947Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:49.004Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:49.052Z appoptics:patching patched crypto 
2021-09-18T00:53:49.086Z appoptics:patching patched https 
2021-09-18T00:53:49.086Z appoptics:patching patched http 
2021-09-18T00:53:49.136Z appoptics:patching patched tedious 1.4.3
2021-09-18T00:53:49.142Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.4.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.4.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.4.3
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.4.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.4.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.4.3
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.4.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.5.1: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.5.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.5.1
updated 1 package and audited 1070 packages in 5.472s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:58.033Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:58.034Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:58.034Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:58.035Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:58.088Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:58.149Z appoptics:patching patched crypto 
2021-09-18T00:53:58.203Z appoptics:patching patched https 
2021-09-18T00:53:58.203Z appoptics:patching patched http 
2021-09-18T00:53:58.340Z appoptics:patching patched tedious 1.5.1
2021-09-18T00:53:58.355Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.5.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:848:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:712:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:640:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.5.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:848:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:712:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:640:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.5.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:848:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:712:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:640:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.5.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:848:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:712:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:640:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.5.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:848:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:712:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:640:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.5.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:848:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:712:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:640:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.5.2: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.5.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.5.2
updated 1 package and audited 1070 packages in 4.923s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:54:06.885Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:06.887Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:06.887Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:06.888Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:06.952Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:07.010Z appoptics:patching patched crypto 
2021-09-18T00:54:07.040Z appoptics:patching patched https 
2021-09-18T00:54:07.041Z appoptics:patching patched http 
2021-09-18T00:54:07.109Z appoptics:patching patched tedious 1.5.2
2021-09-18T00:54:07.116Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.5.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:720:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:648:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.5.2
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:720:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:648:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.5.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:720:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:648:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.5.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:720:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:648:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.5.2
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:720:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:648:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.5.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:720:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:648:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.5.3: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.5.3
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.5.3
updated 1 package and audited 1070 packages in 6.061s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:54:16.637Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:16.638Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:16.639Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:16.639Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:16.693Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:16.741Z appoptics:patching patched crypto 
2021-09-18T00:54:16.774Z appoptics:patching patched https 
2021-09-18T00:54:16.774Z appoptics:patching patched http 
2021-09-18T00:54:16.839Z appoptics:patching patched tedious 1.5.3
2021-09-18T00:54:16.845Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.5.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.5.3
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.5.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.5.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.5.3
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.5.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.5.4: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.5.4
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.5.4
updated 1 package and audited 1070 packages in 6.183s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:54:26.478Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:26.479Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:26.479Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:26.480Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:26.532Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:26.577Z appoptics:patching patched crypto 
2021-09-18T00:54:26.605Z appoptics:patching patched https 
2021-09-18T00:54:26.606Z appoptics:patching patched http 
2021-09-18T00:54:26.655Z appoptics:patching patched tedious 1.5.4
2021-09-18T00:54:26.660Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.4
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.5.4
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.5.4
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.5.4
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.5.4
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.5.4
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.5.4
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.5.5: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.5.5
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.5.5
updated 1 package and audited 1070 packages in 5.148s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:54:35.397Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:35.399Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:35.399Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:35.400Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:35.470Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:35.531Z appoptics:patching patched crypto 
2021-09-18T00:54:35.562Z appoptics:patching patched https 
2021-09-18T00:54:35.562Z appoptics:patching patched http 
2021-09-18T00:54:35.629Z appoptics:patching patched tedious 1.5.5
2021-09-18T00:54:35.637Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.5
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.5.5
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:859:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:650:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.5.5
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:859:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:650:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.5.5
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:859:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:650:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.5.5
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:859:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:650:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.5.5
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:859:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:650:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.5.5
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:859:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:650:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.5.6: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.5.6
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.5.6
updated 1 package and audited 1070 packages in 5.108s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:54:44.252Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:44.253Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:44.253Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:44.254Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:44.304Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:44.353Z appoptics:patching patched crypto 
2021-09-18T00:54:44.381Z appoptics:patching patched https 
2021-09-18T00:54:44.382Z appoptics:patching patched http 
2021-09-18T00:54:44.455Z appoptics:patching patched tedious 1.5.6
2021-09-18T00:54:44.464Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.6
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.5.6
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:862:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:725:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:653:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.5.6
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:862:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:725:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:653:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.5.6
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:862:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:725:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:653:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.5.6
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:862:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:725:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:653:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.5.6
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:862:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:725:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:653:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.5.6
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:862:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:725:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:653:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.5.7: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.5.7
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.5.7
updated 1 package and audited 1070 packages in 5.859s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:54:53.944Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:53.946Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:53.946Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:53.947Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:54.014Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:54.073Z appoptics:patching patched crypto 
2021-09-18T00:54:54.102Z appoptics:patching patched https 
2021-09-18T00:54:54.102Z appoptics:patching patched http 
2021-09-18T00:54:54.165Z appoptics:patching patched tedious 1.5.7
2021-09-18T00:54:54.171Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.7
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.5.7
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:866:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:729:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:657:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.5.7
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:866:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:729:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:657:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.5.7
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:866:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:729:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:657:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.5.7
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:866:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:729:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:657:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.5.7
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:866:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:729:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:657:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.5.7
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:866:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:729:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:657:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.5.8: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.5.8
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.5.8
updated 1 package and audited 1070 packages in 6.053s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:03.626Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:03.627Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:03.628Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:03.628Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:03.684Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:03.736Z appoptics:patching patched crypto 
2021-09-18T00:55:03.776Z appoptics:patching patched https 
2021-09-18T00:55:03.777Z appoptics:patching patched http 
2021-09-18T00:55:03.854Z appoptics:patching patched tedious 1.5.8
2021-09-18T00:55:03.860Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.8
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.5.8
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.5.8
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.5.8
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.5.8
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.5.8
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.5.8
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.6.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.6.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.6.0
updated 1 package and audited 1070 packages in 5.636s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:13.117Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:13.121Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:13.121Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:13.122Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:13.215Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:13.266Z appoptics:patching patched crypto 
2021-09-18T00:55:13.293Z appoptics:patching patched https 
2021-09-18T00:55:13.294Z appoptics:patching patched http 
2021-09-18T00:55:13.341Z appoptics:patching patched tedious 1.6.0
2021-09-18T00:55:13.346Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.6.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.6.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.6.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.6.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.6.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.6.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.6.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.7.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.7.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.7.0
updated 1 package and audited 1070 packages in 4.888s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:21.721Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:21.722Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:21.723Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:21.723Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:21.774Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:21.821Z appoptics:patching patched crypto 
2021-09-18T00:55:21.849Z appoptics:patching patched https 
2021-09-18T00:55:21.849Z appoptics:patching patched http 
2021-09-18T00:55:21.898Z appoptics:patching patched tedious 1.7.0
2021-09-18T00:55:21.903Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.7.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.7.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.7.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.7.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.7.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.7.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.7.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.8.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.8.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.8.0
updated 1 package and audited 1070 packages in 5.563s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:31.081Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:31.083Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:31.083Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:31.084Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:31.147Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:31.202Z appoptics:patching patched crypto 
2021-09-18T00:55:31.231Z appoptics:patching patched https 
2021-09-18T00:55:31.231Z appoptics:patching patched http 
2021-09-18T00:55:31.284Z appoptics:patching patched tedious 1.8.0
2021-09-18T00:55:31.290Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.8.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.8.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:868:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.8.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:868:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.8.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:868:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.8.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:868:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.8.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:868:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.8.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:868:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.8.1: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.8.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.8.1
updated 1 package and audited 1070 packages in 6.071s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:40.775Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:40.777Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:40.777Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:40.778Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:40.829Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:40.879Z appoptics:patching patched crypto 
2021-09-18T00:55:40.907Z appoptics:patching patched https 
2021-09-18T00:55:40.907Z appoptics:patching patched http 
2021-09-18T00:55:40.981Z appoptics:patching patched tedious 1.8.1
2021-09-18T00:55:40.986Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.8.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.8.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:876:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:739:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:667:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.8.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:876:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:739:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:667:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.8.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:876:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:739:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:667:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.8.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:876:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:739:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:667:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.8.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:876:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:739:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:667:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.8.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:876:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:739:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:667:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.9.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.9.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.9.0
updated 1 package and audited 1070 packages in 5.399s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:49.917Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:49.918Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:49.918Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:49.919Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:49.970Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:50.016Z appoptics:patching patched crypto 
2021-09-18T00:55:50.044Z appoptics:patching patched https 
2021-09-18T00:55:50.044Z appoptics:patching patched http 
2021-09-18T00:55:50.098Z appoptics:patching patched tedious 1.9.0
2021-09-18T00:55:50.104Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.9.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.9.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:879:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:742:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:670:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.9.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:879:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:742:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:670:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.9.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:879:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:742:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:670:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.9.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:879:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:742:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:670:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.9.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:879:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:742:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:670:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.9.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:879:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:742:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:670:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.10.0
updated 4 packages and audited 1070 packages in 5.318s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:58.816Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:58.818Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:58.818Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:58.819Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:58.877Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:58.926Z appoptics:patching patched crypto 
2021-09-18T00:55:58.955Z appoptics:patching patched https 
2021-09-18T00:55:58.956Z appoptics:patching patched http 
2021-09-18T00:55:59.006Z appoptics:patching patched tedious 1.10.0
2021-09-18T00:55:59.011Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.10.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.10.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:453:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:888:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:749:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:677:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.10.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:453:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:888:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:749:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:677:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.10.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:453:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:888:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:749:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:677:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.10.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:453:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:888:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:749:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:677:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.10.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:453:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:888:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:749:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:677:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.10.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:453:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:888:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:749:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:677:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.11.0
updated 1 package and audited 1070 packages in 5.081s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:56:07.564Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:07.565Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:07.565Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:07.566Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:07.618Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:07.667Z appoptics:patching patched crypto 
2021-09-18T00:56:07.695Z appoptics:patching patched https 
2021-09-18T00:56:07.695Z appoptics:patching patched http 
2021-09-18T00:56:07.751Z appoptics:patching patched tedious 1.11.0
2021-09-18T00:56:07.757Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.11.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.11.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.11.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.11.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.11.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.11.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.11.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.11.1
updated 1 package and audited 1070 packages in 5.884s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:56:17.154Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:17.155Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:17.155Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:17.156Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:17.210Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:17.262Z appoptics:patching patched crypto 
2021-09-18T00:56:17.290Z appoptics:patching patched https 
2021-09-18T00:56:17.290Z appoptics:patching patched http 
2021-09-18T00:56:17.354Z appoptics:patching patched tedious 1.11.1
2021-09-18T00:56:17.359Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.11.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.11.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.11.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.11.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.11.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.11.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.11.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.11.2
updated 1 package and audited 1070 packages in 5.32s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:56:26.150Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:26.152Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:26.152Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:26.153Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:26.213Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:26.268Z appoptics:patching patched crypto 
2021-09-18T00:56:26.296Z appoptics:patching patched https 
2021-09-18T00:56:26.297Z appoptics:patching patched http 
2021-09-18T00:56:26.353Z appoptics:patching patched tedious 1.11.2
2021-09-18T00:56:26.358Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.11.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.11.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.11.2
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.11.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.11.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.11.2
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.11.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.11.4
updated 1 package and audited 1070 packages in 5.527s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:56:35.388Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:35.389Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:35.389Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:35.390Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:35.464Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:35.515Z appoptics:patching patched crypto 
2021-09-18T00:56:35.563Z appoptics:patching patched https 
2021-09-18T00:56:35.564Z appoptics:patching patched http 
2021-09-18T00:56:35.662Z appoptics:patching patched tedious 1.11.4
2021-09-18T00:56:35.676Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.11.4
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.11.4
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.11.4
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.11.4
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.11.4
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.11.4
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.11.4
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.11.5
updated 1 package and audited 1070 packages in 5.476s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:56:44.810Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:44.811Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:44.812Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:44.812Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:44.864Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:44.911Z appoptics:patching patched crypto 
2021-09-18T00:56:44.939Z appoptics:patching patched https 
2021-09-18T00:56:44.939Z appoptics:patching patched http 
2021-09-18T00:56:44.992Z appoptics:patching patched tedious 1.11.5
2021-09-18T00:56:44.998Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.11.5
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.11.5
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:454:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:890:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:750:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:678:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:57)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.11.5
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:454:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:890:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:750:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:678:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:57)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.11.5
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:454:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:890:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:750:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:678:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:57)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.11.5
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:454:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:890:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:750:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:678:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:57)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.11.5
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:454:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:890:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:750:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:678:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:57)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.11.5
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:454:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:890:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:750:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:678:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:57)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@1.2.7: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.12.0
added 3 packages from 1 contributor, removed 1 package, updated 1 package and audited 1072 packages in 6.632s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:56:55.128Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:55.129Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:55.129Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:55.130Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:55.186Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:55.239Z appoptics:patching patched crypto 
2021-09-18T00:56:55.275Z appoptics:patching patched https 
2021-09-18T00:56:55.276Z appoptics:patching patched http 
2021-09-18T00:56:55.386Z appoptics:patching patched tedious 1.12.0
2021-09-18T00:56:55.391Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.12.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.12.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:493:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:928:35)
      at Connection.data (node_modules/tedious/lib/connection.js:213:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:789:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:717:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:131:15)

  2) probes.tedious 1.12.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:493:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:928:35)
      at Connection.data (node_modules/tedious/lib/connection.js:213:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:789:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:717:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:131:15)

  3) probes.tedious 1.12.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:493:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:928:35)
      at Connection.data (node_modules/tedious/lib/connection.js:213:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:789:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:717:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:131:15)

  4) probes.tedious 1.12.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:493:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:928:35)
      at Connection.data (node_modules/tedious/lib/connection.js:213:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:789:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:717:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:131:15)

  5) probes.tedious 1.12.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:493:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:928:35)
      at Connection.data (node_modules/tedious/lib/connection.js:213:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:789:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:717:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:131:15)

  6) probes.tedious 1.12.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:493:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:928:35)
      at Connection.data (node_modules/tedious/lib/connection.js:213:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:789:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:717:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:131:15)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@1.2.7: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.12.1
updated 1 package and audited 1072 packages in 6.319s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:57:05.178Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:05.180Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:05.180Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:05.181Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:05.235Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:05.285Z appoptics:patching patched crypto 
2021-09-18T00:57:05.316Z appoptics:patching patched https 
2021-09-18T00:57:05.316Z appoptics:patching patched http 
2021-09-18T00:57:05.403Z appoptics:patching patched tedious 1.12.1
2021-09-18T00:57:05.408Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.12.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.12.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  2) probes.tedious 1.12.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  3) probes.tedious 1.12.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  4) probes.tedious 1.12.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  5) probes.tedious 1.12.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  6) probes.tedious 1.12.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@1.2.7: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.12.2
updated 1 package and audited 1072 packages in 7.114s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:57:16.094Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:16.096Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:16.096Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:16.097Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:16.174Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:16.245Z appoptics:patching patched crypto 
2021-09-18T00:57:16.283Z appoptics:patching patched https 
2021-09-18T00:57:16.283Z appoptics:patching patched http 
2021-09-18T00:57:16.380Z appoptics:patching patched tedious 1.12.2
2021-09-18T00:57:16.385Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.12.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.12.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  2) probes.tedious 1.12.2
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  3) probes.tedious 1.12.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  4) probes.tedious 1.12.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  5) probes.tedious 1.12.2
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  6) probes.tedious 1.12.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@1.2.7: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.12.3
updated 1 package and audited 1072 packages in 5.738s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:57:25.842Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:25.844Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:25.845Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:25.845Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:25.925Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:26.007Z appoptics:patching patched crypto 
2021-09-18T00:57:26.047Z appoptics:patching patched https 
2021-09-18T00:57:26.047Z appoptics:patching patched http 
2021-09-18T00:57:26.167Z appoptics:patching patched tedious 1.12.3
2021-09-18T00:57:26.173Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.12.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.12.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:482:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:897:35)
      at Connection.data (node_modules/tedious/lib/connection.js:202:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:779:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:706:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  2) probes.tedious 1.12.3
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:482:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:897:35)
      at Connection.data (node_modules/tedious/lib/connection.js:202:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:779:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:706:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  3) probes.tedious 1.12.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:482:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:897:35)
      at Connection.data (node_modules/tedious/lib/connection.js:202:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:779:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:706:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  4) probes.tedious 1.12.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:482:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:897:35)
      at Connection.data (node_modules/tedious/lib/connection.js:202:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:779:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:706:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  5) probes.tedious 1.12.3
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:482:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:897:35)
      at Connection.data (node_modules/tedious/lib/connection.js:202:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:779:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:706:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  6) probes.tedious 1.12.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:482:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:897:35)
      at Connection.data (node_modules/tedious/lib/connection.js:202:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:779:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:706:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@1.2.7: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.13.0
updated 1 package and audited 1072 packages in 5.736s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:57:35.627Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:35.629Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:35.629Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:35.630Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:35.693Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:35.752Z appoptics:patching patched crypto 
2021-09-18T00:57:35.786Z appoptics:patching patched https 
2021-09-18T00:57:35.786Z appoptics:patching patched http 
2021-09-18T00:57:35.865Z appoptics:patching patched tedious 1.13.0
2021-09-18T00:57:35.874Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.13.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.13.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  2) probes.tedious 1.13.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  3) probes.tedious 1.13.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  4) probes.tedious 1.13.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  5) probes.tedious 1.13.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  6) probes.tedious 1.13.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@1.2.7: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.13.1
updated 1 package and audited 1072 packages in 6.181s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:57:45.930Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:45.931Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:45.931Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:45.932Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:45.994Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:46.049Z appoptics:patching patched crypto 
2021-09-18T00:57:46.083Z appoptics:patching patched https 
2021-09-18T00:57:46.083Z appoptics:patching patched http 
2021-09-18T00:57:46.182Z appoptics:patching patched tedious 1.13.1
2021-09-18T00:57:46.195Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.13.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.13.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  2) probes.tedious 1.13.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  3) probes.tedious 1.13.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  4) probes.tedious 1.13.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  5) probes.tedious 1.13.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  6) probes.tedious 1.13.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@1.2.7: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.13.2
updated 1 package and audited 1072 packages in 6.192s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:57:56.085Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:56.086Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:56.087Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:56.088Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:56.155Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:56.219Z appoptics:patching patched crypto 
2021-09-18T00:57:56.247Z appoptics:patching patched https 
2021-09-18T00:57:56.247Z appoptics:patching patched http 
2021-09-18T00:57:56.341Z appoptics:patching patched tedious 1.13.2
2021-09-18T00:57:56.347Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.13.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.13.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  2) probes.tedious 1.13.2
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  3) probes.tedious 1.13.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  4) probes.tedious 1.13.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  5) probes.tedious 1.13.2
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  6) probes.tedious 1.13.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@1.2.7: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.14.0
added 1 package, updated 1 package and audited 1073 packages in 5.942s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:58:05.905Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:58:05.907Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:58:05.907Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:58:05.908Z appoptics:debug using context provider: ace-context
2021-09-18T00:58:05.965Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:58:06.015Z appoptics:patching patched crypto 
2021-09-18T00:58:06.044Z appoptics:patching patched https 
2021-09-18T00:58:06.045Z appoptics:patching patched http 
2021-09-18T00:58:06.111Z appoptics:patching patched tedious 1.14.0
2021-09-18T00:58:06.117Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.14.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.14.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:216:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:42:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:87:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:180:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:177:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:422:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:410:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:407:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:421:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:147:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:144:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:420:12)

  2) probes.tedious 1.14.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:216:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:42:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:87:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:180:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:177:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:422:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:410:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:407:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:421:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:147:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:144:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:420:12)

  3) probes.tedious 1.14.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:216:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:42:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:87:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:180:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:177:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:422:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:410:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:407:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:421:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:147:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:144:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:420:12)

  4) probes.tedious 1.14.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:216:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:42:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:87:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:180:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:177:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:422:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:410:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:407:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:421:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:147:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:144:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:420:12)

  5) probes.tedious 1.14.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:216:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:42:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:87:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:180:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:177:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:422:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:410:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:407:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:421:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:147:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:144:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:420:12)

  6) probes.tedious 1.14.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:216:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:42:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:87:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:180:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:177:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:422:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:410:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:407:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:421:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:147:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:144:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:420:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.

> core-js@2.6.12 postinstall /__w/appoptics-apm-node/appoptics-apm-node/node_modules/core-js
> node -e "try{require('./postinstall')}catch(e){}"

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.15.0
added 2 packages from 2 contributors, updated 3 packages, moved 1 package and audited 1075 packages in 7.165s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:58:17.144Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:58:17.146Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:58:17.146Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:58:17.147Z appoptics:debug using context provider: ace-context
2021-09-18T00:58:17.233Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:58:17.298Z appoptics:patching patched crypto 
2021-09-18T00:58:17.335Z appoptics:patching patched https 
2021-09-18T00:58:17.335Z appoptics:patching patched http 
2021-09-18T00:58:17.463Z appoptics:patching patched tedious 1.15.0
2021-09-18T00:58:17.468Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.15.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.15.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:358:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  2) probes.tedious 1.15.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:358:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  3) probes.tedious 1.15.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:358:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  4) probes.tedious 1.15.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:358:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  5) probes.tedious 1.15.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:358:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  6) probes.tedious 1.15.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:358:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.0.0
removed 2 packages, updated 1 package and audited 1073 packages in 5.25s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:58:26.304Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:58:26.306Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:58:26.306Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:58:26.307Z appoptics:debug using context provider: ace-context
2021-09-18T00:58:26.364Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:58:26.417Z appoptics:patching patched crypto 
2021-09-18T00:58:26.448Z appoptics:patching patched https 
2021-09-18T00:58:26.448Z appoptics:patching patched http 
2021-09-18T00:58:26.592Z appoptics:patching patched tedious 2.0.0
2021-09-18T00:58:26.600Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.0.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  2) probes.tedious 2.0.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  3) probes.tedious 2.0.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  4) probes.tedious 2.0.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  5) probes.tedious 2.0.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  6) probes.tedious 2.0.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.0.1
updated 1 package and audited 1073 packages in 6.075s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:58:36.368Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:58:36.369Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:58:36.369Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:58:36.370Z appoptics:debug using context provider: ace-context
2021-09-18T00:58:36.431Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:58:36.491Z appoptics:patching patched crypto 
2021-09-18T00:58:36.523Z appoptics:patching patched https 
2021-09-18T00:58:36.523Z appoptics:patching patched http 
2021-09-18T00:58:36.635Z appoptics:patching patched tedious 2.0.1
2021-09-18T00:58:36.641Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.0.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.0.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  2) probes.tedious 2.0.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  3) probes.tedious 2.0.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  4) probes.tedious 2.0.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  5) probes.tedious 2.0.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  6) probes.tedious 2.0.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.

> sspi-client@0.1.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/sspi-client
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/sspi-client/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/sspi-client
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! sspi-client@0.1.0 install: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the sspi-client@0.1.0 install script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-18T00_58_46_194Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.1.1
added 2 packages from 11 contributors and audited 1073 packages in 6.125s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:58:53.891Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:58:53.893Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:58:53.893Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:58:53.894Z appoptics:debug using context provider: ace-context
2021-09-18T00:58:53.956Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:58:54.010Z appoptics:patching patched crypto 
2021-09-18T00:58:54.044Z appoptics:patching patched https 
2021-09-18T00:58:54.044Z appoptics:patching patched http 
2021-09-18T00:58:54.185Z appoptics:patching patched tedious 2.1.1
2021-09-18T00:58:54.191Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.1.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.1.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.1.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.1.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.1.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.1.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.1.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.1.2
updated 1 package and audited 1073 packages in 5.918s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:59:03.683Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:59:03.684Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:59:03.684Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:59:03.685Z appoptics:debug using context provider: ace-context
2021-09-18T00:59:03.741Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:59:03.804Z appoptics:patching patched crypto 
2021-09-18T00:59:03.835Z appoptics:patching patched https 
2021-09-18T00:59:03.835Z appoptics:patching patched http 
2021-09-18T00:59:03.956Z appoptics:patching patched tedious 2.1.2
2021-09-18T00:59:03.962Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.1.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.1.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.1.2
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.1.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.1.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.1.2
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.1.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.1.3
updated 1 package and audited 1073 packages in 6.367s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:59:13.989Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:59:13.991Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:59:13.991Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:59:13.992Z appoptics:debug using context provider: ace-context
2021-09-18T00:59:14.050Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:59:14.105Z appoptics:patching patched crypto 
2021-09-18T00:59:14.141Z appoptics:patching patched https 
2021-09-18T00:59:14.141Z appoptics:patching patched http 
2021-09-18T00:59:14.246Z appoptics:patching patched tedious 2.1.3
2021-09-18T00:59:14.252Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.1.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.1.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.1.3
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.1.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.1.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.1.3
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.1.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.1.4
updated 1 package and audited 1073 packages in 5.615s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:59:23.673Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:59:23.675Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:59:23.675Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:59:23.676Z appoptics:debug using context provider: ace-context
2021-09-18T00:59:23.750Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:59:23.823Z appoptics:patching patched crypto 
2021-09-18T00:59:23.856Z appoptics:patching patched https 
2021-09-18T00:59:23.857Z appoptics:patching patched http 
2021-09-18T00:59:23.978Z appoptics:patching patched tedious 2.1.4
2021-09-18T00:59:23.984Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.1.4
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.1.4
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.1.4
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.1.4
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.1.4
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.1.4
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.1.4
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.1.5
updated 1 package and audited 1073 packages in 6.562s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:59:34.210Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:59:34.211Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:59:34.212Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:59:34.212Z appoptics:debug using context provider: ace-context
2021-09-18T00:59:34.280Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:59:34.349Z appoptics:patching patched crypto 
2021-09-18T00:59:34.384Z appoptics:patching patched https 
2021-09-18T00:59:34.384Z appoptics:patching patched http 
2021-09-18T00:59:34.505Z appoptics:patching patched tedious 2.1.5
2021-09-18T00:59:34.510Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.1.5
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.1.5
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.1.5
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.1.5
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.1.5
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.1.5
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.1.5
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.2.0
updated 1 package and audited 1073 packages in 6.892s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:59:45.083Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:59:45.085Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:59:45.085Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:59:45.086Z appoptics:debug using context provider: ace-context
2021-09-18T00:59:45.157Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:59:45.212Z appoptics:patching patched crypto 
2021-09-18T00:59:45.245Z appoptics:patching patched https 
2021-09-18T00:59:45.246Z appoptics:patching patched http 
2021-09-18T00:59:45.383Z appoptics:patching patched tedious 2.2.0
2021-09-18T00:59:45.393Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.2.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.2.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.2.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.2.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.2.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.2.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.2.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.2.1
updated 1 package and audited 1073 packages in 5.943s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:59:55.176Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:59:55.177Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:59:55.178Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:59:55.178Z appoptics:debug using context provider: ace-context
2021-09-18T00:59:55.238Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:59:55.295Z appoptics:patching patched crypto 
2021-09-18T00:59:55.329Z appoptics:patching patched https 
2021-09-18T00:59:55.329Z appoptics:patching patched http 
2021-09-18T00:59:55.438Z appoptics:patching patched tedious 2.2.1
2021-09-18T00:59:55.444Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.2.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.2.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.2.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.2.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.2.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.2.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.2.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.2.2
updated 1 package and audited 1073 packages in 5.384s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:00:04.443Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:00:04.444Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:00:04.444Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:00:04.445Z appoptics:debug using context provider: ace-context
2021-09-18T01:00:04.503Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:00:04.558Z appoptics:patching patched crypto 
2021-09-18T01:00:04.592Z appoptics:patching patched https 
2021-09-18T01:00:04.592Z appoptics:patching patched http 
2021-09-18T01:00:04.690Z appoptics:patching patched tedious 2.2.2
2021-09-18T01:00:04.696Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.2.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.2.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.2.2
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.2.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.2.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.2.2
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.2.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.2.3
updated 1 package and audited 1073 packages in 6.298s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:00:14.675Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:00:14.677Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:00:14.677Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:00:14.678Z appoptics:debug using context provider: ace-context
2021-09-18T01:00:14.736Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:00:14.794Z appoptics:patching patched crypto 
2021-09-18T01:00:14.836Z appoptics:patching patched https 
2021-09-18T01:00:14.836Z appoptics:patching patched http 
2021-09-18T01:00:14.937Z appoptics:patching patched tedious 2.2.3
2021-09-18T01:00:14.948Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.2.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.2.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.2.3
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.2.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.2.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.2.3
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.2.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.2.4
updated 1 package and audited 1073 packages in 6.288s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:00:25.157Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:00:25.158Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:00:25.159Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:00:25.159Z appoptics:debug using context provider: ace-context
2021-09-18T01:00:25.214Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:00:25.267Z appoptics:patching patched crypto 
2021-09-18T01:00:25.297Z appoptics:patching patched https 
2021-09-18T01:00:25.298Z appoptics:patching patched http 
2021-09-18T01:00:25.433Z appoptics:patching patched tedious 2.2.4
2021-09-18T01:00:25.441Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.2.4
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.2.4
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.2.4
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.2.4
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.2.4
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.2.4
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.2.4
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.3.0
updated 1 package and audited 1073 packages in 7.766s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:00:36.815Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:00:36.817Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:00:36.817Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:00:36.818Z appoptics:debug using context provider: ace-context
2021-09-18T01:00:36.892Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:00:36.954Z appoptics:patching patched crypto 
2021-09-18T01:00:36.989Z appoptics:patching patched https 
2021-09-18T01:00:36.989Z appoptics:patching patched http 
2021-09-18T01:00:37.122Z appoptics:patching patched tedious 2.3.0
2021-09-18T01:00:37.128Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.3.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.3.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.3.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.3.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.3.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.3.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.3.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.3.1
updated 1 package and audited 1073 packages in 6.637s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:00:47.474Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:00:47.476Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:00:47.476Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:00:47.477Z appoptics:debug using context provider: ace-context
2021-09-18T01:00:47.539Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:00:47.596Z appoptics:patching patched crypto 
2021-09-18T01:00:47.640Z appoptics:patching patched https 
2021-09-18T01:00:47.640Z appoptics:patching patched http 
2021-09-18T01:00:47.763Z appoptics:patching patched tedious 2.3.1
2021-09-18T01:00:47.768Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.3.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.3.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.3.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.3.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.3.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.3.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.3.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.4.0
added 1 package from 1 contributor, removed 1 package, updated 1 package and audited 1073 packages in 6.4s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:00:57.727Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:00:57.729Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:00:57.729Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:00:57.730Z appoptics:debug using context provider: ace-context
2021-09-18T01:00:57.779Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:00:57.825Z appoptics:patching patched crypto 
2021-09-18T01:00:57.853Z appoptics:patching patched https 
2021-09-18T01:00:57.853Z appoptics:patching patched http 
2021-09-18T01:00:57.955Z appoptics:patching patched tedious 2.4.0
2021-09-18T01:00:57.965Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.4.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.4.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.4.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.4.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.4.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.4.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.4.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.5.0
added 1 package from 1 contributor, updated 1 package and audited 1074 packages in 5.227s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:01:06.622Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:01:06.624Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:01:06.624Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:01:06.625Z appoptics:debug using context provider: ace-context
2021-09-18T01:01:06.676Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:01:06.724Z appoptics:patching patched crypto 
2021-09-18T01:01:06.755Z appoptics:patching patched https 
2021-09-18T01:01:06.756Z appoptics:patching patched http 
2021-09-18T01:01:06.863Z appoptics:patching patched tedious 2.5.0
2021-09-18T01:01:06.867Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.5.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.5.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.5.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.5.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.5.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.5.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.5.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.5.1
updated 1 package and audited 1074 packages in 5.26s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:01:15.627Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:01:15.628Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:01:15.628Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:01:15.629Z appoptics:debug using context provider: ace-context
2021-09-18T01:01:15.678Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:01:15.724Z appoptics:patching patched crypto 
2021-09-18T01:01:15.751Z appoptics:patching patched https 
2021-09-18T01:01:15.752Z appoptics:patching patched http 
2021-09-18T01:01:15.857Z appoptics:patching patched tedious 2.5.1
2021-09-18T01:01:15.862Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.5.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.5.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.5.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.5.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.5.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.5.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.5.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.6.0
updated 1 package and audited 1074 packages in 5.79s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:01:25.254Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:01:25.256Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:01:25.256Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:01:25.257Z appoptics:debug using context provider: ace-context
2021-09-18T01:01:25.322Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:01:25.383Z appoptics:patching patched crypto 
2021-09-18T01:01:25.412Z appoptics:patching patched https 
2021-09-18T01:01:25.412Z appoptics:patching patched http 
2021-09-18T01:01:25.514Z appoptics:patching patched tedious 2.6.0
2021-09-18T01:01:25.520Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.6.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.6.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.6.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.6.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.6.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.6.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.6.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.6.1
updated 1 package and audited 1074 packages in 5.728s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:01:34.755Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:01:34.757Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:01:34.757Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:01:34.758Z appoptics:debug using context provider: ace-context
2021-09-18T01:01:34.812Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:01:34.864Z appoptics:patching patched crypto 
2021-09-18T01:01:34.894Z appoptics:patching patched https 
2021-09-18T01:01:34.895Z appoptics:patching patched http 
2021-09-18T01:01:35.000Z appoptics:patching patched tedious 2.6.1
2021-09-18T01:01:35.005Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.6.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.6.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.6.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.6.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.6.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.6.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.6.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.6.2
updated 1 package and audited 1074 packages in 4.948s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:01:43.435Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:01:43.436Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:01:43.436Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:01:43.437Z appoptics:debug using context provider: ace-context
2021-09-18T01:01:43.501Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:01:43.561Z appoptics:patching patched crypto 
2021-09-18T01:01:43.590Z appoptics:patching patched https 
2021-09-18T01:01:43.591Z appoptics:patching patched http 
2021-09-18T01:01:43.737Z appoptics:patching patched tedious 2.6.2
2021-09-18T01:01:43.743Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.6.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.6.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.6.2
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.6.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.6.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.6.2
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.6.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.6.3
updated 1 package and audited 1074 packages in 5.109s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:01:52.488Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:01:52.490Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:01:52.490Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:01:52.491Z appoptics:debug using context provider: ace-context
2021-09-18T01:01:52.548Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:01:52.600Z appoptics:patching patched crypto 
2021-09-18T01:01:52.629Z appoptics:patching patched https 
2021-09-18T01:01:52.630Z appoptics:patching patched http 
2021-09-18T01:01:52.744Z appoptics:patching patched tedious 2.6.3
2021-09-18T01:01:52.759Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.6.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.6.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.6.3
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.6.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.6.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.6.3
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.6.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.6.4
added 1 package from 1 contributor, updated 1 package and audited 1075 packages in 5.548s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:02:01.982Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:01.984Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:01.984Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:01.985Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:02.038Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:02.088Z appoptics:patching patched crypto 
2021-09-18T01:02:02.115Z appoptics:patching patched https 
2021-09-18T01:02:02.115Z appoptics:patching patched http 
2021-09-18T01:02:02.232Z appoptics:patching patched tedious 2.6.4
2021-09-18T01:02:02.238Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.6.4
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.6.4
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.6.4
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.6.4
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.6.4
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.6.4
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.6.4
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.7.0
updated 1 package and audited 1075 packages in 6.047s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:02:11.774Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:11.776Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:11.776Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:11.776Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:11.830Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:11.877Z appoptics:patching patched crypto 
2021-09-18T01:02:11.904Z appoptics:patching patched https 
2021-09-18T01:02:11.905Z appoptics:patching patched http 
2021-09-18T01:02:12.049Z appoptics:patching patched tedious 2.7.0
2021-09-18T01:02:12.054Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.7.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.7.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.7.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.7.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.7.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.7.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.7.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.7.1
updated 1 package and audited 1075 packages in 5.706s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:02:21.476Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:21.478Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:21.478Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:21.479Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:21.533Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:21.584Z appoptics:patching patched crypto 
2021-09-18T01:02:21.614Z appoptics:patching patched https 
2021-09-18T01:02:21.614Z appoptics:patching patched http 
2021-09-18T01:02:21.735Z appoptics:patching patched tedious 2.7.1
2021-09-18T01:02:21.741Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.7.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.7.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.7.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.7.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.7.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.7.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.7.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@3.0.0
updated 1 package and audited 1075 packages in 5.542s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:02:30.813Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:30.814Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:30.814Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:30.815Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:30.878Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:30.935Z appoptics:patching patched crypto 
2021-09-18T01:02:30.965Z appoptics:patching patched https 
2021-09-18T01:02:30.965Z appoptics:patching patched http 
2021-09-18T01:02:31.072Z appoptics:patching patched tedious 3.0.0
2021-09-18T01:02:31.078Z appoptics:debug starting runtimeMetrics


  probes.tedious 3.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 3.0.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.tokenStreamParser.on.token (node_modules/tedious/lib/connection.js:601:29)
      at Parser.parser.on.token (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:78:14)
      at token (node_modules/tedious/lib/token/infoerror-token-parser.js:46:5)
      at call.lineNumber (node_modules/tedious/lib/token/infoerror-token-parser.js:13:19)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:152:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:149:10)
      at parser.readBVarChar.procName (node_modules/tedious/lib/token/infoerror-token-parser.js:12:90)
      at readBuffer.data (node_modules/tedious/lib/token/stream-parser.js:332:9)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:324:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:321:10)
      at readUInt8.length (node_modules/tedious/lib/token/stream-parser.js:331:12)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:128:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:125:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:330:10)

  2) probes.tedious 3.0.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.tokenStreamParser.on.token (node_modules/tedious/lib/connection.js:601:29)
      at Parser.parser.on.token (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:78:14)
      at token (node_modules/tedious/lib/token/infoerror-token-parser.js:46:5)
      at call.lineNumber (node_modules/tedious/lib/token/infoerror-token-parser.js:13:19)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:152:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:149:10)
      at parser.readBVarChar.procName (node_modules/tedious/lib/token/infoerror-token-parser.js:12:90)
      at readBuffer.data (node_modules/tedious/lib/token/stream-parser.js:332:9)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:324:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:321:10)
      at readUInt8.length (node_modules/tedious/lib/token/stream-parser.js:331:12)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:128:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:125:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:330:10)

  3) probes.tedious 3.0.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.tokenStreamParser.on.token (node_modules/tedious/lib/connection.js:601:29)
      at Parser.parser.on.token (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:78:14)
      at token (node_modules/tedious/lib/token/infoerror-token-parser.js:46:5)
      at call.lineNumber (node_modules/tedious/lib/token/infoerror-token-parser.js:13:19)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:152:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:149:10)
      at parser.readBVarChar.procName (node_modules/tedious/lib/token/infoerror-token-parser.js:12:90)
      at readBuffer.data (node_modules/tedious/lib/token/stream-parser.js:332:9)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:324:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:321:10)
      at readUInt8.length (node_modules/tedious/lib/token/stream-parser.js:331:12)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:128:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:125:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:330:10)

  4) probes.tedious 3.0.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.tokenStreamParser.on.token (node_modules/tedious/lib/connection.js:601:29)
      at Parser.parser.on.token (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:78:14)
      at token (node_modules/tedious/lib/token/infoerror-token-parser.js:46:5)
      at call.lineNumber (node_modules/tedious/lib/token/infoerror-token-parser.js:13:19)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:152:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:149:10)
      at parser.readBVarChar.procName (node_modules/tedious/lib/token/infoerror-token-parser.js:12:90)
      at readBuffer.data (node_modules/tedious/lib/token/stream-parser.js:332:9)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:324:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:321:10)
      at readUInt8.length (node_modules/tedious/lib/token/stream-parser.js:331:12)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:128:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:125:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:330:10)

  5) probes.tedious 3.0.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.tokenStreamParser.on.token (node_modules/tedious/lib/connection.js:601:29)
      at Parser.parser.on.token (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:78:14)
      at token (node_modules/tedious/lib/token/infoerror-token-parser.js:46:5)
      at call.lineNumber (node_modules/tedious/lib/token/infoerror-token-parser.js:13:19)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:152:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:149:10)
      at parser.readBVarChar.procName (node_modules/tedious/lib/token/infoerror-token-parser.js:12:90)
      at readBuffer.data (node_modules/tedious/lib/token/stream-parser.js:332:9)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:324:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:321:10)
      at readUInt8.length (node_modules/tedious/lib/token/stream-parser.js:331:12)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:128:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:125:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:330:10)

  6) probes.tedious 3.0.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.tokenStreamParser.on.token (node_modules/tedious/lib/connection.js:601:29)
      at Parser.parser.on.token (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:78:14)
      at token (node_modules/tedious/lib/token/infoerror-token-parser.js:46:5)
      at call.lineNumber (node_modules/tedious/lib/token/infoerror-token-parser.js:13:19)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:152:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:149:10)
      at parser.readBVarChar.procName (node_modules/tedious/lib/token/infoerror-token-parser.js:12:90)
      at readBuffer.data (node_modules/tedious/lib/token/stream-parser.js:332:9)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:324:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:321:10)
      at readUInt8.length (node_modules/tedious/lib/token/stream-parser.js:331:12)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:128:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:125:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:330:10)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@3.0.1
added 1 package, removed 4 packages, updated 2 packages and audited 1072 packages in 5.155s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:02:39.752Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:39.754Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:39.754Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:39.754Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:39.806Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:39.855Z appoptics:patching patched crypto 
2021-09-18T01:02:39.882Z appoptics:patching patched https 
2021-09-18T01:02:39.883Z appoptics:patching patched http 
2021-09-18T01:02:39.964Z appoptics:patching patched tedious 3.0.1
2021-09-18T01:02:39.969Z appoptics:debug starting runtimeMetrics


  probes.tedious 3.0.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 3.0.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Parser.tokenStreamParser.on.token (node_modules/tedious/lib/connection.js:654:29)
      at Parser.parser.on.token (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:139:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:80:14)
      at token (node_modules/tedious/lib/token/infoerror-token-parser.js:48:5)
      at call.lineNumber (node_modules/tedious/lib/token/infoerror-token-parser.js:13:19)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:153:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:150:10)
      at parser.readBVarChar.procName (node_modules/tedious/lib/token/infoerror-token-parser.js:12:90)
      at readBuffer.data (node_modules/tedious/lib/token/stream-parser.js:322:9)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:314:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:311:10)
      at readUInt8.length (node_modules/tedious/lib/token/stream-parser.js:321:12)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:129:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:126:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:320:10)

  2) probes.tedious 3.0.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Parser.tokenStreamParser.on.token (node_modules/tedious/lib/connection.js:654:29)
      at Parser.parser.on.token (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:139:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:80:14)
      at token (node_modules/tedious/lib/token/infoerror-token-parser.js:48:5)
      at call.lineNumber (node_modules/tedious/lib/token/infoerror-token-parser.js:13:19)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:153:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:150:10)
      at parser.readBVarChar.procName (node_modules/tedious/lib/token/infoerror-token-parser.js:12:90)
      at readBuffer.data (node_modules/tedious/lib/token/stream-parser.js:322:9)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:314:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:311:10)
      at readUInt8.length (node_modules/tedious/lib/token/stream-parser.js:321:12)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:129:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:126:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:320:10)

  3) probes.tedious 3.0.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Parser.tokenStreamParser.on.token (node_modules/tedious/lib/connection.js:654:29)
      at Parser.parser.on.token (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:139:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:80:14)
      at token (node_modules/tedious/lib/token/infoerror-token-parser.js:48:5)
      at call.lineNumber (node_modules/tedious/lib/token/infoerror-token-parser.js:13:19)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:153:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:150:10)
      at parser.readBVarChar.procName (node_modules/tedious/lib/token/infoerror-token-parser.js:12:90)
      at readBuffer.data (node_modules/tedious/lib/token/stream-parser.js:322:9)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:314:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:311:10)
      at readUInt8.length (node_modules/tedious/lib/token/stream-parser.js:321:12)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:129:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:126:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:320:10)

  4) probes.tedious 3.0.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Parser.tokenStreamParser.on.token (node_modules/tedious/lib/connection.js:654:29)
      at Parser.parser.on.token (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:139:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:80:14)
      at token (node_modules/tedious/lib/token/infoerror-token-parser.js:48:5)
      at call.lineNumber (node_modules/tedious/lib/token/infoerror-token-parser.js:13:19)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:153:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:150:10)
      at parser.readBVarChar.procName (node_modules/tedious/lib/token/infoerror-token-parser.js:12:90)
      at readBuffer.data (node_modules/tedious/lib/token/stream-parser.js:322:9)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:314:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:311:10)
      at readUInt8.length (node_modules/tedious/lib/token/stream-parser.js:321:12)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:129:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:126:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:320:10)

  5) probes.tedious 3.0.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Parser.tokenStreamParser.on.token (node_modules/tedious/lib/connection.js:654:29)
      at Parser.parser.on.token (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:139:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:80:14)
      at token (node_modules/tedious/lib/token/infoerror-token-parser.js:48:5)
      at call.lineNumber (node_modules/tedious/lib/token/infoerror-token-parser.js:13:19)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:153:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:150:10)
      at parser.readBVarChar.procName (node_modules/tedious/lib/token/infoerror-token-parser.js:12:90)
      at readBuffer.data (node_modules/tedious/lib/token/stream-parser.js:322:9)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:314:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:311:10)
      at readUInt8.length (node_modules/tedious/lib/token/stream-parser.js:321:12)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:129:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:126:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:320:10)

  6) probes.tedious 3.0.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Parser.tokenStreamParser.on.token (node_modules/tedious/lib/connection.js:654:29)
      at Parser.parser.on.token (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:139:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:80:14)
      at token (node_modules/tedious/lib/token/infoerror-token-parser.js:48:5)
      at call.lineNumber (node_modules/tedious/lib/token/infoerror-token-parser.js:13:19)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:153:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:150:10)
      at parser.readBVarChar.procName (node_modules/tedious/lib/token/infoerror-token-parser.js:12:90)
      at readBuffer.data (node_modules/tedious/lib/token/stream-parser.js:322:9)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:314:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:311:10)
      at readUInt8.length (node_modules/tedious/lib/token/stream-parser.js:321:12)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:129:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:126:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:320:10)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.0.0
updated 1 package and audited 1072 packages in 5.674s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:02:49.157Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:49.158Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:49.159Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:49.159Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:49.220Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:49.272Z appoptics:patching patched crypto 
2021-09-18T01:02:49.301Z appoptics:patching patched https 
2021-09-18T01:02:49.302Z appoptics:patching patched http 
2021-09-18T01:02:49.378Z appoptics:patching patched tedious 4.0.0
2021-09-18T01:02:49.384Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 4.0.0
       should support basic queries with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:216:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:117:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_basic (test/probes/tedious.test.js:116:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:48:7)

  2) probes.tedious 4.0.0
       should support parameters with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:216:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:138:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_parameters (test/probes/tedious.test.js:137:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:48:7)

  3) probes.tedious 4.0.0
       should support sanitization with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:216:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:170:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_sanitization (test/probes/tedious.test.js:168:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:48:7)

  4) probes.tedious 4.0.0
       should support basic queries with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:216:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:117:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_basic (test/probes/tedious.test.js:116:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:48:7)

  5) probes.tedious 4.0.0
       should support parameters with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:216:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:138:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_parameters (test/probes/tedious.test.js:137:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:48:7)

  6) probes.tedious 4.0.0
       should support sanitization with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:216:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:170:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_sanitization (test/probes/tedious.test.js:168:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:48:7)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.0.1
updated 1 package and audited 1072 packages in 5.872s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:02:58.650Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:58.652Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:58.652Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:58.653Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:58.704Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:58.753Z appoptics:patching patched crypto 
2021-09-18T01:02:58.783Z appoptics:patching patched https 
2021-09-18T01:02:58.783Z appoptics:patching patched http 
2021-09-18T01:02:58.865Z appoptics:patching patched tedious 4.0.1
2021-09-18T01:02:58.871Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.0.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 4.0.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 4.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 4.0.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 4.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 4.0.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 4.0.1
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 4.0.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 4.0.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 4.0.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 4.0.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 4.0.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 4.0.1
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.0.2
updated 1 package and audited 1072 packages in 5.661s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:03:08.213Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:03:08.215Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:03:08.215Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:03:08.216Z appoptics:debug using context provider: ace-context
2021-09-18T01:03:08.284Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:03:08.349Z appoptics:patching patched crypto 
2021-09-18T01:03:08.381Z appoptics:patching patched https 
2021-09-18T01:03:08.382Z appoptics:patching patched http 
2021-09-18T01:03:08.482Z appoptics:patching patched tedious 4.0.2
2021-09-18T01:03:08.487Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.0.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 4.0.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 4.0.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 4.0.2
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 4.0.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 4.0.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 4.0.2
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 4.0.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 4.0.2
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 4.0.2
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 4.0.2
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 4.0.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 4.0.2
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.0.3
updated 1 package and audited 1072 packages in 5.151s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:03:17.153Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:03:17.154Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:03:17.154Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:03:17.155Z appoptics:debug using context provider: ace-context
2021-09-18T01:03:17.208Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:03:17.260Z appoptics:patching patched crypto 
2021-09-18T01:03:17.291Z appoptics:patching patched https 
2021-09-18T01:03:17.291Z appoptics:patching patched http 
2021-09-18T01:03:17.369Z appoptics:patching patched tedious 4.0.3
2021-09-18T01:03:17.374Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.0.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 4.0.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 4.0.3
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 4.0.3
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 4.0.3
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 4.0.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 4.0.3
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 4.0.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 4.0.3
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 4.0.3
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 4.0.3
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 4.0.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 4.0.3
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.0.4
updated 1 package and audited 1072 packages in 5.565s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:03:26.567Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:03:26.569Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:03:26.569Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:03:26.569Z appoptics:debug using context provider: ace-context
2021-09-18T01:03:26.622Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:03:26.671Z appoptics:patching patched crypto 
2021-09-18T01:03:26.699Z appoptics:patching patched https 
2021-09-18T01:03:26.699Z appoptics:patching patched http 
2021-09-18T01:03:26.772Z appoptics:patching patched tedious 4.0.4
2021-09-18T01:03:26.777Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.0.4
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 4.0.4
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 4.0.4
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 4.0.4
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 4.0.4
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 4.0.4
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 4.0.4
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 4.0.4
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 4.0.4
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 4.0.4
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 4.0.4
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 4.0.4
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 4.0.4
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.1.0
added 9 packages from 37 contributors, updated 1 package and audited 1081 packages in 6.075s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:03:36.490Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:03:36.492Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:03:36.492Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:03:36.493Z appoptics:debug using context provider: ace-context
2021-09-18T01:03:36.560Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:03:36.615Z appoptics:patching patched crypto 
2021-09-18T01:03:36.644Z appoptics:patching patched https 
2021-09-18T01:03:36.645Z appoptics:patching patched http 
2021-09-18T01:03:36.708Z appoptics:patching patched zlib 
2021-09-18T01:03:36.761Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:03:36.762Z appoptics:patching patched fs 
2021-09-18T01:03:36.884Z appoptics:patching patched tedious 4.1.0
2021-09-18T01:03:36.890Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.1.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 4.1.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1077:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:949:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 4.1.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 4.1.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1077:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:949:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 4.1.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 4.1.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1077:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:949:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 4.1.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 4.1.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1077:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:949:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 4.1.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 4.1.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1077:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:949:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 4.1.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 4.1.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1077:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:949:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 4.1.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.1.1
updated 1 package and audited 1081 packages in 5.484s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:03:46.156Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:03:46.158Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:03:46.158Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:03:46.159Z appoptics:debug using context provider: ace-context
2021-09-18T01:03:46.305Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:03:46.408Z appoptics:patching patched crypto 
2021-09-18T01:03:46.451Z appoptics:patching patched https 
2021-09-18T01:03:46.452Z appoptics:patching patched http 
2021-09-18T01:03:46.517Z appoptics:patching patched zlib 
2021-09-18T01:03:46.582Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:03:46.583Z appoptics:patching patched fs 
2021-09-18T01:03:46.737Z appoptics:patching patched tedious 4.1.1
2021-09-18T01:03:46.743Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.1.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 4.1.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 4.1.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 4.1.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 4.1.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 4.1.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 4.1.1
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 4.1.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 4.1.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 4.1.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 4.1.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 4.1.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 4.1.1
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.1.2
updated 1 package and audited 1081 packages in 5.842s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:03:56.182Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:03:56.183Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:03:56.183Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:03:56.184Z appoptics:debug using context provider: ace-context
2021-09-18T01:03:56.234Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:03:56.313Z appoptics:patching patched crypto 
2021-09-18T01:03:56.364Z appoptics:patching patched https 
2021-09-18T01:03:56.364Z appoptics:patching patched http 
2021-09-18T01:03:56.440Z appoptics:patching patched zlib 
2021-09-18T01:03:56.508Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:03:56.509Z appoptics:patching patched fs 
2021-09-18T01:03:56.632Z appoptics:patching patched tedious 4.1.2
2021-09-18T01:03:56.638Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.1.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 4.1.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 4.1.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 4.1.2
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 4.1.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 4.1.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 4.1.2
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 4.1.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 4.1.2
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 4.1.2
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 4.1.2
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 4.1.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 4.1.2
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.1.3
updated 1 package and audited 1081 packages in 4.869s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:04:05.066Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:04:05.067Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:04:05.067Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:04:05.068Z appoptics:debug using context provider: ace-context
2021-09-18T01:04:05.119Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:04:05.167Z appoptics:patching patched crypto 
2021-09-18T01:04:05.195Z appoptics:patching patched https 
2021-09-18T01:04:05.195Z appoptics:patching patched http 
2021-09-18T01:04:05.255Z appoptics:patching patched zlib 
2021-09-18T01:04:05.303Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:04:05.304Z appoptics:patching patched fs 
2021-09-18T01:04:05.421Z appoptics:patching patched tedious 4.1.3
2021-09-18T01:04:05.427Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.1.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 4.1.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 4.1.3
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.3 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 4.1.3
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 4.1.3
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.3 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 4.1.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 4.1.3
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.3 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 4.1.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 4.1.3
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.3 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 4.1.3
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 4.1.3
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.3 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 4.1.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 4.1.3
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.3 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.2.0
updated 1 package and audited 1081 packages in 6.671s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:04:15.597Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:04:15.600Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:04:15.600Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:04:15.601Z appoptics:debug using context provider: ace-context
2021-09-18T01:04:15.651Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:04:15.698Z appoptics:patching patched crypto 
2021-09-18T01:04:15.726Z appoptics:patching patched https 
2021-09-18T01:04:15.726Z appoptics:patching patched http 
2021-09-18T01:04:15.792Z appoptics:patching patched zlib 
2021-09-18T01:04:15.845Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:04:15.846Z appoptics:patching patched fs 
2021-09-18T01:04:15.943Z appoptics:patching patched tedious 4.2.0
2021-09-18T01:04:15.948Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.2.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 4.2.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 4.2.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 4.2.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 4.2.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 4.2.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 4.2.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 4.2.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 4.2.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 4.2.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 4.2.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 4.2.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 4.2.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@5.0.0
updated 1 package and audited 1081 packages in 6.642s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:04:26.126Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:04:26.127Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:04:26.127Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:04:26.128Z appoptics:debug using context provider: ace-context
2021-09-18T01:04:26.179Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:04:26.224Z appoptics:patching patched crypto 
2021-09-18T01:04:26.251Z appoptics:patching patched https 
2021-09-18T01:04:26.251Z appoptics:patching patched http 
2021-09-18T01:04:26.319Z appoptics:patching patched zlib 
2021-09-18T01:04:26.368Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:04:26.369Z appoptics:patching patched fs 
2021-09-18T01:04:26.473Z appoptics:patching patched tedious 5.0.0
2021-09-18T01:04:26.479Z appoptics:debug starting runtimeMetrics


  probes.tedious 5.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 5.0.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1149:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:996:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 5.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 5.0.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1149:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:996:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 5.0.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 5.0.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1149:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:996:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 5.0.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 5.0.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1149:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:996:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 5.0.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 5.0.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1149:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:996:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 5.0.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 5.0.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1149:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:996:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 5.0.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@5.0.1
updated 1 package and audited 1081 packages in 5.463s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:04:35.737Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:04:35.739Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:04:35.739Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:04:35.740Z appoptics:debug using context provider: ace-context
2021-09-18T01:04:35.834Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:04:35.886Z appoptics:patching patched crypto 
2021-09-18T01:04:35.914Z appoptics:patching patched https 
2021-09-18T01:04:35.914Z appoptics:patching patched http 
2021-09-18T01:04:35.996Z appoptics:patching patched zlib 
2021-09-18T01:04:36.043Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:04:36.043Z appoptics:patching patched fs 
2021-09-18T01:04:36.152Z appoptics:patching patched tedious 5.0.1
2021-09-18T01:04:36.158Z appoptics:debug starting runtimeMetrics


  probes.tedious 5.0.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 5.0.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 5.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 5.0.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 5.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 5.0.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 5.0.1
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 5.0.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 5.0.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 5.0.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 5.0.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 5.0.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 5.0.1
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@5.0.2
updated 1 package and audited 1081 packages in 5.099s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:04:44.838Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:04:44.840Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:04:44.840Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:04:44.840Z appoptics:debug using context provider: ace-context
2021-09-18T01:04:44.892Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:04:44.941Z appoptics:patching patched crypto 
2021-09-18T01:04:44.970Z appoptics:patching patched https 
2021-09-18T01:04:44.970Z appoptics:patching patched http 
2021-09-18T01:04:45.041Z appoptics:patching patched zlib 
2021-09-18T01:04:45.093Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:04:45.093Z appoptics:patching patched fs 
2021-09-18T01:04:45.221Z appoptics:patching patched tedious 5.0.2
2021-09-18T01:04:45.226Z appoptics:debug starting runtimeMetrics


  probes.tedious 5.0.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 5.0.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 5.0.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 5.0.2
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 5.0.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 5.0.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 5.0.2
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 5.0.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 5.0.2
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 5.0.2
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 5.0.2
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 5.0.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 5.0.2
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@5.0.3
updated 1 package and audited 1081 packages in 5.07s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:04:53.821Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:04:53.823Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:04:53.823Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:04:53.823Z appoptics:debug using context provider: ace-context
2021-09-18T01:04:53.894Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:04:53.948Z appoptics:patching patched crypto 
2021-09-18T01:04:53.975Z appoptics:patching patched https 
2021-09-18T01:04:53.976Z appoptics:patching patched http 
2021-09-18T01:04:54.049Z appoptics:patching patched zlib 
2021-09-18T01:04:54.095Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:04:54.095Z appoptics:patching patched fs 
2021-09-18T01:04:54.207Z appoptics:patching patched tedious 5.0.3
2021-09-18T01:04:54.212Z appoptics:debug starting runtimeMetrics


  probes.tedious 5.0.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 5.0.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 5.0.3
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 5.0.3
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 5.0.3
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 5.0.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 5.0.3
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 5.0.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 5.0.3
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 5.0.3
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 5.0.3
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 5.0.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 5.0.3
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.0.0
updated 1 package and audited 1081 packages in 5.723s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:05:03.639Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:05:03.641Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:05:03.641Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:05:03.642Z appoptics:debug using context provider: ace-context
2021-09-18T01:05:03.710Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:05:03.768Z appoptics:patching patched crypto 
2021-09-18T01:05:03.800Z appoptics:patching patched https 
2021-09-18T01:05:03.800Z appoptics:patching patched http 
2021-09-18T01:05:03.890Z appoptics:patching patched zlib 
2021-09-18T01:05:03.965Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:05:03.965Z appoptics:patching patched fs 
2021-09-18T01:05:04.096Z appoptics:patching patched tedious 6.0.0
2021-09-18T01:05:04.102Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 6.0.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1021:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 6.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 6.0.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1021:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 6.0.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 6.0.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1021:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 6.0.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 6.0.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1021:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 6.0.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 6.0.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1021:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 6.0.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 6.0.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1021:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 6.0.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.0.1
updated 1 package and audited 1081 packages in 6.29s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:05:13.889Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:05:13.892Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:05:13.892Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:05:13.893Z appoptics:debug using context provider: ace-context
2021-09-18T01:05:13.942Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:05:13.989Z appoptics:patching patched crypto 
2021-09-18T01:05:14.030Z appoptics:patching patched https 
2021-09-18T01:05:14.032Z appoptics:patching patched http 
2021-09-18T01:05:14.143Z appoptics:patching patched zlib 
2021-09-18T01:05:14.200Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:05:14.200Z appoptics:patching patched fs 
2021-09-18T01:05:14.319Z appoptics:patching patched tedious 6.0.1
2021-09-18T01:05:14.325Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.0.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 6.0.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1021:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 6.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 6.0.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1021:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 6.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 6.0.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1021:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 6.0.1
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 6.0.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1021:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 6.0.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 6.0.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1021:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 6.0.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 6.0.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1021:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 6.0.1
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.1.0
updated 1 package and audited 1081 packages in 6.222s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:05:24.306Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:05:24.308Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:05:24.308Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:05:24.309Z appoptics:debug using context provider: ace-context
2021-09-18T01:05:24.359Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:05:24.406Z appoptics:patching patched crypto 
2021-09-18T01:05:24.434Z appoptics:patching patched https 
2021-09-18T01:05:24.434Z appoptics:patching patched http 
2021-09-18T01:05:24.501Z appoptics:patching patched zlib 
2021-09-18T01:05:24.550Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:05:24.550Z appoptics:patching patched fs 
2021-09-18T01:05:24.655Z appoptics:patching patched tedious 6.1.0
2021-09-18T01:05:24.660Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.1.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 6.1.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 6.1.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 6.1.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 6.1.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 6.1.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 6.1.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 6.1.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 6.1.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 6.1.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 6.1.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 6.1.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 6.1.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.1.1
updated 1 package and audited 1081 packages in 4.922s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:05:33.224Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:05:33.226Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:05:33.226Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:05:33.227Z appoptics:debug using context provider: ace-context
2021-09-18T01:05:33.282Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:05:33.332Z appoptics:patching patched crypto 
2021-09-18T01:05:33.361Z appoptics:patching patched https 
2021-09-18T01:05:33.361Z appoptics:patching patched http 
2021-09-18T01:05:33.434Z appoptics:patching patched zlib 
2021-09-18T01:05:33.484Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:05:33.485Z appoptics:patching patched fs 
2021-09-18T01:05:33.593Z appoptics:patching patched tedious 6.1.1
2021-09-18T01:05:33.598Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.1.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 6.1.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 6.1.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 6.1.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 6.1.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 6.1.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 6.1.1
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 6.1.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 6.1.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 6.1.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 6.1.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 6.1.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 6.1.1
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.1.2
updated 1 package and audited 1081 packages in 5.658s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:05:42.829Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:05:42.830Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:05:42.830Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:05:42.831Z appoptics:debug using context provider: ace-context
2021-09-18T01:05:42.883Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:05:42.936Z appoptics:patching patched crypto 
2021-09-18T01:05:42.966Z appoptics:patching patched https 
2021-09-18T01:05:42.966Z appoptics:patching patched http 
2021-09-18T01:05:43.035Z appoptics:patching patched zlib 
2021-09-18T01:05:43.091Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:05:43.092Z appoptics:patching patched fs 
2021-09-18T01:05:43.196Z appoptics:patching patched tedious 6.1.2
2021-09-18T01:05:43.201Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.1.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 6.1.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 6.1.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 6.1.2
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 6.1.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 6.1.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 6.1.2
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 6.1.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 6.1.2
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 6.1.2
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 6.1.2
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 6.1.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 6.1.2
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.2.0
updated 1 package and audited 1081 packages in 6.201s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:05:52.980Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:05:52.982Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:05:52.982Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:05:52.982Z appoptics:debug using context provider: ace-context
2021-09-18T01:05:53.037Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:05:53.086Z appoptics:patching patched crypto 
2021-09-18T01:05:53.115Z appoptics:patching patched https 
2021-09-18T01:05:53.115Z appoptics:patching patched http 
2021-09-18T01:05:53.182Z appoptics:patching patched zlib 
2021-09-18T01:05:53.242Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:05:53.242Z appoptics:patching patched fs 
2021-09-18T01:05:53.354Z appoptics:patching patched tedious 6.2.0
2021-09-18T01:05:53.361Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.2.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (41ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.2.1
added 2 packages from 1 contributor, updated 1 package and audited 1083 packages in 5.681s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:06:02.537Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:06:02.538Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:06:02.538Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:06:02.539Z appoptics:debug using context provider: ace-context
2021-09-18T01:06:02.591Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:06:02.645Z appoptics:patching patched crypto 
2021-09-18T01:06:02.688Z appoptics:patching patched https 
2021-09-18T01:06:02.688Z appoptics:patching patched http 
2021-09-18T01:06:02.783Z appoptics:patching patched zlib 
2021-09-18T01:06:02.830Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:06:02.830Z appoptics:patching patched fs 
2021-09-18T01:06:02.938Z appoptics:patching patched tedious 6.2.1
2021-09-18T01:06:02.943Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.2.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (38ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.3.0
added 9 packages from 4 contributors, updated 1 package and audited 1092 packages in 5.73s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:06:12.387Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:06:12.389Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:06:12.389Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:06:12.390Z appoptics:debug using context provider: ace-context
2021-09-18T01:06:12.461Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:06:12.519Z appoptics:patching patched crypto 
2021-09-18T01:06:12.551Z appoptics:patching patched https 
2021-09-18T01:06:12.552Z appoptics:patching patched http 
2021-09-18T01:06:12.617Z appoptics:patching patched zlib 
2021-09-18T01:06:12.625Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:06:12.626Z appoptics:patching patched fs 
2021-09-18T01:06:12.962Z appoptics:patching patched tedious 6.3.0
2021-09-18T01:06:12.975Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.3.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (39ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.4.0
added 1 package from 37 contributors, updated 1 package and audited 1093 packages in 5.361s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:06:21.889Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:06:21.891Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:06:21.891Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:06:21.891Z appoptics:debug using context provider: ace-context
2021-09-18T01:06:21.942Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:06:21.992Z appoptics:patching patched crypto 
2021-09-18T01:06:22.023Z appoptics:patching patched https 
2021-09-18T01:06:22.023Z appoptics:patching patched http 
2021-09-18T01:06:22.098Z appoptics:patching patched zlib 
2021-09-18T01:06:22.105Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:06:22.105Z appoptics:patching patched fs 
2021-09-18T01:06:22.319Z appoptics:patching patched tedious 6.4.0
2021-09-18T01:06:22.325Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.4.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (40ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.5.0
added 2 packages from 1 contributor, removed 1 package, updated 3 packages and audited 1094 packages in 5.776s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:06:31.721Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:06:31.722Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:06:31.722Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:06:31.723Z appoptics:debug using context provider: ace-context
2021-09-18T01:06:31.775Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:06:31.822Z appoptics:patching patched crypto 
2021-09-18T01:06:31.851Z appoptics:patching patched https 
2021-09-18T01:06:31.851Z appoptics:patching patched http 
2021-09-18T01:06:31.923Z appoptics:patching patched zlib 
2021-09-18T01:06:31.932Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:06:31.933Z appoptics:patching patched fs 
2021-09-18T01:06:32.176Z appoptics:patching patched tedious 6.5.0
2021-09-18T01:06:32.182Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.5.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (39ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.6.0
updated 1 package and audited 1094 packages in 5.838s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:06:41.695Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:06:41.696Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:06:41.696Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:06:41.697Z appoptics:debug using context provider: ace-context
2021-09-18T01:06:41.754Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:06:41.806Z appoptics:patching patched crypto 
2021-09-18T01:06:41.835Z appoptics:patching patched https 
2021-09-18T01:06:41.835Z appoptics:patching patched http 
2021-09-18T01:06:41.905Z appoptics:patching patched zlib 
2021-09-18T01:06:41.912Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:06:41.912Z appoptics:patching patched fs 
2021-09-18T01:06:42.170Z appoptics:patching patched tedious 6.6.0
2021-09-18T01:06:42.175Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (45ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.6.1
added 1 package from 2 contributors, updated 1 package and audited 1095 packages in 6.082s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:06:51.759Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:06:51.760Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:06:51.760Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:06:51.761Z appoptics:debug using context provider: ace-context
2021-09-18T01:06:51.811Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:06:51.858Z appoptics:patching patched crypto 
2021-09-18T01:06:51.887Z appoptics:patching patched https 
2021-09-18T01:06:51.887Z appoptics:patching patched http 
2021-09-18T01:06:51.947Z appoptics:patching patched zlib 
2021-09-18T01:06:51.955Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:06:51.955Z appoptics:patching patched fs 
2021-09-18T01:06:52.182Z appoptics:patching patched tedious 6.6.1
2021-09-18T01:06:52.188Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.6.2
updated 1 package and audited 1095 packages in 5.657s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:07:01.628Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:07:01.630Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:07:01.630Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:07:01.631Z appoptics:debug using context provider: ace-context
2021-09-18T01:07:01.680Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:07:01.727Z appoptics:patching patched crypto 
2021-09-18T01:07:01.757Z appoptics:patching patched https 
2021-09-18T01:07:01.757Z appoptics:patching patched http 
2021-09-18T01:07:01.820Z appoptics:patching patched zlib 
2021-09-18T01:07:01.826Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:07:01.826Z appoptics:patching patched fs 
2021-09-18T01:07:02.037Z appoptics:patching patched tedious 6.6.2
2021-09-18T01:07:02.042Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.6.3
updated 1 package and audited 1095 packages in 5.241s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:07:10.810Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:07:10.811Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:07:10.811Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:07:10.812Z appoptics:debug using context provider: ace-context
2021-09-18T01:07:10.868Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:07:10.919Z appoptics:patching patched crypto 
2021-09-18T01:07:10.949Z appoptics:patching patched https 
2021-09-18T01:07:10.949Z appoptics:patching patched http 
2021-09-18T01:07:11.011Z appoptics:patching patched zlib 
2021-09-18T01:07:11.019Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:07:11.019Z appoptics:patching patched fs 
2021-09-18T01:07:11.237Z appoptics:patching patched tedious 6.6.3
2021-09-18T01:07:11.243Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (59ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.6.4
updated 1 package and audited 1095 packages in 5.913s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:07:20.913Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:07:20.915Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:07:20.915Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:07:20.916Z appoptics:debug using context provider: ace-context
2021-09-18T01:07:20.970Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:07:21.023Z appoptics:patching patched crypto 
2021-09-18T01:07:21.053Z appoptics:patching patched https 
2021-09-18T01:07:21.054Z appoptics:patching patched http 
2021-09-18T01:07:21.122Z appoptics:patching patched zlib 
2021-09-18T01:07:21.131Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:07:21.131Z appoptics:patching patched fs 
2021-09-18T01:07:21.355Z appoptics:patching patched tedious 6.6.4
2021-09-18T01:07:21.361Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.4
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (42ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.6.5
updated 1 package and audited 1095 packages in 5.469s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:07:30.520Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:07:30.521Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:07:30.521Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:07:30.522Z appoptics:debug using context provider: ace-context
2021-09-18T01:07:30.571Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:07:30.617Z appoptics:patching patched crypto 
2021-09-18T01:07:30.644Z appoptics:patching patched https 
2021-09-18T01:07:30.645Z appoptics:patching patched http 
2021-09-18T01:07:30.704Z appoptics:patching patched zlib 
2021-09-18T01:07:30.712Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:07:30.712Z appoptics:patching patched fs 
2021-09-18T01:07:30.920Z appoptics:patching patched tedious 6.6.5
2021-09-18T01:07:30.926Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.5
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (41ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.6.6
updated 1 package and audited 1095 packages in 6.345s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:07:40.770Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:07:40.772Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:07:40.772Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:07:40.773Z appoptics:debug using context provider: ace-context
2021-09-18T01:07:40.831Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:07:40.885Z appoptics:patching patched crypto 
2021-09-18T01:07:40.916Z appoptics:patching patched https 
2021-09-18T01:07:40.916Z appoptics:patching patched http 
2021-09-18T01:07:40.980Z appoptics:patching patched zlib 
2021-09-18T01:07:40.987Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:07:40.988Z appoptics:patching patched fs 
2021-09-18T01:07:41.226Z appoptics:patching patched tedious 6.6.6
2021-09-18T01:07:41.232Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.6
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (46ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.7.0
updated 1 package and audited 1095 packages in 6.187s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:07:50.882Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:07:50.884Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:07:50.884Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:07:50.884Z appoptics:debug using context provider: ace-context
2021-09-18T01:07:50.938Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:07:50.990Z appoptics:patching patched crypto 
2021-09-18T01:07:51.019Z appoptics:patching patched https 
2021-09-18T01:07:51.019Z appoptics:patching patched http 
2021-09-18T01:07:51.079Z appoptics:patching patched zlib 
2021-09-18T01:07:51.086Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:07:51.086Z appoptics:patching patched fs 
2021-09-18T01:07:51.299Z appoptics:patching patched tedious 6.7.0
2021-09-18T01:07:51.304Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.7.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.7.1
added 9 packages from 13 contributors, removed 2 packages, updated 5 packages and audited 1102 packages in 7.735s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:08:02.592Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:08:02.594Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:08:02.594Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:08:02.594Z appoptics:debug using context provider: ace-context
2021-09-18T01:08:02.644Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:08:02.690Z appoptics:patching patched crypto 
2021-09-18T01:08:02.718Z appoptics:patching patched https 
2021-09-18T01:08:02.718Z appoptics:patching patched http 
2021-09-18T01:08:02.792Z appoptics:patching patched zlib 
2021-09-18T01:08:02.800Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:08:02.800Z appoptics:patching patched fs 
2021-09-18T01:08:02.926Z appoptics:patching patched tedious 6.7.1
2021-09-18T01:08:02.931Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.7.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (42ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@7.0.0
added 2 packages from 29 contributors, removed 11 packages, updated 5 packages and audited 1093 packages in 5.932s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:08:12.432Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:08:12.434Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:08:12.434Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:08:12.435Z appoptics:debug using context provider: ace-context
2021-09-18T01:08:12.495Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:08:12.549Z appoptics:patching patched crypto 
2021-09-18T01:08:12.579Z appoptics:patching patched https 
2021-09-18T01:08:12.579Z appoptics:patching patched http 
2021-09-18T01:08:12.649Z appoptics:patching patched zlib 
2021-09-18T01:08:12.657Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:08:12.658Z appoptics:patching patched fs 
2021-09-18T01:08:12.907Z appoptics:patching patched tedious 7.0.0
2021-09-18T01:08:12.913Z appoptics:debug starting runtimeMetrics


  probes.tedious 7.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (43ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@8.0.0
added 1 package from 1 contributor, updated 1 package and audited 1094 packages in 6.661s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:08:23.160Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:08:23.161Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:08:23.161Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:08:23.162Z appoptics:debug using context provider: ace-context
2021-09-18T01:08:23.216Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:08:23.267Z appoptics:patching patched crypto 
2021-09-18T01:08:23.295Z appoptics:patching patched https 
2021-09-18T01:08:23.295Z appoptics:patching patched http 
2021-09-18T01:08:23.355Z appoptics:patching patched zlib 
2021-09-18T01:08:23.363Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:08:23.364Z appoptics:patching patched fs 
2021-09-18T01:08:23.622Z appoptics:patching patched tedious 8.0.0
2021-09-18T01:08:23.634Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (57ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@8.0.1
updated 1 package and audited 1094 packages in 5.323s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:08:32.519Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:08:32.521Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:08:32.521Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:08:32.522Z appoptics:debug using context provider: ace-context
2021-09-18T01:08:32.573Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:08:32.623Z appoptics:patching patched crypto 
2021-09-18T01:08:32.653Z appoptics:patching patched https 
2021-09-18T01:08:32.653Z appoptics:patching patched http 
2021-09-18T01:08:32.711Z appoptics:patching patched zlib 
2021-09-18T01:08:32.718Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:08:32.719Z appoptics:patching patched fs 
2021-09-18T01:08:32.983Z appoptics:patching patched tedious 8.0.1
2021-09-18T01:08:32.989Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.0.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (38ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@8.1.0
updated 2 packages and audited 1094 packages in 6.594s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:08:43.311Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:08:43.313Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:08:43.313Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:08:43.314Z appoptics:debug using context provider: ace-context
2021-09-18T01:08:43.373Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:08:43.421Z appoptics:patching patched crypto 
2021-09-18T01:08:43.451Z appoptics:patching patched https 
2021-09-18T01:08:43.452Z appoptics:patching patched http 
2021-09-18T01:08:43.513Z appoptics:patching patched zlib 
2021-09-18T01:08:43.520Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:08:43.521Z appoptics:patching patched fs 
2021-09-18T01:08:43.780Z appoptics:patching patched tedious 8.1.0
2021-09-18T01:08:43.786Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.1.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 8.1.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1128:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 8.1.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 8.1.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1128:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 8.1.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 8.1.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1128:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 8.1.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 8.1.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1128:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 8.1.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 8.1.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1128:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 8.1.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 8.1.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1128:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 8.1.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@8.1.1
updated 1 package and audited 1094 packages in 6.179s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:08:53.574Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:08:53.576Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:08:53.576Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:08:53.576Z appoptics:debug using context provider: ace-context
2021-09-18T01:08:53.632Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:08:53.681Z appoptics:patching patched crypto 
2021-09-18T01:08:53.714Z appoptics:patching patched https 
2021-09-18T01:08:53.714Z appoptics:patching patched http 
2021-09-18T01:08:53.787Z appoptics:patching patched zlib 
2021-09-18T01:08:53.794Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:08:53.795Z appoptics:patching patched fs 
2021-09-18T01:08:54.050Z appoptics:patching patched tedious 8.1.1
2021-09-18T01:08:54.056Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.1.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 8.1.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1295:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1126:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 8.1.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 8.1.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1295:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1126:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 8.1.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 8.1.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1295:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1126:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 8.1.1
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 8.1.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1295:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1126:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 8.1.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 8.1.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1295:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1126:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 8.1.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 8.1.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1295:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1126:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 8.1.1
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@8.2.0
updated 1 package and audited 1094 packages in 6.398s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:09:04.143Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:09:04.145Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:09:04.145Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:09:04.146Z appoptics:debug using context provider: ace-context
2021-09-18T01:09:04.218Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:09:04.275Z appoptics:patching patched crypto 
2021-09-18T01:09:04.306Z appoptics:patching patched https 
2021-09-18T01:09:04.307Z appoptics:patching patched http 
2021-09-18T01:09:04.372Z appoptics:patching patched zlib 
2021-09-18T01:09:04.380Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:09:04.381Z appoptics:patching patched fs 
2021-09-18T01:09:04.628Z appoptics:patching patched tedious 8.2.0
2021-09-18T01:09:04.633Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.2.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
Sat, 18 Sep 2021 01:09:05 GMT tedious deprecated The default value for `config.options.trustServerCertificate` will change from `true` to `false` in the next major version of `tedious`. Set the value to `true` or `false` explicitly to silence this message. at test/probes/tedious.test.js:216:24
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 8.2.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1128:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 8.2.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 8.2.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1128:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 8.2.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 8.2.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1128:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 8.2.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 8.2.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1128:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 8.2.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 8.2.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1128:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 8.2.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 8.2.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1128:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 8.2.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@8.3.0
updated 1 package and audited 1094 packages in 5.153s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:09:13.595Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:09:13.596Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:09:13.596Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:09:13.597Z appoptics:debug using context provider: ace-context
2021-09-18T01:09:13.669Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:09:13.726Z appoptics:patching patched crypto 
2021-09-18T01:09:13.759Z appoptics:patching patched https 
2021-09-18T01:09:13.759Z appoptics:patching patched http 
2021-09-18T01:09:13.842Z appoptics:patching patched zlib 
2021-09-18T01:09:13.850Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:09:13.850Z appoptics:patching patched fs 
2021-09-18T01:09:14.162Z appoptics:patching patched tedious 8.3.0
2021-09-18T01:09:14.167Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.3.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
Sat, 18 Sep 2021 01:09:15 GMT tedious deprecated The default value for `config.options.trustServerCertificate` will change from `true` to `false` in the next major version of `tedious`. Set the value to `true` or `false` explicitly to silence this message. at test/probes/tedious.test.js:216:24
Sat, 18 Sep 2021 01:09:15 GMT tedious deprecated In the next major version of `tedious`, creating a new `Connection` instance will no longer establish a connection to the server automatically. Please use the new `connect` helper function or call the `.connect` method on the newly created `Connection` object to silence this message. at internal/process/next_tick.js:61:11
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 8.3.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1312:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1143:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 8.3.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.3.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 8.3.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1312:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1143:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 8.3.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.3.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 8.3.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1312:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1143:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 8.3.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 8.3.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 8.3.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1312:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1143:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 8.3.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 8.3.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 8.3.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1312:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1143:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 8.3.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 8.3.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 8.3.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1312:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1143:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 8.3.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 8.3.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@8.3.1
updated 1 package and audited 1094 packages in 5.157s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:09:22.901Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:09:22.902Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:09:22.902Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:09:22.903Z appoptics:debug using context provider: ace-context
2021-09-18T01:09:22.954Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:09:23.001Z appoptics:patching patched crypto 
2021-09-18T01:09:23.030Z appoptics:patching patched https 
2021-09-18T01:09:23.030Z appoptics:patching patched http 
2021-09-18T01:09:23.093Z appoptics:patching patched zlib 
2021-09-18T01:09:23.101Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:09:23.101Z appoptics:patching patched fs 
2021-09-18T01:09:23.366Z appoptics:patching patched tedious 8.3.1
2021-09-18T01:09:23.375Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.3.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
Sat, 18 Sep 2021 01:09:24 GMT tedious deprecated The default value for `config.options.trustServerCertificate` will change from `true` to `false` in the next major version of `tedious`. Set the value to `true` or `false` explicitly to silence this message. at test/probes/tedious.test.js:216:24
Sat, 18 Sep 2021 01:09:24 GMT tedious deprecated In the next major version of `tedious`, creating a new `Connection` instance will no longer establish a connection to the server automatically. Please use the new `connect` helper function or call the `.connect` method on the newly created `Connection` object to silence this message. at internal/process/next_tick.js:61:11
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 8.3.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1312:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1143:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 8.3.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.3.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 8.3.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1312:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1143:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 8.3.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.3.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 8.3.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1312:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1143:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 8.3.1
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 8.3.1 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 8.3.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1312:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1143:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 8.3.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 8.3.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 8.3.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1312:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1143:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 8.3.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 8.3.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 8.3.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1312:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1143:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 8.3.1
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 8.3.1 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@9.0.0
updated 1 package and audited 1094 packages in 5.546s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:09:32.661Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:09:32.663Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:09:32.663Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:09:32.663Z appoptics:debug using context provider: ace-context
2021-09-18T01:09:32.714Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:09:32.760Z appoptics:patching patched crypto 
2021-09-18T01:09:32.787Z appoptics:patching patched https 
2021-09-18T01:09:32.788Z appoptics:patching patched http 
2021-09-18T01:09:32.851Z appoptics:patching patched zlib 
2021-09-18T01:09:32.858Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:09:32.858Z appoptics:patching patched fs 
2021-09-18T01:09:33.099Z appoptics:patching patched tedious 9.0.0
2021-09-18T01:09:33.105Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
Sat, 18 Sep 2021 01:09:34 GMT tedious deprecated In the next major version of `tedious`, creating a new `Connection` instance will no longer establish a connection to the server automatically. Please use the new `connect` helper function or call the `.connect` method on the newly created `Connection` object to silence this message. at internal/process/next_tick.js:61:11
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 9.0.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1310:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1141:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 9.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 9.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 9.0.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1310:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1141:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 9.0.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 9.0.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 9.0.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1310:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1141:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 9.0.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 9.0.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 9.0.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1310:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1141:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 9.0.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 9.0.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 9.0.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1310:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1141:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 9.0.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 9.0.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 9.0.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1310:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1141:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 9.0.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 9.0.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@9.0.1
updated 1 package and audited 1094 packages in 6.186s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:09:42.838Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:09:42.840Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:09:42.840Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:09:42.841Z appoptics:debug using context provider: ace-context
2021-09-18T01:09:42.891Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:09:42.938Z appoptics:patching patched crypto 
2021-09-18T01:09:42.967Z appoptics:patching patched https 
2021-09-18T01:09:42.967Z appoptics:patching patched http 
2021-09-18T01:09:43.030Z appoptics:patching patched zlib 
2021-09-18T01:09:43.037Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:09:43.037Z appoptics:patching patched fs 
2021-09-18T01:09:43.284Z appoptics:patching patched tedious 9.0.1
2021-09-18T01:09:43.289Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.0.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
Sat, 18 Sep 2021 01:09:44 GMT tedious deprecated In the next major version of `tedious`, creating a new `Connection` instance will no longer establish a connection to the server automatically. Please use the new `connect` helper function or call the `.connect` method on the newly created `Connection` object to silence this message. at internal/process/next_tick.js:61:11
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 9.0.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1310:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1141:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 9.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 9.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 9.0.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1310:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1141:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 9.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 9.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 9.0.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1310:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1141:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 9.0.1
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 9.0.1 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 9.0.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1310:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1141:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 9.0.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 9.0.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 9.0.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1310:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1141:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 9.0.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 9.0.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 9.0.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1310:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1141:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 9.0.1
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 9.0.1 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@9.1.0
updated 1 package and audited 1094 packages in 6.174s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:09:52.998Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:09:52.999Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:09:53.000Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:09:53.000Z appoptics:debug using context provider: ace-context
2021-09-18T01:09:53.051Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:09:53.099Z appoptics:patching patched crypto 
2021-09-18T01:09:53.126Z appoptics:patching patched https 
2021-09-18T01:09:53.127Z appoptics:patching patched http 
2021-09-18T01:09:53.186Z appoptics:patching patched zlib 
2021-09-18T01:09:53.193Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:09:53.193Z appoptics:patching patched fs 
2021-09-18T01:09:53.445Z appoptics:patching patched tedious 9.1.0
2021-09-18T01:09:53.451Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.1.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
Sat, 18 Sep 2021 01:09:54 GMT tedious deprecated In the next major version of `tedious`, creating a new `Connection` instance will no longer establish a connection to the server automatically. Please use the new `connect` helper function or call the `.connect` method on the newly created `Connection` object to silence this message. at internal/process/next_tick.js:61:11
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 9.1.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1632:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1395:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 9.1.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 9.1.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 9.1.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1632:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1395:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 9.1.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 9.1.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 9.1.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1632:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1395:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 9.1.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 9.1.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 9.1.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1632:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1395:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 9.1.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 9.1.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 9.1.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1632:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1395:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 9.1.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 9.1.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 9.1.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1632:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1395:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 9.1.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 9.1.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@9.1.1
updated 3 packages and audited 1094 packages in 6.002s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:10:03.112Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:10:03.113Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:10:03.113Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:10:03.114Z appoptics:debug using context provider: ace-context
2021-09-18T01:10:03.185Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:10:03.246Z appoptics:patching patched crypto 
2021-09-18T01:10:03.278Z appoptics:patching patched https 
2021-09-18T01:10:03.278Z appoptics:patching patched http 
2021-09-18T01:10:03.357Z appoptics:patching patched zlib 
2021-09-18T01:10:03.367Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:10:03.368Z appoptics:patching patched fs 
2021-09-18T01:10:03.656Z appoptics:patching patched tedious 9.1.1
2021-09-18T01:10:03.661Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.1.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
Sat, 18 Sep 2021 01:10:04 GMT tedious deprecated In the next major version of `tedious`, creating a new `Connection` instance will no longer establish a connection to the server automatically. Please use the new `connect` helper function or call the `.connect` method on the newly created `Connection` object to silence this message. at internal/process/next_tick.js:61:11
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 9.1.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1646:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1406:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 9.1.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 9.1.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 9.1.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1646:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1406:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 9.1.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 9.1.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 9.1.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1646:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1406:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 9.1.1
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 9.1.1 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 9.1.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1646:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1406:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 9.1.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 9.1.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 9.1.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1646:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1406:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 9.1.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 9.1.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 9.1.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1646:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1406:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 9.1.1
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 9.1.1 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@9.2.0
updated 1 package and audited 1094 packages in 6.108s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:10:13.430Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:10:13.432Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:10:13.432Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:10:13.432Z appoptics:debug using context provider: ace-context
2021-09-18T01:10:13.484Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:10:13.534Z appoptics:patching patched crypto 
2021-09-18T01:10:13.563Z appoptics:patching patched https 
2021-09-18T01:10:13.563Z appoptics:patching patched http 
2021-09-18T01:10:13.624Z appoptics:patching patched zlib 
2021-09-18T01:10:13.631Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:10:13.632Z appoptics:patching patched fs 
2021-09-18T01:10:13.884Z appoptics:patching patched tedious 9.2.0
2021-09-18T01:10:13.892Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.2.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
Sat, 18 Sep 2021 01:10:14 GMT tedious deprecated The default value for "config.options.validateBulkLoadParameters" will change from `false` to `true` in the next major version of `tedious`. Set the value to `true` or `false` explicitly to silence this message. at test/probes/tedious.test.js:216:24
Sat, 18 Sep 2021 01:10:14 GMT tedious deprecated In the next major version of `tedious`, creating a new `Connection` instance will no longer establish a connection to the server automatically. Please use the new `connect` helper function or call the `.connect` method on the newly created `Connection` object to silence this message. at internal/process/next_tick.js:61:11
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 9.2.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 9.2.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 9.2.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 9.2.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 9.2.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 9.2.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 9.2.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 9.2.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 9.2.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 9.2.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 9.2.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 9.2.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 9.2.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 9.2.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 9.2.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 9.2.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 9.2.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 9.2.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@9.2.1
updated 1 package and audited 1094 packages in 5.511s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:10:22.944Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:10:22.945Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:10:22.946Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:10:22.946Z appoptics:debug using context provider: ace-context
2021-09-18T01:10:22.996Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:10:23.046Z appoptics:patching patched crypto 
2021-09-18T01:10:23.080Z appoptics:patching patched https 
2021-09-18T01:10:23.081Z appoptics:patching patched http 
2021-09-18T01:10:23.145Z appoptics:patching patched zlib 
2021-09-18T01:10:23.153Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:10:23.153Z appoptics:patching patched fs 
2021-09-18T01:10:23.415Z appoptics:patching patched tedious 9.2.1
2021-09-18T01:10:23.420Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.2.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
Sat, 18 Sep 2021 01:10:24 GMT tedious deprecated The default value for "config.options.validateBulkLoadParameters" will change from `false` to `true` in the next major version of `tedious`. Set the value to `true` or `false` explicitly to silence this message. at test/probes/tedious.test.js:216:24
Sat, 18 Sep 2021 01:10:24 GMT tedious deprecated In the next major version of `tedious`, creating a new `Connection` instance will no longer establish a connection to the server automatically. Please use the new `connect` helper function or call the `.connect` method on the newly created `Connection` object to silence this message. at internal/process/next_tick.js:61:11
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 9.2.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 9.2.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 9.2.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 9.2.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 9.2.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 9.2.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 9.2.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 9.2.1
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 9.2.1 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 9.2.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 9.2.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 9.2.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 9.2.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 9.2.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 9.2.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 9.2.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 9.2.1
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 9.2.1 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@9.2.2
added 9 packages from 13 contributors, removed 2 packages, updated 5 packages and audited 1101 packages in 7.79s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:10:34.812Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:10:34.814Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:10:34.814Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:10:34.815Z appoptics:debug using context provider: ace-context
2021-09-18T01:10:34.869Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:10:34.916Z appoptics:patching patched crypto 
2021-09-18T01:10:34.943Z appoptics:patching patched https 
2021-09-18T01:10:34.943Z appoptics:patching patched http 
2021-09-18T01:10:35.024Z appoptics:patching patched zlib 
2021-09-18T01:10:35.028Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:10:35.028Z appoptics:patching patched fs 
2021-09-18T01:10:35.209Z appoptics:patching patched tedious 9.2.2
2021-09-18T01:10:35.214Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.2.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
Sat, 18 Sep 2021 01:10:36 GMT tedious deprecated The default value for "config.options.validateBulkLoadParameters" will change from `false` to `true` in the next major version of `tedious`. Set the value to `true` or `false` explicitly to silence this message. at test/probes/tedious.test.js:216:24
Sat, 18 Sep 2021 01:10:36 GMT tedious deprecated In the next major version of `tedious`, creating a new `Connection` instance will no longer establish a connection to the server automatically. Please use the new `connect` helper function or call the `.connect` method on the newly created `Connection` object to silence this message. at internal/process/next_tick.js:61:11
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 9.2.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1658:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1418:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 9.2.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 9.2.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 9.2.2
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1658:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1418:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 9.2.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 9.2.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 9.2.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1658:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1418:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 9.2.2
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 9.2.2 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 9.2.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1658:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1418:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 9.2.2
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 9.2.2 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 9.2.2
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1658:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1418:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 9.2.2
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 9.2.2 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 9.2.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1658:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1418:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 9.2.2
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 9.2.2 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@9.2.3
added 3 packages from 30 contributors, updated 2 packages, moved 1 package and audited 1104 packages in 6.313s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:10:45.177Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:10:45.179Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:10:45.179Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:10:45.180Z appoptics:debug using context provider: ace-context
2021-09-18T01:10:45.235Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:10:45.283Z appoptics:patching patched crypto 
2021-09-18T01:10:45.314Z appoptics:patching patched https 
2021-09-18T01:10:45.314Z appoptics:patching patched http 
2021-09-18T01:10:45.396Z appoptics:patching patched zlib 
2021-09-18T01:10:45.404Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:10:45.405Z appoptics:patching patched fs 
2021-09-18T01:10:45.690Z appoptics:patching patched tedious 9.2.3
2021-09-18T01:10:45.696Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.2.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
Sat, 18 Sep 2021 01:10:46 GMT tedious deprecated The default value for "config.options.validateBulkLoadParameters" will change from `false` to `true` in the next major version of `tedious`. Set the value to `true` or `false` explicitly to silence this message. at test/probes/tedious.test.js:216:24
Sat, 18 Sep 2021 01:10:46 GMT tedious deprecated In the next major version of `tedious`, creating a new `Connection` instance will no longer establish a connection to the server automatically. Please use the new `connect` helper function or call the `.connect` method on the newly created `Connection` object to silence this message. at internal/process/next_tick.js:61:11
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 9.2.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1660:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1420:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 9.2.3
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 9.2.3 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 9.2.3
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1660:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1420:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 9.2.3
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 9.2.3 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 9.2.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1660:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1420:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 9.2.3
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 9.2.3 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 9.2.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1660:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1420:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 9.2.3
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 9.2.3 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 9.2.3
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1660:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1420:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 9.2.3
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 9.2.3 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 9.2.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1660:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1420:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 9.2.3
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 9.2.3 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@10.0.0
updated 1 package and audited 1104 packages in 6.503s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:10:55.728Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:10:55.730Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:10:55.730Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:10:55.731Z appoptics:debug using context provider: ace-context
2021-09-18T01:10:55.781Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:10:55.829Z appoptics:patching patched crypto 
2021-09-18T01:10:55.856Z appoptics:patching patched https 
2021-09-18T01:10:55.856Z appoptics:patching patched http 
2021-09-18T01:10:55.930Z appoptics:patching patched zlib 
2021-09-18T01:10:55.934Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:10:55.934Z appoptics:patching patched fs 
2021-09-18T01:10:56.203Z appoptics:patching patched tedious 10.0.0
2021-09-18T01:10:56.209Z appoptics:debug starting runtimeMetrics


  probes.tedious 10.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 10.0.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1651:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1411:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 10.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 10.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 10.0.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1651:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1411:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 10.0.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 10.0.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 10.0.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1651:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1411:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 10.0.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 10.0.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 10.0.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1651:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1411:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 10.0.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 10.0.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 10.0.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1651:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1411:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 10.0.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 10.0.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 10.0.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1651:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1411:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 10.0.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 10.0.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.0
updated 1 package and audited 1104 packages in 7.22s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:11:06.924Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:11:06.926Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:11:06.926Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:11:06.927Z appoptics:debug using context provider: ace-context
2021-09-18T01:11:06.976Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:11:07.022Z appoptics:patching patched crypto 
2021-09-18T01:11:07.048Z appoptics:patching patched https 
2021-09-18T01:11:07.049Z appoptics:patching patched http 
2021-09-18T01:11:07.141Z appoptics:patching patched zlib 
2021-09-18T01:11:07.144Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:11:07.144Z appoptics:patching patched fs 
2021-09-18T01:11:07.402Z appoptics:patching patched tedious 11.0.0
2021-09-18T01:11:07.407Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 11.0.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1651:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1411:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 11.0.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1651:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1411:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.0.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 11.0.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1651:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1411:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.0.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 11.0.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1651:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1411:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 11.0.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 11.0.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1651:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1411:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 11.0.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 11.0.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1651:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1411:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 11.0.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.1
added 1 package from 3 contributors, removed 3 packages, updated 3 packages, moved 1 package and audited 1102 packages in 6.157s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:11:17.248Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:11:17.250Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:11:17.250Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:11:17.251Z appoptics:debug using context provider: ace-context
2021-09-18T01:11:17.322Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:11:17.390Z appoptics:patching patched crypto 
2021-09-18T01:11:17.427Z appoptics:patching patched https 
2021-09-18T01:11:17.427Z appoptics:patching patched http 
2021-09-18T01:11:17.528Z appoptics:patching patched zlib 
2021-09-18T01:11:17.532Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:11:17.532Z appoptics:patching patched fs 
2021-09-18T01:11:17.860Z appoptics:patching patched tedious 11.0.1
2021-09-18T01:11:17.874Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 11.0.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1656:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1416:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 11.0.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1656:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1416:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 11.0.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1656:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1416:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.0.1
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.1 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 11.0.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1656:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1416:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 11.0.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 11.0.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1656:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1416:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 11.0.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 11.0.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1656:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1416:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 11.0.1
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.1 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.2
added 1 package from 1 contributor, updated 1 package and audited 1103 packages in 6.724s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:11:28.324Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:11:28.325Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:11:28.325Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:11:28.326Z appoptics:debug using context provider: ace-context
2021-09-18T01:11:28.389Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:11:28.452Z appoptics:patching patched crypto 
2021-09-18T01:11:28.480Z appoptics:patching patched https 
2021-09-18T01:11:28.480Z appoptics:patching patched http 
2021-09-18T01:11:28.578Z appoptics:patching patched zlib 
2021-09-18T01:11:28.582Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:11:28.583Z appoptics:patching patched fs 
2021-09-18T01:11:28.832Z appoptics:patching patched tedious 11.0.2
2021-09-18T01:11:28.843Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 11.0.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1656:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1416:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.0.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 11.0.2
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1656:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1416:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.0.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 11.0.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1656:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1416:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.0.2
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.2 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 11.0.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1656:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1416:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 11.0.2
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.2 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 11.0.2
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1656:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1416:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 11.0.2
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.2 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 11.0.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1656:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1416:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 11.0.2
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.2 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.3
updated 1 package and audited 1103 packages in 5.418s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:11:37.909Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:11:37.911Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:11:37.911Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:11:37.912Z appoptics:debug using context provider: ace-context
2021-09-18T01:11:37.985Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:11:38.040Z appoptics:patching patched crypto 
2021-09-18T01:11:38.073Z appoptics:patching patched https 
2021-09-18T01:11:38.074Z appoptics:patching patched http 
2021-09-18T01:11:38.186Z appoptics:patching patched zlib 
2021-09-18T01:11:38.190Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:11:38.191Z appoptics:patching patched fs 
2021-09-18T01:11:38.364Z appoptics:patching patched tedious 11.0.3
2021-09-18T01:11:38.369Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 11.0.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1662:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.0.3
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.3 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 11.0.3
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1662:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.0.3
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.3 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 11.0.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1662:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.0.3
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.3 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 11.0.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1662:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 11.0.3
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.3 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 11.0.3
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1662:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 11.0.3
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.3 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 11.0.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1662:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 11.0.3
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.3 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.4
updated 1 package and audited 1103 packages in 5.021s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:11:47.232Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:11:47.233Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:11:47.233Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:11:47.234Z appoptics:debug using context provider: ace-context
2021-09-18T01:11:47.294Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:11:47.347Z appoptics:patching patched crypto 
2021-09-18T01:11:47.379Z appoptics:patching patched https 
2021-09-18T01:11:47.379Z appoptics:patching patched http 
2021-09-18T01:11:47.461Z appoptics:patching patched zlib 
2021-09-18T01:11:47.469Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:11:47.470Z appoptics:patching patched fs 
2021-09-18T01:11:47.650Z appoptics:patching patched tedious 11.0.4
2021-09-18T01:11:47.656Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.4
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 11.0.4
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1662:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.0.4
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.4 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 11.0.4
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1662:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.0.4
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.4 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 11.0.4
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1662:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.0.4
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.4 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 11.0.4
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1662:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 11.0.4
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.4 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 11.0.4
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1662:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 11.0.4
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.4 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 11.0.4
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1662:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 11.0.4
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.4 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.5
updated 1 package and audited 1103 packages in 5.803s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:11:56.962Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:11:56.964Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:11:56.964Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:11:56.964Z appoptics:debug using context provider: ace-context
2021-09-18T01:11:57.015Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:11:57.064Z appoptics:patching patched crypto 
2021-09-18T01:11:57.092Z appoptics:patching patched https 
2021-09-18T01:11:57.092Z appoptics:patching patched http 
2021-09-18T01:11:57.169Z appoptics:patching patched zlib 
2021-09-18T01:11:57.173Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:11:57.174Z appoptics:patching patched fs 
2021-09-18T01:11:57.338Z appoptics:patching patched tedious 11.0.5
2021-09-18T01:11:57.343Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.5
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 11.0.5
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1647:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1407:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.0.5
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.5 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 11.0.5
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1647:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1407:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.0.5
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.5 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 11.0.5
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1647:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1407:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.0.5
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.5 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 11.0.5
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1647:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1407:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 11.0.5
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.5 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 11.0.5
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1647:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1407:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 11.0.5
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.5 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 11.0.5
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1647:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1407:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 11.0.5
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.5 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.6
updated 1 package and audited 1103 packages in 5.7s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:12:06.551Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:12:06.552Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:12:06.553Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:12:06.553Z appoptics:debug using context provider: ace-context
2021-09-18T01:12:06.608Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:12:06.657Z appoptics:patching patched crypto 
2021-09-18T01:12:06.685Z appoptics:patching patched https 
2021-09-18T01:12:06.685Z appoptics:patching patched http 
2021-09-18T01:12:06.761Z appoptics:patching patched zlib 
2021-09-18T01:12:06.769Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:12:06.769Z appoptics:patching patched fs 
2021-09-18T01:12:06.928Z appoptics:patching patched tedious 11.0.6
2021-09-18T01:12:06.933Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.6
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 11.0.6
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.0.6
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.6 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 11.0.6
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.0.6
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.6 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 11.0.6
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.0.6
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.6 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 11.0.6
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 11.0.6
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.6 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 11.0.6
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 11.0.6
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.6 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 11.0.6
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 11.0.6
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.6 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.7
updated 1 package and audited 1103 packages in 5.401s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:12:15.959Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:12:15.961Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:12:15.962Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:12:15.962Z appoptics:debug using context provider: ace-context
2021-09-18T01:12:16.026Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:12:16.088Z appoptics:patching patched crypto 
2021-09-18T01:12:16.122Z appoptics:patching patched https 
2021-09-18T01:12:16.122Z appoptics:patching patched http 
2021-09-18T01:12:16.223Z appoptics:patching patched zlib 
2021-09-18T01:12:16.227Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:12:16.228Z appoptics:patching patched fs 
2021-09-18T01:12:16.410Z appoptics:patching patched tedious 11.0.7
2021-09-18T01:12:16.415Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.7
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 11.0.7
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.0.7
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.7 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 11.0.7
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.0.7
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.7 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 11.0.7
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.0.7
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.7 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 11.0.7
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 11.0.7
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.7 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 11.0.7
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 11.0.7
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.7 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 11.0.7
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 11.0.7
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.7 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.8
updated 1 package and audited 1103 packages in 5.639s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:12:25.729Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:12:25.731Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:12:25.731Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:12:25.732Z appoptics:debug using context provider: ace-context
2021-09-18T01:12:25.790Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:12:25.840Z appoptics:patching patched crypto 
2021-09-18T01:12:25.870Z appoptics:patching patched https 
2021-09-18T01:12:25.871Z appoptics:patching patched http 
2021-09-18T01:12:25.994Z appoptics:patching patched zlib 
2021-09-18T01:12:25.997Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:12:25.998Z appoptics:patching patched fs 
2021-09-18T01:12:26.166Z appoptics:patching patched tedious 11.0.8
2021-09-18T01:12:26.172Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.8
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 11.0.8
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.0.8
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.8 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 11.0.8
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.0.8
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.8 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 11.0.8
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.0.8
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.8 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 11.0.8
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 11.0.8
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.8 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 11.0.8
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 11.0.8
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.8 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 11.0.8
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 11.0.8
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.8 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-18T01_12_42_113Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.0.9
added 54 packages from 46 contributors, removed 2 packages, updated 3 packages and audited 1180 packages in 13.533s

76 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:12:43.707Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:12:43.709Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:12:43.709Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:12:43.709Z appoptics:debug using context provider: ace-context
2021-09-18T01:12:43.760Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:12:43.806Z appoptics:patching patched crypto 
2021-09-18T01:12:43.835Z appoptics:patching patched https 
2021-09-18T01:12:43.835Z appoptics:patching patched http 
2021-09-18T01:12:43.910Z appoptics:patching patched zlib 
2021-09-18T01:12:43.914Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:12:43.914Z appoptics:patching patched fs 
2021-09-18T01:12:44.083Z appoptics:patching patched tedious 11.0.9
2021-09-18T01:12:44.089Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.9
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 11.0.9
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.0.9
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.9 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 11.0.9
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.0.9
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.9 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 11.0.9
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.0.9
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.9 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 11.0.9
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 11.0.9
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.9 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 11.0.9
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 11.0.9
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.9 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 11.0.9
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 11.0.9
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.9 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-18T01_12_56_515Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.0.10
updated 1 package and audited 1180 packages in 10.19s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:12:57.956Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:12:57.957Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:12:57.958Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:12:57.959Z appoptics:debug using context provider: ace-context
2021-09-18T01:12:58.008Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:12:58.054Z appoptics:patching patched crypto 
2021-09-18T01:12:58.082Z appoptics:patching patched https 
2021-09-18T01:12:58.082Z appoptics:patching patched http 
2021-09-18T01:12:58.158Z appoptics:patching patched zlib 
2021-09-18T01:12:58.162Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:12:58.162Z appoptics:patching patched fs 
2021-09-18T01:12:58.328Z appoptics:patching patched tedious 11.0.10
2021-09-18T01:12:58.334Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.10
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-18T01:12:59.302Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2012:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1057:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1943:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2921:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-18T01:12:59.568Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2012:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1057:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1943:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2921:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-18T01:12:59.832Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2012:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1057:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1943:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2921:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-18T01:13:00.093Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2012:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1057:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1943:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2921:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-18T01:13:00.353Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2012:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1057:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1943:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2921:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-18T01:13:00.618Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2012:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1057:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1943:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2921:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.0.10
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1659:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.0.10
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1659:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.0.10
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1659:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.0.10
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1659:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.0.10
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1659:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.0.10
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1659:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-18T01_13_10_035Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.1.0
updated 1 package and audited 1180 packages in 9.376s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:13:11.474Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:13:11.475Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:13:11.475Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:13:11.476Z appoptics:debug using context provider: ace-context
2021-09-18T01:13:11.527Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:13:11.574Z appoptics:patching patched crypto 
2021-09-18T01:13:11.602Z appoptics:patching patched https 
2021-09-18T01:13:11.602Z appoptics:patching patched http 
2021-09-18T01:13:11.678Z appoptics:patching patched zlib 
2021-09-18T01:13:11.686Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:13:11.686Z appoptics:patching patched fs 
2021-09-18T01:13:11.846Z appoptics:patching patched tedious 11.1.0
2021-09-18T01:13:11.852Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.1.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-18T01:13:12.810Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-18T01:13:13.076Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-18T01:13:13.339Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-18T01:13:13.600Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-18T01:13:13.861Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-18T01:13:14.123Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.1.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.1.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.1.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.1.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.1.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.1.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-18T01_13_21_960Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.1.1
updated 1 package and audited 1180 packages in 7.909s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:13:23.466Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:13:23.468Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:13:23.468Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:13:23.469Z appoptics:debug using context provider: ace-context
2021-09-18T01:13:23.524Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:13:23.598Z appoptics:patching patched crypto 
2021-09-18T01:13:23.669Z appoptics:patching patched https 
2021-09-18T01:13:23.669Z appoptics:patching patched http 
2021-09-18T01:13:23.768Z appoptics:patching patched zlib 
2021-09-18T01:13:23.772Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:13:23.773Z appoptics:patching patched fs 
2021-09-18T01:13:23.952Z appoptics:patching patched tedious 11.1.1
2021-09-18T01:13:23.958Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.1.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-18T01:13:24.943Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-18T01:13:25.214Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-18T01:13:25.478Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-18T01:13:25.741Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-18T01:13:26.005Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-18T01:13:26.267Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.1.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.1.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.1.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.1.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.1.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.1.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-18T01_13_34_498Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.2.0
updated 1 package and audited 1180 packages in 8.285s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:13:36.108Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:13:36.110Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:13:36.110Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:13:36.110Z appoptics:debug using context provider: ace-context
2021-09-18T01:13:36.169Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:13:36.217Z appoptics:patching patched crypto 
2021-09-18T01:13:36.251Z appoptics:patching patched https 
2021-09-18T01:13:36.251Z appoptics:patching patched http 
2021-09-18T01:13:36.334Z appoptics:patching patched zlib 
2021-09-18T01:13:36.338Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:13:36.338Z appoptics:patching patched fs 
2021-09-18T01:13:36.500Z appoptics:patching patched tedious 11.2.0
2021-09-18T01:13:36.505Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.2.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-18T01:13:37.463Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-18T01:13:37.728Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-18T01:13:37.990Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-18T01:13:38.252Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-18T01:13:38.511Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-18T01:13:38.773Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.2.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.2.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.2.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.2.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.2.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.2.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-18T01_13_47_271Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.3.0
added 1 package from 2 contributors, updated 4 packages and audited 1181 packages in 8.643s

76 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:13:48.892Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:13:48.893Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:13:48.894Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:13:48.895Z appoptics:debug using context provider: ace-context
2021-09-18T01:13:48.955Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:13:49.009Z appoptics:patching patched crypto 
2021-09-18T01:13:49.040Z appoptics:patching patched https 
2021-09-18T01:13:49.040Z appoptics:patching patched http 
2021-09-18T01:13:49.132Z appoptics:patching patched zlib 
2021-09-18T01:13:49.138Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:13:49.139Z appoptics:patching patched fs 
2021-09-18T01:13:49.332Z appoptics:patching patched tedious 11.3.0
2021-09-18T01:13:49.339Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.3.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-18T01:13:50.329Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2018:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1949:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2927:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-18T01:13:50.597Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2018:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1949:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2927:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-18T01:13:50.860Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2018:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1949:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2927:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-18T01:13:51.121Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2018:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1949:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2927:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-18T01:13:51.382Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2018:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1949:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2927:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-18T01:13:51.644Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2018:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1949:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2927:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.3.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1665:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1425:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.3.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1665:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1425:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.3.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1665:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1425:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.3.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1665:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1425:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.3.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1665:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1425:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.3.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1665:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1425:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-18T01_14_01_698Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.3.1
updated 1 package and audited 1181 packages in 10.181s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:14:03.236Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:14:03.238Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:14:03.238Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:14:03.238Z appoptics:debug using context provider: ace-context
2021-09-18T01:14:03.291Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:14:03.339Z appoptics:patching patched crypto 
2021-09-18T01:14:03.367Z appoptics:patching patched https 
2021-09-18T01:14:03.367Z appoptics:patching patched http 
2021-09-18T01:14:03.445Z appoptics:patching patched zlib 
2021-09-18T01:14:03.455Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:14:03.456Z appoptics:patching patched fs 
2021-09-18T01:14:03.653Z appoptics:patching patched tedious 11.3.1
2021-09-18T01:14:03.660Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.3.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-18T01:14:04.647Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2018:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1949:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2927:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-18T01:14:04.915Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2018:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1949:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2927:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-18T01:14:05.182Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2018:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1949:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2927:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-18T01:14:05.445Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2018:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1949:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2927:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-18T01:14:05.705Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2018:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1949:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2927:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-18T01:14:05.971Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2018:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1949:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2927:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.3.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1665:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1425:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.3.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1665:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1425:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.3.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1665:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1425:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.3.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1665:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1425:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.3.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1665:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1425:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.3.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1665:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1425:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-18T01_14_14_839Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.4.0
updated 1 package and audited 1181 packages in 8.961s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:14:16.381Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:14:16.382Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:14:16.382Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:14:16.383Z appoptics:debug using context provider: ace-context
2021-09-18T01:14:16.452Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:14:16.509Z appoptics:patching patched crypto 
2021-09-18T01:14:16.545Z appoptics:patching patched https 
2021-09-18T01:14:16.546Z appoptics:patching patched http 
2021-09-18T01:14:16.652Z appoptics:patching patched zlib 
2021-09-18T01:14:16.656Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:14:16.656Z appoptics:patching patched fs 
2021-09-18T01:14:16.864Z appoptics:patching patched tedious 11.4.0
2021-09-18T01:14:16.871Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.4.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-18T01:14:17.910Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2938:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-18T01:14:18.177Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2938:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-18T01:14:18.439Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2938:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-18T01:14:18.701Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2938:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-18T01:14:18.962Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2938:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-18T01:14:19.225Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2938:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.4.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.4.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.4.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.4.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.4.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.4.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-18T01_14_27_165Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.4.1
updated 1 package and audited 1181 packages in 8.007s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:14:28.827Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:14:28.829Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:14:28.829Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:14:28.830Z appoptics:debug using context provider: ace-context
2021-09-18T01:14:28.904Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:14:28.963Z appoptics:patching patched crypto 
2021-09-18T01:14:28.996Z appoptics:patching patched https 
2021-09-18T01:14:28.996Z appoptics:patching patched http 
2021-09-18T01:14:29.101Z appoptics:patching patched zlib 
2021-09-18T01:14:29.105Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:14:29.105Z appoptics:patching patched fs 
2021-09-18T01:14:29.300Z appoptics:patching patched tedious 11.4.1
2021-09-18T01:14:29.306Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.4.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-18T01:14:30.457Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-18T01:14:30.737Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-18T01:14:31.000Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-18T01:14:31.260Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-18T01:14:31.519Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-18T01:14:31.780Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.4.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.4.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.4.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.4.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.4.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.4.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-18T01_14_40_783Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.4.2
updated 1 package and audited 1181 packages in 9.563s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:14:43.200Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:14:43.202Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:14:43.202Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:14:43.203Z appoptics:debug using context provider: ace-context
2021-09-18T01:14:43.266Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:14:43.317Z appoptics:patching patched crypto 
2021-09-18T01:14:43.348Z appoptics:patching patched https 
2021-09-18T01:14:43.348Z appoptics:patching patched http 
2021-09-18T01:14:43.432Z appoptics:patching patched zlib 
2021-09-18T01:14:43.436Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:14:43.436Z appoptics:patching patched fs 
2021-09-18T01:14:43.616Z appoptics:patching patched tedious 11.4.2
2021-09-18T01:14:43.622Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.4.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-18T01:14:44.592Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-18T01:14:44.858Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-18T01:14:45.120Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-18T01:14:45.380Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-18T01:14:45.639Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-18T01:14:45.900Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.4.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.4.2
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.4.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.4.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.4.2
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.4.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-18T01_14_55_628Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.5.0
updated 1 package and audited 1181 packages in 9.809s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:14:57.086Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:14:57.087Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:14:57.088Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:14:57.088Z appoptics:debug using context provider: ace-context
2021-09-18T01:14:57.139Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:14:57.186Z appoptics:patching patched crypto 
2021-09-18T01:14:57.217Z appoptics:patching patched https 
2021-09-18T01:14:57.217Z appoptics:patching patched http 
2021-09-18T01:14:57.288Z appoptics:patching patched zlib 
2021-09-18T01:14:57.293Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:14:57.293Z appoptics:patching patched fs 
2021-09-18T01:14:57.481Z appoptics:patching patched tedious 11.5.0
2021-09-18T01:14:57.487Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.5.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-18T01:14:58.444Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-18T01:14:58.711Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-18T01:14:58.973Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-18T01:14:59.233Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-18T01:14:59.496Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-18T01:14:59.756Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.5.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.5.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.5.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.5.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.5.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.5.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-18T01_15_09_421Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.6.0
updated 1 package and audited 1181 packages in 9.805s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:15:10.948Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:15:10.950Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:15:10.950Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:15:10.950Z appoptics:debug using context provider: ace-context
2021-09-18T01:15:11.012Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:15:11.087Z appoptics:patching patched crypto 
2021-09-18T01:15:11.127Z appoptics:patching patched https 
2021-09-18T01:15:11.127Z appoptics:patching patched http 
2021-09-18T01:15:11.216Z appoptics:patching patched zlib 
2021-09-18T01:15:11.220Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:15:11.220Z appoptics:patching patched fs 
2021-09-18T01:15:11.417Z appoptics:patching patched tedious 11.6.0
2021-09-18T01:15:11.424Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.6.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-18T01:15:12.398Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2994:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-18T01:15:12.666Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2994:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-18T01:15:12.929Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2994:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-18T01:15:13.190Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2994:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-18T01:15:13.488Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2994:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-18T01:15:13.751Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2994:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.6.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.6.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.6.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.6.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.6.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.6.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-18T01_15_23_246Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.6.1
updated 1 package and audited 1181 packages in 9.543s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:15:24.779Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:15:24.781Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:15:24.781Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:15:24.782Z appoptics:debug using context provider: ace-context
2021-09-18T01:15:24.882Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:15:24.975Z appoptics:patching patched crypto 
2021-09-18T01:15:25.011Z appoptics:patching patched https 
2021-09-18T01:15:25.011Z appoptics:patching patched http 
2021-09-18T01:15:25.134Z appoptics:patching patched zlib 
2021-09-18T01:15:25.137Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:15:25.138Z appoptics:patching patched fs 
2021-09-18T01:15:25.479Z appoptics:patching patched tedious 11.6.1
2021-09-18T01:15:25.484Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.6.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-18T01:15:26.463Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-18T01:15:26.729Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-18T01:15:26.991Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-18T01:15:27.251Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-18T01:15:27.513Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-18T01:15:27.774Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.6.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.6.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.6.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.6.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.6.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.6.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-18T01_15_37_617Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.7.0
updated 1 package and audited 1181 packages in 9.982s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:15:39.169Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:15:39.170Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:15:39.170Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:15:39.171Z appoptics:debug using context provider: ace-context
2021-09-18T01:15:39.228Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:15:39.282Z appoptics:patching patched crypto 
2021-09-18T01:15:39.315Z appoptics:patching patched https 
2021-09-18T01:15:39.315Z appoptics:patching patched http 
2021-09-18T01:15:39.387Z appoptics:patching patched zlib 
2021-09-18T01:15:39.392Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:15:39.392Z appoptics:patching patched fs 
2021-09-18T01:15:39.591Z appoptics:patching patched tedious 11.7.0
2021-09-18T01:15:39.598Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.7.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-18T01:15:40.580Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-18T01:15:40.852Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-18T01:15:41.115Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-18T01:15:41.377Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-18T01:15:41.645Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-18T01:15:41.906Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.7.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.7.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.7.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.7.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.7.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.7.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-18T01_15_49_801Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.8.0
updated 1 package and audited 1181 packages in 7.944s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:15:51.302Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:15:51.303Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:15:51.303Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:15:51.304Z appoptics:debug using context provider: ace-context
2021-09-18T01:15:51.360Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:15:51.411Z appoptics:patching patched crypto 
2021-09-18T01:15:51.441Z appoptics:patching patched https 
2021-09-18T01:15:51.441Z appoptics:patching patched http 
2021-09-18T01:15:51.523Z appoptics:patching patched zlib 
2021-09-18T01:15:51.527Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:15:51.528Z appoptics:patching patched fs 
2021-09-18T01:15:51.739Z appoptics:patching patched tedious 11.8.0
2021-09-18T01:15:51.744Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.8.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-18T01:15:52.707Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-18T01:15:52.975Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-18T01:15:53.238Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-18T01:15:53.500Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-18T01:15:53.763Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-18T01:15:54.027Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.8.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.8.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.8.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.8.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.8.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.8.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-18T01_16_02_536Z-debug.log
npm WARN notsup Unsupported engine for tedious@12.0.0: wanted: {"node":">= 12"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@12.0.0
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@12.0.0
updated 1 package and audited 1181 packages in 8.5s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:16:04.136Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:16:04.138Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:16:04.138Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:16:04.139Z appoptics:debug using context provider: ace-context
2021-09-18T01:16:04.192Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:16:04.248Z appoptics:patching patched crypto 
2021-09-18T01:16:04.277Z appoptics:patching patched https 
2021-09-18T01:16:04.278Z appoptics:patching patched http 
2021-09-18T01:16:04.376Z appoptics:patching patched zlib 
2021-09-18T01:16:04.382Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:16:04.383Z appoptics:patching patched fs 
2021-09-18T01:16:04.592Z appoptics:patching patched tedious 12.0.0
2021-09-18T01:16:04.598Z appoptics:debug starting runtimeMetrics


  probes.tedious 12.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-18T01:16:05.579Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2022:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1058:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1953:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2987:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-18T01:16:05.856Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2022:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1058:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1953:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2987:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-18T01:16:06.130Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2022:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1058:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1953:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2987:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-18T01:16:06.395Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2022:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1058:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1953:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2987:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-18T01:16:06.656Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2022:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1058:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1953:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2987:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-18T01:16:06.920Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2022:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1058:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1953:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2987:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 12.0.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1660:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1420:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 12.0.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1660:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1420:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 12.0.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1660:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1420:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 12.0.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1660:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1420:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 12.0.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1660:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1420:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 12.0.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1660:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1420:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-18T01_16_15_301Z-debug.log
npm WARN notsup Unsupported engine for tedious@12.1.0: wanted: {"node":">= 12"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@12.1.0
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@12.1.0
updated 1 package and audited 1181 packages in 8.413s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:16:16.854Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:16:16.855Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:16:16.856Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:16:16.856Z appoptics:debug using context provider: ace-context
2021-09-18T01:16:16.910Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:16:16.959Z appoptics:patching patched crypto 
2021-09-18T01:16:16.987Z appoptics:patching patched https 
2021-09-18T01:16:16.988Z appoptics:patching patched http 
2021-09-18T01:16:17.062Z appoptics:patching patched zlib 
2021-09-18T01:16:17.066Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:16:17.066Z appoptics:patching patched fs 
2021-09-18T01:16:17.252Z appoptics:patching patched tedious 12.1.0
2021-09-18T01:16:17.258Z appoptics:debug starting runtimeMetrics


  probes.tedious 12.1.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-18T01:16:18.226Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2030:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1961:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2995:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-18T01:16:18.516Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2030:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1961:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2995:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-18T01:16:18.780Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2030:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1961:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2995:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-18T01:16:19.042Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2030:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1961:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2995:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-18T01:16:19.311Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2030:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1961:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2995:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-18T01:16:19.575Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2030:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1961:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2995:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 12.1.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1668:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1428:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 12.1.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1668:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1428:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 12.1.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1668:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1428:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 12.1.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1668:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1428:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 12.1.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1668:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1428:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 12.1.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1668:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1428:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-18T01_16_26_583Z-debug.log
npm WARN notsup Unsupported engine for tedious@12.2.0: wanted: {"node":">= 12"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@12.2.0
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@12.2.0
updated 1 package and audited 1181 packages in 7.065s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:16:27.996Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:16:27.998Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:16:27.998Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:16:27.999Z appoptics:debug using context provider: ace-context
2021-09-18T01:16:28.053Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:16:28.110Z appoptics:patching patched crypto 
2021-09-18T01:16:28.141Z appoptics:patching patched https 
2021-09-18T01:16:28.141Z appoptics:patching patched http 
2021-09-18T01:16:28.213Z appoptics:patching patched zlib 
2021-09-18T01:16:28.217Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:16:28.218Z appoptics:patching patched fs 
2021-09-18T01:16:28.421Z appoptics:patching patched tedious 12.2.0
2021-09-18T01:16:28.428Z appoptics:debug starting runtimeMetrics


  probes.tedious 12.2.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-18T01:16:29.403Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2030:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1961:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2995:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-18T01:16:29.681Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2030:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1961:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2995:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-18T01:16:29.944Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2030:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1961:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2995:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-18T01:16:30.205Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2030:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1961:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2995:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-18T01:16:30.468Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2030:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1961:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2995:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-18T01:16:30.732Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2030:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1961:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2995:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 12.2.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1668:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1428:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 12.2.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1668:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1428:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 12.2.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1668:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1428:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 12.2.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1668:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1428:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 12.2.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1668:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1428:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 12.2.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1668:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1428:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-18T01_16_38_210Z-debug.log
npm WARN notsup Unsupported engine for tedious@12.3.0: wanted: {"node":">= 12"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@12.3.0
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@12.3.0
updated 3 packages and audited 1181 packages in 7.251s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:16:39.705Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:16:39.706Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:16:39.706Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:16:39.707Z appoptics:debug using context provider: ace-context
2021-09-18T01:16:39.759Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:16:39.808Z appoptics:patching patched crypto 
2021-09-18T01:16:39.835Z appoptics:patching patched https 
2021-09-18T01:16:39.835Z appoptics:patching patched http 
2021-09-18T01:16:39.902Z appoptics:patching patched zlib 
2021-09-18T01:16:39.906Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:16:39.907Z appoptics:patching patched fs 
2021-09-18T01:16:40.103Z appoptics:patching patched tedious 12.3.0
2021-09-18T01:16:40.108Z appoptics:debug starting runtimeMetrics


  probes.tedious 12.3.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-18T01:16:41.084Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2042:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1075:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1973:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3007:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-18T01:16:41.362Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2042:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1075:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1973:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3007:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-18T01:16:41.624Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2042:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1075:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1973:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3007:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-18T01:16:41.886Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2042:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1075:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1973:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3007:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-18T01:16:42.147Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2042:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1075:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1973:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3007:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-18T01:16:42.411Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2042:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1075:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1973:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3007:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 12.3.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1680:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1440:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 12.3.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1680:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1440:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 12.3.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1680:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1440:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 12.3.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1680:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1440:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 12.3.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1680:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1440:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 12.3.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1680:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1440:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-18T01_16_50_239Z-debug.log
npm WARN notsup Unsupported engine for tedious@13.0.0: wanted: {"node":">= 12"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@13.0.0
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@13.0.0
removed 17 packages, updated 1 package and audited 1164 packages in 7.893s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:16:51.726Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:16:51.728Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:16:51.728Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:16:51.729Z appoptics:debug using context provider: ace-context
2021-09-18T01:16:51.784Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:16:51.831Z appoptics:patching patched crypto 
2021-09-18T01:16:51.862Z appoptics:patching patched https 
2021-09-18T01:16:51.862Z appoptics:patching patched http 
2021-09-18T01:16:51.943Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:16:51.944Z appoptics:patching patched fs 
2021-09-18T01:16:51.971Z appoptics:patching patched zlib 
2021-09-18T01:16:52.147Z appoptics:patching patched tedious 13.0.0
2021-09-18T01:16:52.153Z appoptics:debug starting runtimeMetrics


  probes.tedious 13.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-18T01:16:53.170Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-18T01:16:53.444Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-18T01:16:53.708Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-18T01:16:53.971Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-18T01:16:54.232Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-18T01:16:54.492Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 13.0.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 13.0.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 13.0.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 13.0.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 13.0.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 13.0.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-18T01_17_02_110Z-debug.log
npm WARN notsup Unsupported engine for tedious@13.0.1: wanted: {"node":">= 12"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@13.0.1
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@13.0.1
updated 1 package and audited 1164 packages in 7.531s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T01:17:03.715Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:17:03.717Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:17:03.717Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:17:03.718Z appoptics:debug using context provider: ace-context
2021-09-18T01:17:03.769Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:17:03.815Z appoptics:patching patched crypto 
2021-09-18T01:17:03.843Z appoptics:patching patched https 
2021-09-18T01:17:03.843Z appoptics:patching patched http 
2021-09-18T01:17:03.906Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:17:03.907Z appoptics:patching patched fs 
2021-09-18T01:17:03.926Z appoptics:patching patched zlib 
2021-09-18T01:17:04.089Z appoptics:patching patched tedious 13.0.1
2021-09-18T01:17:04.094Z appoptics:debug starting runtimeMetrics


  probes.tedious 13.0.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-18T01:17:05.072Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-18T01:17:05.373Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-18T01:17:05.640Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-18T01:17:05.902Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-18T01:17:06.164Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-18T01:17:06.429Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 13.0.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 13.0.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 13.0.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 13.0.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 13.0.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 13.0.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@8.0.1
added 10 packages from 35 contributors, removed 55 packages, updated 6 packages and audited 1094 packages in 5.693s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
