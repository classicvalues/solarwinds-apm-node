
added 16 packages, removed 5 packages, changed 2 packages, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:03:16.290Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:03:16.291Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:03:16.291Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:03:16.292Z appoptics:debug using context provider: ace-context
2021-09-13T19:03:16.368Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:03:16.433Z appoptics:patching patched crypto 
2021-09-13T19:03:16.461Z appoptics:patching patched https 
2021-09-13T19:03:16.462Z appoptics:patching patched http 
2021-09-13T19:03:16.500Z appoptics:patching patched pino 2.3.0
2021-09-13T19:03:16.504Z appoptics:debug starting runtimeMetrics


  pino v2.3.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (185ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:03:24.705Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:03:24.706Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:03:24.706Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:03:24.706Z appoptics:debug using context provider: ace-context
2021-09-13T19:03:24.771Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:03:24.819Z appoptics:patching patched crypto 
2021-09-13T19:03:24.847Z appoptics:patching patched https 
2021-09-13T19:03:24.848Z appoptics:patching patched http 
2021-09-13T19:03:24.886Z appoptics:patching patched pino 2.4.0
2021-09-13T19:03:24.890Z appoptics:debug starting runtimeMetrics


  pino v2.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:03:32.751Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:03:32.751Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:03:32.751Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:03:32.752Z appoptics:debug using context provider: ace-context
2021-09-13T19:03:32.816Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:03:32.864Z appoptics:patching patched crypto 
2021-09-13T19:03:32.887Z appoptics:patching patched https 
2021-09-13T19:03:32.887Z appoptics:patching patched http 
2021-09-13T19:03:32.923Z appoptics:patching patched pino 2.4.1
2021-09-13T19:03:32.933Z appoptics:debug starting runtimeMetrics


  pino v2.4.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1120 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:03:39.972Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:03:39.973Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:03:39.973Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:03:39.973Z appoptics:debug using context provider: ace-context
2021-09-13T19:03:40.060Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:03:40.122Z appoptics:patching patched crypto 
2021-09-13T19:03:40.145Z appoptics:patching patched https 
2021-09-13T19:03:40.146Z appoptics:patching patched http 
2021-09-13T19:03:40.182Z appoptics:patching patched pino 2.4.2
2021-09-13T19:03:40.189Z appoptics:debug starting runtimeMetrics


  pino v2.4.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:03:48.373Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:03:48.374Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:03:48.374Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:03:48.375Z appoptics:debug using context provider: ace-context
2021-09-13T19:03:48.441Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:03:48.488Z appoptics:patching patched crypto 
2021-09-13T19:03:48.512Z appoptics:patching patched https 
2021-09-13T19:03:48.512Z appoptics:patching patched http 
2021-09-13T19:03:48.549Z appoptics:patching patched pino 2.4.3
2021-09-13T19:03:48.559Z appoptics:debug starting runtimeMetrics


  pino v2.4.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:03:56.070Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:03:56.071Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:03:56.071Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:03:56.072Z appoptics:debug using context provider: ace-context
2021-09-13T19:03:56.161Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:03:56.209Z appoptics:patching patched crypto 
2021-09-13T19:03:56.233Z appoptics:patching patched https 
2021-09-13T19:03:56.233Z appoptics:patching patched http 
2021-09-13T19:03:56.272Z appoptics:patching patched pino 2.4.4
2021-09-13T19:03:56.276Z appoptics:debug starting runtimeMetrics


  pino v2.4.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1120 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:03.253Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:03.253Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:03.254Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:03.254Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:03.319Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:03.367Z appoptics:patching patched crypto 
2021-09-13T19:04:03.394Z appoptics:patching patched https 
2021-09-13T19:04:03.394Z appoptics:patching patched http 
2021-09-13T19:04:03.431Z appoptics:patching patched pino 2.5.0
2021-09-13T19:04:03.438Z appoptics:debug starting runtimeMetrics


  pino v2.5.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:11.129Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:11.130Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:11.130Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:11.131Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:11.196Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:11.244Z appoptics:patching patched crypto 
2021-09-13T19:04:11.267Z appoptics:patching patched https 
2021-09-13T19:04:11.267Z appoptics:patching patched http 
2021-09-13T19:04:11.304Z appoptics:patching patched pino 2.6.0
2021-09-13T19:04:11.308Z appoptics:debug starting runtimeMetrics


  pino v2.6.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:18.751Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:18.752Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:18.752Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:18.753Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:18.834Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:18.888Z appoptics:patching patched crypto 
2021-09-13T19:04:18.914Z appoptics:patching patched https 
2021-09-13T19:04:18.915Z appoptics:patching patched http 
2021-09-13T19:04:18.959Z appoptics:patching patched pino 2.6.1
2021-09-13T19:04:18.963Z appoptics:debug starting runtimeMetrics


  pino v2.6.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1120 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:26.035Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:26.036Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:26.036Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:26.036Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:26.116Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:26.169Z appoptics:patching patched crypto 
2021-09-13T19:04:26.195Z appoptics:patching patched https 
2021-09-13T19:04:26.196Z appoptics:patching patched http 
2021-09-13T19:04:26.239Z appoptics:patching patched pino 2.7.0
2021-09-13T19:04:26.244Z appoptics:debug starting runtimeMetrics


  pino v2.7.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (199ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:33.934Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:33.935Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:33.935Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:33.936Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:34.000Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:34.048Z appoptics:patching patched crypto 
2021-09-13T19:04:34.071Z appoptics:patching patched https 
2021-09-13T19:04:34.072Z appoptics:patching patched http 
2021-09-13T19:04:34.109Z appoptics:patching patched pino 2.7.1
2021-09-13T19:04:34.113Z appoptics:debug starting runtimeMetrics


  pino v2.7.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:41.632Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:41.633Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:41.633Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:41.634Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:41.698Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:41.745Z appoptics:patching patched crypto 
2021-09-13T19:04:41.768Z appoptics:patching patched https 
2021-09-13T19:04:41.768Z appoptics:patching patched http 
2021-09-13T19:04:41.804Z appoptics:patching patched pino 2.7.2
2021-09-13T19:04:41.811Z appoptics:debug starting runtimeMetrics


  pino v2.7.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:49.700Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:49.700Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:49.700Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:49.701Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:49.766Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:49.813Z appoptics:patching patched crypto 
2021-09-13T19:04:49.836Z appoptics:patching patched https 
2021-09-13T19:04:49.836Z appoptics:patching patched http 
2021-09-13T19:04:49.875Z appoptics:patching patched pino 2.7.3
2021-09-13T19:04:49.879Z appoptics:debug starting runtimeMetrics


  pino v2.7.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:57.331Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:57.331Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:57.332Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:57.332Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:57.397Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:57.444Z appoptics:patching patched crypto 
2021-09-13T19:04:57.467Z appoptics:patching patched https 
2021-09-13T19:04:57.468Z appoptics:patching patched http 
2021-09-13T19:04:57.504Z appoptics:patching patched pino 2.7.4
2021-09-13T19:04:57.514Z appoptics:debug starting runtimeMetrics


  pino v2.7.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1120 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:04.602Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:04.603Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:04.603Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:04.603Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:04.669Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:04.717Z appoptics:patching patched crypto 
2021-09-13T19:05:04.740Z appoptics:patching patched https 
2021-09-13T19:05:04.741Z appoptics:patching patched http 
2021-09-13T19:05:04.777Z appoptics:patching patched pino 2.7.5
2021-09-13T19:05:04.781Z appoptics:debug starting runtimeMetrics


  pino v2.7.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:12.944Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:12.945Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:12.945Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:12.946Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:13.011Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:13.059Z appoptics:patching patched crypto 
2021-09-13T19:05:13.082Z appoptics:patching patched https 
2021-09-13T19:05:13.082Z appoptics:patching patched http 
2021-09-13T19:05:13.119Z appoptics:patching patched pino 2.8.0
2021-09-13T19:05:13.123Z appoptics:debug starting runtimeMetrics


  pino v2.8.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:20.475Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:20.476Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:20.476Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:20.477Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:20.588Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:20.664Z appoptics:patching patched crypto 
2021-09-13T19:05:20.692Z appoptics:patching patched https 
2021-09-13T19:05:20.692Z appoptics:patching patched http 
2021-09-13T19:05:20.751Z appoptics:patching patched pino 2.8.1
2021-09-13T19:05:20.757Z appoptics:debug starting runtimeMetrics


  pino v2.8.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (210ms)


changed 1 package, and audited 1120 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:28.128Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:28.129Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:28.129Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:28.130Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:28.198Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:28.246Z appoptics:patching patched crypto 
2021-09-13T19:05:28.270Z appoptics:patching patched https 
2021-09-13T19:05:28.270Z appoptics:patching patched http 
2021-09-13T19:05:28.321Z appoptics:patching patched pino 2.8.2
2021-09-13T19:05:28.326Z appoptics:debug starting runtimeMetrics


  pino v2.8.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:36.264Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:36.265Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:36.265Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:36.265Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:36.330Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:36.377Z appoptics:patching patched crypto 
2021-09-13T19:05:36.400Z appoptics:patching patched https 
2021-09-13T19:05:36.400Z appoptics:patching patched http 
2021-09-13T19:05:36.450Z appoptics:patching patched pino 2.8.3
2021-09-13T19:05:36.454Z appoptics:debug starting runtimeMetrics


  pino v2.8.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)


changed 1 package, and audited 1120 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:43.539Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:43.540Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:43.540Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:43.540Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:43.618Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:43.670Z appoptics:patching patched crypto 
2021-09-13T19:05:43.703Z appoptics:patching patched https 
2021-09-13T19:05:43.703Z appoptics:patching patched http 
2021-09-13T19:05:43.776Z appoptics:patching patched pino 2.9.0
2021-09-13T19:05:43.782Z appoptics:debug starting runtimeMetrics


  pino v2.9.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:51.580Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:51.580Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:51.580Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:51.581Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:51.645Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:51.694Z appoptics:patching patched crypto 
2021-09-13T19:05:51.717Z appoptics:patching patched https 
2021-09-13T19:05:51.717Z appoptics:patching patched http 
2021-09-13T19:05:51.767Z appoptics:patching patched pino 2.10.0
2021-09-13T19:05:51.771Z appoptics:debug starting runtimeMetrics


  pino v2.10.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:59.205Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:59.206Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:59.206Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:59.207Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:59.293Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:59.349Z appoptics:patching patched crypto 
2021-09-13T19:05:59.374Z appoptics:patching patched https 
2021-09-13T19:05:59.374Z appoptics:patching patched http 
2021-09-13T19:05:59.428Z appoptics:patching patched pino 2.10.1
2021-09-13T19:05:59.432Z appoptics:debug starting runtimeMetrics


  pino v2.10.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1120 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:06.553Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:06.553Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:06.553Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:06.555Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:06.619Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:06.666Z appoptics:patching patched crypto 
2021-09-13T19:06:06.688Z appoptics:patching patched https 
2021-09-13T19:06:06.689Z appoptics:patching patched http 
2021-09-13T19:06:06.739Z appoptics:patching patched pino 2.11.0
2021-09-13T19:06:06.743Z appoptics:debug starting runtimeMetrics


  pino v2.11.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:14.394Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:14.394Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:14.394Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:14.395Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:14.459Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:14.506Z appoptics:patching patched crypto 
2021-09-13T19:06:14.529Z appoptics:patching patched https 
2021-09-13T19:06:14.530Z appoptics:patching patched http 
2021-09-13T19:06:14.579Z appoptics:patching patched pino 2.12.0
2021-09-13T19:06:14.583Z appoptics:debug starting runtimeMetrics


  pino v2.12.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:22.085Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:22.086Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:22.086Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:22.087Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:22.165Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:22.217Z appoptics:patching patched crypto 
2021-09-13T19:06:22.241Z appoptics:patching patched https 
2021-09-13T19:06:22.242Z appoptics:patching patched http 
2021-09-13T19:06:22.301Z appoptics:patching patched pino 2.12.1
2021-09-13T19:06:22.306Z appoptics:debug starting runtimeMetrics


  pino v2.12.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:29.965Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:29.966Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:29.966Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:29.967Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:30.032Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:30.080Z appoptics:patching patched crypto 
2021-09-13T19:06:30.103Z appoptics:patching patched https 
2021-09-13T19:06:30.103Z appoptics:patching patched http 
2021-09-13T19:06:30.153Z appoptics:patching patched pino 2.12.2
2021-09-13T19:06:30.157Z appoptics:debug starting runtimeMetrics


  pino v2.12.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:37.445Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:37.445Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:37.445Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:37.446Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:37.527Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:37.594Z appoptics:patching patched crypto 
2021-09-13T19:06:37.627Z appoptics:patching patched https 
2021-09-13T19:06:37.628Z appoptics:patching patched http 
2021-09-13T19:06:37.710Z appoptics:patching patched pino 2.12.3
2021-09-13T19:06:37.721Z appoptics:debug starting runtimeMetrics


  pino v2.12.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:44.984Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:44.985Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:44.985Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:44.985Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:45.051Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:45.098Z appoptics:patching patched crypto 
2021-09-13T19:06:45.120Z appoptics:patching patched https 
2021-09-13T19:06:45.121Z appoptics:patching patched http 
2021-09-13T19:06:45.173Z appoptics:patching patched pino 2.12.4
2021-09-13T19:06:45.177Z appoptics:debug starting runtimeMetrics


  pino v2.12.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:53.217Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:53.218Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:53.218Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:53.218Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:53.284Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:53.331Z appoptics:patching patched crypto 
2021-09-13T19:06:53.355Z appoptics:patching patched https 
2021-09-13T19:06:53.355Z appoptics:patching patched http 
2021-09-13T19:06:53.406Z appoptics:patching patched pino 2.13.0
2021-09-13T19:06:53.410Z appoptics:debug starting runtimeMetrics


  pino v2.13.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:07:01.155Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:07:01.156Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:07:01.156Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:07:01.157Z appoptics:debug using context provider: ace-context
2021-09-13T19:07:01.222Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:07:01.270Z appoptics:patching patched crypto 
2021-09-13T19:07:01.292Z appoptics:patching patched https 
2021-09-13T19:07:01.293Z appoptics:patching patched http 
2021-09-13T19:07:01.344Z appoptics:patching patched pino 2.13.2
2021-09-13T19:07:01.348Z appoptics:debug starting runtimeMetrics


  pino v2.13.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1120 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:07:07.687Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:07:07.688Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:07:07.688Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:07:07.689Z appoptics:debug using context provider: ace-context
2021-09-13T19:07:07.755Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:07:07.802Z appoptics:patching patched crypto 
2021-09-13T19:07:07.825Z appoptics:patching patched https 
2021-09-13T19:07:07.826Z appoptics:patching patched http 
2021-09-13T19:07:07.878Z appoptics:patching patched pino 2.14.0
2021-09-13T19:07:07.882Z appoptics:debug starting runtimeMetrics


  pino v2.14.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:07:15.449Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:07:15.450Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:07:15.450Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:07:15.451Z appoptics:debug using context provider: ace-context
2021-09-13T19:07:15.516Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:07:15.564Z appoptics:patching patched crypto 
2021-09-13T19:07:15.587Z appoptics:patching patched https 
2021-09-13T19:07:15.587Z appoptics:patching patched http 
2021-09-13T19:07:15.637Z appoptics:patching patched pino 2.15.0
2021-09-13T19:07:15.642Z appoptics:debug starting runtimeMetrics


  pino v2.15.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


added 1 package, removed 1 package, changed 1 package, and audited 1120 packages in 16s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:07:31.895Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:07:31.895Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:07:31.895Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:07:31.896Z appoptics:debug using context provider: ace-context
2021-09-13T19:07:31.961Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:07:32.008Z appoptics:patching patched crypto 
2021-09-13T19:07:32.031Z appoptics:patching patched https 
2021-09-13T19:07:32.031Z appoptics:patching patched http 
2021-09-13T19:07:32.057Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:07:32.058Z appoptics:patching patched fs 
2021-09-13T19:07:32.089Z appoptics:patching patched pino 2.16.0
2021-09-13T19:07:32.094Z appoptics:debug starting runtimeMetrics


  pino v2.16.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


added 1 package, removed 1 package, changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:07:40.049Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:07:40.050Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:07:40.050Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:07:40.051Z appoptics:debug using context provider: ace-context
2021-09-13T19:07:40.119Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:07:40.167Z appoptics:patching patched crypto 
2021-09-13T19:07:40.198Z appoptics:patching patched https 
2021-09-13T19:07:40.199Z appoptics:patching patched http 
2021-09-13T19:07:40.222Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:07:40.222Z appoptics:patching patched fs 
2021-09-13T19:07:40.239Z appoptics:patching patched pino 3.0.0
2021-09-13T19:07:40.249Z appoptics:debug starting runtimeMetrics


  pino v3.0.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)


added 1 package, removed 1 package, changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:07:47.689Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:07:47.690Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:07:47.690Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:07:47.691Z appoptics:debug using context provider: ace-context
2021-09-13T19:07:47.778Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:07:47.833Z appoptics:patching patched crypto 
2021-09-13T19:07:47.859Z appoptics:patching patched https 
2021-09-13T19:07:47.859Z appoptics:patching patched http 
2021-09-13T19:07:47.899Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:07:47.899Z appoptics:patching patched fs 
2021-09-13T19:07:47.929Z appoptics:patching patched pino 3.0.1
2021-09-13T19:07:47.934Z appoptics:debug starting runtimeMetrics


  pino v3.0.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:07:55.491Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:07:55.491Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:07:55.491Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:07:55.492Z appoptics:debug using context provider: ace-context
2021-09-13T19:07:55.558Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:07:55.606Z appoptics:patching patched crypto 
2021-09-13T19:07:55.629Z appoptics:patching patched https 
2021-09-13T19:07:55.630Z appoptics:patching patched http 
2021-09-13T19:07:55.653Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:07:55.653Z appoptics:patching patched fs 
2021-09-13T19:07:55.671Z appoptics:patching patched pino 3.0.2
2021-09-13T19:07:55.682Z appoptics:debug starting runtimeMetrics


  pino v3.0.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:03.370Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:03.371Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:03.371Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:03.372Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:03.437Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:03.484Z appoptics:patching patched crypto 
2021-09-13T19:08:03.509Z appoptics:patching patched https 
2021-09-13T19:08:03.509Z appoptics:patching patched http 
2021-09-13T19:08:03.536Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:03.536Z appoptics:patching patched fs 
2021-09-13T19:08:03.559Z appoptics:patching patched pino 3.0.3
2021-09-13T19:08:03.564Z appoptics:debug starting runtimeMetrics


  pino v3.0.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)


changed 1 package, and audited 1120 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:10.506Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:10.507Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:10.507Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:10.508Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:10.573Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:10.620Z appoptics:patching patched crypto 
2021-09-13T19:08:10.644Z appoptics:patching patched https 
2021-09-13T19:08:10.644Z appoptics:patching patched http 
2021-09-13T19:08:10.668Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:10.668Z appoptics:patching patched fs 
2021-09-13T19:08:10.702Z appoptics:patching patched pino 3.0.4
2021-09-13T19:08:10.709Z appoptics:debug starting runtimeMetrics


  pino v3.0.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:18.266Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:18.270Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:18.270Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:18.271Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:18.352Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:18.400Z appoptics:patching patched crypto 
2021-09-13T19:08:18.422Z appoptics:patching patched https 
2021-09-13T19:08:18.423Z appoptics:patching patched http 
2021-09-13T19:08:18.446Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:18.446Z appoptics:patching patched fs 
2021-09-13T19:08:18.467Z appoptics:patching patched pino 3.0.5
2021-09-13T19:08:18.474Z appoptics:debug starting runtimeMetrics


  pino v3.0.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1120 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:25.451Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:25.452Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:25.452Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:25.453Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:25.532Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:25.590Z appoptics:patching patched crypto 
2021-09-13T19:08:25.614Z appoptics:patching patched https 
2021-09-13T19:08:25.614Z appoptics:patching patched http 
2021-09-13T19:08:25.638Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:25.638Z appoptics:patching patched fs 
2021-09-13T19:08:25.661Z appoptics:patching patched pino 3.0.6
2021-09-13T19:08:25.671Z appoptics:debug starting runtimeMetrics


  pino v3.0.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1120 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:32.911Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:32.911Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:32.911Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:32.912Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:32.977Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:33.025Z appoptics:patching patched crypto 
2021-09-13T19:08:33.048Z appoptics:patching patched https 
2021-09-13T19:08:33.048Z appoptics:patching patched http 
2021-09-13T19:08:33.071Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:33.071Z appoptics:patching patched fs 
2021-09-13T19:08:33.094Z appoptics:patching patched pino 3.0.7
2021-09-13T19:08:33.099Z appoptics:debug starting runtimeMetrics


  pino v3.0.7
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:40.558Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:40.559Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:40.559Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:40.560Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:40.625Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:40.673Z appoptics:patching patched crypto 
2021-09-13T19:08:40.696Z appoptics:patching patched https 
2021-09-13T19:08:40.696Z appoptics:patching patched http 
2021-09-13T19:08:40.720Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:40.720Z appoptics:patching patched fs 
2021-09-13T19:08:40.743Z appoptics:patching patched pino 3.1.0
2021-09-13T19:08:40.748Z appoptics:debug starting runtimeMetrics


  pino v3.1.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:48.073Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:48.073Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:48.074Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:48.074Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:48.139Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:48.186Z appoptics:patching patched crypto 
2021-09-13T19:08:48.209Z appoptics:patching patched https 
2021-09-13T19:08:48.210Z appoptics:patching patched http 
2021-09-13T19:08:48.233Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:48.233Z appoptics:patching patched fs 
2021-09-13T19:08:48.256Z appoptics:patching patched pino 3.1.1
2021-09-13T19:08:48.260Z appoptics:debug starting runtimeMetrics


  pino v3.1.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:56.225Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:56.225Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:56.225Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:56.226Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:56.291Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:56.338Z appoptics:patching patched crypto 
2021-09-13T19:08:56.361Z appoptics:patching patched https 
2021-09-13T19:08:56.361Z appoptics:patching patched http 
2021-09-13T19:08:56.384Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:56.384Z appoptics:patching patched fs 
2021-09-13T19:08:56.408Z appoptics:patching patched pino 3.1.2
2021-09-13T19:08:56.413Z appoptics:debug starting runtimeMetrics


  pino v3.1.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:09:03.996Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:09:03.996Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:09:03.996Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:09:03.997Z appoptics:debug using context provider: ace-context
2021-09-13T19:09:04.085Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:09:04.143Z appoptics:patching patched crypto 
2021-09-13T19:09:04.168Z appoptics:patching patched https 
2021-09-13T19:09:04.168Z appoptics:patching patched http 
2021-09-13T19:09:04.194Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:09:04.194Z appoptics:patching patched fs 
2021-09-13T19:09:04.220Z appoptics:patching patched pino 3.1.3
2021-09-13T19:09:04.224Z appoptics:debug starting runtimeMetrics


  pino v3.1.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)


changed 1 package, and audited 1120 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:09:11.037Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:09:11.038Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:09:11.038Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:09:11.039Z appoptics:debug using context provider: ace-context
2021-09-13T19:09:11.104Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:09:11.151Z appoptics:patching patched crypto 
2021-09-13T19:09:11.174Z appoptics:patching patched https 
2021-09-13T19:09:11.175Z appoptics:patching patched http 
2021-09-13T19:09:11.198Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:09:11.198Z appoptics:patching patched fs 
2021-09-13T19:09:11.221Z appoptics:patching patched pino 3.2.0
2021-09-13T19:09:11.225Z appoptics:debug starting runtimeMetrics


  pino v3.2.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1120 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:09:19.061Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:09:19.062Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:09:19.062Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:09:19.062Z appoptics:debug using context provider: ace-context
2021-09-13T19:09:19.135Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:09:19.182Z appoptics:patching patched crypto 
2021-09-13T19:09:19.205Z appoptics:patching patched https 
2021-09-13T19:09:19.206Z appoptics:patching patched http 
2021-09-13T19:09:19.228Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:09:19.229Z appoptics:patching patched fs 

Error: Cannot find module './lib/events'
Require stack:
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/pino.js
- /__w/appoptics-apm-node/appoptics-apm-node/test/probes/pino.test.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/esm-utils.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/mocha.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/one-and-dones.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/options.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/bin/mocha
    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:933:15)
    at Function.Module._load (node:internal/modules/cjs/loader:778:27)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/pino.js:7:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/pino.test.js:11:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.exports.requireOrImport (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/esm-utils.js:42:12)
    at Object.exports.loadFilesAsync (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/esm-utils.js:55:34)
    at Mocha.loadFilesAsync (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/mocha.js:473:19)
    at singleRun (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/run-helpers.js:125:15)
    at exports.runMocha (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/run-helpers.js:190:10)

changed 1 package, and audited 1120 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:09:26.058Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:09:26.059Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:09:26.059Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:09:26.060Z appoptics:debug using context provider: ace-context
2021-09-13T19:09:26.124Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:09:26.171Z appoptics:patching patched crypto 
2021-09-13T19:09:26.194Z appoptics:patching patched https 
2021-09-13T19:09:26.195Z appoptics:patching patched http 
2021-09-13T19:09:26.217Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:09:26.217Z appoptics:patching patched fs 
2021-09-13T19:09:26.243Z appoptics:patching patched pino 3.3.1
2021-09-13T19:09:26.248Z appoptics:debug starting runtimeMetrics


  pino v3.3.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1120 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:09:33.214Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:09:33.214Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:09:33.214Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:09:33.215Z appoptics:debug using context provider: ace-context
2021-09-13T19:09:33.280Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:09:33.327Z appoptics:patching patched crypto 
2021-09-13T19:09:33.351Z appoptics:patching patched https 
2021-09-13T19:09:33.351Z appoptics:patching patched http 
2021-09-13T19:09:33.374Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:09:33.375Z appoptics:patching patched fs 
2021-09-13T19:09:33.402Z appoptics:patching patched pino 3.3.2
2021-09-13T19:09:33.407Z appoptics:debug starting runtimeMetrics


  pino v3.3.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


added 2 packages, changed 1 package, and audited 1122 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:09:40.440Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:09:40.440Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:09:40.440Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:09:40.441Z appoptics:debug using context provider: ace-context
2021-09-13T19:09:40.520Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:09:40.577Z appoptics:patching patched crypto 
2021-09-13T19:09:40.606Z appoptics:patching patched https 
2021-09-13T19:09:40.607Z appoptics:patching patched http 
2021-09-13T19:09:40.635Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:09:40.635Z appoptics:patching patched fs 
2021-09-13T19:09:40.673Z appoptics:patching patched pino 3.4.0
2021-09-13T19:09:40.682Z appoptics:debug starting runtimeMetrics


  pino v3.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (200ms)


changed 1 package, and audited 1122 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:09:47.655Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:09:47.655Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:09:47.655Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:09:47.656Z appoptics:debug using context provider: ace-context
2021-09-13T19:09:47.721Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:09:47.771Z appoptics:patching patched crypto 
2021-09-13T19:09:47.799Z appoptics:patching patched https 
2021-09-13T19:09:47.799Z appoptics:patching patched http 
2021-09-13T19:09:47.824Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:09:47.824Z appoptics:patching patched fs 
2021-09-13T19:09:47.857Z appoptics:patching patched pino 4.0.0
2021-09-13T19:09:47.861Z appoptics:debug starting runtimeMetrics


  pino v4.0.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1122 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:09:55.275Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:09:55.275Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:09:55.275Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:09:55.276Z appoptics:debug using context provider: ace-context
2021-09-13T19:09:55.351Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:09:55.403Z appoptics:patching patched crypto 
2021-09-13T19:09:55.426Z appoptics:patching patched https 
2021-09-13T19:09:55.426Z appoptics:patching patched http 
2021-09-13T19:09:55.448Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:09:55.449Z appoptics:patching patched fs 
2021-09-13T19:09:55.475Z appoptics:patching patched pino 4.0.1
2021-09-13T19:09:55.480Z appoptics:debug starting runtimeMetrics


  pino v4.0.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (200ms)


changed 1 package, and audited 1122 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:10:02.344Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:10:02.344Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:10:02.344Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:10:02.345Z appoptics:debug using context provider: ace-context
2021-09-13T19:10:02.410Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:10:02.458Z appoptics:patching patched crypto 
2021-09-13T19:10:02.481Z appoptics:patching patched https 
2021-09-13T19:10:02.482Z appoptics:patching patched http 
2021-09-13T19:10:02.504Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:10:02.504Z appoptics:patching patched fs 
2021-09-13T19:10:02.531Z appoptics:patching patched pino 4.0.2
2021-09-13T19:10:02.536Z appoptics:debug starting runtimeMetrics


  pino v4.0.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (105ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)


changed 1 package, and audited 1122 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:10:10.235Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:10:10.235Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:10:10.235Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:10:10.236Z appoptics:debug using context provider: ace-context
2021-09-13T19:10:10.301Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:10:10.348Z appoptics:patching patched crypto 
2021-09-13T19:10:10.371Z appoptics:patching patched https 
2021-09-13T19:10:10.371Z appoptics:patching patched http 
2021-09-13T19:10:10.394Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:10:10.394Z appoptics:patching patched fs 
2021-09-13T19:10:10.421Z appoptics:patching patched pino 4.0.3
2021-09-13T19:10:10.426Z appoptics:debug starting runtimeMetrics


  pino v4.0.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm ERR! code ENOENT
npm ERR! syscall chmod
npm ERR! path /__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/bin.js
npm ERR! errno -2
npm ERR! enoent ENOENT: no such file or directory, chmod '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/bin.js'
npm ERR! enoent This is related to npm not being able to find a file.
npm ERR! enoent 

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-13T19_10_17_356Z-debug.log
npm WARN deprecated uuid@3.3.2: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.

changed 156 packages, and audited 1122 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:10:26.240Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:10:26.240Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:10:26.240Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:10:26.241Z appoptics:debug using context provider: ace-context
2021-09-13T19:10:26.320Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:10:26.368Z appoptics:patching patched crypto 
2021-09-13T19:10:26.391Z appoptics:patching patched https 
2021-09-13T19:10:26.391Z appoptics:patching patched http 
2021-09-13T19:10:26.414Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:10:26.414Z appoptics:patching patched fs 
2021-09-13T19:10:26.441Z appoptics:patching patched pino 4.1.1
2021-09-13T19:10:26.445Z appoptics:debug starting runtimeMetrics


  pino v4.1.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)


changed 1 package, and audited 1122 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:10:34.584Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:10:34.585Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:10:34.585Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:10:34.585Z appoptics:debug using context provider: ace-context
2021-09-13T19:10:34.650Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:10:34.697Z appoptics:patching patched crypto 
2021-09-13T19:10:34.720Z appoptics:patching patched https 
2021-09-13T19:10:34.720Z appoptics:patching patched http 
2021-09-13T19:10:34.742Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:10:34.743Z appoptics:patching patched fs 
2021-09-13T19:10:34.769Z appoptics:patching patched pino 4.1.2
2021-09-13T19:10:34.773Z appoptics:debug starting runtimeMetrics


  pino v4.1.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1122 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:10:41.913Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:10:41.913Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:10:41.914Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:10:41.914Z appoptics:debug using context provider: ace-context
2021-09-13T19:10:42.001Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:10:42.061Z appoptics:patching patched crypto 
2021-09-13T19:10:42.089Z appoptics:patching patched https 
2021-09-13T19:10:42.090Z appoptics:patching patched http 
2021-09-13T19:10:42.121Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:10:42.122Z appoptics:patching patched fs 
2021-09-13T19:10:42.170Z appoptics:patching patched pino 4.2.0
2021-09-13T19:10:42.183Z appoptics:debug starting runtimeMetrics


  pino v4.2.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (207ms)


changed 1 package, and audited 1122 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:10:49.178Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:10:49.179Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:10:49.179Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:10:49.180Z appoptics:debug using context provider: ace-context
2021-09-13T19:10:49.244Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:10:49.291Z appoptics:patching patched crypto 
2021-09-13T19:10:49.314Z appoptics:patching patched https 
2021-09-13T19:10:49.314Z appoptics:patching patched http 
2021-09-13T19:10:49.336Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:10:49.337Z appoptics:patching patched fs 
2021-09-13T19:10:49.362Z appoptics:patching patched pino 4.2.1
2021-09-13T19:10:49.367Z appoptics:debug starting runtimeMetrics


  pino v4.2.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1122 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:10:56.782Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:10:56.782Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:10:56.783Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:10:56.783Z appoptics:debug using context provider: ace-context
2021-09-13T19:10:56.848Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:10:56.895Z appoptics:patching patched crypto 
2021-09-13T19:10:56.918Z appoptics:patching patched https 
2021-09-13T19:10:56.918Z appoptics:patching patched http 
2021-09-13T19:10:56.941Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:10:56.941Z appoptics:patching patched fs 
2021-09-13T19:10:56.969Z appoptics:patching patched pino 4.2.2
2021-09-13T19:10:56.974Z appoptics:debug starting runtimeMetrics


  pino v4.2.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1122 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:11:03.719Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:11:03.719Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:11:03.719Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:11:03.720Z appoptics:debug using context provider: ace-context
2021-09-13T19:11:03.785Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:11:03.832Z appoptics:patching patched crypto 
2021-09-13T19:11:03.855Z appoptics:patching patched https 
2021-09-13T19:11:03.855Z appoptics:patching patched http 
2021-09-13T19:11:03.881Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:11:03.882Z appoptics:patching patched fs 
2021-09-13T19:11:03.912Z appoptics:patching patched pino 4.2.3
2021-09-13T19:11:03.918Z appoptics:debug starting runtimeMetrics


  pino v4.2.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1122 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:11:11.332Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:11:11.332Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:11:11.332Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:11:11.333Z appoptics:debug using context provider: ace-context
2021-09-13T19:11:11.398Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:11:11.445Z appoptics:patching patched crypto 
2021-09-13T19:11:11.468Z appoptics:patching patched https 
2021-09-13T19:11:11.469Z appoptics:patching patched http 
2021-09-13T19:11:11.491Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:11:11.491Z appoptics:patching patched fs 
2021-09-13T19:11:11.519Z appoptics:patching patched pino 4.2.4
2021-09-13T19:11:11.524Z appoptics:debug starting runtimeMetrics


  pino v4.2.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1122 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:11:18.693Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:11:18.694Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:11:18.694Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:11:18.695Z appoptics:debug using context provider: ace-context
2021-09-13T19:11:18.772Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:11:18.819Z appoptics:patching patched crypto 
2021-09-13T19:11:18.845Z appoptics:patching patched https 
2021-09-13T19:11:18.845Z appoptics:patching patched http 
2021-09-13T19:11:18.868Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:11:18.869Z appoptics:patching patched fs 
2021-09-13T19:11:18.895Z appoptics:patching patched pino 4.3.0
2021-09-13T19:11:18.905Z appoptics:debug starting runtimeMetrics


  pino v4.3.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1122 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:11:26.195Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:11:26.196Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:11:26.196Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:11:26.196Z appoptics:debug using context provider: ace-context
2021-09-13T19:11:26.261Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:11:26.308Z appoptics:patching patched crypto 
2021-09-13T19:11:26.331Z appoptics:patching patched https 
2021-09-13T19:11:26.332Z appoptics:patching patched http 
2021-09-13T19:11:26.354Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:11:26.355Z appoptics:patching patched fs 
2021-09-13T19:11:26.382Z appoptics:patching patched pino 4.4.0
2021-09-13T19:11:26.387Z appoptics:debug starting runtimeMetrics


  pino v4.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1122 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:11:33.489Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:11:33.490Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:11:33.490Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:11:33.490Z appoptics:debug using context provider: ace-context
2021-09-13T19:11:33.556Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:11:33.603Z appoptics:patching patched crypto 
2021-09-13T19:11:33.626Z appoptics:patching patched https 
2021-09-13T19:11:33.626Z appoptics:patching patched http 
2021-09-13T19:11:33.649Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:11:33.649Z appoptics:patching patched fs 
2021-09-13T19:11:33.675Z appoptics:patching patched pino 4.5.0
2021-09-13T19:11:33.680Z appoptics:debug starting runtimeMetrics


  pino v4.5.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1122 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:11:40.308Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:11:40.309Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:11:40.309Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:11:40.310Z appoptics:debug using context provider: ace-context
2021-09-13T19:11:40.376Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:11:40.423Z appoptics:patching patched crypto 
2021-09-13T19:11:40.446Z appoptics:patching patched https 
2021-09-13T19:11:40.447Z appoptics:patching patched http 
2021-09-13T19:11:40.469Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:11:40.469Z appoptics:patching patched fs 
2021-09-13T19:11:40.495Z appoptics:patching patched pino 4.5.1
2021-09-13T19:11:40.500Z appoptics:debug starting runtimeMetrics


  pino v4.5.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (193ms)


changed 1 package, and audited 1122 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:11:48.272Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:11:48.273Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:11:48.273Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:11:48.274Z appoptics:debug using context provider: ace-context
2021-09-13T19:11:48.339Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:11:48.386Z appoptics:patching patched crypto 
2021-09-13T19:11:48.409Z appoptics:patching patched https 
2021-09-13T19:11:48.410Z appoptics:patching patched http 
2021-09-13T19:11:48.432Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:11:48.432Z appoptics:patching patched fs 
2021-09-13T19:11:48.459Z appoptics:patching patched pino 4.5.2
2021-09-13T19:11:48.463Z appoptics:debug starting runtimeMetrics


  pino v4.5.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)


changed 1 package, and audited 1122 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:11:55.645Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:11:55.646Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:11:55.646Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:11:55.647Z appoptics:debug using context provider: ace-context
2021-09-13T19:11:55.725Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:11:55.778Z appoptics:patching patched crypto 
2021-09-13T19:11:55.804Z appoptics:patching patched https 
2021-09-13T19:11:55.804Z appoptics:patching patched http 
2021-09-13T19:11:55.827Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:11:55.828Z appoptics:patching patched fs 
2021-09-13T19:11:55.859Z appoptics:patching patched pino 4.5.3
2021-09-13T19:11:55.867Z appoptics:debug starting runtimeMetrics


  pino v4.5.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (191ms)


changed 1 package, and audited 1122 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:12:03.004Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:12:03.005Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:12:03.005Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:12:03.006Z appoptics:debug using context provider: ace-context
2021-09-13T19:12:03.072Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:12:03.120Z appoptics:patching patched crypto 
2021-09-13T19:12:03.142Z appoptics:patching patched https 
2021-09-13T19:12:03.143Z appoptics:patching patched http 
2021-09-13T19:12:03.165Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:12:03.165Z appoptics:patching patched fs 
2021-09-13T19:12:03.189Z appoptics:patching patched pino 4.5.4
2021-09-13T19:12:03.196Z appoptics:debug starting runtimeMetrics


  pino v4.5.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1122 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:12:11.150Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:12:11.150Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:12:11.150Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:12:11.151Z appoptics:debug using context provider: ace-context
2021-09-13T19:12:11.216Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:12:11.264Z appoptics:patching patched crypto 
2021-09-13T19:12:11.287Z appoptics:patching patched https 
2021-09-13T19:12:11.287Z appoptics:patching patched http 
2021-09-13T19:12:11.310Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:12:11.310Z appoptics:patching patched fs 
2021-09-13T19:12:11.336Z appoptics:patching patched pino 4.6.0
2021-09-13T19:12:11.341Z appoptics:debug starting runtimeMetrics


  pino v4.6.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


added 3 packages, removed 4 packages, changed 4 packages, and audited 1121 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:12:17.995Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:12:18.014Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:12:18.014Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:12:18.015Z appoptics:debug using context provider: ace-context
2021-09-13T19:12:18.091Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:12:18.142Z appoptics:patching patched crypto 
2021-09-13T19:12:18.166Z appoptics:patching patched https 
2021-09-13T19:12:18.166Z appoptics:patching patched http 
2021-09-13T19:12:18.188Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:12:18.188Z appoptics:patching patched fs 
2021-09-13T19:12:18.220Z appoptics:patching patched pino 4.7.0
2021-09-13T19:12:18.225Z appoptics:debug starting runtimeMetrics


  pino v4.7.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1121 packages in 19s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:12:37.566Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:12:37.566Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:12:37.566Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:12:37.567Z appoptics:debug using context provider: ace-context
2021-09-13T19:12:37.632Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:12:37.679Z appoptics:patching patched crypto 
2021-09-13T19:12:37.702Z appoptics:patching patched https 
2021-09-13T19:12:37.703Z appoptics:patching patched http 
2021-09-13T19:12:37.725Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:12:37.726Z appoptics:patching patched fs 
2021-09-13T19:12:37.758Z appoptics:patching patched pino 4.7.1
2021-09-13T19:12:37.763Z appoptics:debug starting runtimeMetrics


  pino v4.7.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1121 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:12:45.492Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:12:45.493Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:12:45.493Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:12:45.493Z appoptics:debug using context provider: ace-context
2021-09-13T19:12:45.559Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:12:45.605Z appoptics:patching patched crypto 
2021-09-13T19:12:45.628Z appoptics:patching patched https 
2021-09-13T19:12:45.629Z appoptics:patching patched http 
2021-09-13T19:12:45.651Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:12:45.651Z appoptics:patching patched fs 
2021-09-13T19:12:45.683Z appoptics:patching patched pino 4.7.2
2021-09-13T19:12:45.688Z appoptics:debug starting runtimeMetrics


  pino v4.7.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)


changed 1 package, and audited 1121 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:12:52.088Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:12:52.089Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:12:52.089Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:12:52.090Z appoptics:debug using context provider: ace-context
2021-09-13T19:12:52.154Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:12:52.202Z appoptics:patching patched crypto 
2021-09-13T19:12:52.225Z appoptics:patching patched https 
2021-09-13T19:12:52.225Z appoptics:patching patched http 
2021-09-13T19:12:52.249Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:12:52.249Z appoptics:patching patched fs 
2021-09-13T19:12:52.288Z appoptics:patching patched pino 4.7.3
2021-09-13T19:12:52.292Z appoptics:debug starting runtimeMetrics


  pino v4.7.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1121 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:12:59.781Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:12:59.782Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:12:59.782Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:12:59.783Z appoptics:debug using context provider: ace-context
2021-09-13T19:12:59.848Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:12:59.895Z appoptics:patching patched crypto 
2021-09-13T19:12:59.918Z appoptics:patching patched https 
2021-09-13T19:12:59.919Z appoptics:patching patched http 
2021-09-13T19:12:59.941Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:12:59.942Z appoptics:patching patched fs 
2021-09-13T19:12:59.974Z appoptics:patching patched pino 4.8.0
2021-09-13T19:12:59.979Z appoptics:debug starting runtimeMetrics


  pino v4.8.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1121 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:13:07.196Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:13:07.197Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:13:07.197Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:13:07.198Z appoptics:debug using context provider: ace-context
2021-09-13T19:13:07.262Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:13:07.310Z appoptics:patching patched crypto 
2021-09-13T19:13:07.332Z appoptics:patching patched https 
2021-09-13T19:13:07.333Z appoptics:patching patched http 
2021-09-13T19:13:07.355Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:13:07.355Z appoptics:patching patched fs 
2021-09-13T19:13:07.388Z appoptics:patching patched pino 4.8.1
2021-09-13T19:13:07.393Z appoptics:debug starting runtimeMetrics


  pino v4.8.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1121 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:13:15.012Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:13:15.013Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:13:15.013Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:13:15.014Z appoptics:debug using context provider: ace-context
2021-09-13T19:13:15.079Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:13:15.126Z appoptics:patching patched crypto 
2021-09-13T19:13:15.149Z appoptics:patching patched https 
2021-09-13T19:13:15.149Z appoptics:patching patched http 
2021-09-13T19:13:15.172Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:13:15.173Z appoptics:patching patched fs 
2021-09-13T19:13:15.219Z appoptics:patching patched pino 4.8.2
2021-09-13T19:13:15.225Z appoptics:debug starting runtimeMetrics


  pino v4.8.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1121 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:13:22.372Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:13:22.373Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:13:22.373Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:13:22.373Z appoptics:debug using context provider: ace-context
2021-09-13T19:13:22.439Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:13:22.486Z appoptics:patching patched crypto 
2021-09-13T19:13:22.509Z appoptics:patching patched https 
2021-09-13T19:13:22.509Z appoptics:patching patched http 
2021-09-13T19:13:22.531Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:13:22.532Z appoptics:patching patched fs 
2021-09-13T19:13:22.565Z appoptics:patching patched pino 4.9.0
2021-09-13T19:13:22.569Z appoptics:debug starting runtimeMetrics


  pino v4.9.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1121 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:13:29.357Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:13:29.358Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:13:29.358Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:13:29.359Z appoptics:debug using context provider: ace-context
2021-09-13T19:13:29.424Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:13:29.471Z appoptics:patching patched crypto 
2021-09-13T19:13:29.494Z appoptics:patching patched https 
2021-09-13T19:13:29.494Z appoptics:patching patched http 
2021-09-13T19:13:29.516Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:13:29.516Z appoptics:patching patched fs 
2021-09-13T19:13:29.548Z appoptics:patching patched pino 4.10.0
2021-09-13T19:13:29.553Z appoptics:debug starting runtimeMetrics


  pino v4.10.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1121 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:13:36.978Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:13:36.979Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:13:36.979Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:13:36.980Z appoptics:debug using context provider: ace-context
2021-09-13T19:13:37.056Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:13:37.120Z appoptics:patching patched crypto 
2021-09-13T19:13:37.145Z appoptics:patching patched https 
2021-09-13T19:13:37.146Z appoptics:patching patched http 
2021-09-13T19:13:37.170Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:13:37.170Z appoptics:patching patched fs 
2021-09-13T19:13:37.203Z appoptics:patching patched pino 4.10.1
2021-09-13T19:13:37.208Z appoptics:debug starting runtimeMetrics


  pino v4.10.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1121 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:13:43.595Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:13:43.596Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:13:43.596Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:13:43.597Z appoptics:debug using context provider: ace-context
2021-09-13T19:13:43.672Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:13:43.719Z appoptics:patching patched crypto 
2021-09-13T19:13:43.743Z appoptics:patching patched https 
2021-09-13T19:13:43.743Z appoptics:patching patched http 
2021-09-13T19:13:43.767Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:13:43.767Z appoptics:patching patched fs 
2021-09-13T19:13:43.800Z appoptics:patching patched pino 4.10.2
2021-09-13T19:13:43.805Z appoptics:debug starting runtimeMetrics


  pino v4.10.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 2 packages, and audited 1121 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:13:51.041Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:13:51.042Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:13:51.042Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:13:51.042Z appoptics:debug using context provider: ace-context
2021-09-13T19:13:51.108Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:13:51.155Z appoptics:patching patched crypto 
2021-09-13T19:13:51.178Z appoptics:patching patched https 
2021-09-13T19:13:51.179Z appoptics:patching patched http 
2021-09-13T19:13:51.202Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:13:51.202Z appoptics:patching patched fs 
2021-09-13T19:13:51.235Z appoptics:patching patched pino 4.10.3
2021-09-13T19:13:51.239Z appoptics:debug starting runtimeMetrics


  pino v4.10.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)


changed 1 package, and audited 1121 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:13:58.599Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:13:58.601Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:13:58.601Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:13:58.602Z appoptics:debug using context provider: ace-context
2021-09-13T19:13:58.718Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:13:58.811Z appoptics:patching patched crypto 
2021-09-13T19:13:58.858Z appoptics:patching patched https 
2021-09-13T19:13:58.859Z appoptics:patching patched http 
2021-09-13T19:13:58.904Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:13:58.905Z appoptics:patching patched fs 
2021-09-13T19:13:58.979Z appoptics:patching patched pino 4.10.4
2021-09-13T19:13:58.991Z appoptics:debug starting runtimeMetrics


  pino v4.10.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1121 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:14:05.602Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:14:05.603Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:14:05.603Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:14:05.604Z appoptics:debug using context provider: ace-context
2021-09-13T19:14:05.671Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:14:05.719Z appoptics:patching patched crypto 
2021-09-13T19:14:05.742Z appoptics:patching patched https 
2021-09-13T19:14:05.742Z appoptics:patching patched http 
2021-09-13T19:14:05.766Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:14:05.766Z appoptics:patching patched fs 
2021-09-13T19:14:05.807Z appoptics:patching patched pino 4.11.0
2021-09-13T19:14:05.817Z appoptics:debug starting runtimeMetrics


  pino v4.11.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)


added 1 package, changed 1 package, and audited 1122 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:14:13.430Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:14:13.431Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:14:13.431Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:14:13.432Z appoptics:debug using context provider: ace-context
2021-09-13T19:14:13.497Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:14:13.544Z appoptics:patching patched crypto 
2021-09-13T19:14:13.569Z appoptics:patching patched https 
2021-09-13T19:14:13.570Z appoptics:patching patched http 
2021-09-13T19:14:13.594Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:14:13.595Z appoptics:patching patched fs 
2021-09-13T19:14:13.627Z appoptics:patching patched pino 4.12.0
2021-09-13T19:14:13.631Z appoptics:debug starting runtimeMetrics


  pino v4.12.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (181ms)


changed 1 package, and audited 1122 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:14:20.487Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:14:20.487Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:14:20.488Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:14:20.488Z appoptics:debug using context provider: ace-context
2021-09-13T19:14:20.577Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:14:20.633Z appoptics:patching patched crypto 
2021-09-13T19:14:20.657Z appoptics:patching patched https 
2021-09-13T19:14:20.657Z appoptics:patching patched http 
2021-09-13T19:14:20.681Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:14:20.682Z appoptics:patching patched fs 
2021-09-13T19:14:20.717Z appoptics:patching patched pino 4.13.0
2021-09-13T19:14:20.722Z appoptics:debug starting runtimeMetrics


  pino v4.13.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 2 packages, and audited 1122 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:14:27.791Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:14:27.791Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:14:27.791Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:14:27.792Z appoptics:debug using context provider: ace-context
2021-09-13T19:14:27.857Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:14:27.905Z appoptics:patching patched crypto 
2021-09-13T19:14:27.930Z appoptics:patching patched https 
2021-09-13T19:14:27.931Z appoptics:patching patched http 
2021-09-13T19:14:27.964Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:14:27.964Z appoptics:patching patched fs 
2021-09-13T19:14:28.000Z appoptics:patching patched pino 4.14.0
2021-09-13T19:14:28.005Z appoptics:debug starting runtimeMetrics


  pino v4.14.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1122 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:14:35.326Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:14:35.327Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:14:35.327Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:14:35.328Z appoptics:debug using context provider: ace-context
2021-09-13T19:14:35.405Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:14:35.456Z appoptics:patching patched crypto 
2021-09-13T19:14:35.482Z appoptics:patching patched https 
2021-09-13T19:14:35.483Z appoptics:patching patched http 
2021-09-13T19:14:35.507Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:14:35.507Z appoptics:patching patched fs 
2021-09-13T19:14:35.547Z appoptics:patching patched pino 4.15.0
2021-09-13T19:14:35.552Z appoptics:debug starting runtimeMetrics


  pino v4.15.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1122 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:14:42.759Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:14:42.759Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:14:42.759Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:14:42.760Z appoptics:debug using context provider: ace-context
2021-09-13T19:14:42.837Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:14:42.889Z appoptics:patching patched crypto 
2021-09-13T19:14:42.915Z appoptics:patching patched https 
2021-09-13T19:14:42.915Z appoptics:patching patched http 
2021-09-13T19:14:42.940Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:14:42.941Z appoptics:patching patched fs 
2021-09-13T19:14:42.980Z appoptics:patching patched pino 4.15.1
2021-09-13T19:14:42.984Z appoptics:debug starting runtimeMetrics


  pino v4.15.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)


changed 1 package, and audited 1122 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:14:50.370Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:14:50.371Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:14:50.371Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:14:50.372Z appoptics:debug using context provider: ace-context
2021-09-13T19:14:50.466Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:14:50.522Z appoptics:patching patched crypto 
2021-09-13T19:14:50.545Z appoptics:patching patched https 
2021-09-13T19:14:50.545Z appoptics:patching patched http 
2021-09-13T19:14:50.569Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:14:50.570Z appoptics:patching patched fs 
2021-09-13T19:14:50.602Z appoptics:patching patched pino 4.15.2
2021-09-13T19:14:50.607Z appoptics:debug starting runtimeMetrics


  pino v4.15.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 2 packages, and audited 1122 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:14:57.438Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:14:57.438Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:14:57.438Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:14:57.439Z appoptics:debug using context provider: ace-context
2021-09-13T19:14:57.504Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:14:57.552Z appoptics:patching patched crypto 
2021-09-13T19:14:57.575Z appoptics:patching patched https 
2021-09-13T19:14:57.575Z appoptics:patching patched http 
2021-09-13T19:14:57.599Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:14:57.600Z appoptics:patching patched fs 
2021-09-13T19:14:57.632Z appoptics:patching patched pino 4.15.3
2021-09-13T19:14:57.637Z appoptics:debug starting runtimeMetrics


  pino v4.15.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)


changed 1 package, and audited 1122 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:15:05.006Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:15:05.007Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:15:05.007Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:15:05.008Z appoptics:debug using context provider: ace-context
2021-09-13T19:15:05.073Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:15:05.121Z appoptics:patching patched crypto 
2021-09-13T19:15:05.144Z appoptics:patching patched https 
2021-09-13T19:15:05.144Z appoptics:patching patched http 
2021-09-13T19:15:05.168Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:15:05.169Z appoptics:patching patched fs 
2021-09-13T19:15:05.212Z appoptics:patching patched pino 4.15.4
2021-09-13T19:15:05.220Z appoptics:debug starting runtimeMetrics


  pino v4.15.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (182ms)


changed 1 package, and audited 1122 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:15:12.313Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:15:12.314Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:15:12.314Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:15:12.314Z appoptics:debug using context provider: ace-context
2021-09-13T19:15:12.392Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:15:12.444Z appoptics:patching patched crypto 
2021-09-13T19:15:12.470Z appoptics:patching patched https 
2021-09-13T19:15:12.470Z appoptics:patching patched http 
2021-09-13T19:15:12.496Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:15:12.496Z appoptics:patching patched fs 
2021-09-13T19:15:12.537Z appoptics:patching patched pino 4.16.0
2021-09-13T19:15:12.543Z appoptics:debug starting runtimeMetrics


  pino v4.16.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (196ms)


changed 1 package, and audited 1122 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:15:19.504Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:15:19.505Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:15:19.505Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:15:19.505Z appoptics:debug using context provider: ace-context
2021-09-13T19:15:19.571Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:15:19.619Z appoptics:patching patched crypto 
2021-09-13T19:15:19.642Z appoptics:patching patched https 
2021-09-13T19:15:19.643Z appoptics:patching patched http 
2021-09-13T19:15:19.667Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:15:19.667Z appoptics:patching patched fs 
2021-09-13T19:15:19.700Z appoptics:patching patched pino 4.16.1
2021-09-13T19:15:19.704Z appoptics:debug starting runtimeMetrics


  pino v4.16.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1122 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:15:27.223Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:15:27.224Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:15:27.224Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:15:27.224Z appoptics:debug using context provider: ace-context
2021-09-13T19:15:27.289Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:15:27.336Z appoptics:patching patched crypto 
2021-09-13T19:15:27.359Z appoptics:patching patched https 
2021-09-13T19:15:27.360Z appoptics:patching patched http 
2021-09-13T19:15:27.384Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:15:27.384Z appoptics:patching patched fs 
2021-09-13T19:15:27.416Z appoptics:patching patched pino 4.17.0
2021-09-13T19:15:27.421Z appoptics:debug starting runtimeMetrics


  pino v4.17.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1122 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:15:34.353Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:15:34.353Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:15:34.354Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:15:34.354Z appoptics:debug using context provider: ace-context
2021-09-13T19:15:34.419Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:15:34.466Z appoptics:patching patched crypto 
2021-09-13T19:15:34.489Z appoptics:patching patched https 
2021-09-13T19:15:34.490Z appoptics:patching patched http 
2021-09-13T19:15:34.513Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:15:34.513Z appoptics:patching patched fs 
2021-09-13T19:15:34.545Z appoptics:patching patched pino 4.17.1
2021-09-13T19:15:34.550Z appoptics:debug starting runtimeMetrics


  pino v4.17.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)


changed 1 package, and audited 1122 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:15:42.208Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:15:42.209Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:15:42.209Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:15:42.209Z appoptics:debug using context provider: ace-context
2021-09-13T19:15:42.274Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:15:42.322Z appoptics:patching patched crypto 
2021-09-13T19:15:42.345Z appoptics:patching patched https 
2021-09-13T19:15:42.345Z appoptics:patching patched http 
2021-09-13T19:15:42.369Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:15:42.370Z appoptics:patching patched fs 
2021-09-13T19:15:42.402Z appoptics:patching patched pino 4.17.2
2021-09-13T19:15:42.407Z appoptics:debug starting runtimeMetrics


  pino v4.17.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)


changed 1 package, and audited 1122 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:15:49.837Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:15:49.838Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:15:49.838Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:15:49.839Z appoptics:debug using context provider: ace-context
2021-09-13T19:15:49.918Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:15:49.969Z appoptics:patching patched crypto 
2021-09-13T19:15:49.996Z appoptics:patching patched https 
2021-09-13T19:15:49.996Z appoptics:patching patched http 
2021-09-13T19:15:50.021Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:15:50.022Z appoptics:patching patched fs 
2021-09-13T19:15:50.071Z appoptics:patching patched pino 4.17.3
2021-09-13T19:15:50.075Z appoptics:debug starting runtimeMetrics


  pino v4.17.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)


changed 1 package, and audited 1122 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:15:56.872Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:15:56.873Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:15:56.873Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:15:56.874Z appoptics:debug using context provider: ace-context
2021-09-13T19:15:56.947Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:15:57.011Z appoptics:patching patched crypto 
2021-09-13T19:15:57.039Z appoptics:patching patched https 
2021-09-13T19:15:57.040Z appoptics:patching patched http 
2021-09-13T19:15:57.064Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:15:57.064Z appoptics:patching patched fs 
2021-09-13T19:15:57.097Z appoptics:patching patched pino 4.17.5
2021-09-13T19:15:57.102Z appoptics:debug starting runtimeMetrics


  pino v4.17.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)


changed 1 package, and audited 1122 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:16:04.352Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:16:04.352Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:16:04.352Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:16:04.353Z appoptics:debug using context provider: ace-context
2021-09-13T19:16:04.418Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:16:04.465Z appoptics:patching patched crypto 
2021-09-13T19:16:04.488Z appoptics:patching patched https 
2021-09-13T19:16:04.489Z appoptics:patching patched http 
2021-09-13T19:16:04.513Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:16:04.513Z appoptics:patching patched fs 
2021-09-13T19:16:04.546Z appoptics:patching patched pino 4.17.6
2021-09-13T19:16:04.551Z appoptics:debug starting runtimeMetrics


  pino v4.17.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)


added 2 packages, removed 13 packages, changed 3 packages, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:16:11.367Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:16:11.368Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:16:11.368Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:16:11.368Z appoptics:debug using context provider: ace-context
2021-09-13T19:16:11.447Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:16:11.499Z appoptics:patching patched crypto 
2021-09-13T19:16:11.526Z appoptics:patching patched https 
2021-09-13T19:16:11.527Z appoptics:patching patched http 
2021-09-13T19:16:11.551Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:16:11.551Z appoptics:patching patched fs 
2021-09-13T19:16:11.564Z appoptics:patching patched pino 5.0.0
2021-09-13T19:16:11.568Z appoptics:debug starting runtimeMetrics


  pino v5.0.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)


changed 2 packages, and audited 1111 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:16:19.029Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:16:19.030Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:16:19.030Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:16:19.030Z appoptics:debug using context provider: ace-context
2021-09-13T19:16:19.095Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:16:19.144Z appoptics:patching patched crypto 
2021-09-13T19:16:19.175Z appoptics:patching patched https 
2021-09-13T19:16:19.176Z appoptics:patching patched http 
2021-09-13T19:16:19.201Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:16:19.202Z appoptics:patching patched fs 
2021-09-13T19:16:19.215Z appoptics:patching patched pino 5.0.1
2021-09-13T19:16:19.220Z appoptics:debug starting runtimeMetrics


  pino v5.0.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1111 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:16:27.467Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:16:27.468Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:16:27.468Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:16:27.468Z appoptics:debug using context provider: ace-context
2021-09-13T19:16:27.534Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:16:27.581Z appoptics:patching patched crypto 
2021-09-13T19:16:27.605Z appoptics:patching patched https 
2021-09-13T19:16:27.605Z appoptics:patching patched http 
2021-09-13T19:16:27.630Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:16:27.631Z appoptics:patching patched fs 
2021-09-13T19:16:27.642Z appoptics:patching patched pino 5.0.2
2021-09-13T19:16:27.647Z appoptics:debug starting runtimeMetrics


  pino v5.0.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:16:34.456Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:16:34.457Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:16:34.457Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:16:34.457Z appoptics:debug using context provider: ace-context
2021-09-13T19:16:34.522Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:16:34.569Z appoptics:patching patched crypto 
2021-09-13T19:16:34.592Z appoptics:patching patched https 
2021-09-13T19:16:34.593Z appoptics:patching patched http 
2021-09-13T19:16:34.616Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:16:34.617Z appoptics:patching patched fs 
2021-09-13T19:16:34.628Z appoptics:patching patched pino 5.0.3
2021-09-13T19:16:34.633Z appoptics:debug starting runtimeMetrics


  pino v5.0.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1111 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:16:42.090Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:16:42.090Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:16:42.090Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:16:42.091Z appoptics:debug using context provider: ace-context
2021-09-13T19:16:42.161Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:16:42.214Z appoptics:patching patched crypto 
2021-09-13T19:16:42.238Z appoptics:patching patched https 
2021-09-13T19:16:42.239Z appoptics:patching patched http 
2021-09-13T19:16:42.266Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:16:42.267Z appoptics:patching patched fs 
2021-09-13T19:16:42.278Z appoptics:patching patched pino 5.0.4
2021-09-13T19:16:42.283Z appoptics:debug starting runtimeMetrics


  pino v5.0.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:16:49.426Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:16:49.427Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:16:49.427Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:16:49.428Z appoptics:debug using context provider: ace-context
2021-09-13T19:16:49.505Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:16:49.583Z appoptics:patching patched crypto 
2021-09-13T19:16:49.613Z appoptics:patching patched https 
2021-09-13T19:16:49.614Z appoptics:patching patched http 
2021-09-13T19:16:49.638Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:16:49.639Z appoptics:patching patched fs 
2021-09-13T19:16:49.656Z appoptics:patching patched pino 5.0.5
2021-09-13T19:16:49.661Z appoptics:debug starting runtimeMetrics


  pino v5.0.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1111 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:16:57.166Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:16:57.167Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:16:57.167Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:16:57.167Z appoptics:debug using context provider: ace-context
2021-09-13T19:16:57.233Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:16:57.280Z appoptics:patching patched crypto 
2021-09-13T19:16:57.304Z appoptics:patching patched https 
2021-09-13T19:16:57.304Z appoptics:patching patched http 
2021-09-13T19:16:57.328Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:16:57.328Z appoptics:patching patched fs 
2021-09-13T19:16:57.340Z appoptics:patching patched pino 5.1.0
2021-09-13T19:16:57.344Z appoptics:debug starting runtimeMetrics


  pino v5.1.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1111 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:17:04.871Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:17:04.872Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:17:04.872Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:17:04.873Z appoptics:debug using context provider: ace-context
2021-09-13T19:17:04.937Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:17:04.984Z appoptics:patching patched crypto 
2021-09-13T19:17:05.007Z appoptics:patching patched https 
2021-09-13T19:17:05.008Z appoptics:patching patched http 
2021-09-13T19:17:05.031Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:17:05.032Z appoptics:patching patched fs 
2021-09-13T19:17:05.043Z appoptics:patching patched pino 5.1.1
2021-09-13T19:17:05.048Z appoptics:debug starting runtimeMetrics


  pino v5.1.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:17:12.219Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:17:12.220Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:17:12.220Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:17:12.221Z appoptics:debug using context provider: ace-context
2021-09-13T19:17:12.285Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:17:12.332Z appoptics:patching patched crypto 
2021-09-13T19:17:12.356Z appoptics:patching patched https 
2021-09-13T19:17:12.356Z appoptics:patching patched http 
2021-09-13T19:17:12.380Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:17:12.380Z appoptics:patching patched fs 
2021-09-13T19:17:12.392Z appoptics:patching patched pino 5.2.0
2021-09-13T19:17:12.397Z appoptics:debug starting runtimeMetrics


  pino v5.2.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:17:19.496Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:17:19.497Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:17:19.497Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:17:19.497Z appoptics:debug using context provider: ace-context
2021-09-13T19:17:19.563Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:17:19.611Z appoptics:patching patched crypto 
2021-09-13T19:17:19.634Z appoptics:patching patched https 
2021-09-13T19:17:19.634Z appoptics:patching patched http 
2021-09-13T19:17:19.658Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:17:19.659Z appoptics:patching patched fs 
2021-09-13T19:17:19.670Z appoptics:patching patched pino 5.3.0
2021-09-13T19:17:19.675Z appoptics:debug starting runtimeMetrics


  pino v5.3.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1111 packages in 29s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:17:49.551Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:17:49.551Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:17:49.551Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:17:49.552Z appoptics:debug using context provider: ace-context
2021-09-13T19:17:49.718Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:17:49.798Z appoptics:patching patched crypto 
2021-09-13T19:17:49.842Z appoptics:patching patched https 
2021-09-13T19:17:49.842Z appoptics:patching patched http 
2021-09-13T19:17:49.887Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:17:49.888Z appoptics:patching patched fs 
2021-09-13T19:17:49.918Z appoptics:patching patched pino 5.3.1
2021-09-13T19:17:49.923Z appoptics:debug starting runtimeMetrics


  pino v5.3.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (194ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:17:56.978Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:17:56.979Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:17:56.979Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:17:56.980Z appoptics:debug using context provider: ace-context
2021-09-13T19:17:57.044Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:17:57.092Z appoptics:patching patched crypto 
2021-09-13T19:17:57.116Z appoptics:patching patched https 
2021-09-13T19:17:57.116Z appoptics:patching patched http 
2021-09-13T19:17:57.140Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:17:57.140Z appoptics:patching patched fs 
2021-09-13T19:17:57.152Z appoptics:patching patched pino 5.4.0
2021-09-13T19:17:57.156Z appoptics:debug starting runtimeMetrics


  pino v5.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)


changed 1 package, and audited 1111 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:18:04.639Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:18:04.640Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:18:04.640Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:18:04.641Z appoptics:debug using context provider: ace-context
2021-09-13T19:18:04.709Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:18:04.758Z appoptics:patching patched crypto 
2021-09-13T19:18:04.781Z appoptics:patching patched https 
2021-09-13T19:18:04.781Z appoptics:patching patched http 
2021-09-13T19:18:04.805Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:18:04.806Z appoptics:patching patched fs 
2021-09-13T19:18:04.817Z appoptics:patching patched pino 5.4.1
2021-09-13T19:18:04.822Z appoptics:debug starting runtimeMetrics


  pino v5.4.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:18:12.088Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:18:12.089Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:18:12.089Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:18:12.090Z appoptics:debug using context provider: ace-context
2021-09-13T19:18:12.168Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:18:12.215Z appoptics:patching patched crypto 
2021-09-13T19:18:12.241Z appoptics:patching patched https 
2021-09-13T19:18:12.241Z appoptics:patching patched http 
2021-09-13T19:18:12.265Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:18:12.266Z appoptics:patching patched fs 
2021-09-13T19:18:12.277Z appoptics:patching patched pino 5.5.0
2021-09-13T19:18:12.282Z appoptics:debug starting runtimeMetrics


  pino v5.5.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:18:19.389Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:18:19.390Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:18:19.390Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:18:19.391Z appoptics:debug using context provider: ace-context
2021-09-13T19:18:19.456Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:18:19.504Z appoptics:patching patched crypto 
2021-09-13T19:18:19.527Z appoptics:patching patched https 
2021-09-13T19:18:19.528Z appoptics:patching patched http 
2021-09-13T19:18:19.551Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:18:19.552Z appoptics:patching patched fs 
2021-09-13T19:18:19.563Z appoptics:patching patched pino 5.6.0
2021-09-13T19:18:19.568Z appoptics:debug starting runtimeMetrics


  pino v5.6.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:18:26.823Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:18:26.824Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:18:26.824Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:18:26.824Z appoptics:debug using context provider: ace-context
2021-09-13T19:18:26.901Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:18:26.955Z appoptics:patching patched crypto 
2021-09-13T19:18:26.988Z appoptics:patching patched https 
2021-09-13T19:18:26.989Z appoptics:patching patched http 
2021-09-13T19:18:27.018Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:18:27.018Z appoptics:patching patched fs 
2021-09-13T19:18:27.030Z appoptics:patching patched pino 5.6.1
2021-09-13T19:18:27.034Z appoptics:debug starting runtimeMetrics


  pino v5.6.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (188ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:18:33.990Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:18:33.991Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:18:33.991Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:18:33.991Z appoptics:debug using context provider: ace-context
2021-09-13T19:18:34.087Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:18:34.152Z appoptics:patching patched crypto 
2021-09-13T19:18:34.186Z appoptics:patching patched https 
2021-09-13T19:18:34.186Z appoptics:patching patched http 
2021-09-13T19:18:34.213Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:18:34.213Z appoptics:patching patched fs 
2021-09-13T19:18:34.228Z appoptics:patching patched pino 5.6.2
2021-09-13T19:18:34.234Z appoptics:debug starting runtimeMetrics


  pino v5.6.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1111 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:18:41.794Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:18:41.795Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:18:41.795Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:18:41.796Z appoptics:debug using context provider: ace-context
2021-09-13T19:18:41.866Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:18:41.914Z appoptics:patching patched crypto 
2021-09-13T19:18:41.937Z appoptics:patching patched https 
2021-09-13T19:18:41.937Z appoptics:patching patched http 
2021-09-13T19:18:41.961Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:18:41.962Z appoptics:patching patched fs 
2021-09-13T19:18:41.973Z appoptics:patching patched pino 5.6.3
2021-09-13T19:18:41.978Z appoptics:debug starting runtimeMetrics


  pino v5.6.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:18:49.208Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:18:49.209Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:18:49.209Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:18:49.209Z appoptics:debug using context provider: ace-context
2021-09-13T19:18:49.275Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:18:49.323Z appoptics:patching patched crypto 
2021-09-13T19:18:49.346Z appoptics:patching patched https 
2021-09-13T19:18:49.346Z appoptics:patching patched http 
2021-09-13T19:18:49.370Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:18:49.370Z appoptics:patching patched fs 
2021-09-13T19:18:49.382Z appoptics:patching patched pino 5.6.4
2021-09-13T19:18:49.387Z appoptics:debug starting runtimeMetrics


  pino v5.6.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1111 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:18:56.728Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:18:56.728Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:18:56.728Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:18:56.729Z appoptics:debug using context provider: ace-context
2021-09-13T19:18:56.795Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:18:56.842Z appoptics:patching patched crypto 
2021-09-13T19:18:56.865Z appoptics:patching patched https 
2021-09-13T19:18:56.865Z appoptics:patching patched http 
2021-09-13T19:18:56.889Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:18:56.889Z appoptics:patching patched fs 
2021-09-13T19:18:56.901Z appoptics:patching patched pino 5.7.0
2021-09-13T19:18:56.910Z appoptics:debug starting runtimeMetrics


  pino v5.7.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:19:03.780Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:19:03.780Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:19:03.780Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:19:03.781Z appoptics:debug using context provider: ace-context
2021-09-13T19:19:03.889Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:19:03.939Z appoptics:patching patched crypto 
2021-09-13T19:19:03.962Z appoptics:patching patched https 
2021-09-13T19:19:03.963Z appoptics:patching patched http 
2021-09-13T19:19:03.987Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:19:03.988Z appoptics:patching patched fs 
2021-09-13T19:19:04.002Z appoptics:patching patched pino 5.8.0
2021-09-13T19:19:04.007Z appoptics:debug starting runtimeMetrics


  pino v5.8.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (220ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:19:10.913Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:19:10.914Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:19:10.914Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:19:10.915Z appoptics:debug using context provider: ace-context
2021-09-13T19:19:10.980Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:19:11.027Z appoptics:patching patched crypto 
2021-09-13T19:19:11.050Z appoptics:patching patched https 
2021-09-13T19:19:11.050Z appoptics:patching patched http 
2021-09-13T19:19:11.078Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:19:11.078Z appoptics:patching patched fs 
2021-09-13T19:19:11.085Z appoptics:patching patched pino 5.8.1
2021-09-13T19:19:11.090Z appoptics:debug starting runtimeMetrics


  pino v5.8.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1111 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:19:18.350Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:19:18.351Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:19:18.351Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:19:18.351Z appoptics:debug using context provider: ace-context
2021-09-13T19:19:18.416Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:19:18.463Z appoptics:patching patched crypto 
2021-09-13T19:19:18.486Z appoptics:patching patched https 
2021-09-13T19:19:18.486Z appoptics:patching patched http 
2021-09-13T19:19:18.513Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:19:18.513Z appoptics:patching patched fs 
2021-09-13T19:19:18.520Z appoptics:patching patched pino 5.9.0
2021-09-13T19:19:18.525Z appoptics:debug starting runtimeMetrics


  pino v5.9.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)


added 1 package, changed 2 packages, and audited 1112 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:19:25.082Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:19:25.083Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:19:25.083Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:19:25.084Z appoptics:debug using context provider: ace-context
2021-09-13T19:19:25.149Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:19:25.196Z appoptics:patching patched crypto 
2021-09-13T19:19:25.219Z appoptics:patching patched https 
2021-09-13T19:19:25.220Z appoptics:patching patched http 
2021-09-13T19:19:25.250Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:19:25.250Z appoptics:patching patched fs 
2021-09-13T19:19:25.258Z appoptics:patching patched pino 5.10.1
2021-09-13T19:19:25.262Z appoptics:debug starting runtimeMetrics


  pino v5.10.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:19:33.141Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:19:33.141Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:19:33.141Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:19:33.142Z appoptics:debug using context provider: ace-context
2021-09-13T19:19:33.207Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:19:33.257Z appoptics:patching patched crypto 
2021-09-13T19:19:33.284Z appoptics:patching patched https 
2021-09-13T19:19:33.284Z appoptics:patching patched http 
2021-09-13T19:19:33.320Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:19:33.321Z appoptics:patching patched fs 
2021-09-13T19:19:33.329Z appoptics:patching patched pino 5.10.2
2021-09-13T19:19:33.334Z appoptics:debug starting runtimeMetrics


  pino v5.10.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1112 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:19:40.439Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:19:40.440Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:19:40.440Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:19:40.440Z appoptics:debug using context provider: ace-context
2021-09-13T19:19:40.519Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:19:40.576Z appoptics:patching patched crypto 
2021-09-13T19:19:40.603Z appoptics:patching patched https 
2021-09-13T19:19:40.603Z appoptics:patching patched http 
2021-09-13T19:19:40.638Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:19:40.638Z appoptics:patching patched fs 
2021-09-13T19:19:40.657Z appoptics:patching patched pino 5.10.3
2021-09-13T19:19:40.662Z appoptics:debug starting runtimeMetrics


  pino v5.10.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)


changed 1 package, and audited 1112 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:19:47.989Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:19:47.989Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:19:47.989Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:19:47.990Z appoptics:debug using context provider: ace-context
2021-09-13T19:19:48.056Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:19:48.103Z appoptics:patching patched crypto 
2021-09-13T19:19:48.127Z appoptics:patching patched https 
2021-09-13T19:19:48.127Z appoptics:patching patched http 
2021-09-13T19:19:48.155Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:19:48.155Z appoptics:patching patched fs 
2021-09-13T19:19:48.163Z appoptics:patching patched pino 5.10.4
2021-09-13T19:19:48.167Z appoptics:debug starting runtimeMetrics


  pino v5.10.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)


removed 3 packages, changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:19:55.866Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:19:55.867Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:19:55.867Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:19:55.868Z appoptics:debug using context provider: ace-context
2021-09-13T19:19:55.932Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:19:55.978Z appoptics:patching patched crypto 
2021-09-13T19:19:56.001Z appoptics:patching patched https 
2021-09-13T19:19:56.001Z appoptics:patching patched http 
2021-09-13T19:19:56.030Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:19:56.031Z appoptics:patching patched fs 
2021-09-13T19:19:56.038Z appoptics:patching patched pino 5.10.5
2021-09-13T19:19:56.043Z appoptics:debug starting runtimeMetrics


  pino v5.10.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:20:03.048Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:20:03.049Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:20:03.049Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:20:03.050Z appoptics:debug using context provider: ace-context
2021-09-13T19:20:03.127Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:20:03.179Z appoptics:patching patched crypto 
2021-09-13T19:20:03.205Z appoptics:patching patched https 
2021-09-13T19:20:03.205Z appoptics:patching patched http 
2021-09-13T19:20:03.237Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:20:03.238Z appoptics:patching patched fs 
2021-09-13T19:20:03.247Z appoptics:patching patched pino 5.10.6
2021-09-13T19:20:03.252Z appoptics:debug starting runtimeMetrics


  pino v5.10.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:20:10.564Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:20:10.565Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:20:10.565Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:20:10.565Z appoptics:debug using context provider: ace-context
2021-09-13T19:20:10.631Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:20:10.679Z appoptics:patching patched crypto 
2021-09-13T19:20:10.702Z appoptics:patching patched https 
2021-09-13T19:20:10.702Z appoptics:patching patched http 
2021-09-13T19:20:10.730Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:20:10.731Z appoptics:patching patched fs 
2021-09-13T19:20:10.738Z appoptics:patching patched pino 5.10.7
2021-09-13T19:20:10.743Z appoptics:debug starting runtimeMetrics


  pino v5.10.7
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:20:18.176Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:20:18.176Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:20:18.176Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:20:18.177Z appoptics:debug using context provider: ace-context
2021-09-13T19:20:18.248Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:20:18.317Z appoptics:patching patched crypto 
2021-09-13T19:20:18.356Z appoptics:patching patched https 
2021-09-13T19:20:18.357Z appoptics:patching patched http 
2021-09-13T19:20:18.415Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:20:18.416Z appoptics:patching patched fs 
2021-09-13T19:20:18.428Z appoptics:patching patched pino 5.10.8
2021-09-13T19:20:18.436Z appoptics:debug starting runtimeMetrics


  pino v5.10.8
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:20:25.443Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:20:25.444Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:20:25.444Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:20:25.444Z appoptics:debug using context provider: ace-context
2021-09-13T19:20:25.510Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:20:25.570Z appoptics:patching patched crypto 
2021-09-13T19:20:25.602Z appoptics:patching patched https 
2021-09-13T19:20:25.603Z appoptics:patching patched http 
2021-09-13T19:20:25.633Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:20:25.633Z appoptics:patching patched fs 
2021-09-13T19:20:25.641Z appoptics:patching patched pino 5.10.9
2021-09-13T19:20:25.646Z appoptics:debug starting runtimeMetrics


  pino v5.10.9
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:20:32.703Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:20:32.704Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:20:32.704Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:20:32.705Z appoptics:debug using context provider: ace-context
2021-09-13T19:20:32.771Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:20:32.818Z appoptics:patching patched crypto 
2021-09-13T19:20:32.841Z appoptics:patching patched https 
2021-09-13T19:20:32.842Z appoptics:patching patched http 
2021-09-13T19:20:32.870Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:20:32.870Z appoptics:patching patched fs 
2021-09-13T19:20:32.877Z appoptics:patching patched pino 5.10.10
2021-09-13T19:20:32.882Z appoptics:debug starting runtimeMetrics


  pino v5.10.10
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:20:40.016Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:20:40.017Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:20:40.017Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:20:40.018Z appoptics:debug using context provider: ace-context
2021-09-13T19:20:40.089Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:20:40.180Z appoptics:patching patched crypto 
2021-09-13T19:20:40.217Z appoptics:patching patched https 
2021-09-13T19:20:40.218Z appoptics:patching patched http 
2021-09-13T19:20:40.246Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:20:40.247Z appoptics:patching patched fs 
2021-09-13T19:20:40.254Z appoptics:patching patched pino 5.11.0
2021-09-13T19:20:40.259Z appoptics:debug starting runtimeMetrics


  pino v5.11.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:20:47.634Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:20:47.635Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:20:47.635Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:20:47.635Z appoptics:debug using context provider: ace-context
2021-09-13T19:20:47.701Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:20:47.748Z appoptics:patching patched crypto 
2021-09-13T19:20:47.771Z appoptics:patching patched https 
2021-09-13T19:20:47.772Z appoptics:patching patched http 
2021-09-13T19:20:47.799Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:20:47.800Z appoptics:patching patched fs 
2021-09-13T19:20:47.807Z appoptics:patching patched pino 5.11.1
2021-09-13T19:20:47.812Z appoptics:debug starting runtimeMetrics


  pino v5.11.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:20:55.177Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:20:55.177Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:20:55.177Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:20:55.179Z appoptics:debug using context provider: ace-context
2021-09-13T19:20:55.254Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:20:55.301Z appoptics:patching patched crypto 
2021-09-13T19:20:55.324Z appoptics:patching patched https 
2021-09-13T19:20:55.324Z appoptics:patching patched http 
2021-09-13T19:20:55.353Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:20:55.353Z appoptics:patching patched fs 
2021-09-13T19:20:55.362Z appoptics:patching patched pino 5.11.2
2021-09-13T19:20:55.366Z appoptics:debug starting runtimeMetrics


  pino v5.11.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:21:01.988Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:21:01.989Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:21:01.989Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:21:01.989Z appoptics:debug using context provider: ace-context
2021-09-13T19:21:02.055Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:21:02.102Z appoptics:patching patched crypto 
2021-09-13T19:21:02.125Z appoptics:patching patched https 
2021-09-13T19:21:02.125Z appoptics:patching patched http 
2021-09-13T19:21:02.153Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:21:02.154Z appoptics:patching patched fs 
2021-09-13T19:21:02.161Z appoptics:patching patched pino 5.11.3
2021-09-13T19:21:02.166Z appoptics:debug starting runtimeMetrics


  pino v5.11.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:21:09.344Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:21:09.345Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:21:09.345Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:21:09.346Z appoptics:debug using context provider: ace-context
2021-09-13T19:21:09.427Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:21:09.478Z appoptics:patching patched crypto 
2021-09-13T19:21:09.508Z appoptics:patching patched https 
2021-09-13T19:21:09.509Z appoptics:patching patched http 
2021-09-13T19:21:09.542Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:21:09.543Z appoptics:patching patched fs 
2021-09-13T19:21:09.551Z appoptics:patching patched pino 5.12.0
2021-09-13T19:21:09.555Z appoptics:debug starting runtimeMetrics


  pino v5.12.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:21:15.938Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:21:15.939Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:21:15.939Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:21:15.940Z appoptics:debug using context provider: ace-context
2021-09-13T19:21:16.003Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:21:16.050Z appoptics:patching patched crypto 
2021-09-13T19:21:16.073Z appoptics:patching patched https 
2021-09-13T19:21:16.073Z appoptics:patching patched http 
2021-09-13T19:21:16.100Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:21:16.101Z appoptics:patching patched fs 
2021-09-13T19:21:16.108Z appoptics:patching patched pino 5.12.1
2021-09-13T19:21:16.113Z appoptics:debug starting runtimeMetrics


  pino v5.12.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:21:23.530Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:21:23.530Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:21:23.530Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:21:23.531Z appoptics:debug using context provider: ace-context
2021-09-13T19:21:23.596Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:21:23.643Z appoptics:patching patched crypto 
2021-09-13T19:21:23.667Z appoptics:patching patched https 
2021-09-13T19:21:23.667Z appoptics:patching patched http 
2021-09-13T19:21:23.697Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:21:23.697Z appoptics:patching patched fs 
2021-09-13T19:21:23.704Z appoptics:patching patched pino 5.12.2
2021-09-13T19:21:23.709Z appoptics:debug starting runtimeMetrics


  pino v5.12.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:21:30.268Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:21:30.269Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:21:30.269Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:21:30.270Z appoptics:debug using context provider: ace-context
2021-09-13T19:21:30.341Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:21:30.416Z appoptics:patching patched crypto 
2021-09-13T19:21:30.442Z appoptics:patching patched https 
2021-09-13T19:21:30.443Z appoptics:patching patched http 
2021-09-13T19:21:30.477Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:21:30.477Z appoptics:patching patched fs 
2021-09-13T19:21:30.485Z appoptics:patching patched pino 5.12.3
2021-09-13T19:21:30.489Z appoptics:debug starting runtimeMetrics


  pino v5.12.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (193ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:21:38.242Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:21:38.242Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:21:38.242Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:21:38.243Z appoptics:debug using context provider: ace-context
2021-09-13T19:21:38.307Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:21:38.355Z appoptics:patching patched crypto 
2021-09-13T19:21:38.378Z appoptics:patching patched https 
2021-09-13T19:21:38.378Z appoptics:patching patched http 
2021-09-13T19:21:38.406Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:21:38.407Z appoptics:patching patched fs 
2021-09-13T19:21:38.414Z appoptics:patching patched pino 5.12.4
2021-09-13T19:21:38.419Z appoptics:debug starting runtimeMetrics


  pino v5.12.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:21:45.919Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:21:45.920Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:21:45.920Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:21:45.921Z appoptics:debug using context provider: ace-context
2021-09-13T19:21:45.985Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:21:46.035Z appoptics:patching patched crypto 
2021-09-13T19:21:46.061Z appoptics:patching patched https 
2021-09-13T19:21:46.061Z appoptics:patching patched http 
2021-09-13T19:21:46.090Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:21:46.090Z appoptics:patching patched fs 
2021-09-13T19:21:46.099Z appoptics:patching patched pino 5.12.5
2021-09-13T19:21:46.104Z appoptics:debug starting runtimeMetrics


  pino v5.12.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:21:52.647Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:21:52.647Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:21:52.648Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:21:52.648Z appoptics:debug using context provider: ace-context
2021-09-13T19:21:52.714Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:21:52.761Z appoptics:patching patched crypto 
2021-09-13T19:21:52.784Z appoptics:patching patched https 
2021-09-13T19:21:52.784Z appoptics:patching patched http 
2021-09-13T19:21:52.812Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:21:52.813Z appoptics:patching patched fs 
2021-09-13T19:21:52.820Z appoptics:patching patched pino 5.12.6
2021-09-13T19:21:52.825Z appoptics:debug starting runtimeMetrics


  pino v5.12.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:22:00.250Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:22:00.251Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:22:00.251Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:22:00.252Z appoptics:debug using context provider: ace-context
2021-09-13T19:22:00.317Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:22:00.365Z appoptics:patching patched crypto 
2021-09-13T19:22:00.388Z appoptics:patching patched https 
2021-09-13T19:22:00.389Z appoptics:patching patched http 
2021-09-13T19:22:00.417Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:22:00.417Z appoptics:patching patched fs 
2021-09-13T19:22:00.425Z appoptics:patching patched pino 5.13.0
2021-09-13T19:22:00.429Z appoptics:debug starting runtimeMetrics


  pino v5.13.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:22:07.040Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:22:07.041Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:22:07.041Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:22:07.042Z appoptics:debug using context provider: ace-context
2021-09-13T19:22:07.107Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:22:07.155Z appoptics:patching patched crypto 
2021-09-13T19:22:07.185Z appoptics:patching patched https 
2021-09-13T19:22:07.185Z appoptics:patching patched http 
2021-09-13T19:22:07.218Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:22:07.218Z appoptics:patching patched fs 
2021-09-13T19:22:07.226Z appoptics:patching patched pino 5.13.1
2021-09-13T19:22:07.231Z appoptics:debug starting runtimeMetrics


  pino v5.13.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:22:14.378Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:22:14.379Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:22:14.379Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:22:14.380Z appoptics:debug using context provider: ace-context
2021-09-13T19:22:14.444Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:22:14.492Z appoptics:patching patched crypto 
2021-09-13T19:22:14.514Z appoptics:patching patched https 
2021-09-13T19:22:14.515Z appoptics:patching patched http 
2021-09-13T19:22:14.542Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:22:14.543Z appoptics:patching patched fs 
2021-09-13T19:22:14.550Z appoptics:patching patched pino 5.13.2
2021-09-13T19:22:14.555Z appoptics:debug starting runtimeMetrics


  pino v5.13.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (201ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:22:21.863Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:22:21.863Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:22:21.863Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:22:21.864Z appoptics:debug using context provider: ace-context
2021-09-13T19:22:21.929Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:22:21.975Z appoptics:patching patched crypto 
2021-09-13T19:22:21.998Z appoptics:patching patched https 
2021-09-13T19:22:21.999Z appoptics:patching patched http 
2021-09-13T19:22:22.026Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:22:22.027Z appoptics:patching patched fs 
2021-09-13T19:22:22.034Z appoptics:patching patched pino 5.13.3
2021-09-13T19:22:22.039Z appoptics:debug starting runtimeMetrics


  pino v5.13.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)


changed 2 packages, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:22:29.104Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:22:29.104Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:22:29.105Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:22:29.105Z appoptics:debug using context provider: ace-context
2021-09-13T19:22:29.170Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:22:29.217Z appoptics:patching patched crypto 
2021-09-13T19:22:29.240Z appoptics:patching patched https 
2021-09-13T19:22:29.240Z appoptics:patching patched http 
2021-09-13T19:22:29.268Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:22:29.269Z appoptics:patching patched fs 
2021-09-13T19:22:29.276Z appoptics:patching patched pino 5.13.4
2021-09-13T19:22:29.281Z appoptics:debug starting runtimeMetrics


  pino v5.13.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:22:37.604Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:22:37.604Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:22:37.604Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:22:37.605Z appoptics:debug using context provider: ace-context
2021-09-13T19:22:37.690Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:22:37.740Z appoptics:patching patched crypto 
2021-09-13T19:22:37.763Z appoptics:patching patched https 
2021-09-13T19:22:37.763Z appoptics:patching patched http 
2021-09-13T19:22:37.792Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:22:37.792Z appoptics:patching patched fs 
2021-09-13T19:22:37.801Z appoptics:patching patched pino 5.13.5
2021-09-13T19:22:37.806Z appoptics:debug starting runtimeMetrics


  pino v5.13.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1109 packages in 18s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:22:56.429Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:22:56.430Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:22:56.430Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:22:56.430Z appoptics:debug using context provider: ace-context
2021-09-13T19:22:56.528Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:22:56.589Z appoptics:patching patched crypto 
2021-09-13T19:22:56.616Z appoptics:patching patched https 
2021-09-13T19:22:56.617Z appoptics:patching patched http 
2021-09-13T19:22:56.651Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:22:56.651Z appoptics:patching patched fs 
2021-09-13T19:22:56.660Z appoptics:patching patched pino 5.13.6
2021-09-13T19:22:56.665Z appoptics:debug starting runtimeMetrics


  pino v5.13.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (106ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:23:03.557Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:23:03.558Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:23:03.558Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:23:03.559Z appoptics:debug using context provider: ace-context
2021-09-13T19:23:03.624Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:23:03.672Z appoptics:patching patched crypto 
2021-09-13T19:23:03.695Z appoptics:patching patched https 
2021-09-13T19:23:03.696Z appoptics:patching patched http 
2021-09-13T19:23:03.724Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:23:03.724Z appoptics:patching patched fs 
2021-09-13T19:23:03.731Z appoptics:patching patched pino 5.14.0
2021-09-13T19:23:03.736Z appoptics:debug starting runtimeMetrics


  pino v5.14.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:23:11.384Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:23:11.384Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:23:11.384Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:23:11.385Z appoptics:debug using context provider: ace-context
2021-09-13T19:23:11.450Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:23:11.497Z appoptics:patching patched crypto 
2021-09-13T19:23:11.520Z appoptics:patching patched https 
2021-09-13T19:23:11.521Z appoptics:patching patched http 
2021-09-13T19:23:11.548Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:23:11.548Z appoptics:patching patched fs 
2021-09-13T19:23:11.556Z appoptics:patching patched pino 5.15.0
2021-09-13T19:23:11.561Z appoptics:debug starting runtimeMetrics


  pino v5.15.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:23:18.151Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:23:18.152Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:23:18.152Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:23:18.153Z appoptics:debug using context provider: ace-context
2021-09-13T19:23:18.219Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:23:18.266Z appoptics:patching patched crypto 
2021-09-13T19:23:18.294Z appoptics:patching patched https 
2021-09-13T19:23:18.294Z appoptics:patching patched http 
2021-09-13T19:23:18.341Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:23:18.341Z appoptics:patching patched fs 
2021-09-13T19:23:18.357Z appoptics:patching patched pino 5.16.0
2021-09-13T19:23:18.363Z appoptics:debug starting runtimeMetrics


  pino v5.16.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:23:25.801Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:23:25.801Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:23:25.802Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:23:25.802Z appoptics:debug using context provider: ace-context
2021-09-13T19:23:25.867Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:23:25.914Z appoptics:patching patched crypto 
2021-09-13T19:23:25.937Z appoptics:patching patched https 
2021-09-13T19:23:25.938Z appoptics:patching patched http 
2021-09-13T19:23:25.966Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:23:25.967Z appoptics:patching patched fs 
2021-09-13T19:23:25.975Z appoptics:patching patched pino 5.17.0
2021-09-13T19:23:25.980Z appoptics:debug starting runtimeMetrics


  pino v5.17.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 3 packages, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:23:33.065Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:23:33.066Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:23:33.066Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:23:33.067Z appoptics:debug using context provider: ace-context
2021-09-13T19:23:33.140Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:23:33.187Z appoptics:patching patched crypto 
2021-09-13T19:23:33.211Z appoptics:patching patched https 
2021-09-13T19:23:33.212Z appoptics:patching patched http 
2021-09-13T19:23:33.241Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:23:33.242Z appoptics:patching patched fs 
2021-09-13T19:23:33.251Z appoptics:patching patched pino 6.0.0
2021-09-13T19:23:33.256Z appoptics:debug starting runtimeMetrics


  pino v6.0.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (181ms)
  14 failing

  1) pino v6.0.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4391
         "time": 1631561013427
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.0.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4391
         "time": 1631561013435
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.0.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4391
         "time": 1631561013438
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.0.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4391
         "time": 1631561013441
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.0.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4391
         "time": 1631561013443
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.0.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4391
         "time": 1631561013446
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.0.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4391
         "time": 1631561013448
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.0.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4391
         "time": 1631561013449
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.0.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4391
         "time": 1631561013451
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.0.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4391
         "time": 1631561013452
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.0.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4391
         "time": 1631561013453
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.0.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4391
         "time": 1631561013455
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.0.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4391
         "time": 1631561013560
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.0.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 4852187345D4FF33B9005CEE1ABF91DA7F2C99D3-1"
         "pid": 4391
         "time": 1631561013587
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:23:40.097Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:23:40.097Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:23:40.097Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:23:40.098Z appoptics:debug using context provider: ace-context
2021-09-13T19:23:40.177Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:23:40.225Z appoptics:patching patched crypto 
2021-09-13T19:23:40.248Z appoptics:patching patched https 
2021-09-13T19:23:40.249Z appoptics:patching patched http 
2021-09-13T19:23:40.277Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:23:40.278Z appoptics:patching patched fs 
2021-09-13T19:23:40.285Z appoptics:patching patched pino 6.1.0
2021-09-13T19:23:40.290Z appoptics:debug starting runtimeMetrics


  pino v6.1.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (182ms)
  14 failing

  1) pino v6.1.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4414
         "time": 1631561020443
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.1.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4414
         "time": 1631561020450
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.1.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4414
         "time": 1631561020453
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.1.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4414
         "time": 1631561020456
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.1.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4414
         "time": 1631561020458
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.1.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4414
         "time": 1631561020461
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.1.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4414
         "time": 1631561020463
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.1.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4414
         "time": 1631561020464
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.1.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4414
         "time": 1631561020466
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.1.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4414
         "time": 1631561020467
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.1.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4414
         "time": 1631561020468
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.1.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4414
         "time": 1631561020470
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.1.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4414
         "time": 1631561020577
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.1.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous E7D6FA3192989AC9D2627694C7623EB4A25CC4B6-1"
         "pid": 4414
         "time": 1631561020605
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:23:47.668Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:23:47.669Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:23:47.669Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:23:47.670Z appoptics:debug using context provider: ace-context
2021-09-13T19:23:47.735Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:23:47.782Z appoptics:patching patched crypto 
2021-09-13T19:23:47.805Z appoptics:patching patched https 
2021-09-13T19:23:47.805Z appoptics:patching patched http 
2021-09-13T19:23:47.833Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:23:47.834Z appoptics:patching patched fs 
2021-09-13T19:23:47.841Z appoptics:patching patched pino 6.1.1
2021-09-13T19:23:47.846Z appoptics:debug starting runtimeMetrics


  pino v6.1.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (180ms)
  14 failing

  1) pino v6.1.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4437
         "time": 1631561028028
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.1.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4437
         "time": 1631561028035
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.1.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4437
         "time": 1631561028038
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.1.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4437
         "time": 1631561028041
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.1.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4437
         "time": 1631561028043
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.1.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4437
         "time": 1631561028046
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.1.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4437
         "time": 1631561028048
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.1.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4437
         "time": 1631561028049
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.1.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4437
         "time": 1631561028050
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.1.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4437
         "time": 1631561028052
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.1.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4437
         "time": 1631561028053
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.1.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4437
         "time": 1631561028055
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.1.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4437
         "time": 1631561028160
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.1.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 0664B0570A106B8A6D6FE19537319C3A79584A8C-1"
         "pid": 4437
         "time": 1631561028187
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:23:54.523Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:23:54.524Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:23:54.524Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:23:54.525Z appoptics:debug using context provider: ace-context
2021-09-13T19:23:54.602Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:23:54.655Z appoptics:patching patched crypto 
2021-09-13T19:23:54.680Z appoptics:patching patched https 
2021-09-13T19:23:54.681Z appoptics:patching patched http 
2021-09-13T19:23:54.710Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:23:54.711Z appoptics:patching patched fs 
2021-09-13T19:23:54.724Z appoptics:patching patched pino 6.2.0
2021-09-13T19:23:54.729Z appoptics:debug starting runtimeMetrics


  pino v6.2.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (192ms)
  14 failing

  1) pino v6.2.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4460
         "time": 1631561034917
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.2.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4460
         "time": 1631561034924
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.2.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4460
         "time": 1631561034927
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.2.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4460
         "time": 1631561034930
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.2.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4460
         "time": 1631561034932
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.2.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4460
         "time": 1631561034935
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.2.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4460
         "time": 1631561034937
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.2.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4460
         "time": 1631561034938
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.2.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4460
         "time": 1631561034939
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.2.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4460
         "time": 1631561034941
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.2.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4460
         "time": 1631561034942
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.2.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4460
         "time": 1631561034944
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.2.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4460
         "time": 1631561035048
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.2.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 1138D5B52817052C1EA32D1CF0AAB810E17FAC3F-1"
         "pid": 4460
         "time": 1631561035077
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:24:01.955Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:24:01.955Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:24:01.955Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:24:01.956Z appoptics:debug using context provider: ace-context
2021-09-13T19:24:02.021Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:24:02.068Z appoptics:patching patched crypto 
2021-09-13T19:24:02.091Z appoptics:patching patched https 
2021-09-13T19:24:02.092Z appoptics:patching patched http 
2021-09-13T19:24:02.120Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:24:02.120Z appoptics:patching patched fs 
2021-09-13T19:24:02.128Z appoptics:patching patched pino 6.2.1
2021-09-13T19:24:02.133Z appoptics:debug starting runtimeMetrics


  pino v6.2.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (184ms)
  14 failing

  1) pino v6.2.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4483
         "time": 1631561042290
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.2.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4483
         "time": 1631561042297
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.2.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4483
         "time": 1631561042300
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.2.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4483
         "time": 1631561042303
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.2.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4483
         "time": 1631561042305
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.2.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4483
         "time": 1631561042308
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.2.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4483
         "time": 1631561042310
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.2.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4483
         "time": 1631561042311
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.2.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4483
         "time": 1631561042313
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.2.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4483
         "time": 1631561042314
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.2.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4483
         "time": 1631561042315
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.2.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4483
         "time": 1631561042317
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.2.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4483
         "time": 1631561042422
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.2.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 17D56C5FA48CB0E12432BD03A29DA0270F7CCBD9-1"
         "pid": 4483
         "time": 1631561042453
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:24:08.895Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:24:08.895Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:24:08.895Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:24:08.896Z appoptics:debug using context provider: ace-context
2021-09-13T19:24:08.962Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:24:09.024Z appoptics:patching patched crypto 
2021-09-13T19:24:09.048Z appoptics:patching patched https 
2021-09-13T19:24:09.049Z appoptics:patching patched http 
2021-09-13T19:24:09.080Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:24:09.081Z appoptics:patching patched fs 
2021-09-13T19:24:09.089Z appoptics:patching patched pino 6.3.0
2021-09-13T19:24:09.094Z appoptics:debug starting runtimeMetrics


  pino v6.3.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (186ms)
  14 failing

  1) pino v6.3.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4506
         "time": 1631561049270
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.3.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4506
         "time": 1631561049280
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.3.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4506
         "time": 1631561049283
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.3.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4506
         "time": 1631561049285
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.3.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4506
         "time": 1631561049288
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.3.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4506
         "time": 1631561049291
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.3.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4506
         "time": 1631561049293
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.3.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4506
         "time": 1631561049294
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.3.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4506
         "time": 1631561049296
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.3.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4506
         "time": 1631561049297
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.3.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4506
         "time": 1631561049299
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.3.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4506
         "time": 1631561049301
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.3.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4506
         "time": 1631561049404
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.3.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 17F30FA002DFAD4C67F727370632BD42D1B01698-1"
         "pid": 4506
         "time": 1631561049434
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:24:16.058Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:24:16.059Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:24:16.059Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:24:16.062Z appoptics:debug using context provider: ace-context
2021-09-13T19:24:16.139Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:24:16.193Z appoptics:patching patched crypto 
2021-09-13T19:24:16.218Z appoptics:patching patched https 
2021-09-13T19:24:16.218Z appoptics:patching patched http 
2021-09-13T19:24:16.247Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:24:16.247Z appoptics:patching patched fs 
2021-09-13T19:24:16.255Z appoptics:patching patched pino 6.3.1
2021-09-13T19:24:16.260Z appoptics:debug starting runtimeMetrics


  pino v6.3.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (185ms)
  14 failing

  1) pino v6.3.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4529
         "time": 1631561056464
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.3.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4529
         "time": 1631561056473
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.3.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4529
         "time": 1631561056476
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.3.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4529
         "time": 1631561056479
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.3.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4529
         "time": 1631561056482
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.3.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4529
         "time": 1631561056485
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.3.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4529
         "time": 1631561056486
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.3.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4529
         "time": 1631561056488
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.3.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4529
         "time": 1631561056489
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.3.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4529
         "time": 1631561056490
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.3.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4529
         "time": 1631561056492
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.3.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4529
         "time": 1631561056493
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.3.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4529
         "time": 1631561056598
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.3.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 59C24BF563EDF93A6C483F15AB524414E3737144-1"
         "pid": 4529
         "time": 1631561056627
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:24:23.056Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:24:23.057Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:24:23.057Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:24:23.058Z appoptics:debug using context provider: ace-context
2021-09-13T19:24:23.135Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:24:23.193Z appoptics:patching patched crypto 
2021-09-13T19:24:23.218Z appoptics:patching patched https 
2021-09-13T19:24:23.219Z appoptics:patching patched http 
2021-09-13T19:24:23.271Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:24:23.272Z appoptics:patching patched fs 
2021-09-13T19:24:23.291Z appoptics:patching patched pino 6.3.2
2021-09-13T19:24:23.300Z appoptics:debug starting runtimeMetrics


  pino v6.3.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (185ms)
  14 failing

  1) pino v6.3.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4552
         "time": 1631561063488
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.3.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4552
         "time": 1631561063496
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.3.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4552
         "time": 1631561063499
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.3.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4552
         "time": 1631561063502
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.3.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4552
         "time": 1631561063504
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.3.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4552
         "time": 1631561063507
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.3.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4552
         "time": 1631561063509
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.3.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4552
         "time": 1631561063510
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.3.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4552
         "time": 1631561063511
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.3.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4552
         "time": 1631561063513
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.3.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4552
         "time": 1631561063514
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.3.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4552
         "time": 1631561063516
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.3.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4552
         "time": 1631561063621
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.3.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 348C9552A81138E4303DFF7A750D9F3AB81B768C-1"
         "pid": 4552
         "time": 1631561063648
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:24:30.142Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:24:30.143Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:24:30.143Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:24:30.144Z appoptics:debug using context provider: ace-context
2021-09-13T19:24:30.210Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:24:30.263Z appoptics:patching patched crypto 
2021-09-13T19:24:30.286Z appoptics:patching patched https 
2021-09-13T19:24:30.287Z appoptics:patching patched http 
2021-09-13T19:24:30.315Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:24:30.315Z appoptics:patching patched fs 
2021-09-13T19:24:30.323Z appoptics:patching patched pino 6.4.0
2021-09-13T19:24:30.327Z appoptics:debug starting runtimeMetrics


  pino v6.4.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (181ms)
  14 failing

  1) pino v6.4.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4575
         "time": 1631561070482
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.4.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F266DCD953E436E64A5284BA11A365B799D13FCA-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4575
         "time": 1631561070489
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.4.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "ED48B1E60090747B41A82199A85E0E53E7205031-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4575
         "time": 1631561070492
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.4.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "633EA73624576E34C9C6C5951175F2F37EBB9CB9-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4575
         "time": 1631561070495
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.4.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "176A11C5469DD6D9526CDA9C91AA07A76DB927A3-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4575
         "time": 1631561070497
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.4.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4575
         "time": 1631561070500
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.4.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D26418E2AD751E774B68AB5CA7C757A83D3ADA67-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4575
         "time": 1631561070502
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.4.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5670E1BEBF357C0FCFC238F2148962A1B5B1C6BE-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4575
         "time": 1631561070503
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.4.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4575
         "time": 1631561070504
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.4.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D6818C99A5BC0997E07279CA052C6334F10BEFE3-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4575
         "time": 1631561070506
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.4.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "always insert"
         "pid": 4575
         "time": 1631561070507
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.4.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B740948E99F0C5A067EF7072B5EB50933BFCEEB5-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4575
         "time": 1631561070509
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.4.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2CA2F0DDD10FA3ABE03EB8F99F6EC394CC8A3822-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4575
         "time": 1631561070614
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.4.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 9415383AD6E07BEA33EA5628A145339A37139EC6-1"
         "pid": 4575
         "time": 1631561070643
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:24:37.335Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:24:37.336Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:24:37.336Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:24:37.337Z appoptics:debug using context provider: ace-context
2021-09-13T19:24:37.403Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:24:37.450Z appoptics:patching patched crypto 
2021-09-13T19:24:37.473Z appoptics:patching patched https 
2021-09-13T19:24:37.473Z appoptics:patching patched http 
2021-09-13T19:24:37.502Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:24:37.502Z appoptics:patching patched fs 
2021-09-13T19:24:37.510Z appoptics:patching patched pino 6.4.1
2021-09-13T19:24:37.515Z appoptics:debug starting runtimeMetrics


  pino v6.4.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (186ms)
  14 failing

  1) pino v6.4.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4598
         "time": 1631561077668
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.4.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B8E5B27CD4AB81FEC313EB928EE54BE3191D42C0-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4598
         "time": 1631561077676
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.4.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FFBBD4A4C2DE63872D602F2896676324EE4E9E53-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4598
         "time": 1631561077679
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.4.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5E1FE54B20D89B026D976D8B4A978B204CD4CD70-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4598
         "time": 1631561077681
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.4.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D716A8C2C86C876D0D34E38596CC2167EC63E642-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4598
         "time": 1631561077686
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.4.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4598
         "time": 1631561077691
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.4.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4C5241B44F06CE064C18D804D36A29BC24F57DCC-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4598
         "time": 1631561077693
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.4.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "053228C9F369C80341EE68BBE4C9BE8F21F9C1B2-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4598
         "time": 1631561077697
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.4.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4598
         "time": 1631561077698
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.4.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "00DE061AF4BB0DB5C8D990A21A642C338AB4451E-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4598
         "time": 1631561077700
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.4.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "always insert"
         "pid": 4598
         "time": 1631561077701
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.4.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E07C19217D60874CDA5B69460D3DF5FB16ABAF7F-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4598
         "time": 1631561077703
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.4.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DBB9B94002ED9AE766E07DFCCF66D77C5C7ED0EF-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4598
         "time": 1631561077806
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.4.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 6D47D606BBB0A1F414763E5CF5534E6D53CC3B0B-1"
         "pid": 4598
         "time": 1631561077835
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:24:44.117Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:24:44.118Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:24:44.118Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:24:44.118Z appoptics:debug using context provider: ace-context
2021-09-13T19:24:44.185Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:24:44.234Z appoptics:patching patched crypto 
2021-09-13T19:24:44.257Z appoptics:patching patched https 
2021-09-13T19:24:44.258Z appoptics:patching patched http 
2021-09-13T19:24:44.287Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:24:44.287Z appoptics:patching patched fs 
2021-09-13T19:24:44.295Z appoptics:patching patched pino 6.5.0
2021-09-13T19:24:44.300Z appoptics:debug starting runtimeMetrics


  pino v6.5.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (179ms)
  14 failing

  1) pino v6.5.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4621
         "time": 1631561084456
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.5.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "09D3E619B111940AA53F0D83850C364BB4DA3B75-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4621
         "time": 1631561084463
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.5.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E8DFA3ADFA553BA31E0904AAD89082EF3D47215A-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4621
         "time": 1631561084466
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.5.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7A453CA6E7ECC7B3E11A03F5275CD8678C1DC07F-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4621
         "time": 1631561084468
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.5.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "80D3D5F20525255B41429BEEA2B3E135B5E15D3F-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4621
         "time": 1631561084471
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.5.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4621
         "time": 1631561084474
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.5.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "34C1A0F3D31E21194739F7B84E92A3C90BC7A7BC-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4621
         "time": 1631561084475
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.5.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "03CE95815CCF4F14EC49B7E28D400F2FF30F71EB-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4621
         "time": 1631561084477
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.5.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4621
         "time": 1631561084478
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.5.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C06157BF6557FD5C90EBE76F938FFB566C63E29D-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4621
         "time": 1631561084479
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.5.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "always insert"
         "pid": 4621
         "time": 1631561084481
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.5.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "749A9D6E35D8AC87C696D22D528E53E9DF98381B-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4621
         "time": 1631561084482
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.5.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "ECC3F47A31D35D645220DE25BFEB6CC7AD063FD1-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4621
         "time": 1631561084587
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.5.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 94863BF567ACE8A0D3E98A1DE27BC0A93D04F3DD-1"
         "pid": 4621
         "time": 1631561084615
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:24:52.202Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:24:52.203Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:24:52.203Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:24:52.203Z appoptics:debug using context provider: ace-context
2021-09-13T19:24:52.269Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:24:52.316Z appoptics:patching patched crypto 
2021-09-13T19:24:52.339Z appoptics:patching patched https 
2021-09-13T19:24:52.339Z appoptics:patching patched http 
2021-09-13T19:24:52.367Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:24:52.368Z appoptics:patching patched fs 
2021-09-13T19:24:52.375Z appoptics:patching patched pino 6.5.1
2021-09-13T19:24:52.380Z appoptics:debug starting runtimeMetrics


  pino v6.5.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (184ms)
  14 failing

  1) pino v6.5.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4644
         "time": 1631561092534
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.5.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "AF4A69F57903415489427B01CE1BB6540AF7E4EF-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4644
         "time": 1631561092541
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.5.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "51DC66198014C63F41290E3BD2F86CEAA3130904-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4644
         "time": 1631561092544
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.5.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0FD4E9477777731095991FDDA73A86AF40C5DA88-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4644
         "time": 1631561092547
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.5.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8DFEC8E7CC240627C83D44D2E2010D4ACD41995F-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4644
         "time": 1631561092549
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.5.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4644
         "time": 1631561092552
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.5.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "873FE18B3A6031ABAB15983BE4CF1F3B10FABC34-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4644
         "time": 1631561092553
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.5.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1F290E339DE84ED63112C98759B2B981B5D016EA-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4644
         "time": 1631561092555
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.5.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4644
         "time": 1631561092556
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.5.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "020C26DCCEF2ACDB621D834618E798F22AE327D2-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4644
         "time": 1631561092558
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.5.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "always insert"
         "pid": 4644
         "time": 1631561092559
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.5.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "61D9EFCB9CDEE263BDD7246442BBEB5CC4C9539F-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4644
         "time": 1631561092561
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.5.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "AB4D6776FA2939206A7F24D5B2C7C79D98E3F381-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4644
         "time": 1631561092664
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.5.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 100F6E6D9559710435B238CD9075B3B52AF0D632-1"
         "pid": 4644
         "time": 1631561092697
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:24:58.749Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:24:58.750Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:24:58.750Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:24:58.751Z appoptics:debug using context provider: ace-context
2021-09-13T19:24:58.815Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:24:58.862Z appoptics:patching patched crypto 
2021-09-13T19:24:58.884Z appoptics:patching patched https 
2021-09-13T19:24:58.885Z appoptics:patching patched http 
2021-09-13T19:24:58.912Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:24:58.913Z appoptics:patching patched fs 
2021-09-13T19:24:58.920Z appoptics:patching patched pino 6.6.0
2021-09-13T19:24:58.925Z appoptics:debug starting runtimeMetrics


  pino v6.6.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (180ms)
  14 failing

  1) pino v6.6.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4667
         "time": 1631561099099
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.6.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "75888359CF5F3E47BB011FD068A1E32C1D655529-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4667
         "time": 1631561099106
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.6.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EA66AE230939322F2771EDFFB931418CDC46F215-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4667
         "time": 1631561099108
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.6.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C5CDB0A89802E67F29A6BDF2DEFD7C358176689C-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4667
         "time": 1631561099111
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.6.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "90A72321757DB9513A6230FC5F78B336B96A8429-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4667
         "time": 1631561099114
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.6.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4667
         "time": 1631561099116
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.6.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F467F58CE6A1C384BEEE06EF08B6DF6B9FE5A5F6-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4667
         "time": 1631561099118
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.6.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C8EC71D87CF6C121860189C9C99CD53D727D89AB-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4667
         "time": 1631561099119
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.6.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4667
         "time": 1631561099121
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.6.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A8CB38B07DCB609EB27A74E65F073437D05D4EBB-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4667
         "time": 1631561099122
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.6.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "always insert"
         "pid": 4667
         "time": 1631561099123
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.6.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "56EEFD483AF91AA37EBDD852F869D59372C8FBFB-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4667
         "time": 1631561099125
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.6.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E7268B5290503E106392E22E33A95087435F5464-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4667
         "time": 1631561099229
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.6.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 16B515F6A3D1A84A8445B6E420031F58B3394F1D-1"
         "pid": 4667
         "time": 1631561099258
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:25:06.582Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:25:06.582Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:25:06.582Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:25:06.583Z appoptics:debug using context provider: ace-context
2021-09-13T19:25:06.648Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:25:06.695Z appoptics:patching patched crypto 
2021-09-13T19:25:06.718Z appoptics:patching patched https 
2021-09-13T19:25:06.718Z appoptics:patching patched http 
2021-09-13T19:25:06.746Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:25:06.747Z appoptics:patching patched fs 
2021-09-13T19:25:06.754Z appoptics:patching patched pino 6.6.1
2021-09-13T19:25:06.759Z appoptics:debug starting runtimeMetrics


  pino v6.6.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (182ms)
  14 failing

  1) pino v6.6.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4690
         "time": 1631561106913
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.6.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E1E359F96E598901C7A01361467D7807345DBE25-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4690
         "time": 1631561106920
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.6.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FB95C819D9A4340A23632BDB8D5C6BE0295822D2-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4690
         "time": 1631561106923
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.6.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "BB8DE48A3F8EF6776104054A702E869D6B6295FF-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4690
         "time": 1631561106925
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.6.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2308579227812B1A2313C00060CFC1164FF6A067-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4690
         "time": 1631561106928
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.6.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4690
         "time": 1631561106931
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.6.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D5FCA1C8CABEA8D9DCBACE3713F1CDFEE63D4005-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4690
         "time": 1631561106932
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.6.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "AAB0F8E2D772985A57A27DBBA7365A200002F037-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4690
         "time": 1631561106934
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.6.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4690
         "time": 1631561106935
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.6.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1D2A05A088239CD9B0DD7CFAB4BB572115231EFB-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4690
         "time": 1631561106936
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.6.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "always insert"
         "pid": 4690
         "time": 1631561106938
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.6.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CD005E3F4CACC6343C4E22A3F2DD1ED5A64BE193-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4690
         "time": 1631561106939
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.6.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EA252B669772508B4BB2C214D328FD1CF1928024-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4690
         "time": 1631561107046
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.6.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 1BD8673B7ECA658CC2C61507D6AD662B0EA0591E-1"
         "pid": 4690
         "time": 1631561107074
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 2 packages, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:25:14.451Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:25:14.452Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:25:14.452Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:25:14.453Z appoptics:debug using context provider: ace-context
2021-09-13T19:25:14.517Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:25:14.563Z appoptics:patching patched crypto 
2021-09-13T19:25:14.586Z appoptics:patching patched https 
2021-09-13T19:25:14.586Z appoptics:patching patched http 
2021-09-13T19:25:14.614Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:25:14.615Z appoptics:patching patched fs 
2021-09-13T19:25:14.622Z appoptics:patching patched pino 6.7.0
2021-09-13T19:25:14.627Z appoptics:debug starting runtimeMetrics


  pino v6.7.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (183ms)
  14 failing

  1) pino v6.7.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4713
         "time": 1631561114779
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.7.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "308666B74C416E0C7588495062F799B457C939B1-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4713
         "time": 1631561114786
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.7.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0B94A530BDDA9232C0F64D34BE8F88E0B365C8E2-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4713
         "time": 1631561114788
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.7.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2AEB75C86564D13066CB61C37A4E811B204E1362-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4713
         "time": 1631561114791
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.7.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "55CA0EF9C358D4CDF8CE54C22FB495AC5884986C-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4713
         "time": 1631561114793
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.7.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4713
         "time": 1631561114796
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.7.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CA6BBE99B46A2E2F1450FFDA94870697FEE66D87-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4713
         "time": 1631561114798
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.7.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "11A9C7089F928BC2A14F7BF6E812237E2D9FF811-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4713
         "time": 1631561114799
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.7.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4713
         "time": 1631561114800
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.7.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C55F95F4E46D2235FD9D5A9531D2E2EC7C9026DC-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4713
         "time": 1631561114802
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.7.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "always insert"
         "pid": 4713
         "time": 1631561114803
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.7.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "AADBE6B711DECF9B05A57BC761B9F6D0C79E3974-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4713
         "time": 1631561114805
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.7.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "61A1E06D7E3FF307F2127C21F57FE170E66DDA1E-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4713
         "time": 1631561114910
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.7.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous CC36EDDA89EBF845062710290CA320DF3D46F5D2-1"
         "pid": 4713
         "time": 1631561114940
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:25:21.018Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:25:21.019Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:25:21.019Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:25:21.020Z appoptics:debug using context provider: ace-context
2021-09-13T19:25:21.084Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:25:21.131Z appoptics:patching patched crypto 
2021-09-13T19:25:21.154Z appoptics:patching patched https 
2021-09-13T19:25:21.155Z appoptics:patching patched http 
2021-09-13T19:25:21.183Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:25:21.183Z appoptics:patching patched fs 
2021-09-13T19:25:21.191Z appoptics:patching patched pino 6.8.0
2021-09-13T19:25:21.196Z appoptics:debug starting runtimeMetrics


  pino v6.8.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (177ms)
  14 failing

  1) pino v6.8.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4736
         "time": 1631561121365
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.8.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "84D1F9906ACC4BADD011F45D593CB809A9915AAD-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4736
         "time": 1631561121372
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.8.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "728778D7221754AD7EA1819E77EE82DA655EB450-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4736
         "time": 1631561121375
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.8.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F1EC2041155ED5ECE66DFCFB87C1A2543C93A091-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4736
         "time": 1631561121377
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.8.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9CD5CAB350448D2025B58AEE1D7B252970B97E3A-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4736
         "time": 1631561121380
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.8.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4736
         "time": 1631561121383
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.8.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "02BEE9EB66A196ECCB629D3407DFE30FCF99E361-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4736
         "time": 1631561121384
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.8.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B85E681F6339D5856E7B6C2B3103B9E35F884A3E-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4736
         "time": 1631561121386
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.8.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4736
         "time": 1631561121387
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.8.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7052952E9FD7E1EA8071454350C1B6BE5D2B15E1-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4736
         "time": 1631561121389
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.8.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "always insert"
         "pid": 4736
         "time": 1631561121390
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.8.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F0B70F553B9E5E369FF81E074F0FDA6D27FB8773-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4736
         "time": 1631561121392
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.8.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F310206AE30BBC1B325738BCC79198C9DF3454EC-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4736
         "time": 1631561121495
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.8.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous E09165B403FE69E9D73626C18EA7A12251E9423D-1"
         "pid": 4736
         "time": 1631561121523
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:25:28.458Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:25:28.459Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:25:28.459Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:25:28.460Z appoptics:debug using context provider: ace-context
2021-09-13T19:25:28.525Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:25:28.571Z appoptics:patching patched crypto 
2021-09-13T19:25:28.594Z appoptics:patching patched https 
2021-09-13T19:25:28.595Z appoptics:patching patched http 
2021-09-13T19:25:28.623Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:25:28.623Z appoptics:patching patched fs 
2021-09-13T19:25:28.631Z appoptics:patching patched pino 6.9.0
2021-09-13T19:25:28.636Z appoptics:debug starting runtimeMetrics


  pino v6.9.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (182ms)
  14 failing

  1) pino v6.9.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4759
         "time": 1631561128787
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.9.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "52CD9DF09B6DEDA98041C972B08975BC4CF8C79D-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4759
         "time": 1631561128794
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.9.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "379C2761C4DD6776BA3980D446DE646D8821F32D-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4759
         "time": 1631561128797
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.9.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B2233EA8B5954748033731A7D667F21CE7219839-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4759
         "time": 1631561128800
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.9.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5678F7146F382EC26A1143E84A01489238679DA0-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4759
         "time": 1631561128803
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.9.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4759
         "time": 1631561128805
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.9.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "807C5B8A6881814B6E9309ADDD6B818CE692C5E5-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4759
         "time": 1631561128807
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.9.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4C6998203F5DA3E304989825051E824AAB6FD6AD-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4759
         "time": 1631561128808
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.9.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4759
         "time": 1631561128810
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.9.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "77709820EFF51706C31D769C961E58C35C0B8060-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4759
         "time": 1631561128811
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.9.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "always insert"
         "pid": 4759
         "time": 1631561128813
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.9.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8EC90E0B290AF02C673B3D1ADE8F499D55108FA8-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4759
         "time": 1631561128815
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.9.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2139807D7C58374C2A485C7A4D772D16B94599E7-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4759
         "time": 1631561128918
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.9.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 29F827508150A356AFA4A830F62977C2B6B07921-1"
         "pid": 4759
         "time": 1631561128947
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 2 packages, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:25:35.430Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:25:35.431Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:25:35.431Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:25:35.431Z appoptics:debug using context provider: ace-context
2021-09-13T19:25:35.497Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:25:35.545Z appoptics:patching patched crypto 
2021-09-13T19:25:35.567Z appoptics:patching patched https 
2021-09-13T19:25:35.568Z appoptics:patching patched http 
2021-09-13T19:25:35.597Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:25:35.597Z appoptics:patching patched fs 
2021-09-13T19:25:35.605Z appoptics:patching patched pino 6.10.0
2021-09-13T19:25:35.610Z appoptics:debug starting runtimeMetrics


  pino v6.10.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (179ms)
  14 failing

  1) pino v6.10.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4782
         "time": 1631561135764
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.10.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9BFD0FB3594312C2475FD45273E318759980E9C6-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4782
         "time": 1631561135771
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.10.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "96FC886D09CB47D2DF7BE243330FECC7BB9D717E-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4782
         "time": 1631561135774
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.10.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "66676E47928F8E1A476B6DE188282BF32016AEB1-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4782
         "time": 1631561135776
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.10.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A80BA9897836094C3EF4F41D2954D1B8D58C33B4-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4782
         "time": 1631561135779
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.10.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4782
         "time": 1631561135781
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.10.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "52249A8249D3476B6ED25838B7EA169212E9CF24-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4782
         "time": 1631561135783
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.10.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9D46DD850C6C3D74BC34FB8DB00D3E788CFE3EF1-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4782
         "time": 1631561135785
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.10.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4782
         "time": 1631561135786
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.10.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4F242EA7BA8FAE5A7DC68D3D16E89F7352C9125C-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4782
         "time": 1631561135788
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.10.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "always insert"
         "pid": 4782
         "time": 1631561135789
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.10.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "43C5FC20F15F3FA13221D20A7EA3F9FC9B861826-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4782
         "time": 1631561135791
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.10.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7958A85BDE4C3C5F7CBC6EF50F6735B09B069D21-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4782
         "time": 1631561135895
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.10.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous DEA77A5F7F03F011FAF37244D467DDD94992FF22-1"
         "pid": 4782
         "time": 1631561135923
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:25:42.727Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:25:42.728Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:25:42.728Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:25:42.728Z appoptics:debug using context provider: ace-context
2021-09-13T19:25:42.793Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:25:42.841Z appoptics:patching patched crypto 
2021-09-13T19:25:42.866Z appoptics:patching patched https 
2021-09-13T19:25:42.867Z appoptics:patching patched http 
2021-09-13T19:25:42.895Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:25:42.895Z appoptics:patching patched fs 
2021-09-13T19:25:42.903Z appoptics:patching patched pino 6.11.0
2021-09-13T19:25:42.908Z appoptics:debug starting runtimeMetrics


  pino v6.11.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (179ms)
  14 failing

  1) pino v6.11.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4805
         "time": 1631561143062
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.11.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "62655D6B1CD506AEBA078D0F30BD0BDC9934CA31-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4805
         "time": 1631561143069
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.11.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "559346CD2E563EF7605E86E8B119DDED6055D0D4-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4805
         "time": 1631561143072
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.11.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "23399ABCB59C6C29A69B60F4D7C792A54D9A7467-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4805
         "time": 1631561143074
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.11.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4CE7009F6E9DB072790C363E165843747C2E4AAB-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4805
         "time": 1631561143077
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.11.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4805
         "time": 1631561143080
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.11.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "09C8F492E850764A43A2FFE06BC80CFA6DE9C9D2-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4805
         "time": 1631561143081
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.11.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5A093923B2AFB43DAA34A36ED57492EE22D2A4E9-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4805
         "time": 1631561143083
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.11.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4805
         "time": 1631561143084
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.11.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E889EEAA0AC647B7F782C48C7A52893C75C40BE5-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4805
         "time": 1631561143086
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.11.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "always insert"
         "pid": 4805
         "time": 1631561143087
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.11.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A774E1A065CE4EE52544F9BA4A206C75E696ECFA-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4805
         "time": 1631561143089
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.11.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "67FEF8A20913027595A7D62983FA7FF5907E6A6A-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4805
         "time": 1631561143192
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.11.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous D8E6B5D5AEA0801BFD549B400BC5B1D87C8AE414-1"
         "pid": 4805
         "time": 1631561143220
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:25:49.819Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:25:49.819Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:25:49.819Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:25:49.820Z appoptics:debug using context provider: ace-context
2021-09-13T19:25:49.897Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:25:49.948Z appoptics:patching patched crypto 
2021-09-13T19:25:49.974Z appoptics:patching patched https 
2021-09-13T19:25:49.974Z appoptics:patching patched http 
2021-09-13T19:25:50.003Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:25:50.003Z appoptics:patching patched fs 
2021-09-13T19:25:50.017Z appoptics:patching patched pino 6.11.1
2021-09-13T19:25:50.022Z appoptics:debug starting runtimeMetrics


  pino v6.11.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (233ms)
  14 failing

  1) pino v6.11.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4828
         "time": 1631561150305
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.11.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D491D0BE8053777031E3E508DC419EEA3E74E589-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4828
         "time": 1631561150318
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.11.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B3176F2F31182EDE164D2225B5353F505867469B-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4828
         "time": 1631561150325
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.11.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "57E83AD1ADC649803ECC546CA079673E859292AF-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4828
         "time": 1631561150328
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.11.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CAD74327DF96738EC879D2900A798ECD4D3D2AB4-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4828
         "time": 1631561150335
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.11.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4828
         "time": 1631561150348
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.11.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "974E5C5E6EAE5500D526893A5378090E5246297E-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4828
         "time": 1631561150352
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.11.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A30A750397CE49279B478645D07607B8A825C50F-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4828
         "time": 1631561150353
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.11.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4828
         "time": 1631561150355
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.11.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "85FFA167605AB50689712BB2CFFD822A13E82EDD-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4828
         "time": 1631561150358
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.11.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "always insert"
         "pid": 4828
         "time": 1631561150359
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.11.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "448004A2780D2AA267E6DEC7CEF8012C84B6240F-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4828
         "time": 1631561150361
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.11.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "507320F9DECE1DA3332E0F633DC37541EE68EBA6-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4828
         "time": 1631561150465
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.11.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous F8888AF129FD7085A037BD03E8B3CBD977EDDF31-1"
         "pid": 4828
         "time": 1631561150493
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 2 packages, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:25:56.990Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:25:56.991Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:25:56.991Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:25:56.992Z appoptics:debug using context provider: ace-context
2021-09-13T19:25:57.056Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:25:57.103Z appoptics:patching patched crypto 
2021-09-13T19:25:57.126Z appoptics:patching patched https 
2021-09-13T19:25:57.127Z appoptics:patching patched http 
2021-09-13T19:25:57.156Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:25:57.156Z appoptics:patching patched fs 
2021-09-13T19:25:57.164Z appoptics:patching patched pino 6.11.2
2021-09-13T19:25:57.168Z appoptics:debug starting runtimeMetrics


  pino v6.11.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (178ms)
  14 failing

  1) pino v6.11.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4851
         "time": 1631561157320
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.11.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9C19FABC9706BF1A44CCA3303B3CFB1AA9E7372E-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4851
         "time": 1631561157327
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.11.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5181344B4D9B22D18894FFEF8D261B697D03D8D5-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4851
         "time": 1631561157330
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.11.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2F8636C7A8CC8C6CA2ADF70E28F542353F54A9C9-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4851
         "time": 1631561157333
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.11.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "BF1AA71D67BBEDF948C71E5D8EF46C7D0342D63B-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4851
         "time": 1631561157335
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.11.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4851
         "time": 1631561157338
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.11.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A2A596F16D084FEA765C6BCA15EDF18B6D764C64-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4851
         "time": 1631561157339
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.11.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C5533AA8A847B5538D1C5D5AB343BFF2D3419AD6-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4851
         "time": 1631561157341
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.11.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4851
         "time": 1631561157342
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.11.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B146A762A8E92663269565C104EBF2A1335A840D-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4851
         "time": 1631561157344
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.11.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "always insert"
         "pid": 4851
         "time": 1631561157345
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.11.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "23A3A7D6AD86BBDC9E50E56903DA746B76AE9572-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4851
         "time": 1631561157347
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.11.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "173E14AEE406DAC3006B73B06370516A9EB416D1-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4851
         "time": 1631561157450
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.11.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 0152F9A2867CF709602AB07C1686D83D00ABD7CD-1"
         "pid": 4851
         "time": 1631561157479
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 2 packages, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:26:04.394Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:26:04.395Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:26:04.395Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:26:04.396Z appoptics:debug using context provider: ace-context
2021-09-13T19:26:04.461Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:26:04.508Z appoptics:patching patched crypto 
2021-09-13T19:26:04.531Z appoptics:patching patched https 
2021-09-13T19:26:04.532Z appoptics:patching patched http 
2021-09-13T19:26:04.560Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:26:04.560Z appoptics:patching patched fs 
2021-09-13T19:26:04.568Z appoptics:patching patched pino 6.11.3
2021-09-13T19:26:04.573Z appoptics:debug starting runtimeMetrics


  pino v6.11.3
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (183ms)
  14 failing

  1) pino v6.11.3
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4874
         "time": 1631561164725
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.11.3
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "86C591CAE19488B1DE287C3DF3D7A7E468356B61-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4874
         "time": 1631561164732
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.11.3
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "278A466C14D9195435521BF8BF12FB27A3A52005-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4874
         "time": 1631561164735
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.11.3
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "390688906CEE8D6FC4DF871D9C9058DD3FBC9FDC-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4874
         "time": 1631561164738
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.11.3
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D41B62D31956D92F000E3B80A76E4EFB03A40793-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4874
         "time": 1631561164740
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.11.3
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4874
         "time": 1631561164743
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.11.3
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "01B616129AB2AA4E637F26B7983ABF05E77D73F6-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4874
         "time": 1631561164745
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.11.3
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CE8698A9C1EB9FC60466364F4AF7F225E8EB1303-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4874
         "time": 1631561164746
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.11.3
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4874
         "time": 1631561164748
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.11.3
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "BC7960B3EAF4181D5FB4E15D1ECD0AAF476C6CE9-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4874
         "time": 1631561164749
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.11.3
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "always insert"
         "pid": 4874
         "time": 1631561164750
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.11.3
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DDFBA5629378AEFEB398FA5EBEC45F2CE668A0B6-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4874
         "time": 1631561164752
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.11.3
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9203D9BC57E49C21A39AC93A325E1CB7F44CCF24-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4874
         "time": 1631561164856
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.11.3
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 46A546BEA8AA0CB2BD5360881FA093718AA508DE-1"
         "pid": 4874
         "time": 1631561164884
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:26:11.258Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:26:11.259Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:26:11.259Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:26:11.259Z appoptics:debug using context provider: ace-context
2021-09-13T19:26:11.325Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:26:11.372Z appoptics:patching patched crypto 
2021-09-13T19:26:11.395Z appoptics:patching patched https 
2021-09-13T19:26:11.396Z appoptics:patching patched http 
2021-09-13T19:26:11.424Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:26:11.424Z appoptics:patching patched fs 
2021-09-13T19:26:11.432Z appoptics:patching patched pino 6.12.0
2021-09-13T19:26:11.437Z appoptics:debug starting runtimeMetrics


  pino v6.12.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (191ms)
  14 failing

  1) pino v6.12.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4897
         "time": 1631561171592
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.12.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2B3F49A4D789C5BD5746A957B300C2DEB9157E6A-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4897
         "time": 1631561171603
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.12.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B4A49F2EC9573D7AC01E297965F1034F40264A39-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4897
         "time": 1631561171607
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.12.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B794AD2217302672D0492C29E13CD0752D94338F-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4897
         "time": 1631561171611
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.12.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7E7F5725399D2CB1F6F2CA06E9CEBC31224776B5-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4897
         "time": 1631561171614
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.12.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4897
         "time": 1631561171617
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.12.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D54DF900FEB2272920B0AEEDF9E6E6F768933884-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4897
         "time": 1631561171618
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.12.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "94CC14821BFD31880E5609977058DF937542DBAC-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4897
         "time": 1631561171620
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.12.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4897
         "time": 1631561171621
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.12.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6B9AC86D630AD12238D7341627313FF22DF13E55-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4897
         "time": 1631561171622
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.12.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "always insert"
         "pid": 4897
         "time": 1631561171624
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.12.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5A9F5A678DAC3D4DEDAA3B266C685D1C6EC38AFF-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4897
         "time": 1631561171625
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.12.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F9F43E91FB7A1F004CFE86AE25245B94AB645FEF-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4897
         "time": 1631561171732
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.12.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 2079B30D415BFF85F39F345703BFD742EB6F0336-1"
         "pid": 4897
         "time": 1631561171760
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:26:18.680Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:26:18.681Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:26:18.681Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:26:18.681Z appoptics:debug using context provider: ace-context
2021-09-13T19:26:18.750Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:26:18.797Z appoptics:patching patched crypto 
2021-09-13T19:26:18.820Z appoptics:patching patched https 
2021-09-13T19:26:18.820Z appoptics:patching patched http 
2021-09-13T19:26:18.850Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:26:18.850Z appoptics:patching patched fs 
2021-09-13T19:26:18.858Z appoptics:patching patched pino 6.13.0
2021-09-13T19:26:18.863Z appoptics:debug starting runtimeMetrics


  pino v6.13.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (181ms)
  14 failing

  1) pino v6.13.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4920
         "time": 1631561179017
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.13.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E40F0D2329CFE38CBE4371CA691B47F4E53B9277-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4920
         "time": 1631561179024
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.13.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2956AF169A9BF8DD8D3A3E679F71E62DE0A039A5-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4920
         "time": 1631561179027
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.13.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E8CF63E2A04FBF6E13198EF1DC0255A7DD7CD38C-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4920
         "time": 1631561179029
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.13.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0ABF717D11B22298E14C3394D106BAAE4C5E9AAB-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4920
         "time": 1631561179032
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.13.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4920
         "time": 1631561179035
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.13.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FE16BC8ACEBD7DCC3CBD1A745A49247BF3F8AEE5-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4920
         "time": 1631561179036
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.13.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7EFD87BD74CF3A16D77EC0C31CB63DD571AB7862-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4920
         "time": 1631561179038
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.13.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4920
         "time": 1631561179039
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.13.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6ED300B772D4409625CD0CF9B6D712260D2C07C1-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4920
         "time": 1631561179041
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.13.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "always insert"
         "pid": 4920
         "time": 1631561179042
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.13.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "24E2C3C007440BF1A49D22EA5FAE31B74C3B0E28-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4920
         "time": 1631561179044
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.13.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "740B8F39F5F6B6EFDD5112BF5A6FBD63F68825B7-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4920
         "time": 1631561179149
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.13.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous F36FC63A2468DD3F41F70BA527F592818B193162-1"
         "pid": 4920
         "time": 1631561179177
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




added 1 package, changed 1 package, and audited 1110 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:26:25.679Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:26:25.679Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:26:25.679Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:26:25.680Z appoptics:debug using context provider: ace-context
2021-09-13T19:26:25.770Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:26:25.817Z appoptics:patching patched crypto 
2021-09-13T19:26:25.842Z appoptics:patching patched https 
2021-09-13T19:26:25.843Z appoptics:patching patched http 
2021-09-13T19:26:25.871Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:26:25.871Z appoptics:patching patched fs 
2021-09-13T19:26:25.880Z appoptics:patching patched pino 6.13.1
2021-09-13T19:26:25.885Z appoptics:debug starting runtimeMetrics


  pino v6.13.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (181ms)
  14 failing

  1) pino v6.13.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4943
         "time": 1631561186074
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.13.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A5F9333CF2F961E417BE11E08C41538589B25040-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4943
         "time": 1631561186081
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.13.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7FFB8739F3E540D81C8ECD9E911D45C25E4CD00A-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4943
         "time": 1631561186084
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.13.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FFE3A6AEF751E099DC432DDE01D4883EB1211C3B-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4943
         "time": 1631561186087
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.13.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A65907857ACB8CD7DEE9B39DCE5B2A3E41A54F6B-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4943
         "time": 1631561186090
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.13.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4943
         "time": 1631561186093
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.13.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5A02D577994C532E4C5AA780F6B3D72F4A778BDB-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4943
         "time": 1631561186094
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.13.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7CB162FAA4D7648C2BB29DE27CD15C0FB27DC063-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4943
         "time": 1631561186096
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.13.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4943
         "time": 1631561186097
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.13.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1981C5847E7F779409B3A4BB8E8BB94DC44D15BF-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4943
         "time": 1631561186098
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.13.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "always insert"
         "pid": 4943
         "time": 1631561186100
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.13.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2DE9CE32E9FD144B63CDC6C0D9C9258880BA907D-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4943
         "time": 1631561186101
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.13.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9991F661DACA4BB6F33C572E05CA6129F4F03826-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4943
         "time": 1631561186205
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.13.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 1A3C62CBC3F16ED8A1583E799E21382A8349390F-1"
         "pid": 4943
         "time": 1631561186235
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1110 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:26:32.954Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:26:32.955Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:26:32.955Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:26:32.955Z appoptics:debug using context provider: ace-context
2021-09-13T19:26:33.021Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:26:33.068Z appoptics:patching patched crypto 
2021-09-13T19:26:33.091Z appoptics:patching patched https 
2021-09-13T19:26:33.092Z appoptics:patching patched http 
2021-09-13T19:26:33.119Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:26:33.120Z appoptics:patching patched fs 
2021-09-13T19:26:33.128Z appoptics:patching patched pino 6.13.2
2021-09-13T19:26:33.133Z appoptics:debug starting runtimeMetrics


  pino v6.13.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (179ms)
  14 failing

  1) pino v6.13.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4966
         "time": 1631561193288
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.13.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B6D3D557E05BB25FBA03D0742470F4C34F06B8A8-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4966
         "time": 1631561193296
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.13.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6A807073F467CD192A864A99BD1DB70F124A5AF7-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4966
         "time": 1631561193298
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.13.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DD25DD6543824CA8A65FA7EF43B6E12CF05E835B-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4966
         "time": 1631561193301
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.13.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B5FDBBC7753D47373D6AEAB3945969FE1448050F-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4966
         "time": 1631561193303
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.13.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4966
         "time": 1631561193306
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.13.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9B57498040D008C960DF76FA417955E0B6C04739-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4966
         "time": 1631561193308
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.13.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "381CCF3421FFB51DE855B26CB9AD22F7409FE472-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4966
         "time": 1631561193309
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.13.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4966
         "time": 1631561193310
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.13.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "ED369299EABFBA0A9A24134093B378AA0347C735-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4966
         "time": 1631561193312
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.13.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "always insert"
         "pid": 4966
         "time": 1631561193313
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.13.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "87B5516389D1A70287072F1A3831BA2C78EA48FD-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4966
         "time": 1631561193315
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.13.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4A5E39F0A8DAC4106514E6327364668E4525FA12-1"
      +  }
         "hostname": "4a5af6158127"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4966
         "time": 1631561193418
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.13.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous EDD2CC6596C0E99C49D41492EBD0E7F976BFBE11-1"
         "pid": 4966
         "time": 1631561193447
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




removed 1 package, changed 5 packages, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
