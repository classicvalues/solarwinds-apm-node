npm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated mkdirp@0.3.3: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated formidable@1.0.11: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.6.0: connect 2.x series is deprecated

added 19 packages, removed 26 packages, changed 9 packages, and audited 920 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (7 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:05:24.652Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:24.653Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:24.654Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:24.655Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:24.831Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:25.051Z appoptics:patching patched crypto 
2022-04-21T21:05:25.102Z appoptics:patching patched https 
2022-04-21T21:05:25.105Z appoptics:patching patched http 
2022-04-21T21:05:25.206Z appoptics:patching patched zlib 
2022-04-21T21:05:25.215Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:25.215Z appoptics:patching patched fs 
2022-04-21T21:05:25.279Z appoptics:patching express 3.0.0 does not support render spans
2022-04-21T21:05:25.279Z appoptics:patching patched express 3.0.0
2022-04-21T21:05:25.288Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:05:25.297Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.0
    ✓ UDP might lose a message
2022-04-21T21:05:25.349Z appoptics:patching patched raw-body 2.5.1
(node:825) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (87ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (309ms)
  3 pending

npm WARN deprecated connect@2.6.2: connect 2.x series is deprecated

added 1 package, removed 2 packages, changed 2 packages, and audited 919 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:05:34.412Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:34.413Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:34.413Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:34.414Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:34.498Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:34.677Z appoptics:patching patched crypto 
2022-04-21T21:05:34.714Z appoptics:patching patched https 
2022-04-21T21:05:34.715Z appoptics:patching patched http 
2022-04-21T21:05:34.756Z appoptics:patching patched zlib 
2022-04-21T21:05:34.768Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:34.769Z appoptics:patching patched fs 
2022-04-21T21:05:34.812Z appoptics:patching express 3.0.1 does not support render spans
2022-04-21T21:05:34.812Z appoptics:patching patched express 3.0.1
2022-04-21T21:05:34.818Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:05:34.829Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.1
    ✓ UDP might lose a message
2022-04-21T21:05:34.886Z appoptics:patching patched raw-body 2.5.1
(node:847) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (79ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (281ms)
  3 pending


changed 1 package, and audited 919 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:05:44.318Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:44.319Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:44.319Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:44.320Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:44.416Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:44.605Z appoptics:patching patched crypto 
2022-04-21T21:05:44.653Z appoptics:patching patched https 
2022-04-21T21:05:44.654Z appoptics:patching patched http 
2022-04-21T21:05:44.708Z appoptics:patching patched zlib 
2022-04-21T21:05:44.720Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:44.721Z appoptics:patching patched fs 
2022-04-21T21:05:44.763Z appoptics:patching express 3.0.2 does not support render spans
2022-04-21T21:05:44.763Z appoptics:patching patched express 3.0.2
2022-04-21T21:05:44.770Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:05:44.778Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.2
    ✓ UDP might lose a message
2022-04-21T21:05:44.823Z appoptics:patching patched raw-body 2.5.1
(node:869) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (298ms)
  3 pending

npm WARN deprecated connect@2.7.0: connect 2.x series is deprecated

changed 3 packages, and audited 919 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:05:53.885Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:53.886Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:53.886Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:53.887Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:53.966Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:54.151Z appoptics:patching patched crypto 
2022-04-21T21:05:54.174Z appoptics:patching patched https 
2022-04-21T21:05:54.174Z appoptics:patching patched http 
2022-04-21T21:05:54.223Z appoptics:patching patched zlib 
2022-04-21T21:05:54.235Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:54.235Z appoptics:patching patched fs 
2022-04-21T21:05:54.275Z appoptics:patching express 3.0.3 does not support render spans
2022-04-21T21:05:54.275Z appoptics:patching patched express 3.0.3
2022-04-21T21:05:54.281Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:05:54.289Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.3
    ✓ UDP might lose a message
2022-04-21T21:05:54.331Z appoptics:patching patched raw-body 2.5.1
(node:891) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (256ms)
  3 pending

npm WARN deprecated connect@2.7.1: connect 2.x series is deprecated

added 1 package, changed 2 packages, and audited 920 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:06:02.783Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:02.784Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:02.784Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:02.785Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:02.899Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:03.097Z appoptics:patching patched crypto 
2022-04-21T21:06:03.162Z appoptics:patching patched https 
2022-04-21T21:06:03.166Z appoptics:patching patched http 
2022-04-21T21:06:03.267Z appoptics:patching patched zlib 
2022-04-21T21:06:03.290Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:03.291Z appoptics:patching patched fs 
2022-04-21T21:06:03.368Z appoptics:patching express 3.0.4 does not support render spans
2022-04-21T21:06:03.368Z appoptics:patching patched express 3.0.4
2022-04-21T21:06:03.379Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:06:03.389Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.4
    ✓ UDP might lose a message (49ms)
2022-04-21T21:06:03.552Z appoptics:patching patched raw-body 2.5.1
(node:913) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (156ms)
    ✓ should forward controller/action for POST (39ms)
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest (54ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (579ms)
  3 pending


changed 1 package, and audited 920 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:06:12.916Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:12.916Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:12.916Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:12.918Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:13.013Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:13.185Z appoptics:patching patched crypto 
2022-04-21T21:06:13.208Z appoptics:patching patched https 
2022-04-21T21:06:13.209Z appoptics:patching patched http 
2022-04-21T21:06:13.257Z appoptics:patching patched zlib 
2022-04-21T21:06:13.268Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:13.269Z appoptics:patching patched fs 
2022-04-21T21:06:13.311Z appoptics:patching express 3.0.5 does not support render spans
2022-04-21T21:06:13.312Z appoptics:patching patched express 3.0.5
2022-04-21T21:06:13.318Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:06:13.327Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.5
    ✓ UDP might lose a message
2022-04-21T21:06:13.391Z appoptics:patching patched raw-body 2.5.1
(node:935) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (108ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (306ms)
  3 pending

npm WARN deprecated connect@2.7.2: connect 2.x series is deprecated

removed 1 package, changed 2 packages, and audited 919 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:06:22.961Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:22.962Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:22.962Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:22.963Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:23.075Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:23.262Z appoptics:patching patched crypto 
2022-04-21T21:06:23.287Z appoptics:patching patched https 
2022-04-21T21:06:23.287Z appoptics:patching patched http 
2022-04-21T21:06:23.344Z appoptics:patching patched zlib 
2022-04-21T21:06:23.355Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:23.356Z appoptics:patching patched fs 
2022-04-21T21:06:23.398Z appoptics:patching express 3.0.6 does not support render spans
2022-04-21T21:06:23.398Z appoptics:patching patched express 3.0.6
2022-04-21T21:06:23.404Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:06:23.413Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.6
    ✓ UDP might lose a message
2022-04-21T21:06:23.457Z appoptics:patching patched raw-body 2.5.1
(node:957) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (91ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (315ms)
  3 pending


changed 1 package, and audited 919 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:06:33.214Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:33.215Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:33.215Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:33.216Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:33.296Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:33.465Z appoptics:patching patched crypto 
2022-04-21T21:06:33.488Z appoptics:patching patched https 
2022-04-21T21:06:33.489Z appoptics:patching patched http 
2022-04-21T21:06:33.537Z appoptics:patching patched zlib 
2022-04-21T21:06:33.548Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:33.549Z appoptics:patching patched fs 
2022-04-21T21:06:33.590Z appoptics:patching express 3.1.0 does not support render spans
2022-04-21T21:06:33.590Z appoptics:patching patched express 3.1.0
2022-04-21T21:06:33.596Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:06:33.605Z appoptics:debug starting runtimeMetrics


  probes.express 3.1.0
    ✓ UDP might lose a message
2022-04-21T21:06:33.677Z appoptics:patching patched raw-body 2.5.1
(node:979) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (109ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (321ms)
  3 pending

npm WARN deprecated mkdirp@0.3.5: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.7.4: connect 2.x series is deprecated

added 1 package, changed 5 packages, and audited 920 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:06:42.582Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:42.583Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:42.583Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:42.584Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:42.681Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:42.878Z appoptics:patching patched crypto 
2022-04-21T21:06:42.926Z appoptics:patching patched https 
2022-04-21T21:06:42.927Z appoptics:patching patched http 
2022-04-21T21:06:42.975Z appoptics:patching patched zlib 
2022-04-21T21:06:42.988Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:42.988Z appoptics:patching patched fs 
2022-04-21T21:06:43.035Z appoptics:patching express 3.1.1 does not support render spans
2022-04-21T21:06:43.035Z appoptics:patching patched express 3.1.1
2022-04-21T21:06:43.042Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:06:43.050Z appoptics:debug starting runtimeMetrics


  probes.express 3.1.1
    ✓ UDP might lose a message
2022-04-21T21:06:43.099Z appoptics:patching patched raw-body 2.5.1
(node:1001) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (80ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest (44ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (366ms)
  3 pending

npm WARN deprecated connect@2.7.5: connect 2.x series is deprecated

changed 3 packages, and audited 920 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:06:51.308Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:51.309Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:51.309Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:51.310Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:51.400Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:51.600Z appoptics:patching patched crypto 
2022-04-21T21:06:51.649Z appoptics:patching patched https 
2022-04-21T21:06:51.650Z appoptics:patching patched http 
2022-04-21T21:06:51.696Z appoptics:patching patched zlib 
2022-04-21T21:06:51.708Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:51.708Z appoptics:patching patched fs 
2022-04-21T21:06:51.758Z appoptics:patching express 3.1.2 does not support render spans
2022-04-21T21:06:51.758Z appoptics:patching patched express 3.1.2
2022-04-21T21:06:51.764Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:06:51.773Z appoptics:debug starting runtimeMetrics


  probes.express 3.1.2
    ✓ UDP might lose a message
2022-04-21T21:06:51.824Z appoptics:patching patched raw-body 2.5.1
(node:1023) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (79ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest (56ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (303ms)
  3 pending

npm WARN deprecated connect@2.7.6: connect 2.x series is deprecated

changed 3 packages, and audited 920 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:07:00.825Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:00.826Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:00.826Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:00.827Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:00.905Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:01.075Z appoptics:patching patched crypto 
2022-04-21T21:07:01.098Z appoptics:patching patched https 
2022-04-21T21:07:01.099Z appoptics:patching patched http 
2022-04-21T21:07:01.145Z appoptics:patching patched zlib 
2022-04-21T21:07:01.156Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:01.156Z appoptics:patching patched fs 
2022-04-21T21:07:01.197Z appoptics:patching patched express 3.2.0
2022-04-21T21:07:01.203Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:07:01.211Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.0
    ✓ UDP might lose a message
2022-04-21T21:07:01.255Z appoptics:patching patched raw-body 2.5.1
(node:1045) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (271ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }
npm WARN deprecated mkdirp@0.3.4: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated formidable@1.0.13: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.7.7: connect 2.x series is deprecated

added 1 package, removed 1 package, changed 6 packages, and audited 920 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:07:10.736Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:10.737Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:10.737Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:10.738Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:10.814Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:10.977Z appoptics:patching patched crypto 
2022-04-21T21:07:10.999Z appoptics:patching patched https 
2022-04-21T21:07:11.001Z appoptics:patching patched http 
2022-04-21T21:07:11.045Z appoptics:patching patched zlib 
2022-04-21T21:07:11.059Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:11.060Z appoptics:patching patched fs 
2022-04-21T21:07:11.100Z appoptics:patching patched express 3.2.1
2022-04-21T21:07:11.106Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:07:11.114Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.1
    ✓ UDP might lose a message
2022-04-21T21:07:11.156Z appoptics:patching patched raw-body 2.5.1
(node:1067) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (262ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }
npm WARN deprecated connect@2.7.8: connect 2.x series is deprecated

changed 4 packages, and audited 920 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:07:20.238Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:20.239Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:20.239Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:20.240Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:20.341Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:20.542Z appoptics:patching patched crypto 
2022-04-21T21:07:20.592Z appoptics:patching patched https 
2022-04-21T21:07:20.605Z appoptics:patching patched http 
2022-04-21T21:07:20.643Z appoptics:patching patched zlib 
2022-04-21T21:07:20.659Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:20.660Z appoptics:patching patched fs 
2022-04-21T21:07:20.711Z appoptics:patching patched express 3.2.2
2022-04-21T21:07:20.719Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:07:20.729Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.2
    ✓ UDP might lose a message
2022-04-21T21:07:20.782Z appoptics:patching patched raw-body 2.5.1
(node:1089) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (76ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (332ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }
npm WARN deprecated connect@2.7.9: connect 2.x series is deprecated

changed 4 packages, and audited 920 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:07:29.691Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:29.692Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:29.692Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:29.692Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:29.770Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:29.943Z appoptics:patching patched crypto 
2022-04-21T21:07:29.966Z appoptics:patching patched https 
2022-04-21T21:07:29.967Z appoptics:patching patched http 
2022-04-21T21:07:30.013Z appoptics:patching patched zlib 
2022-04-21T21:07:30.025Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:30.025Z appoptics:patching patched fs 
2022-04-21T21:07:30.069Z appoptics:patching patched express 3.2.3
2022-04-21T21:07:30.075Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:07:30.083Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.3
    ✓ UDP might lose a message
2022-04-21T21:07:30.126Z appoptics:patching patched raw-body 2.5.1
(node:1111) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (72ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (269ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }

removed 1 package, changed 1 package, and audited 919 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:07:39.471Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:39.471Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:39.471Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:39.472Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:39.555Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:39.723Z appoptics:patching patched crypto 
2022-04-21T21:07:39.747Z appoptics:patching patched https 
2022-04-21T21:07:39.748Z appoptics:patching patched http 
2022-04-21T21:07:39.793Z appoptics:patching patched zlib 
2022-04-21T21:07:39.804Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:39.805Z appoptics:patching patched fs 
2022-04-21T21:07:39.845Z appoptics:patching patched express 3.2.4
2022-04-21T21:07:39.851Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:07:39.859Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.4
    ✓ UDP might lose a message
2022-04-21T21:07:39.901Z appoptics:patching patched raw-body 2.5.1
(node:1133) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (267ms)
  2 pending

npm WARN deprecated formidable@1.0.14: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.7.10: connect 2.x series is deprecated

added 1 package, changed 5 packages, and audited 920 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:07:49.592Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:49.592Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:49.593Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:49.593Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:49.677Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:49.851Z appoptics:patching patched crypto 
2022-04-21T21:07:49.874Z appoptics:patching patched https 
2022-04-21T21:07:49.875Z appoptics:patching patched http 
2022-04-21T21:07:49.923Z appoptics:patching patched zlib 
2022-04-21T21:07:49.934Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:49.934Z appoptics:patching patched fs 
2022-04-21T21:07:49.976Z appoptics:patching patched express 3.2.5
2022-04-21T21:07:49.983Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:07:49.992Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.5
    ✓ UDP might lose a message
2022-04-21T21:07:50.039Z appoptics:patching patched raw-body 2.5.1
(node:1155) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (77ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (273ms)
  2 pending

npm WARN deprecated connect@2.7.11: connect 2.x series is deprecated

added 2 packages, changed 2 packages, and audited 922 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:07:59.412Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:59.413Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:59.413Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:59.414Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:59.573Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:59.784Z appoptics:patching patched crypto 
2022-04-21T21:07:59.822Z appoptics:patching patched https 
2022-04-21T21:07:59.823Z appoptics:patching patched http 
2022-04-21T21:07:59.881Z appoptics:patching patched zlib 
2022-04-21T21:07:59.893Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:59.894Z appoptics:patching patched fs 
2022-04-21T21:07:59.951Z appoptics:patching patched express 3.2.6
2022-04-21T21:07:59.958Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:07:59.967Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.6
    ✓ UDP might lose a message
2022-04-21T21:08:00.019Z appoptics:patching patched raw-body 2.5.1
(node:1177) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (96ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (46ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (367ms)
  2 pending

npm WARN deprecated connect@2.8.0: connect 2.x series is deprecated

added 1 package, removed 2 packages, changed 4 packages, and audited 921 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:08:08.699Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:08.700Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:08.700Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:08.701Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:08.780Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:08.954Z appoptics:patching patched crypto 
2022-04-21T21:08:08.977Z appoptics:patching patched https 
2022-04-21T21:08:08.978Z appoptics:patching patched http 
2022-04-21T21:08:09.026Z appoptics:patching patched zlib 
2022-04-21T21:08:09.038Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:09.038Z appoptics:patching patched fs 
2022-04-21T21:08:09.083Z appoptics:patching patched express 3.3.0
2022-04-21T21:08:09.089Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:08:09.097Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.0
    ✓ UDP might lose a message
2022-04-21T21:08:09.141Z appoptics:patching patched raw-body 2.5.1
(node:1199) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (278ms)
  2 pending

npm WARN deprecated connect@2.8.1: connect 2.x series is deprecated

changed 2 packages, and audited 921 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:08:18.683Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:18.683Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:18.683Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:18.684Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:18.766Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:18.939Z appoptics:patching patched crypto 
2022-04-21T21:08:18.979Z appoptics:patching patched https 
2022-04-21T21:08:18.980Z appoptics:patching patched http 
2022-04-21T21:08:19.024Z appoptics:patching patched zlib 
2022-04-21T21:08:19.035Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:19.036Z appoptics:patching patched fs 
2022-04-21T21:08:19.082Z appoptics:patching patched express 3.3.1
2022-04-21T21:08:19.089Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:08:19.098Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.1
    ✓ UDP might lose a message
2022-04-21T21:08:19.152Z appoptics:patching patched raw-body 2.5.1
(node:1221) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (75ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (288ms)
  2 pending

npm WARN deprecated connect@2.8.2: connect 2.x series is deprecated

added 1 package, removed 1 package, changed 3 packages, and audited 921 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:08:28.920Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:28.921Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:28.921Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:28.922Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:29.006Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:29.181Z appoptics:patching patched crypto 
2022-04-21T21:08:29.208Z appoptics:patching patched https 
2022-04-21T21:08:29.208Z appoptics:patching patched http 
2022-04-21T21:08:29.257Z appoptics:patching patched zlib 
2022-04-21T21:08:29.269Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:29.269Z appoptics:patching patched fs 
2022-04-21T21:08:29.313Z appoptics:patching patched express 3.3.2
2022-04-21T21:08:29.320Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:08:29.330Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.2
    ✓ UDP might lose a message
2022-04-21T21:08:29.386Z appoptics:patching patched raw-body 2.5.1
(node:1243) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (89ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (305ms)
  2 pending

npm WARN deprecated mkdirp@0.3.5: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.8.3: connect 2.x series is deprecated

added 1 package, changed 4 packages, and audited 922 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:08:39.193Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:39.195Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:39.195Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:39.196Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:39.309Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:39.497Z appoptics:patching patched crypto 
2022-04-21T21:08:39.521Z appoptics:patching patched https 
2022-04-21T21:08:39.522Z appoptics:patching patched http 
2022-04-21T21:08:39.573Z appoptics:patching patched zlib 
2022-04-21T21:08:39.585Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:39.585Z appoptics:patching patched fs 
2022-04-21T21:08:39.629Z appoptics:patching patched express 3.3.3
2022-04-21T21:08:39.635Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:08:39.644Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.3
    ✓ UDP might lose a message
2022-04-21T21:08:39.695Z appoptics:patching patched raw-body 2.5.1
(node:1265) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (72ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (269ms)
  2 pending

npm WARN deprecated connect@2.8.4: connect 2.x series is deprecated

changed 3 packages, and audited 922 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:08:48.428Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:48.429Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:48.429Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:48.430Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:48.507Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:48.675Z appoptics:patching patched crypto 
2022-04-21T21:08:48.698Z appoptics:patching patched https 
2022-04-21T21:08:48.699Z appoptics:patching patched http 
2022-04-21T21:08:48.747Z appoptics:patching patched zlib 
2022-04-21T21:08:48.759Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:48.759Z appoptics:patching patched fs 
2022-04-21T21:08:48.802Z appoptics:patching patched express 3.3.4
2022-04-21T21:08:48.808Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:08:48.815Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.4
    ✓ UDP might lose a message
2022-04-21T21:08:48.859Z appoptics:patching patched raw-body 2.5.1
(node:1287) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (72ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (321ms)
  2 pending

npm WARN deprecated connect@2.8.5: connect 2.x series is deprecated

changed 4 packages, and audited 922 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:08:58.150Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:58.151Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:58.151Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:58.152Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:58.229Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:58.403Z appoptics:patching patched crypto 
2022-04-21T21:08:58.425Z appoptics:patching patched https 
2022-04-21T21:08:58.426Z appoptics:patching patched http 
2022-04-21T21:08:58.474Z appoptics:patching patched zlib 
2022-04-21T21:08:58.485Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:58.485Z appoptics:patching patched fs 
2022-04-21T21:08:58.529Z appoptics:patching patched express 3.3.5
2022-04-21T21:08:58.536Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:08:58.544Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.5
    ✓ UDP might lose a message
2022-04-21T21:08:58.588Z appoptics:patching patched raw-body 2.5.1
(node:1309) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (261ms)
  2 pending


changed 1 package, and audited 922 packages in 18s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:17.858Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:17.859Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:17.859Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:17.860Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:17.940Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:18.112Z appoptics:patching patched crypto 
2022-04-21T21:09:18.145Z appoptics:patching patched https 
2022-04-21T21:09:18.145Z appoptics:patching patched http 
2022-04-21T21:09:18.202Z appoptics:patching patched zlib 
2022-04-21T21:09:18.217Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:18.218Z appoptics:patching patched fs 
2022-04-21T21:09:18.267Z appoptics:patching patched express 3.3.6
2022-04-21T21:09:18.275Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:09:18.288Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.6
    ✓ UDP might lose a message
2022-04-21T21:09:18.339Z appoptics:patching patched raw-body 2.5.1
(node:1331) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (75ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (275ms)
  2 pending

npm WARN deprecated connect@2.8.7: connect 2.x series is deprecated

changed 2 packages, and audited 922 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:26.694Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:26.695Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:26.695Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:26.696Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:26.778Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:27.034Z appoptics:patching patched crypto 
2022-04-21T21:09:27.142Z appoptics:patching patched https 
2022-04-21T21:09:27.184Z appoptics:patching patched http 
2022-04-21T21:09:27.314Z appoptics:patching patched zlib 
2022-04-21T21:09:27.343Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:27.343Z appoptics:patching patched fs 
2022-04-21T21:09:27.458Z appoptics:patching patched express 3.3.7
2022-04-21T21:09:27.467Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:09:27.478Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.7
    ✓ UDP might lose a message
2022-04-21T21:09:27.555Z appoptics:patching patched raw-body 2.5.1
(node:1353) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (162ms)
    ✓ should forward controller/action for POST (39ms)
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix (38ms)
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (80ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (629ms)
  2 pending

npm WARN deprecated connect@2.8.8: connect 2.x series is deprecated

changed 2 packages, and audited 922 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:36.880Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:36.881Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:36.881Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:36.882Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:36.962Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:37.152Z appoptics:patching patched crypto 
2022-04-21T21:09:37.177Z appoptics:patching patched https 
2022-04-21T21:09:37.178Z appoptics:patching patched http 
2022-04-21T21:09:37.226Z appoptics:patching patched zlib 
2022-04-21T21:09:37.239Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:37.239Z appoptics:patching patched fs 
2022-04-21T21:09:37.287Z appoptics:patching patched express 3.3.8
2022-04-21T21:09:37.294Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:09:37.303Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.8
    ✓ UDP might lose a message
2022-04-21T21:09:37.357Z appoptics:patching patched raw-body 2.5.1
(node:1375) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (115ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (331ms)
  2 pending

npm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.9.0: connect 2.x series is deprecated

added 6 packages, removed 2 packages, changed 3 packages, and audited 926 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:47.547Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:47.547Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:47.548Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:47.548Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:47.668Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:47.869Z appoptics:patching patched crypto 
2022-04-21T21:09:47.894Z appoptics:patching patched https 
2022-04-21T21:09:47.895Z appoptics:patching patched http 
2022-04-21T21:09:47.941Z appoptics:patching patched zlib 
2022-04-21T21:09:47.953Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:47.953Z appoptics:patching patched fs 
2022-04-21T21:09:48.004Z appoptics:patching patched express 3.4.0
2022-04-21T21:09:48.010Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:09:48.019Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.0
    ✓ UDP might lose a message
2022-04-21T21:09:48.064Z appoptics:patching patched raw-body 2.5.1
(node:1397) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (74ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (288ms)
  2 pending

npm WARN deprecated connect@2.9.1: connect 2.x series is deprecated

removed 5 packages, changed 5 packages, and audited 921 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:57.496Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:57.497Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:57.497Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:57.498Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:57.599Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:57.919Z appoptics:patching patched crypto 
2022-04-21T21:09:57.995Z appoptics:patching patched https 
2022-04-21T21:09:57.996Z appoptics:patching patched http 
2022-04-21T21:09:58.042Z appoptics:patching patched zlib 
2022-04-21T21:09:58.055Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:58.055Z appoptics:patching patched fs 
2022-04-21T21:09:58.104Z appoptics:patching patched express 3.4.1
2022-04-21T21:09:58.111Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:09:58.120Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.1
    ✓ UDP might lose a message
2022-04-21T21:09:58.166Z appoptics:patching patched raw-body 2.5.1
(node:1419) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (77ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (273ms)
  2 pending

npm WARN deprecated connect@2.9.2: connect 2.x series is deprecated

added 4 packages, changed 4 packages, and audited 925 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:07.138Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:07.139Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:07.139Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:07.140Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:07.285Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:07.557Z appoptics:patching patched crypto 
2022-04-21T21:10:07.620Z appoptics:patching patched https 
2022-04-21T21:10:07.621Z appoptics:patching patched http 
2022-04-21T21:10:07.679Z appoptics:patching patched zlib 
2022-04-21T21:10:07.693Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:07.694Z appoptics:patching patched fs 
2022-04-21T21:10:07.755Z appoptics:patching patched raw-body 0.0.3
2022-04-21T21:10:07.807Z appoptics:patching patched express 3.4.2
2022-04-21T21:10:07.819Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:10:07.839Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.2
    ✓ UDP might lose a message
2022-04-21T21:10:07.972Z appoptics:patching patched raw-body 2.5.1
(node:1441) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (195ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (480ms)
  2 pending

npm WARN deprecated connect@2.10.1: connect 2.x series is deprecated

changed 2 packages, and audited 925 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:16.861Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:16.862Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:16.862Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:16.863Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:16.946Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:17.128Z appoptics:patching patched crypto 
2022-04-21T21:10:17.167Z appoptics:patching patched https 
2022-04-21T21:10:17.168Z appoptics:patching patched http 
2022-04-21T21:10:17.209Z appoptics:patching patched zlib 
2022-04-21T21:10:17.220Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:17.220Z appoptics:patching patched fs 
2022-04-21T21:10:17.255Z appoptics:patching patched raw-body 0.0.3
2022-04-21T21:10:17.272Z appoptics:patching patched express 3.4.3
2022-04-21T21:10:17.279Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:10:17.287Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.3
    ✓ UDP might lose a message
2022-04-21T21:10:17.334Z appoptics:patching patched raw-body 2.5.1
(node:1463) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (79ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (303ms)
  2 pending

npm WARN deprecated connect@2.11.0: connect 2.x series is deprecated

changed 6 packages, and audited 925 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:26.777Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:26.778Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:26.778Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:26.779Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:26.858Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:27.026Z appoptics:patching patched crypto 
2022-04-21T21:10:27.049Z appoptics:patching patched https 
2022-04-21T21:10:27.050Z appoptics:patching patched http 
2022-04-21T21:10:27.097Z appoptics:patching patched zlib 
2022-04-21T21:10:27.108Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:27.109Z appoptics:patching patched fs 
2022-04-21T21:10:27.144Z appoptics:patching patched raw-body 0.0.3
2022-04-21T21:10:27.160Z appoptics:patching patched express 3.4.4
2022-04-21T21:10:27.166Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:10:27.174Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.4
    ✓ UDP might lose a message
2022-04-21T21:10:27.216Z appoptics:patching patched raw-body 2.5.1
(node:1485) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (72ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (269ms)
  2 pending

npm WARN deprecated connect@2.11.1: connect 2.x series is deprecated

added 2 packages, changed 4 packages, and audited 927 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:36.884Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:36.884Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:36.885Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:36.885Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:36.962Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:37.153Z appoptics:patching patched crypto 
2022-04-21T21:10:37.177Z appoptics:patching patched https 
2022-04-21T21:10:37.177Z appoptics:patching patched http 
2022-04-21T21:10:37.225Z appoptics:patching patched zlib 
2022-04-21T21:10:37.234Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:37.235Z appoptics:patching patched fs 
2022-04-21T21:10:37.272Z appoptics:patching patched raw-body 1.1.1
2022-04-21T21:10:37.287Z appoptics:patching patched express 3.4.5
2022-04-21T21:10:37.294Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:10:37.301Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.5
    ✓ UDP might lose a message
2022-04-21T21:10:37.343Z appoptics:patching patched raw-body 2.5.1
(node:1507) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (78ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (282ms)
  2 pending

npm WARN deprecated connect@2.11.2: connect 2.x series is deprecated

changed 3 packages, and audited 927 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:47.036Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:47.037Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:47.037Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:47.038Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:47.117Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:47.292Z appoptics:patching patched crypto 
2022-04-21T21:10:47.316Z appoptics:patching patched https 
2022-04-21T21:10:47.317Z appoptics:patching patched http 
2022-04-21T21:10:47.363Z appoptics:patching patched zlib 
2022-04-21T21:10:47.373Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:47.373Z appoptics:patching patched fs 
2022-04-21T21:10:47.412Z appoptics:patching patched raw-body 1.1.2
2022-04-21T21:10:47.434Z appoptics:patching patched express 3.4.6
2022-04-21T21:10:47.440Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:10:47.448Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.6
    ✓ UDP might lose a message
2022-04-21T21:10:47.494Z appoptics:patching patched raw-body 2.5.1
(node:1529) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (273ms)
  2 pending

npm WARN deprecated connect@2.12.0: connect 2.x series is deprecated

added 2 packages, changed 3 packages, and audited 929 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:55.917Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:55.918Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:55.918Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:55.919Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:55.994Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:56.161Z appoptics:patching patched crypto 
2022-04-21T21:10:56.185Z appoptics:patching patched https 
2022-04-21T21:10:56.186Z appoptics:patching patched http 
2022-04-21T21:10:56.232Z appoptics:patching patched zlib 
2022-04-21T21:10:56.242Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:56.242Z appoptics:patching patched fs 
2022-04-21T21:10:56.284Z appoptics:patching patched raw-body 1.1.2
2022-04-21T21:10:56.313Z appoptics:patching patched express 3.4.7
2022-04-21T21:10:56.327Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:10:56.335Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.7
    ✓ UDP might lose a message
2022-04-21T21:10:56.384Z appoptics:patching patched raw-body 2.5.1
(node:1551) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (286ms)
  2 pending


changed 1 package, and audited 929 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:05.673Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:05.673Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:05.673Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:05.674Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:05.753Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:05.928Z appoptics:patching patched crypto 
2022-04-21T21:11:05.950Z appoptics:patching patched https 
2022-04-21T21:11:05.951Z appoptics:patching patched http 
2022-04-21T21:11:05.996Z appoptics:patching patched zlib 
2022-04-21T21:11:06.009Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:06.010Z appoptics:patching patched fs 
2022-04-21T21:11:06.047Z appoptics:patching patched raw-body 1.1.2
2022-04-21T21:11:06.066Z appoptics:patching patched express 3.4.8
2022-04-21T21:11:06.073Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:11:06.082Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.8
    ✓ UDP might lose a message
2022-04-21T21:11:06.127Z appoptics:patching patched raw-body 2.5.1
(node:1573) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (285ms)
  2 pending

npm WARN deprecated static-favicon@1.0.0: use serve-favicon module
npm WARN deprecated connect@2.14.1: connect 2.x series is deprecated

added 22 packages, removed 1 package, changed 10 packages, and audited 950 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:16.538Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:16.539Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:16.539Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:16.541Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:16.628Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:16.803Z appoptics:patching patched crypto 
2022-04-21T21:11:16.832Z appoptics:patching patched https 
2022-04-21T21:11:16.833Z appoptics:patching patched http 
2022-04-21T21:11:16.880Z appoptics:patching patched zlib 
2022-04-21T21:11:16.890Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:16.890Z appoptics:patching patched fs 
2022-04-21T21:11:16.931Z appoptics:patching patched raw-body 1.1.3
2022-04-21T21:11:16.953Z appoptics:patching patched morgan 1.0.0
2022-04-21T21:11:16.962Z appoptics:patching patched express 3.5.0
2022-04-21T21:11:16.967Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:11:16.976Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.0
    ✓ UDP might lose a message
2022-04-21T21:11:17.022Z appoptics:patching patched raw-body 2.5.1
(node:1595) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (288ms)
  2 pending


changed 1 package, and audited 950 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:26.499Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:26.500Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:26.500Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:26.501Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:26.584Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:26.783Z appoptics:patching patched crypto 
2022-04-21T21:11:26.812Z appoptics:patching patched https 
2022-04-21T21:11:26.813Z appoptics:patching patched http 
2022-04-21T21:11:26.861Z appoptics:patching patched zlib 
2022-04-21T21:11:26.871Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:26.871Z appoptics:patching patched fs 
2022-04-21T21:11:26.910Z appoptics:patching patched raw-body 1.1.3
2022-04-21T21:11:26.930Z appoptics:patching patched morgan 1.0.0
2022-04-21T21:11:26.938Z appoptics:patching patched express 3.5.1
2022-04-21T21:11:26.944Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:11:26.952Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.1
    ✓ UDP might lose a message
2022-04-21T21:11:26.999Z appoptics:patching patched raw-body 2.5.1
(node:1617) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (77ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (289ms)
  2 pending

npm WARN deprecated static-favicon@1.0.2: use serve-favicon module
npm WARN deprecated scmp@0.0.3: scmp v2 uses improved core crypto comparison since Node v6.6.0
npm WARN deprecated mkdirp@0.4.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.14.5: connect 2.x series is deprecated

added 5 packages, changed 10 packages, and audited 955 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:36.896Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:36.897Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:36.897Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:36.898Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:36.995Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:37.191Z appoptics:patching patched crypto 
2022-04-21T21:11:37.241Z appoptics:patching patched https 
2022-04-21T21:11:37.242Z appoptics:patching patched http 
2022-04-21T21:11:37.289Z appoptics:patching patched zlib 
2022-04-21T21:11:37.299Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:37.299Z appoptics:patching patched fs 
2022-04-21T21:11:37.343Z appoptics:patching patched raw-body 1.1.4
2022-04-21T21:11:37.367Z appoptics:patching patched morgan 1.0.0
2022-04-21T21:11:37.389Z appoptics:patching patched express 3.5.2
2022-04-21T21:11:37.399Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:11:37.408Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.2
    ✓ UDP might lose a message
2022-04-21T21:11:37.466Z appoptics:patching patched raw-body 2.5.1
(node:1639) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (104ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (58ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (391ms)
  2 pending

npm WARN deprecated mkdirp@0.4.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 955 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:46.193Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:46.194Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:46.194Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:46.195Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:46.274Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:46.444Z appoptics:patching patched crypto 
2022-04-21T21:11:46.480Z appoptics:patching patched https 
2022-04-21T21:11:46.481Z appoptics:patching patched http 
2022-04-21T21:11:46.522Z appoptics:patching patched zlib 
2022-04-21T21:11:46.532Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:46.533Z appoptics:patching patched fs 
2022-04-21T21:11:46.572Z appoptics:patching patched raw-body 1.1.4
2022-04-21T21:11:46.594Z appoptics:patching patched morgan 1.0.0
2022-04-21T21:11:46.606Z appoptics:patching patched express 3.5.3
2022-04-21T21:11:46.612Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:11:46.620Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.3
    ✓ UDP might lose a message
2022-04-21T21:11:46.666Z appoptics:patching patched raw-body 2.5.1
(node:1661) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (48ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (302ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.15.0: connect 2.x series is deprecated

added 3 packages, removed 5 packages, changed 14 packages, and audited 953 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (3 low, 11 moderate, 11 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:56.607Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:56.608Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:56.608Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:56.609Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:56.687Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:56.862Z appoptics:patching patched crypto 
2022-04-21T21:11:56.885Z appoptics:patching patched https 
2022-04-21T21:11:56.886Z appoptics:patching patched http 
2022-04-21T21:11:56.940Z appoptics:patching patched zlib 
2022-04-21T21:11:56.954Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:56.954Z appoptics:patching patched fs 
2022-04-21T21:11:56.997Z appoptics:patching patched raw-body 1.1.4
2022-04-21T21:11:57.026Z appoptics:patching patched morgan 1.0.1
2022-04-21T21:11:57.035Z appoptics:patching patched express 3.6.0
2022-04-21T21:11:57.043Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:11:57.051Z appoptics:debug starting runtimeMetrics


  probes.express 3.6.0
    ✓ UDP might lose a message
2022-04-21T21:11:57.097Z appoptics:patching patched raw-body 2.5.1
(node:1683) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (72ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (272ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.16.2: connect 2.x series is deprecated

added 11 packages, removed 2 packages, changed 10 packages, and audited 962 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

30 vulnerabilities (3 low, 12 moderate, 12 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:06.979Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:06.979Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:06.979Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:06.980Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:07.066Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:07.256Z appoptics:patching patched crypto 
2022-04-21T21:12:07.280Z appoptics:patching patched https 
2022-04-21T21:12:07.280Z appoptics:patching patched http 
2022-04-21T21:12:07.330Z appoptics:patching patched zlib 
2022-04-21T21:12:07.343Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:07.343Z appoptics:patching patched fs 
2022-04-21T21:12:07.394Z appoptics:patching patched raw-body 1.1.4
2022-04-21T21:12:07.415Z appoptics:patching patched morgan 1.0.1
2022-04-21T21:12:07.424Z appoptics:patching patched express 3.7.0
2022-04-21T21:12:07.433Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:12:07.441Z appoptics:debug starting runtimeMetrics


  probes.express 3.7.0
    ✓ UDP might lose a message
2022-04-21T21:12:07.488Z appoptics:patching patched raw-body 2.5.1
(node:1705) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (264ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.17.1: connect 2.x series is deprecated

removed 1 package, changed 6 packages, and audited 961 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

30 vulnerabilities (3 low, 12 moderate, 12 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:17.330Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:17.331Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:17.331Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:17.331Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:17.410Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:17.582Z appoptics:patching patched crypto 
2022-04-21T21:12:17.613Z appoptics:patching patched https 
2022-04-21T21:12:17.613Z appoptics:patching patched http 
2022-04-21T21:12:17.658Z appoptics:patching patched zlib 
2022-04-21T21:12:17.668Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:17.668Z appoptics:patching patched fs 
2022-04-21T21:12:17.717Z appoptics:patching patched raw-body 1.1.4
2022-04-21T21:12:17.737Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:12:17.747Z appoptics:patching patched express 3.8.0
2022-04-21T21:12:17.755Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:12:17.766Z appoptics:debug starting runtimeMetrics


  probes.express 3.8.0
    ✓ UDP might lose a message
2022-04-21T21:12:17.809Z appoptics:patching patched raw-body 2.5.1
(node:1727) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (69ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (277ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.17.3: connect 2.x series is deprecated

removed 1 package, changed 7 packages, and audited 960 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 12 moderate, 13 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:26.610Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:26.611Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:26.611Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:26.612Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:26.761Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:27.049Z appoptics:patching patched crypto 
2022-04-21T21:12:27.100Z appoptics:patching patched https 
2022-04-21T21:12:27.101Z appoptics:patching patched http 
2022-04-21T21:12:27.157Z appoptics:patching patched zlib 
2022-04-21T21:12:27.168Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:27.168Z appoptics:patching patched fs 
2022-04-21T21:12:27.224Z appoptics:patching patched raw-body 1.1.6
2022-04-21T21:12:27.244Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:12:27.258Z appoptics:patching patched express 3.8.1
2022-04-21T21:12:27.273Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:12:27.299Z appoptics:debug starting runtimeMetrics


  probes.express 3.8.1
    ✓ UDP might lose a message
2022-04-21T21:12:27.391Z appoptics:patching patched raw-body 2.5.1
(node:1749) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (89ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (46ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (383ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.18.0: connect 2.x series is deprecated

added 4 packages, removed 3 packages, changed 12 packages, and audited 961 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:36.949Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:36.950Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:36.950Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:36.951Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:37.028Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:37.213Z appoptics:patching patched crypto 
2022-04-21T21:12:37.239Z appoptics:patching patched https 
2022-04-21T21:12:37.240Z appoptics:patching patched http 
2022-04-21T21:12:37.299Z appoptics:patching patched zlib 
2022-04-21T21:12:37.311Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:37.311Z appoptics:patching patched fs 
2022-04-21T21:12:37.370Z appoptics:patching patched raw-body 1.1.6
2022-04-21T21:12:37.391Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:12:37.408Z appoptics:patching patched express 3.9.0
2022-04-21T21:12:37.439Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:12:37.455Z appoptics:debug starting runtimeMetrics


  probes.express 3.9.0
    ✓ UDP might lose a message
2022-04-21T21:12:37.527Z appoptics:patching patched raw-body 2.5.1
(node:1771) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (84ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (333ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.1: connect 2.x series is deprecated

added 2 packages, changed 12 packages, and audited 963 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:47.373Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:47.374Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:47.374Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:47.375Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:47.458Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:47.658Z appoptics:patching patched crypto 
2022-04-21T21:12:47.681Z appoptics:patching patched https 
2022-04-21T21:12:47.682Z appoptics:patching patched http 
2022-04-21T21:12:47.729Z appoptics:patching patched zlib 
2022-04-21T21:12:47.740Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:47.741Z appoptics:patching patched fs 
2022-04-21T21:12:47.783Z appoptics:patching patched raw-body 1.1.6
2022-04-21T21:12:47.801Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:12:47.811Z appoptics:patching patched express 3.10.0
2022-04-21T21:12:47.820Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:12:47.827Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.0
    ✓ UDP might lose a message
2022-04-21T21:12:47.875Z appoptics:patching patched raw-body 2.5.1
(node:1793) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (75ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (42ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (291ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.2: connect 2.x series is deprecated

changed 5 packages, and audited 963 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:57.504Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:57.504Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:57.505Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:57.505Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:57.584Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:57.776Z appoptics:patching patched crypto 
2022-04-21T21:12:57.800Z appoptics:patching patched https 
2022-04-21T21:12:57.801Z appoptics:patching patched http 
2022-04-21T21:12:57.850Z appoptics:patching patched zlib 
2022-04-21T21:12:57.863Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:57.863Z appoptics:patching patched fs 
2022-04-21T21:12:57.909Z appoptics:patching patched raw-body 1.1.6
2022-04-21T21:12:57.930Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:12:57.941Z appoptics:patching patched express 3.10.1
2022-04-21T21:12:57.950Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:12:57.958Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.1
    ✓ UDP might lose a message
2022-04-21T21:12:58.007Z appoptics:patching patched raw-body 2.5.1
(node:1815) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (80ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (298ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.3: connect 2.x series is deprecated

changed 4 packages, and audited 963 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:13:07.913Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:13:07.914Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:13:07.914Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:13:07.915Z appoptics:debug using context provider: ace-context
2022-04-21T21:13:07.993Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:13:08.170Z appoptics:patching patched crypto 
2022-04-21T21:13:08.194Z appoptics:patching patched https 
2022-04-21T21:13:08.195Z appoptics:patching patched http 
2022-04-21T21:13:08.244Z appoptics:patching patched zlib 
2022-04-21T21:13:08.256Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:13:08.257Z appoptics:patching patched fs 
2022-04-21T21:13:08.300Z appoptics:patching patched raw-body 1.1.6
2022-04-21T21:13:08.322Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:13:08.332Z appoptics:patching patched express 3.10.2
2022-04-21T21:13:08.341Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:13:08.349Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.2
    ✓ UDP might lose a message
2022-04-21T21:13:08.398Z appoptics:patching patched raw-body 2.5.1
(node:1837) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (297ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.4: connect 2.x series is deprecated

added 3 packages, changed 8 packages, and audited 966 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (2 low, 12 moderate, 16 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:13:17.713Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:13:17.714Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:13:17.714Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:13:17.715Z appoptics:debug using context provider: ace-context
2022-04-21T21:13:17.812Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:13:18.116Z appoptics:patching patched crypto 
2022-04-21T21:13:18.142Z appoptics:patching patched https 
2022-04-21T21:13:18.143Z appoptics:patching patched http 
2022-04-21T21:13:18.227Z appoptics:patching patched zlib 
2022-04-21T21:13:18.264Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:13:18.264Z appoptics:patching patched fs 
2022-04-21T21:13:18.340Z appoptics:patching patched raw-body 1.1.6
2022-04-21T21:13:18.363Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:13:18.373Z appoptics:patching patched express 3.10.3
2022-04-21T21:13:18.382Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:13:18.392Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.3
    ✓ UDP might lose a message
2022-04-21T21:13:18.463Z appoptics:patching patched raw-body 2.5.1
(node:1859) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (89ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (352ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.5: connect 2.x series is deprecated

added 6 packages, changed 11 packages, and audited 972 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (2 low, 12 moderate, 16 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:13:29.122Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:13:29.122Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:13:29.122Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:13:29.123Z appoptics:debug using context provider: ace-context
2022-04-21T21:13:29.201Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:13:29.380Z appoptics:patching patched crypto 
2022-04-21T21:13:29.415Z appoptics:patching patched https 
2022-04-21T21:13:29.416Z appoptics:patching patched http 
2022-04-21T21:13:29.461Z appoptics:patching patched zlib 
2022-04-21T21:13:29.480Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:13:29.480Z appoptics:patching patched fs 
2022-04-21T21:13:29.528Z appoptics:patching patched raw-body 1.1.6
2022-04-21T21:13:29.551Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:13:29.564Z appoptics:patching patched express 3.10.4
2022-04-21T21:13:29.572Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:13:29.581Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.4
    ✓ UDP might lose a message
2022-04-21T21:13:29.625Z appoptics:patching patched raw-body 2.5.1
(node:1881) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (280ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.6: connect 2.x series is deprecated

added 1 package, removed 1 package, changed 15 packages, and audited 972 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (2 low, 11 moderate, 16 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:13:39.729Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:13:39.730Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:13:39.730Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:13:39.731Z appoptics:debug using context provider: ace-context
2022-04-21T21:13:39.808Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:13:39.985Z appoptics:patching patched crypto 
2022-04-21T21:13:40.009Z appoptics:patching patched https 
2022-04-21T21:13:40.010Z appoptics:patching patched http 
2022-04-21T21:13:40.063Z appoptics:patching patched zlib 
2022-04-21T21:13:40.081Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:13:40.081Z appoptics:patching patched fs 
2022-04-21T21:13:40.125Z appoptics:patching patched raw-body 1.1.6
2022-04-21T21:13:40.143Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:13:40.152Z appoptics:patching patched express 3.10.5
2022-04-21T21:13:40.160Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:13:40.168Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.5
    ✓ UDP might lose a message
2022-04-21T21:13:40.215Z appoptics:patching patched raw-body 2.5.1
(node:1903) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (280ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated native-or-bluebird@1.1.2: 'native-or-bluebird' is deprecated. Please use 'any-promise' instead.
npm WARN deprecated connect@2.20.2: connect 2.x series is deprecated

added 14 packages, removed 2 packages, changed 20 packages, and audited 984 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

38 vulnerabilities (3 low, 11 moderate, 21 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:13:51.176Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:13:51.177Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:13:51.177Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:13:51.178Z appoptics:debug using context provider: ace-context
2022-04-21T21:13:51.273Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:13:51.463Z appoptics:patching patched crypto 
2022-04-21T21:13:51.486Z appoptics:patching patched https 
2022-04-21T21:13:51.487Z appoptics:patching patched http 
2022-04-21T21:13:51.532Z appoptics:patching patched zlib 
2022-04-21T21:13:51.556Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:13:51.556Z appoptics:patching patched fs 
2022-04-21T21:13:51.613Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:13:51.627Z appoptics:patching patched express 3.11.0
2022-04-21T21:13:51.637Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:13:51.646Z appoptics:debug starting runtimeMetrics


  probes.express 3.11.0
    ✓ UDP might lose a message
2022-04-21T21:13:51.690Z appoptics:patching patched raw-body 2.5.1
(node:1925) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (270ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.21.0: connect 2.x series is deprecated

added 15 packages, removed 2 packages, changed 12 packages, and audited 997 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

38 vulnerabilities (3 low, 10 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:14:02.008Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:14:02.009Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:14:02.009Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:14:02.010Z appoptics:debug using context provider: ace-context
2022-04-21T21:14:02.091Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:14:02.280Z appoptics:patching patched crypto 
2022-04-21T21:14:02.303Z appoptics:patching patched https 
2022-04-21T21:14:02.304Z appoptics:patching patched http 
2022-04-21T21:14:02.351Z appoptics:patching patched zlib 
2022-04-21T21:14:02.376Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:14:02.377Z appoptics:patching patched fs 
2022-04-21T21:14:02.449Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:14:02.464Z appoptics:patching patched express 3.12.0
2022-04-21T21:14:02.473Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:14:02.482Z appoptics:debug starting runtimeMetrics


  probes.express 3.12.0
    ✓ UDP might lose a message
2022-04-21T21:14:02.526Z appoptics:patching patched raw-body 2.5.1
(node:1947) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (83ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (280ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.21.1: connect 2.x series is deprecated

added 2 packages, removed 2 packages, changed 6 packages, and audited 997 packages in 20s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (3 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:14:23.681Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:14:23.682Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:14:23.682Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:14:23.683Z appoptics:debug using context provider: ace-context
2022-04-21T21:14:23.852Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:14:24.186Z appoptics:patching patched crypto 
2022-04-21T21:14:24.297Z appoptics:patching patched https 
2022-04-21T21:14:24.298Z appoptics:patching patched http 
2022-04-21T21:14:24.337Z appoptics:patching patched zlib 
2022-04-21T21:14:24.363Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:14:24.363Z appoptics:patching patched fs 
2022-04-21T21:14:24.433Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:14:24.447Z appoptics:patching patched express 3.12.1
2022-04-21T21:14:24.455Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:14:24.463Z appoptics:debug starting runtimeMetrics


  probes.express 3.12.1
    ✓ UDP might lose a message
2022-04-21T21:14:24.506Z appoptics:patching patched raw-body 2.5.1
(node:1969) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (79ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (282ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.22.0: connect 2.x series is deprecated

added 8 packages, removed 1 package, changed 10 packages, and audited 1004 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (3 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:14:34.138Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:14:34.139Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:14:34.139Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:14:34.140Z appoptics:debug using context provider: ace-context
2022-04-21T21:14:34.219Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:14:34.412Z appoptics:patching patched crypto 
2022-04-21T21:14:34.458Z appoptics:patching patched https 
2022-04-21T21:14:34.459Z appoptics:patching patched http 
2022-04-21T21:14:34.507Z appoptics:patching patched zlib 
2022-04-21T21:14:34.534Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:14:34.534Z appoptics:patching patched fs 
2022-04-21T21:14:34.642Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:14:34.657Z appoptics:patching patched express 3.13.0
2022-04-21T21:14:34.664Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:14:34.674Z appoptics:debug starting runtimeMetrics


  probes.express 3.13.0
    ✓ UDP might lose a message
2022-04-21T21:14:34.728Z appoptics:patching patched raw-body 2.5.1
(node:1991) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (79ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (89ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (433ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.23.0: connect 2.x series is deprecated

added 3 packages, removed 1 package, changed 10 packages, and audited 1006 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (3 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:14:44.742Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:14:44.743Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:14:44.743Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:14:44.744Z appoptics:debug using context provider: ace-context
2022-04-21T21:14:44.823Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:14:44.999Z appoptics:patching patched crypto 
2022-04-21T21:14:45.029Z appoptics:patching patched https 
2022-04-21T21:14:45.030Z appoptics:patching patched http 
2022-04-21T21:14:45.077Z appoptics:patching patched zlib 
2022-04-21T21:14:45.103Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:14:45.103Z appoptics:patching patched fs 
2022-04-21T21:14:45.222Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:14:45.239Z appoptics:patching patched express 3.14.0
2022-04-21T21:14:45.255Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:14:45.264Z appoptics:debug starting runtimeMetrics


  probes.express 3.14.0
    ✓ UDP might lose a message
2022-04-21T21:14:45.316Z appoptics:patching patched raw-body 2.5.1
(node:2013) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (284ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.0: connect 2.x series is deprecated

added 8 packages, removed 3 packages, changed 26 packages, and audited 1011 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:14:56.342Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:14:56.342Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:14:56.343Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:14:56.343Z appoptics:debug using context provider: ace-context
2022-04-21T21:14:56.427Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:14:56.609Z appoptics:patching patched crypto 
2022-04-21T21:14:56.638Z appoptics:patching patched https 
2022-04-21T21:14:56.639Z appoptics:patching patched http 
2022-04-21T21:14:56.682Z appoptics:patching patched zlib 
2022-04-21T21:14:56.707Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:14:56.707Z appoptics:patching patched fs 
2022-04-21T21:14:56.797Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:14:56.812Z appoptics:patching patched express 3.15.0
2022-04-21T21:14:56.819Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:14:56.827Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.0
    ✓ UDP might lose a message
2022-04-21T21:14:56.870Z appoptics:patching patched raw-body 2.5.1
(node:2035) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (81ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (280ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.1: connect 2.x series is deprecated

changed 7 packages, and audited 1011 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:15:07.332Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:15:07.333Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:15:07.333Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:15:07.334Z appoptics:debug using context provider: ace-context
2022-04-21T21:15:07.414Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:15:07.591Z appoptics:patching patched crypto 
2022-04-21T21:15:07.616Z appoptics:patching patched https 
2022-04-21T21:15:07.617Z appoptics:patching patched http 
2022-04-21T21:15:07.667Z appoptics:patching patched zlib 
2022-04-21T21:15:07.691Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:15:07.691Z appoptics:patching patched fs 
2022-04-21T21:15:07.785Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:15:07.800Z appoptics:patching patched express 3.15.1
2022-04-21T21:15:07.808Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:15:07.817Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.1
    ✓ UDP might lose a message
2022-04-21T21:15:07.863Z appoptics:patching patched raw-body 2.5.1
(node:2057) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (85ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (47ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (309ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.2: connect 2.x series is deprecated

removed 2 packages, changed 7 packages, and audited 1009 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:15:18.146Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:15:18.147Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:15:18.147Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:15:18.147Z appoptics:debug using context provider: ace-context
2022-04-21T21:15:18.226Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:15:18.407Z appoptics:patching patched crypto 
2022-04-21T21:15:18.430Z appoptics:patching patched https 
2022-04-21T21:15:18.430Z appoptics:patching patched http 
2022-04-21T21:15:18.477Z appoptics:patching patched zlib 
2022-04-21T21:15:18.511Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:15:18.512Z appoptics:patching patched fs 
2022-04-21T21:15:18.605Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:15:18.622Z appoptics:patching patched express 3.15.2
2022-04-21T21:15:18.631Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:15:18.641Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.2
    ✓ UDP might lose a message
2022-04-21T21:15:18.690Z appoptics:patching patched raw-body 2.5.1
(node:2079) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (87ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (303ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.3: connect 2.x series is deprecated

removed 5 packages, changed 4 packages, and audited 1004 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:15:29.001Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:15:29.002Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:15:29.002Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:15:29.003Z appoptics:debug using context provider: ace-context
2022-04-21T21:15:29.103Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:15:29.279Z appoptics:patching patched crypto 
2022-04-21T21:15:29.304Z appoptics:patching patched https 
2022-04-21T21:15:29.305Z appoptics:patching patched http 
2022-04-21T21:15:29.395Z appoptics:patching patched zlib 
2022-04-21T21:15:29.428Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:15:29.428Z appoptics:patching patched fs 
2022-04-21T21:15:29.507Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:15:29.527Z appoptics:patching patched express 3.15.3
2022-04-21T21:15:29.535Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:15:29.545Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.3
    ✓ UDP might lose a message
2022-04-21T21:15:29.593Z appoptics:patching patched raw-body 2.5.1
(node:2101) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (86ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (42ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (307ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated scmp@1.0.0: scmp v2 uses improved core crypto comparison since Node v6.6.0
npm WARN deprecated connect@2.25.0: connect 2.x series is deprecated

added 11 packages, removed 2 packages, changed 11 packages, and audited 1013 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:15:39.607Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:15:39.608Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:15:39.608Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:15:39.609Z appoptics:debug using context provider: ace-context
2022-04-21T21:15:39.711Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:15:39.910Z appoptics:patching patched crypto 
2022-04-21T21:15:39.959Z appoptics:patching patched https 
2022-04-21T21:15:39.960Z appoptics:patching patched http 
2022-04-21T21:15:40.008Z appoptics:patching patched zlib 
2022-04-21T21:15:40.033Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:15:40.033Z appoptics:patching patched fs 
2022-04-21T21:15:40.151Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:15:40.166Z appoptics:patching patched express 3.16.0
2022-04-21T21:15:40.174Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:15:40.183Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.0
    ✓ UDP might lose a message
2022-04-21T21:15:40.236Z appoptics:patching patched raw-body 2.5.1
(node:2123) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (292ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.1: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:15:49.607Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:15:49.608Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:15:49.608Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:15:49.609Z appoptics:debug using context provider: ace-context
2022-04-21T21:15:49.720Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:15:49.893Z appoptics:patching patched crypto 
2022-04-21T21:15:49.916Z appoptics:patching patched https 
2022-04-21T21:15:49.916Z appoptics:patching patched http 
2022-04-21T21:15:49.962Z appoptics:patching patched zlib 
2022-04-21T21:15:49.986Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:15:49.987Z appoptics:patching patched fs 
2022-04-21T21:15:50.075Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:15:50.090Z appoptics:patching patched express 3.16.1
2022-04-21T21:15:50.098Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:15:50.106Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.1
    ✓ UDP might lose a message
2022-04-21T21:15:50.150Z appoptics:patching patched raw-body 2.5.1
(node:2145) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (79ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (283ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.2: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:16:00.178Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:16:00.179Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:16:00.179Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:16:00.180Z appoptics:debug using context provider: ace-context
2022-04-21T21:16:00.260Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:16:00.434Z appoptics:patching patched crypto 
2022-04-21T21:16:00.457Z appoptics:patching patched https 
2022-04-21T21:16:00.458Z appoptics:patching patched http 
2022-04-21T21:16:00.504Z appoptics:patching patched zlib 
2022-04-21T21:16:00.528Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:16:00.529Z appoptics:patching patched fs 
2022-04-21T21:16:00.616Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:16:00.632Z appoptics:patching patched express 3.16.2
2022-04-21T21:16:00.640Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:16:00.648Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.2
    ✓ UDP might lose a message
2022-04-21T21:16:00.693Z appoptics:patching patched raw-body 2.5.1
(node:2167) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (83ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (284ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.3: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:16:10.751Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:16:10.752Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:16:10.752Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:16:10.753Z appoptics:debug using context provider: ace-context
2022-04-21T21:16:10.835Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:16:11.014Z appoptics:patching patched crypto 
2022-04-21T21:16:11.037Z appoptics:patching patched https 
2022-04-21T21:16:11.038Z appoptics:patching patched http 
2022-04-21T21:16:11.090Z appoptics:patching patched zlib 
2022-04-21T21:16:11.115Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:16:11.116Z appoptics:patching patched fs 
2022-04-21T21:16:11.203Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:16:11.218Z appoptics:patching patched express 3.16.3
2022-04-21T21:16:11.226Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:16:11.234Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.3
    ✓ UDP might lose a message
2022-04-21T21:16:11.283Z appoptics:patching patched raw-body 2.5.1
(node:2189) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (80ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (287ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.4: connect 2.x series is deprecated

removed 10 packages, changed 7 packages, and audited 1003 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:16:21.764Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:16:21.765Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:16:21.765Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:16:21.766Z appoptics:debug using context provider: ace-context
2022-04-21T21:16:21.843Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:16:22.013Z appoptics:patching patched crypto 
2022-04-21T21:16:22.035Z appoptics:patching patched https 
2022-04-21T21:16:22.036Z appoptics:patching patched http 
2022-04-21T21:16:22.085Z appoptics:patching patched zlib 
2022-04-21T21:16:22.110Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:16:22.110Z appoptics:patching patched fs 
2022-04-21T21:16:22.199Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:16:22.213Z appoptics:patching patched express 3.16.4
2022-04-21T21:16:22.221Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:16:22.229Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.4
    ✓ UDP might lose a message
2022-04-21T21:16:22.275Z appoptics:patching patched raw-body 2.5.1
(node:2211) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (80ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (42ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (286ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.5: connect 2.x series is deprecated

changed 3 packages, and audited 1003 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:16:32.142Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:16:32.143Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:16:32.143Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:16:32.146Z appoptics:debug using context provider: ace-context
2022-04-21T21:16:32.351Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:16:32.645Z appoptics:patching patched crypto 
2022-04-21T21:16:32.719Z appoptics:patching patched https 
2022-04-21T21:16:32.720Z appoptics:patching patched http 
2022-04-21T21:16:32.755Z appoptics:patching patched zlib 
2022-04-21T21:16:32.787Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:16:32.788Z appoptics:patching patched fs 
2022-04-21T21:16:32.887Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:16:32.902Z appoptics:patching patched express 3.16.5
2022-04-21T21:16:32.909Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:16:32.917Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.5
    ✓ UDP might lose a message
2022-04-21T21:16:32.973Z appoptics:patching patched raw-body 2.5.1
(node:2233) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (94ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (305ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.6: connect 2.x series is deprecated

added 1 package, changed 5 packages, and audited 1004 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:16:43.056Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:16:43.058Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:16:43.058Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:16:43.059Z appoptics:debug using context provider: ace-context
2022-04-21T21:16:43.232Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:16:43.563Z appoptics:patching patched crypto 
2022-04-21T21:16:43.620Z appoptics:patching patched https 
2022-04-21T21:16:43.620Z appoptics:patching patched http 
2022-04-21T21:16:43.722Z appoptics:patching patched zlib 
2022-04-21T21:16:43.768Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:16:43.769Z appoptics:patching patched fs 
2022-04-21T21:16:43.907Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:16:43.923Z appoptics:patching patched express 3.16.6
2022-04-21T21:16:43.931Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:16:43.940Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.6
    ✓ UDP might lose a message
2022-04-21T21:16:43.995Z appoptics:patching patched raw-body 2.5.1
(node:2255) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (80ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (102ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (434ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.7: connect 2.x series is deprecated

added 3 packages, removed 3 packages, changed 4 packages, and audited 1004 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:16:53.496Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:16:53.497Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:16:53.497Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:16:53.498Z appoptics:debug using context provider: ace-context
2022-04-21T21:16:53.581Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:16:53.763Z appoptics:patching patched crypto 
2022-04-21T21:16:53.791Z appoptics:patching patched https 
2022-04-21T21:16:53.792Z appoptics:patching patched http 
2022-04-21T21:16:53.843Z appoptics:patching patched zlib 
2022-04-21T21:16:53.877Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:16:53.878Z appoptics:patching patched fs 
2022-04-21T21:16:53.983Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:16:54.002Z appoptics:patching patched express 3.16.7
2022-04-21T21:16:54.010Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:16:54.019Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.7
    ✓ UDP might lose a message
2022-04-21T21:16:54.069Z appoptics:patching patched raw-body 2.5.1
(node:2277) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (92ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (42ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (322ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.8: connect 2.x series is deprecated

changed 4 packages, and audited 1004 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:17:03.892Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:17:03.893Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:17:03.893Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:17:03.894Z appoptics:debug using context provider: ace-context
2022-04-21T21:17:03.972Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:17:04.149Z appoptics:patching patched crypto 
2022-04-21T21:17:04.172Z appoptics:patching patched https 
2022-04-21T21:17:04.172Z appoptics:patching patched http 
2022-04-21T21:17:04.221Z appoptics:patching patched zlib 
2022-04-21T21:17:04.245Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:17:04.246Z appoptics:patching patched fs 
2022-04-21T21:17:04.338Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:17:04.352Z appoptics:patching patched express 3.16.8
2022-04-21T21:17:04.361Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:17:04.369Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.8
    ✓ UDP might lose a message
2022-04-21T21:17:04.413Z appoptics:patching patched raw-body 2.5.1
(node:2299) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (82ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (295ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.9: connect 2.x series is deprecated

removed 1 package, changed 4 packages, and audited 1003 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:17:14.455Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:17:14.456Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:17:14.456Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:17:14.457Z appoptics:debug using context provider: ace-context
2022-04-21T21:17:14.533Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:17:14.704Z appoptics:patching patched crypto 
2022-04-21T21:17:14.728Z appoptics:patching patched https 
2022-04-21T21:17:14.729Z appoptics:patching patched http 
2022-04-21T21:17:14.775Z appoptics:patching patched zlib 
2022-04-21T21:17:14.812Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:17:14.812Z appoptics:patching patched fs 
2022-04-21T21:17:14.921Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:17:14.936Z appoptics:patching patched express 3.16.9
2022-04-21T21:17:14.943Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:17:14.951Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.9
    ✓ UDP might lose a message
2022-04-21T21:17:15.003Z appoptics:patching patched raw-body 2.5.1
(node:2321) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (89ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (294ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.10: connect 2.x series is deprecated

removed 8 packages, changed 4 packages, and audited 995 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:17:24.969Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:17:24.970Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:17:24.977Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:17:24.981Z appoptics:debug using context provider: ace-context
2022-04-21T21:17:25.119Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:17:25.377Z appoptics:patching patched crypto 
2022-04-21T21:17:25.414Z appoptics:patching patched https 
2022-04-21T21:17:25.415Z appoptics:patching patched http 
2022-04-21T21:17:25.457Z appoptics:patching patched zlib 
2022-04-21T21:17:25.484Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:17:25.484Z appoptics:patching patched fs 
2022-04-21T21:17:25.577Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:17:25.595Z appoptics:patching patched express 3.16.10
2022-04-21T21:17:25.603Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:17:25.612Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.10
    ✓ UDP might lose a message
2022-04-21T21:17:25.654Z appoptics:patching patched raw-body 2.5.1
(node:2343) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (84ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (304ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.0: connect 2.x series is deprecated

added 24 packages, removed 3 packages, changed 38 packages, and audited 1016 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:17:37.092Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:17:37.092Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:17:37.092Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:17:37.094Z appoptics:debug using context provider: ace-context
2022-04-21T21:17:37.172Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:17:37.376Z appoptics:patching patched crypto 
2022-04-21T21:17:37.399Z appoptics:patching patched https 
2022-04-21T21:17:37.400Z appoptics:patching patched http 
2022-04-21T21:17:37.472Z appoptics:patching patched zlib 
2022-04-21T21:17:37.500Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:17:37.501Z appoptics:patching patched fs 
2022-04-21T21:17:37.629Z appoptics:patching patched morgan 1.3.2
2022-04-21T21:17:37.643Z appoptics:patching patched express 3.17.0
2022-04-21T21:17:37.650Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:17:37.659Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.0
    ✓ UDP might lose a message
2022-04-21T21:17:37.707Z appoptics:patching patched raw-body 2.5.1
(node:2365) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (267ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1016 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:17:47.087Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:17:47.088Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:17:47.088Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:17:47.089Z appoptics:debug using context provider: ace-context
2022-04-21T21:17:47.184Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:17:47.383Z appoptics:patching patched crypto 
2022-04-21T21:17:47.462Z appoptics:patching patched https 
2022-04-21T21:17:47.463Z appoptics:patching patched http 
2022-04-21T21:17:47.538Z appoptics:patching patched zlib 
2022-04-21T21:17:47.604Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:17:47.604Z appoptics:patching patched fs 
2022-04-21T21:17:47.823Z appoptics:patching patched morgan 1.3.2
2022-04-21T21:17:47.837Z appoptics:patching patched express 3.17.1
2022-04-21T21:17:47.844Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:17:47.853Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.1
    ✓ UDP might lose a message
2022-04-21T21:17:47.904Z appoptics:patching patched raw-body 2.5.1
(node:2387) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (284ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.1: connect 2.x series is deprecated

removed 3 packages, changed 7 packages, and audited 1013 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:17:57.315Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:17:57.316Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:17:57.316Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:17:57.317Z appoptics:debug using context provider: ace-context
2022-04-21T21:17:57.395Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:17:57.568Z appoptics:patching patched crypto 
2022-04-21T21:17:57.590Z appoptics:patching patched https 
2022-04-21T21:17:57.591Z appoptics:patching patched http 
2022-04-21T21:17:57.641Z appoptics:patching patched zlib 
2022-04-21T21:17:57.674Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:17:57.674Z appoptics:patching patched fs 
2022-04-21T21:17:57.802Z appoptics:patching patched morgan 1.3.2
2022-04-21T21:17:57.822Z appoptics:patching patched express 3.17.2
2022-04-21T21:17:57.830Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:17:57.840Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.2
    ✓ UDP might lose a message
2022-04-21T21:17:57.896Z appoptics:patching patched raw-body 2.5.1
(node:2409) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (278ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

added 1 package, changed 4 packages, and audited 1014 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:18:08.088Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:18:08.089Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:18:08.089Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:18:08.090Z appoptics:debug using context provider: ace-context
2022-04-21T21:18:08.167Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:18:08.355Z appoptics:patching patched crypto 
2022-04-21T21:18:08.390Z appoptics:patching patched https 
2022-04-21T21:18:08.392Z appoptics:patching patched http 
2022-04-21T21:18:08.433Z appoptics:patching patched zlib 
2022-04-21T21:18:08.461Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:18:08.461Z appoptics:patching patched fs 
2022-04-21T21:18:08.571Z appoptics:patching patched morgan 1.3.2
2022-04-21T21:18:08.585Z appoptics:patching patched express 3.17.3
2022-04-21T21:18:08.592Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:18:08.600Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.3
    ✓ UDP might lose a message
2022-04-21T21:18:08.661Z appoptics:patching patched raw-body 2.5.1
(node:2431) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (279ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.2: connect 2.x series is deprecated

removed 1 package, changed 4 packages, and audited 1013 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:18:19.041Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:18:19.042Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:18:19.042Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:18:19.043Z appoptics:debug using context provider: ace-context
2022-04-21T21:18:19.129Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:18:19.302Z appoptics:patching patched crypto 
2022-04-21T21:18:19.325Z appoptics:patching patched https 
2022-04-21T21:18:19.326Z appoptics:patching patched http 
2022-04-21T21:18:19.374Z appoptics:patching patched zlib 
2022-04-21T21:18:19.400Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:18:19.401Z appoptics:patching patched fs 
2022-04-21T21:18:19.508Z appoptics:patching patched morgan 1.3.2
2022-04-21T21:18:19.523Z appoptics:patching patched express 3.17.4
2022-04-21T21:18:19.530Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:18:19.539Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.4
    ✓ UDP might lose a message
2022-04-21T21:18:19.589Z appoptics:patching patched raw-body 2.5.1
(node:2453) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (67ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (264ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.3: connect 2.x series is deprecated

removed 9 packages, changed 5 packages, and audited 1004 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:18:29.551Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:18:29.552Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:18:29.552Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:18:29.553Z appoptics:debug using context provider: ace-context
2022-04-21T21:18:29.630Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:18:29.802Z appoptics:patching patched crypto 
2022-04-21T21:18:29.826Z appoptics:patching patched https 
2022-04-21T21:18:29.827Z appoptics:patching patched http 
2022-04-21T21:18:29.876Z appoptics:patching patched zlib 
2022-04-21T21:18:29.903Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:18:29.903Z appoptics:patching patched fs 
2022-04-21T21:18:29.998Z appoptics:patching patched morgan 1.3.2
2022-04-21T21:18:30.020Z appoptics:patching patched express 3.17.5
2022-04-21T21:18:30.027Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:18:30.036Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.5
    ✓ UDP might lose a message
2022-04-21T21:18:30.087Z appoptics:patching patched raw-body 2.5.1
(node:2475) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (76ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (49ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (322ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.4: connect 2.x series is deprecated

changed 3 packages, and audited 1004 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:18:39.511Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:18:39.512Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:18:39.512Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:18:39.513Z appoptics:debug using context provider: ace-context
2022-04-21T21:18:39.615Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:18:39.821Z appoptics:patching patched crypto 
2022-04-21T21:18:39.874Z appoptics:patching patched https 
2022-04-21T21:18:39.875Z appoptics:patching patched http 
2022-04-21T21:18:39.925Z appoptics:patching patched zlib 
2022-04-21T21:18:39.955Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:18:39.955Z appoptics:patching patched fs 
2022-04-21T21:18:40.114Z appoptics:patching patched morgan 1.3.2
2022-04-21T21:18:40.130Z appoptics:patching patched express 3.17.6
2022-04-21T21:18:40.138Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:18:40.147Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.6
    ✓ UDP might lose a message
2022-04-21T21:18:40.206Z appoptics:patching patched raw-body 2.5.1
(node:2497) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (88ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (95ms)
    ✓ should skip when disabled (46ms)
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (462ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.5: connect 2.x series is deprecated

changed 3 packages, and audited 1004 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:18:49.784Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:18:49.785Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:18:49.785Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:18:49.786Z appoptics:debug using context provider: ace-context
2022-04-21T21:18:49.864Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:18:50.037Z appoptics:patching patched crypto 
2022-04-21T21:18:50.061Z appoptics:patching patched https 
2022-04-21T21:18:50.062Z appoptics:patching patched http 
2022-04-21T21:18:50.126Z appoptics:patching patched zlib 
2022-04-21T21:18:50.153Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:18:50.153Z appoptics:patching patched fs 
2022-04-21T21:18:50.258Z appoptics:patching patched morgan 1.3.2
2022-04-21T21:18:50.273Z appoptics:patching patched express 3.17.7
2022-04-21T21:18:50.280Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:18:50.288Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.7
    ✓ UDP might lose a message
2022-04-21T21:18:50.334Z appoptics:patching patched raw-body 2.5.1
(node:2519) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (75ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (273ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.6: connect 2.x series is deprecated

changed 3 packages, and audited 1004 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:19:00.432Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:19:00.432Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:19:00.432Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:19:00.433Z appoptics:debug using context provider: ace-context
2022-04-21T21:19:00.512Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:19:00.686Z appoptics:patching patched crypto 
2022-04-21T21:19:00.710Z appoptics:patching patched https 
2022-04-21T21:19:00.711Z appoptics:patching patched http 
2022-04-21T21:19:00.757Z appoptics:patching patched zlib 
2022-04-21T21:19:00.784Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:19:00.784Z appoptics:patching patched fs 
2022-04-21T21:19:00.906Z appoptics:patching patched morgan 1.3.2
2022-04-21T21:19:00.920Z appoptics:patching patched express 3.17.8
2022-04-21T21:19:00.928Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:19:00.936Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.8
    ✓ UDP might lose a message
2022-04-21T21:19:00.980Z appoptics:patching patched raw-body 2.5.1
(node:2541) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (74ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (48ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (312ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.0: connect 2.x series is deprecated

added 22 packages, removed 4 packages, changed 38 packages, and audited 1022 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:19:12.124Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:19:12.125Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:19:12.125Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:19:12.126Z appoptics:debug using context provider: ace-context
2022-04-21T21:19:12.205Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:19:12.387Z appoptics:patching patched crypto 
2022-04-21T21:19:12.423Z appoptics:patching patched https 
2022-04-21T21:19:12.423Z appoptics:patching patched http 
2022-04-21T21:19:12.466Z appoptics:patching patched zlib 
2022-04-21T21:19:12.497Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:19:12.498Z appoptics:patching patched fs 
2022-04-21T21:19:12.618Z appoptics:patching patched morgan 1.4.1
2022-04-21T21:19:12.642Z appoptics:patching patched express 3.18.0
2022-04-21T21:19:12.647Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:19:12.655Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.0
    ✓ UDP might lose a message
Thu, 21 Apr 2022 21:19:12 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/express.js:36:9
2022-04-21T21:19:12.708Z appoptics:patching patched raw-body 2.5.1
(node:2563) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (69ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
Thu, 21 Apr 2022 21:19:12 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/application.js:487:9
Thu, 21 Apr 2022 21:19:12 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/application.js:490:30
Thu, 21 Apr 2022 21:19:12 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/application.js:493:9
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (278ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.1: connect 2.x series is deprecated

removed 9 packages, changed 8 packages, and audited 1013 packages in 19s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:19:33.112Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:19:33.113Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:19:33.113Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:19:33.114Z appoptics:debug using context provider: ace-context
2022-04-21T21:19:33.192Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:19:33.367Z appoptics:patching patched crypto 
2022-04-21T21:19:33.389Z appoptics:patching patched https 
2022-04-21T21:19:33.391Z appoptics:patching patched http 
2022-04-21T21:19:33.438Z appoptics:patching patched zlib 
2022-04-21T21:19:33.470Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:19:33.470Z appoptics:patching patched fs 
2022-04-21T21:19:33.564Z appoptics:patching patched morgan 1.4.1
2022-04-21T21:19:33.584Z appoptics:patching patched express 3.18.1
2022-04-21T21:19:33.589Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:19:33.596Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.1
    ✓ UDP might lose a message
2022-04-21T21:19:33.641Z appoptics:patching patched raw-body 2.5.1
(node:2585) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (77ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (279ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.2: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:19:44.134Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:19:44.136Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:19:44.136Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:19:44.137Z appoptics:debug using context provider: ace-context
2022-04-21T21:19:44.234Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:19:44.409Z appoptics:patching patched crypto 
2022-04-21T21:19:44.432Z appoptics:patching patched https 
2022-04-21T21:19:44.433Z appoptics:patching patched http 
2022-04-21T21:19:44.479Z appoptics:patching patched zlib 
2022-04-21T21:19:44.510Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:19:44.510Z appoptics:patching patched fs 
2022-04-21T21:19:44.606Z appoptics:patching patched morgan 1.4.1
2022-04-21T21:19:44.627Z appoptics:patching patched express 3.18.2
2022-04-21T21:19:44.632Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:19:44.639Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.2
    ✓ UDP might lose a message
2022-04-21T21:19:44.684Z appoptics:patching patched raw-body 2.5.1
(node:2607) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (82ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (282ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.3: connect 2.x series is deprecated

changed 3 packages, and audited 1013 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:19:53.788Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:19:53.793Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:19:53.793Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:19:53.794Z appoptics:debug using context provider: ace-context
2022-04-21T21:19:53.907Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:19:54.137Z appoptics:patching patched crypto 
2022-04-21T21:19:54.200Z appoptics:patching patched https 
2022-04-21T21:19:54.200Z appoptics:patching patched http 
2022-04-21T21:19:54.256Z appoptics:patching patched zlib 
2022-04-21T21:19:54.311Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:19:54.312Z appoptics:patching patched fs 
2022-04-21T21:19:54.451Z appoptics:patching patched morgan 1.4.1
2022-04-21T21:19:54.479Z appoptics:patching patched express 3.18.3
2022-04-21T21:19:54.484Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:19:54.491Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.3
    ✓ UDP might lose a message
2022-04-21T21:19:54.545Z appoptics:patching patched raw-body 2.5.1
(node:2629) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (77ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (316ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.4: connect 2.x series is deprecated

removed 1 package, changed 4 packages, and audited 1012 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:20:04.168Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:20:04.169Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:20:04.170Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:20:04.170Z appoptics:debug using context provider: ace-context
2022-04-21T21:20:04.250Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:20:04.449Z appoptics:patching patched crypto 
2022-04-21T21:20:04.496Z appoptics:patching patched https 
2022-04-21T21:20:04.497Z appoptics:patching patched http 
2022-04-21T21:20:04.555Z appoptics:patching patched zlib 
2022-04-21T21:20:04.588Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:20:04.589Z appoptics:patching patched fs 
2022-04-21T21:20:04.713Z appoptics:patching patched morgan 1.4.1
2022-04-21T21:20:04.736Z appoptics:patching patched express 3.18.4
2022-04-21T21:20:04.741Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:20:04.749Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.4
    ✓ UDP might lose a message
2022-04-21T21:20:04.811Z appoptics:patching patched raw-body 2.5.1
(node:2651) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (42ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (305ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.6: connect 2.x series is deprecated

changed 3 packages, and audited 1012 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:20:14.813Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:20:14.813Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:20:14.814Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:20:14.814Z appoptics:debug using context provider: ace-context
2022-04-21T21:20:14.893Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:20:15.076Z appoptics:patching patched crypto 
2022-04-21T21:20:15.100Z appoptics:patching patched https 
2022-04-21T21:20:15.101Z appoptics:patching patched http 
2022-04-21T21:20:15.148Z appoptics:patching patched zlib 
2022-04-21T21:20:15.179Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:20:15.180Z appoptics:patching patched fs 
2022-04-21T21:20:15.275Z appoptics:patching patched morgan 1.4.1
2022-04-21T21:20:15.300Z appoptics:patching patched express 3.18.5
2022-04-21T21:20:15.305Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:20:15.313Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.5
    ✓ UDP might lose a message
2022-04-21T21:20:15.360Z appoptics:patching patched raw-body 2.5.1
(node:2673) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (104ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (72ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (394ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1012 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:20:25.498Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:20:25.498Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:20:25.499Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:20:25.499Z appoptics:debug using context provider: ace-context
2022-04-21T21:20:25.584Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:20:25.764Z appoptics:patching patched crypto 
2022-04-21T21:20:25.792Z appoptics:patching patched https 
2022-04-21T21:20:25.793Z appoptics:patching patched http 
2022-04-21T21:20:25.856Z appoptics:patching patched zlib 
2022-04-21T21:20:25.894Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:20:25.894Z appoptics:patching patched fs 
2022-04-21T21:20:26.001Z appoptics:patching patched morgan 1.4.1
2022-04-21T21:20:26.021Z appoptics:patching patched express 3.18.6
2022-04-21T21:20:26.026Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:20:26.033Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.6
    ✓ UDP might lose a message
2022-04-21T21:20:26.096Z appoptics:patching patched raw-body 2.5.1
(node:2695) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (80ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (302ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.28.1: connect 2.x series is deprecated

added 17 packages, removed 12 packages, changed 30 packages, and audited 1017 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:20:37.085Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:20:37.086Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:20:37.086Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:20:37.086Z appoptics:debug using context provider: ace-context
2022-04-21T21:20:37.165Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:20:37.342Z appoptics:patching patched crypto 
2022-04-21T21:20:37.365Z appoptics:patching patched https 
2022-04-21T21:20:37.366Z appoptics:patching patched http 
2022-04-21T21:20:37.414Z appoptics:patching patched zlib 
2022-04-21T21:20:37.447Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:20:37.448Z appoptics:patching patched fs 
2022-04-21T21:20:37.576Z appoptics:patching patched morgan 1.5.3
2022-04-21T21:20:37.600Z appoptics:patching patched express 3.19.0
2022-04-21T21:20:37.606Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:20:37.614Z appoptics:debug starting runtimeMetrics


  probes.express 3.19.0
    ✓ UDP might lose a message
2022-04-21T21:20:37.680Z appoptics:patching patched raw-body 2.5.1
(node:2717) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (292ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.28.2: connect 2.x series is deprecated

removed 8 packages, changed 4 packages, and audited 1009 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:20:47.394Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:20:47.398Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:20:47.398Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:20:47.400Z appoptics:debug using context provider: ace-context
2022-04-21T21:20:47.480Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:20:47.657Z appoptics:patching patched crypto 
2022-04-21T21:20:47.681Z appoptics:patching patched https 
2022-04-21T21:20:47.682Z appoptics:patching patched http 
2022-04-21T21:20:47.729Z appoptics:patching patched zlib 
2022-04-21T21:20:47.760Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:20:47.760Z appoptics:patching patched fs 
2022-04-21T21:20:47.866Z appoptics:patching patched morgan 1.5.3
2022-04-21T21:20:47.889Z appoptics:patching patched express 3.19.1
2022-04-21T21:20:47.894Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:20:47.901Z appoptics:debug starting runtimeMetrics


  probes.express 3.19.1
    ✓ UDP might lose a message
2022-04-21T21:20:47.952Z appoptics:patching patched raw-body 2.5.1
(node:2739) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (263ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.28.3: connect 2.x series is deprecated

changed 3 packages, and audited 1009 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:20:56.946Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:20:56.947Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:20:56.947Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:20:56.948Z appoptics:debug using context provider: ace-context
2022-04-21T21:20:57.030Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:20:57.214Z appoptics:patching patched crypto 
2022-04-21T21:20:57.238Z appoptics:patching patched https 
2022-04-21T21:20:57.239Z appoptics:patching patched http 
2022-04-21T21:20:57.288Z appoptics:patching patched zlib 
2022-04-21T21:20:57.319Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:20:57.319Z appoptics:patching patched fs 
2022-04-21T21:20:57.435Z appoptics:patching patched morgan 1.5.3
2022-04-21T21:20:57.467Z appoptics:patching patched express 3.19.2
2022-04-21T21:20:57.472Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:20:57.480Z appoptics:debug starting runtimeMetrics


  probes.express 3.19.2
    ✓ UDP might lose a message
2022-04-21T21:20:57.536Z appoptics:patching patched raw-body 2.5.1
(node:2761) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (287ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.29.0: connect 2.x series is deprecated

added 13 packages, removed 5 packages, changed 22 packages, and audited 1017 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:21:07.890Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:21:07.891Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:21:07.891Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:21:07.891Z appoptics:debug using context provider: ace-context
2022-04-21T21:21:07.971Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:21:08.147Z appoptics:patching patched crypto 
2022-04-21T21:21:08.181Z appoptics:patching patched https 
2022-04-21T21:21:08.182Z appoptics:patching patched http 
2022-04-21T21:21:08.220Z appoptics:patching patched zlib 
2022-04-21T21:21:08.255Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:21:08.255Z appoptics:patching patched fs 
2022-04-21T21:21:08.369Z appoptics:patching patched morgan 1.5.3
2022-04-21T21:21:08.390Z appoptics:patching patched express 3.20.0
2022-04-21T21:21:08.395Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:21:08.403Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.0
    ✓ UDP might lose a message
2022-04-21T21:21:08.453Z appoptics:patching patched raw-body 2.5.1
(node:2783) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (271ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1017 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:21:18.675Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:21:18.676Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:21:18.676Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:21:18.677Z appoptics:debug using context provider: ace-context
2022-04-21T21:21:18.754Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:21:18.930Z appoptics:patching patched crypto 
2022-04-21T21:21:18.953Z appoptics:patching patched https 
2022-04-21T21:21:18.954Z appoptics:patching patched http 
2022-04-21T21:21:18.999Z appoptics:patching patched zlib 
2022-04-21T21:21:19.032Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:21:19.032Z appoptics:patching patched fs 
2022-04-21T21:21:19.159Z appoptics:patching patched morgan 1.5.3
2022-04-21T21:21:19.180Z appoptics:patching patched express 3.20.1
2022-04-21T21:21:19.185Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:21:19.193Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.1
    ✓ UDP might lose a message
2022-04-21T21:21:19.250Z appoptics:patching patched raw-body 2.5.1
(node:2805) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (273ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.29.1: connect 2.x series is deprecated

changed 8 packages, and audited 1017 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:21:29.505Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:21:29.506Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:21:29.506Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:21:29.507Z appoptics:debug using context provider: ace-context
2022-04-21T21:21:29.587Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:21:29.771Z appoptics:patching patched crypto 
2022-04-21T21:21:29.794Z appoptics:patching patched https 
2022-04-21T21:21:29.795Z appoptics:patching patched http 
2022-04-21T21:21:29.842Z appoptics:patching patched zlib 
2022-04-21T21:21:29.875Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:21:29.876Z appoptics:patching patched fs 
2022-04-21T21:21:29.982Z appoptics:patching patched morgan 1.5.3
2022-04-21T21:21:30.003Z appoptics:patching patched express 3.20.2
2022-04-21T21:21:30.009Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:21:30.016Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.2
    ✓ UDP might lose a message
2022-04-21T21:21:30.077Z appoptics:patching patched raw-body 2.5.1
(node:2827) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (69ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (269ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.29.2: connect 2.x series is deprecated

added 1 package, removed 14 packages, changed 15 packages, and audited 1004 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:21:39.788Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:21:39.789Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:21:39.789Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:21:39.790Z appoptics:debug using context provider: ace-context
2022-04-21T21:21:39.868Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:21:40.046Z appoptics:patching patched crypto 
2022-04-21T21:21:40.080Z appoptics:patching patched https 
2022-04-21T21:21:40.081Z appoptics:patching patched http 
2022-04-21T21:21:40.124Z appoptics:patching patched zlib 
2022-04-21T21:21:40.157Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:21:40.158Z appoptics:patching patched fs 
2022-04-21T21:21:40.254Z appoptics:patching patched morgan 1.5.3
2022-04-21T21:21:40.275Z appoptics:patching patched express 3.20.3
2022-04-21T21:21:40.280Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:21:40.287Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.3
    ✓ UDP might lose a message
2022-04-21T21:21:40.336Z appoptics:patching patched raw-body 2.5.1
(node:2849) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (259ms)
  2 pending

npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.30.0: connect 2.x series is deprecated

added 21 packages, removed 10 packages, changed 37 packages, and audited 1015 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 8 moderate, 17 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:21:51.323Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:21:51.324Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:21:51.324Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:21:51.325Z appoptics:debug using context provider: ace-context
2022-04-21T21:21:51.403Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:21:51.633Z appoptics:patching patched crypto 
2022-04-21T21:21:51.666Z appoptics:patching patched https 
2022-04-21T21:21:51.667Z appoptics:patching patched http 
2022-04-21T21:21:51.734Z appoptics:patching patched zlib 
2022-04-21T21:21:51.775Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:21:51.776Z appoptics:patching patched fs 
2022-04-21T21:21:51.891Z appoptics:patching patched morgan 1.6.1
2022-04-21T21:21:51.911Z appoptics:patching patched express 3.21.0
2022-04-21T21:21:51.916Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:21:51.923Z appoptics:debug starting runtimeMetrics


  probes.express 3.21.0
    ✓ UDP might lose a message
2022-04-21T21:21:51.971Z appoptics:patching patched raw-body 2.5.1
(node:2871) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (269ms)
  2 pending

npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.30.1: connect 2.x series is deprecated

removed 2 packages, changed 6 packages, and audited 1013 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 8 moderate, 17 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:22:00.903Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:22:00.903Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:22:00.904Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:22:00.904Z appoptics:debug using context provider: ace-context
2022-04-21T21:22:00.982Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:22:01.160Z appoptics:patching patched crypto 
2022-04-21T21:22:01.185Z appoptics:patching patched https 
2022-04-21T21:22:01.186Z appoptics:patching patched http 
2022-04-21T21:22:01.258Z appoptics:patching patched zlib 
2022-04-21T21:22:01.294Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:22:01.294Z appoptics:patching patched fs 
2022-04-21T21:22:01.430Z appoptics:patching patched morgan 1.6.1
2022-04-21T21:22:01.455Z appoptics:patching patched express 3.21.1
2022-04-21T21:22:01.460Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:22:01.468Z appoptics:debug starting runtimeMetrics


  probes.express 3.21.1
    ✓ UDP might lose a message
2022-04-21T21:22:01.526Z appoptics:patching patched raw-body 2.5.1
(node:2893) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (66ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (448ms)
  2 pending

npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.30.2: connect 2.x series is deprecated

changed 3 packages, and audited 1013 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 8 moderate, 17 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:22:11.546Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:22:11.546Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:22:11.547Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:22:11.547Z appoptics:debug using context provider: ace-context
2022-04-21T21:22:11.632Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:22:11.815Z appoptics:patching patched crypto 
2022-04-21T21:22:11.838Z appoptics:patching patched https 
2022-04-21T21:22:11.839Z appoptics:patching patched http 
2022-04-21T21:22:11.889Z appoptics:patching patched zlib 
2022-04-21T21:22:11.938Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:22:11.938Z appoptics:patching patched fs 
2022-04-21T21:22:12.104Z appoptics:patching patched morgan 1.6.1
2022-04-21T21:22:12.127Z appoptics:patching patched express 3.21.2
2022-04-21T21:22:12.132Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:22:12.142Z appoptics:debug starting runtimeMetrics


  probes.express 3.21.2
    ✓ UDP might lose a message
2022-04-21T21:22:12.201Z appoptics:patching patched raw-body 2.5.1
(node:2915) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (266ms)
  2 pending


added 14 packages, removed 97 packages, changed 21 packages, and audited 930 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:22:21.653Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:22:21.654Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:22:21.654Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:22:21.655Z appoptics:debug using context provider: ace-context
2022-04-21T21:22:21.748Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:22:21.921Z appoptics:patching patched crypto 
2022-04-21T21:22:21.944Z appoptics:patching patched https 
2022-04-21T21:22:21.944Z appoptics:patching patched http 
2022-04-21T21:22:21.992Z appoptics:patching patched zlib 
2022-04-21T21:22:22.007Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:22:22.007Z appoptics:patching patched fs 
2022-04-21T21:22:22.035Z appoptics:patching patched express 4.0.0
2022-04-21T21:22:22.042Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:22:22.051Z appoptics:debug starting runtimeMetrics


  probes.express 4.0.0
    ✓ UDP might lose a message
2022-04-21T21:22:22.111Z appoptics:patching patched raw-body 2.5.1
(node:2937) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (112ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (338ms)


added 1 package, removed 3 packages, changed 7 packages, and audited 928 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:22:31.959Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:22:31.960Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:22:31.960Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:22:31.961Z appoptics:debug using context provider: ace-context
2022-04-21T21:22:32.036Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:22:32.211Z appoptics:patching patched crypto 
2022-04-21T21:22:32.237Z appoptics:patching patched https 
2022-04-21T21:22:32.238Z appoptics:patching patched http 
2022-04-21T21:22:32.306Z appoptics:patching patched zlib 
2022-04-21T21:22:32.326Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:22:32.326Z appoptics:patching patched fs 
2022-04-21T21:22:32.365Z appoptics:patching patched express 4.1.0
2022-04-21T21:22:32.376Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:22:32.386Z appoptics:debug starting runtimeMetrics


  probes.express 4.1.0
    ✓ UDP might lose a message
2022-04-21T21:22:32.437Z appoptics:patching patched raw-body 2.5.1
(node:2959) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (81ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (294ms)


changed 1 package, and audited 928 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:22:40.786Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:22:40.786Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:22:40.787Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:22:40.787Z appoptics:debug using context provider: ace-context
2022-04-21T21:22:40.938Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:22:41.201Z appoptics:patching patched crypto 
2022-04-21T21:22:41.290Z appoptics:patching patched https 
2022-04-21T21:22:41.291Z appoptics:patching patched http 
2022-04-21T21:22:41.377Z appoptics:patching patched zlib 
2022-04-21T21:22:41.399Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:22:41.400Z appoptics:patching patched fs 
2022-04-21T21:22:41.456Z appoptics:patching patched express 4.1.1
2022-04-21T21:22:41.481Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:22:41.497Z appoptics:debug starting runtimeMetrics


  probes.express 4.1.1
    ✓ UDP might lose a message
2022-04-21T21:22:41.580Z appoptics:patching patched raw-body 2.5.1
(node:2981) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (160ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (399ms)


changed 1 package, and audited 928 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:22:50.098Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:22:50.098Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:22:50.098Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:22:50.099Z appoptics:debug using context provider: ace-context
2022-04-21T21:22:50.176Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:22:50.346Z appoptics:patching patched crypto 
2022-04-21T21:22:50.369Z appoptics:patching patched https 
2022-04-21T21:22:50.370Z appoptics:patching patched http 
2022-04-21T21:22:50.416Z appoptics:patching patched zlib 
2022-04-21T21:22:50.429Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:22:50.429Z appoptics:patching patched fs 
2022-04-21T21:22:50.455Z appoptics:patching patched express 4.1.2
2022-04-21T21:22:50.463Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:22:50.472Z appoptics:debug starting runtimeMetrics


  probes.express 4.1.2
    ✓ UDP might lose a message
2022-04-21T21:22:50.515Z appoptics:patching patched raw-body 2.5.1
(node:3003) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (74ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (50ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (332ms)


changed 2 packages, and audited 928 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:22:59.583Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:22:59.584Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:22:59.584Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:22:59.585Z appoptics:debug using context provider: ace-context
2022-04-21T21:22:59.663Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:22:59.832Z appoptics:patching patched crypto 
2022-04-21T21:22:59.855Z appoptics:patching patched https 
2022-04-21T21:22:59.855Z appoptics:patching patched http 
2022-04-21T21:22:59.905Z appoptics:patching patched zlib 
2022-04-21T21:22:59.918Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:22:59.918Z appoptics:patching patched fs 
2022-04-21T21:22:59.944Z appoptics:patching patched express 4.2.0
2022-04-21T21:22:59.953Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:22:59.961Z appoptics:debug starting runtimeMetrics


  probes.express 4.2.0
    ✓ UDP might lose a message
2022-04-21T21:23:00.007Z appoptics:patching patched raw-body 2.5.1
(node:3025) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (77ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (285ms)


added 2 packages, changed 2 packages, and audited 930 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:23:09.630Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:23:09.631Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:23:09.631Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:23:09.632Z appoptics:debug using context provider: ace-context
2022-04-21T21:23:09.708Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:23:09.878Z appoptics:patching patched crypto 
2022-04-21T21:23:09.907Z appoptics:patching patched https 
2022-04-21T21:23:09.908Z appoptics:patching patched http 
2022-04-21T21:23:09.957Z appoptics:patching patched zlib 
2022-04-21T21:23:09.970Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:23:09.970Z appoptics:patching patched fs 
2022-04-21T21:23:09.998Z appoptics:patching patched express 4.3.0
2022-04-21T21:23:10.007Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:23:10.016Z appoptics:debug starting runtimeMetrics


  probes.express 4.3.0
    ✓ UDP might lose a message
2022-04-21T21:23:10.060Z appoptics:patching patched raw-body 2.5.1
(node:3047) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (75ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (284ms)


changed 1 package, and audited 930 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:23:18.630Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:23:18.631Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:23:18.631Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:23:18.632Z appoptics:debug using context provider: ace-context
2022-04-21T21:23:18.717Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:23:18.897Z appoptics:patching patched crypto 
2022-04-21T21:23:18.936Z appoptics:patching patched https 
2022-04-21T21:23:18.936Z appoptics:patching patched http 
2022-04-21T21:23:18.986Z appoptics:patching patched zlib 
2022-04-21T21:23:19.000Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:23:19.000Z appoptics:patching patched fs 
2022-04-21T21:23:19.031Z appoptics:patching patched express 4.3.1
2022-04-21T21:23:19.040Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:23:19.048Z appoptics:debug starting runtimeMetrics


  probes.express 4.3.1
    ✓ UDP might lose a message
2022-04-21T21:23:19.103Z appoptics:patching patched raw-body 2.5.1
(node:3069) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (88ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (331ms)


changed 1 package, and audited 930 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:23:28.267Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:23:28.268Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:23:28.268Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:23:28.269Z appoptics:debug using context provider: ace-context
2022-04-21T21:23:28.345Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:23:28.534Z appoptics:patching patched crypto 
2022-04-21T21:23:28.558Z appoptics:patching patched https 
2022-04-21T21:23:28.559Z appoptics:patching patched http 
2022-04-21T21:23:28.607Z appoptics:patching patched zlib 
2022-04-21T21:23:28.622Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:23:28.622Z appoptics:patching patched fs 
2022-04-21T21:23:28.653Z appoptics:patching patched express 4.3.2
2022-04-21T21:23:28.662Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:23:28.671Z appoptics:debug starting runtimeMetrics


  probes.express 4.3.2
    ✓ UDP might lose a message
2022-04-21T21:23:28.722Z appoptics:patching patched raw-body 2.5.1
(node:3091) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (85ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (304ms)


added 1 package, changed 6 packages, and audited 931 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:23:37.918Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:23:37.919Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:23:37.919Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:23:37.920Z appoptics:debug using context provider: ace-context
2022-04-21T21:23:38.009Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:23:38.187Z appoptics:patching patched crypto 
2022-04-21T21:23:38.219Z appoptics:patching patched https 
2022-04-21T21:23:38.220Z appoptics:patching patched http 
2022-04-21T21:23:38.263Z appoptics:patching patched zlib 
2022-04-21T21:23:38.276Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:23:38.277Z appoptics:patching patched fs 
2022-04-21T21:23:38.306Z appoptics:patching patched express 4.4.0
2022-04-21T21:23:38.315Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:23:38.324Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.0
    ✓ UDP might lose a message
2022-04-21T21:23:38.378Z appoptics:patching patched raw-body 2.5.1
(node:3113) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (86ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (301ms)


changed 4 packages, and audited 931 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:23:47.484Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:23:47.485Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:23:47.485Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:23:47.485Z appoptics:debug using context provider: ace-context
2022-04-21T21:23:47.569Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:23:47.780Z appoptics:patching patched crypto 
2022-04-21T21:23:47.858Z appoptics:patching patched https 
2022-04-21T21:23:47.880Z appoptics:patching patched http 
2022-04-21T21:23:47.945Z appoptics:patching patched zlib 
2022-04-21T21:23:47.967Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:23:47.968Z appoptics:patching patched fs 
2022-04-21T21:23:48.007Z appoptics:patching patched express 4.4.1
2022-04-21T21:23:48.016Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:23:48.035Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.1
    ✓ UDP might lose a message
2022-04-21T21:23:48.176Z appoptics:patching patched raw-body 2.5.1
(node:3135) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (135ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (435ms)


added 5 packages, changed 9 packages, and audited 936 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:23:56.299Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:23:56.300Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:23:56.300Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:23:56.301Z appoptics:debug using context provider: ace-context
2022-04-21T21:23:56.380Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:23:56.557Z appoptics:patching patched crypto 
2022-04-21T21:23:56.580Z appoptics:patching patched https 
2022-04-21T21:23:56.581Z appoptics:patching patched http 
2022-04-21T21:23:56.628Z appoptics:patching patched zlib 
2022-04-21T21:23:56.643Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:23:56.643Z appoptics:patching patched fs 
2022-04-21T21:23:56.679Z appoptics:patching patched express 4.4.2
2022-04-21T21:23:56.690Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:23:56.704Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.2
    ✓ UDP might lose a message
2022-04-21T21:23:56.789Z appoptics:patching patched raw-body 2.5.1
(node:3157) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (81ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (356ms)


added 1 package, changed 8 packages, and audited 937 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:24:06.468Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:24:06.469Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:24:06.469Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:24:06.470Z appoptics:debug using context provider: ace-context
2022-04-21T21:24:06.549Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:24:06.749Z appoptics:patching patched crypto 
2022-04-21T21:24:06.774Z appoptics:patching patched https 
2022-04-21T21:24:06.775Z appoptics:patching patched http 
2022-04-21T21:24:06.827Z appoptics:patching patched zlib 
2022-04-21T21:24:06.843Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:24:06.844Z appoptics:patching patched fs 
2022-04-21T21:24:06.882Z appoptics:patching patched express 4.4.3
2022-04-21T21:24:06.891Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:24:06.901Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.3
    ✓ UDP might lose a message
2022-04-21T21:24:06.952Z appoptics:patching patched raw-body 2.5.1
(node:3179) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (83ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (323ms)


added 6 packages, removed 1 package, changed 6 packages, and audited 942 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:24:16.658Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:24:16.659Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:24:16.659Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:24:16.660Z appoptics:debug using context provider: ace-context
2022-04-21T21:24:16.739Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:24:16.908Z appoptics:patching patched crypto 
2022-04-21T21:24:16.932Z appoptics:patching patched https 
2022-04-21T21:24:16.933Z appoptics:patching patched http 
2022-04-21T21:24:16.977Z appoptics:patching patched zlib 
2022-04-21T21:24:16.993Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:24:16.993Z appoptics:patching patched fs 
2022-04-21T21:24:17.032Z appoptics:patching patched express 4.4.4
2022-04-21T21:24:17.040Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:24:17.049Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.4
    ✓ UDP might lose a message
2022-04-21T21:24:17.097Z appoptics:patching patched raw-body 2.5.1
(node:3201) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (72ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (289ms)


changed 2 packages, and audited 942 packages in 19s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (1 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:24:37.181Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:24:37.182Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:24:37.182Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:24:37.183Z appoptics:debug using context provider: ace-context
2022-04-21T21:24:37.279Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:24:37.468Z appoptics:patching patched crypto 
2022-04-21T21:24:37.518Z appoptics:patching patched https 
2022-04-21T21:24:37.519Z appoptics:patching patched http 
2022-04-21T21:24:37.566Z appoptics:patching patched zlib 
2022-04-21T21:24:37.581Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:24:37.582Z appoptics:patching patched fs 
2022-04-21T21:24:37.626Z appoptics:patching patched express 4.4.5
2022-04-21T21:24:37.635Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:24:37.645Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.5
    ✓ UDP might lose a message
2022-04-21T21:24:37.698Z appoptics:patching patched raw-body 2.5.1
(node:3223) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (95ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (45ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (351ms)


added 11 packages, removed 1 package, changed 5 packages, and audited 952 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:24:46.712Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:24:46.713Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:24:46.713Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:24:46.714Z appoptics:debug using context provider: ace-context
2022-04-21T21:24:46.792Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:24:46.965Z appoptics:patching patched crypto 
2022-04-21T21:24:46.988Z appoptics:patching patched https 
2022-04-21T21:24:46.988Z appoptics:patching patched http 
2022-04-21T21:24:47.036Z appoptics:patching patched zlib 
2022-04-21T21:24:47.053Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:24:47.053Z appoptics:patching patched fs 
2022-04-21T21:24:47.100Z appoptics:patching patched express 4.5.0
2022-04-21T21:24:47.108Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:24:47.117Z appoptics:debug starting runtimeMetrics


  probes.express 4.5.0
    ✓ UDP might lose a message
2022-04-21T21:24:47.166Z appoptics:patching patched raw-body 2.5.1
(node:3245) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (74ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (295ms)


changed 1 package, and audited 952 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:24:56.362Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:24:56.363Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:24:56.363Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:24:56.364Z appoptics:debug using context provider: ace-context
2022-04-21T21:24:56.443Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:24:56.609Z appoptics:patching patched crypto 
2022-04-21T21:24:56.631Z appoptics:patching patched https 
2022-04-21T21:24:56.632Z appoptics:patching patched http 
2022-04-21T21:24:56.679Z appoptics:patching patched zlib 
2022-04-21T21:24:56.696Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:24:56.696Z appoptics:patching patched fs 
2022-04-21T21:24:56.744Z appoptics:patching patched express 4.5.1
2022-04-21T21:24:56.752Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:24:56.761Z appoptics:debug starting runtimeMetrics


  probes.express 4.5.1
    ✓ UDP might lose a message
2022-04-21T21:24:56.807Z appoptics:patching patched raw-body 2.5.1
(node:3267) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (74ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (44ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (303ms)


added 1 package, removed 6 packages, changed 9 packages, and audited 947 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:25:06.098Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:25:06.099Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:25:06.099Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:25:06.100Z appoptics:debug using context provider: ace-context
2022-04-21T21:25:06.189Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:25:06.381Z appoptics:patching patched crypto 
2022-04-21T21:25:06.404Z appoptics:patching patched https 
2022-04-21T21:25:06.405Z appoptics:patching patched http 
2022-04-21T21:25:06.450Z appoptics:patching patched zlib 
2022-04-21T21:25:06.469Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:25:06.470Z appoptics:patching patched fs 
2022-04-21T21:25:06.508Z appoptics:patching patched express 4.6.0
2022-04-21T21:25:06.516Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:25:06.525Z appoptics:debug starting runtimeMetrics


  probes.express 4.6.0
    ✓ UDP might lose a message
2022-04-21T21:25:06.571Z appoptics:patching patched raw-body 2.5.1
(node:3289) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (288ms)


changed 1 package, and audited 947 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:25:15.041Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:25:15.042Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:25:15.042Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:25:15.043Z appoptics:debug using context provider: ace-context
2022-04-21T21:25:15.142Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:25:15.370Z appoptics:patching patched crypto 
2022-04-21T21:25:15.442Z appoptics:patching patched https 
2022-04-21T21:25:15.443Z appoptics:patching patched http 
2022-04-21T21:25:15.530Z appoptics:patching patched zlib 
2022-04-21T21:25:15.572Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:25:15.573Z appoptics:patching patched fs 
2022-04-21T21:25:15.705Z appoptics:patching patched express 4.6.1
2022-04-21T21:25:15.734Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:25:15.766Z appoptics:debug starting runtimeMetrics


  probes.express 4.6.1
    ✓ UDP might lose a message
2022-04-21T21:25:15.853Z appoptics:patching patched raw-body 2.5.1
(node:3311) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (83ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (48ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (413ms)


added 5 packages, changed 10 packages, and audited 952 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:25:24.632Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:25:24.633Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:25:24.633Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:25:24.634Z appoptics:debug using context provider: ace-context
2022-04-21T21:25:24.710Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:25:24.883Z appoptics:patching patched crypto 
2022-04-21T21:25:24.905Z appoptics:patching patched https 
2022-04-21T21:25:24.906Z appoptics:patching patched http 
2022-04-21T21:25:24.953Z appoptics:patching patched zlib 
2022-04-21T21:25:24.973Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:25:24.973Z appoptics:patching patched fs 
2022-04-21T21:25:25.022Z appoptics:patching patched express 4.7.0
2022-04-21T21:25:25.030Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:25:25.039Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.0
    ✓ UDP might lose a message
2022-04-21T21:25:25.092Z appoptics:patching patched raw-body 2.5.1
(node:3333) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (87ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (43ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (309ms)


changed 4 packages, and audited 952 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:25:35.070Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:25:35.071Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:25:35.071Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:25:35.072Z appoptics:debug using context provider: ace-context
2022-04-21T21:25:35.152Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:25:35.324Z appoptics:patching patched crypto 
2022-04-21T21:25:35.349Z appoptics:patching patched https 
2022-04-21T21:25:35.349Z appoptics:patching patched http 
2022-04-21T21:25:35.401Z appoptics:patching patched zlib 
2022-04-21T21:25:35.422Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:25:35.422Z appoptics:patching patched fs 
2022-04-21T21:25:35.471Z appoptics:patching patched express 4.7.1
2022-04-21T21:25:35.479Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:25:35.489Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.1
    ✓ UDP might lose a message
2022-04-21T21:25:35.537Z appoptics:patching patched raw-body 2.5.1
(node:3355) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (92ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (43ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (318ms)


changed 4 packages, and audited 952 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:25:45.092Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:25:45.093Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:25:45.093Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:25:45.094Z appoptics:debug using context provider: ace-context
2022-04-21T21:25:45.172Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:25:45.350Z appoptics:patching patched crypto 
2022-04-21T21:25:45.374Z appoptics:patching patched https 
2022-04-21T21:25:45.375Z appoptics:patching patched http 
2022-04-21T21:25:45.421Z appoptics:patching patched zlib 
2022-04-21T21:25:45.441Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:25:45.441Z appoptics:patching patched fs 
2022-04-21T21:25:45.491Z appoptics:patching patched express 4.7.2
2022-04-21T21:25:45.500Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:25:45.509Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.2
    ✓ UDP might lose a message
2022-04-21T21:25:45.558Z appoptics:patching patched raw-body 2.5.1
(node:3377) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (322ms)


changed 2 packages, and audited 952 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:25:54.476Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:25:54.477Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:25:54.477Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:25:54.478Z appoptics:debug using context provider: ace-context
2022-04-21T21:25:54.582Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:25:54.773Z appoptics:patching patched crypto 
2022-04-21T21:25:54.820Z appoptics:patching patched https 
2022-04-21T21:25:54.821Z appoptics:patching patched http 
2022-04-21T21:25:54.869Z appoptics:patching patched zlib 
2022-04-21T21:25:54.891Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:25:54.891Z appoptics:patching patched fs 
2022-04-21T21:25:54.947Z appoptics:patching patched express 4.7.3
2022-04-21T21:25:54.955Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:25:54.969Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.3
    ✓ UDP might lose a message
2022-04-21T21:25:55.015Z appoptics:patching patched raw-body 2.5.1
(node:3399) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (91ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (44ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (334ms)


removed 5 packages, changed 2 packages, and audited 947 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:26:03.619Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:26:03.619Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:26:03.620Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:26:03.620Z appoptics:debug using context provider: ace-context
2022-04-21T21:26:03.697Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:26:03.870Z appoptics:patching patched crypto 
2022-04-21T21:26:03.896Z appoptics:patching patched https 
2022-04-21T21:26:03.896Z appoptics:patching patched http 
2022-04-21T21:26:03.966Z appoptics:patching patched zlib 
2022-04-21T21:26:03.990Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:26:03.990Z appoptics:patching patched fs 
2022-04-21T21:26:04.033Z appoptics:patching patched express 4.7.4
2022-04-21T21:26:04.044Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:26:04.053Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.4
    ✓ UDP might lose a message
2022-04-21T21:26:04.101Z appoptics:patching patched raw-body 2.5.1
(node:3421) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (72ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (291ms)


added 9 packages, changed 4 packages, and audited 956 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:26:13.256Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:26:13.257Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:26:13.257Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:26:13.258Z appoptics:debug using context provider: ace-context
2022-04-21T21:26:13.375Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:26:13.586Z appoptics:patching patched crypto 
2022-04-21T21:26:13.636Z appoptics:patching patched https 
2022-04-21T21:26:13.650Z appoptics:patching patched http 
2022-04-21T21:26:13.687Z appoptics:patching patched zlib 
2022-04-21T21:26:13.705Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:26:13.705Z appoptics:patching patched fs 
2022-04-21T21:26:13.776Z appoptics:patching patched express 4.8.0
2022-04-21T21:26:13.791Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:26:13.801Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.0
    ✓ UDP might lose a message
2022-04-21T21:26:13.852Z appoptics:patching patched raw-body 2.5.1
(node:3443) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (98ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (51ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (370ms)


changed 2 packages, and audited 956 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:26:23.289Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:26:23.289Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:26:23.290Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:26:23.290Z appoptics:debug using context provider: ace-context
2022-04-21T21:26:23.368Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:26:23.541Z appoptics:patching patched crypto 
2022-04-21T21:26:23.565Z appoptics:patching patched https 
2022-04-21T21:26:23.565Z appoptics:patching patched http 
2022-04-21T21:26:23.612Z appoptics:patching patched zlib 
2022-04-21T21:26:23.627Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:26:23.627Z appoptics:patching patched fs 
2022-04-21T21:26:23.683Z appoptics:patching patched express 4.8.1
2022-04-21T21:26:23.691Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:26:23.700Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.1
    ✓ UDP might lose a message
2022-04-21T21:26:23.749Z appoptics:patching patched raw-body 2.5.1
(node:3465) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (78ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (308ms)


changed 2 packages, and audited 956 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:26:33.094Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:26:33.095Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:26:33.095Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:26:33.096Z appoptics:debug using context provider: ace-context
2022-04-21T21:26:33.186Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:26:33.495Z appoptics:patching patched crypto 
2022-04-21T21:26:33.530Z appoptics:patching patched https 
2022-04-21T21:26:33.531Z appoptics:patching patched http 
2022-04-21T21:26:33.659Z appoptics:patching patched zlib 
2022-04-21T21:26:33.693Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:26:33.694Z appoptics:patching patched fs 
2022-04-21T21:26:33.836Z appoptics:patching patched express 4.8.2
2022-04-21T21:26:33.856Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:26:33.873Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.2
    ✓ UDP might lose a message
2022-04-21T21:26:33.972Z appoptics:patching patched raw-body 2.5.1
(node:3487) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (192ms)
    ✓ should forward controller/action for POST (70ms)
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (63ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (591ms)


removed 3 packages, changed 3 packages, and audited 953 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:26:42.918Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:26:42.919Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:26:42.919Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:26:42.920Z appoptics:debug using context provider: ace-context
2022-04-21T21:26:42.998Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:26:43.170Z appoptics:patching patched crypto 
2022-04-21T21:26:43.194Z appoptics:patching patched https 
2022-04-21T21:26:43.194Z appoptics:patching patched http 
2022-04-21T21:26:43.241Z appoptics:patching patched zlib 
2022-04-21T21:26:43.256Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:26:43.257Z appoptics:patching patched fs 
2022-04-21T21:26:43.319Z appoptics:patching patched express 4.8.3
2022-04-21T21:26:43.327Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:26:43.336Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.3
    ✓ UDP might lose a message
2022-04-21T21:26:43.384Z appoptics:patching patched raw-body 2.5.1
(node:3509) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (42ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (302ms)


added 1 package, changed 3 packages, and audited 954 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:26:53.245Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:26:53.245Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:26:53.245Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:26:53.246Z appoptics:debug using context provider: ace-context
2022-04-21T21:26:53.326Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:26:53.501Z appoptics:patching patched crypto 
2022-04-21T21:26:53.524Z appoptics:patching patched https 
2022-04-21T21:26:53.525Z appoptics:patching patched http 
2022-04-21T21:26:53.572Z appoptics:patching patched zlib 
2022-04-21T21:26:53.587Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:26:53.588Z appoptics:patching patched fs 
2022-04-21T21:26:53.646Z appoptics:patching patched express 4.8.4
2022-04-21T21:26:53.654Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:26:53.663Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.4
    ✓ UDP might lose a message
2022-04-21T21:26:53.714Z appoptics:patching patched raw-body 2.5.1
(node:3531) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (75ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (291ms)


added 3 packages, removed 3 packages, changed 2 packages, and audited 954 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:27:03.376Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:27:03.377Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:27:03.377Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:27:03.377Z appoptics:debug using context provider: ace-context
2022-04-21T21:27:03.454Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:27:03.624Z appoptics:patching patched crypto 
2022-04-21T21:27:03.660Z appoptics:patching patched https 
2022-04-21T21:27:03.660Z appoptics:patching patched http 
2022-04-21T21:27:03.701Z appoptics:patching patched zlib 
2022-04-21T21:27:03.716Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:27:03.716Z appoptics:patching patched fs 
2022-04-21T21:27:03.775Z appoptics:patching patched express 4.8.5
2022-04-21T21:27:03.784Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:27:03.796Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.5
    ✓ UDP might lose a message
2022-04-21T21:27:03.841Z appoptics:patching patched raw-body 2.5.1
(node:3553) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (74ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (299ms)


changed 2 packages, and audited 954 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:27:12.792Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:27:12.796Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:27:12.796Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:27:12.797Z appoptics:debug using context provider: ace-context
2022-04-21T21:27:12.894Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:27:13.085Z appoptics:patching patched crypto 
2022-04-21T21:27:13.137Z appoptics:patching patched https 
2022-04-21T21:27:13.138Z appoptics:patching patched http 
2022-04-21T21:27:13.189Z appoptics:patching patched zlib 
2022-04-21T21:27:13.206Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:27:13.206Z appoptics:patching patched fs 
2022-04-21T21:27:13.313Z appoptics:patching patched express 4.8.6
2022-04-21T21:27:13.331Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:27:13.352Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.6
    ✓ UDP might lose a message
2022-04-21T21:27:13.451Z appoptics:patching patched raw-body 2.5.1
(node:3575) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (121ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (380ms)


changed 2 packages, and audited 954 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:27:22.033Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:27:22.034Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:27:22.034Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:27:22.035Z appoptics:debug using context provider: ace-context
2022-04-21T21:27:22.115Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:27:22.283Z appoptics:patching patched crypto 
2022-04-21T21:27:22.307Z appoptics:patching patched https 
2022-04-21T21:27:22.308Z appoptics:patching patched http 
2022-04-21T21:27:22.354Z appoptics:patching patched zlib 
2022-04-21T21:27:22.368Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:27:22.369Z appoptics:patching patched fs 
2022-04-21T21:27:22.426Z appoptics:patching patched express 4.8.7
2022-04-21T21:27:22.435Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:27:22.443Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.7
    ✓ UDP might lose a message
2022-04-21T21:27:22.493Z appoptics:patching patched raw-body 2.5.1
(node:3597) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (45ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (359ms)


removed 8 packages, changed 2 packages, and audited 946 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:27:31.563Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:27:31.564Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:27:31.564Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:27:31.565Z appoptics:debug using context provider: ace-context
2022-04-21T21:27:31.685Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:27:31.862Z appoptics:patching patched crypto 
2022-04-21T21:27:31.917Z appoptics:patching patched https 
2022-04-21T21:27:31.918Z appoptics:patching patched http 
2022-04-21T21:27:31.987Z appoptics:patching patched zlib 
2022-04-21T21:27:32.006Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:27:32.007Z appoptics:patching patched fs 
2022-04-21T21:27:32.066Z appoptics:patching patched express 4.8.8
2022-04-21T21:27:32.086Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:27:32.096Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.8
    ✓ UDP might lose a message
2022-04-21T21:27:32.146Z appoptics:patching patched raw-body 2.5.1
(node:3619) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (84ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (44ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (326ms)


added 14 packages, removed 1 package, changed 18 packages, and audited 959 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:27:41.378Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:27:41.378Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:27:41.378Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:27:41.379Z appoptics:debug using context provider: ace-context
2022-04-21T21:27:41.460Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:27:41.629Z appoptics:patching patched crypto 
2022-04-21T21:27:41.653Z appoptics:patching patched https 
2022-04-21T21:27:41.654Z appoptics:patching patched http 
2022-04-21T21:27:41.716Z appoptics:patching patched zlib 
2022-04-21T21:27:41.739Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:27:41.739Z appoptics:patching patched fs 
2022-04-21T21:27:41.831Z appoptics:patching patched express 4.9.0
2022-04-21T21:27:41.840Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:27:41.848Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.0
    ✓ UDP might lose a message
2022-04-21T21:27:41.897Z appoptics:patching patched raw-body 2.5.1
(node:3641) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (77ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (42ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (307ms)


removed 1 package, changed 4 packages, and audited 958 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:27:50.892Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:27:50.893Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:27:50.893Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:27:50.894Z appoptics:debug using context provider: ace-context
2022-04-21T21:27:51.060Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:27:51.336Z appoptics:patching patched crypto 
2022-04-21T21:27:51.415Z appoptics:patching patched https 
2022-04-21T21:27:51.416Z appoptics:patching patched http 
2022-04-21T21:27:51.480Z appoptics:patching patched zlib 
2022-04-21T21:27:51.496Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:27:51.497Z appoptics:patching patched fs 
2022-04-21T21:27:51.565Z appoptics:patching patched express 4.9.1
2022-04-21T21:27:51.576Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:27:51.592Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.1
    ✓ UDP might lose a message
2022-04-21T21:27:51.636Z appoptics:patching patched raw-body 2.5.1
(node:3663) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (58ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (311ms)


changed 1 package, and audited 958 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:27:59.994Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:27:59.994Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:27:59.994Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:27:59.995Z appoptics:debug using context provider: ace-context
2022-04-21T21:28:00.074Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:28:00.244Z appoptics:patching patched crypto 
2022-04-21T21:28:00.266Z appoptics:patching patched https 
2022-04-21T21:28:00.267Z appoptics:patching patched http 
2022-04-21T21:28:00.316Z appoptics:patching patched zlib 
2022-04-21T21:28:00.331Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:28:00.331Z appoptics:patching patched fs 
2022-04-21T21:28:00.394Z appoptics:patching patched express 4.9.2
2022-04-21T21:28:00.403Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:28:00.411Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.2
    ✓ UDP might lose a message
2022-04-21T21:28:00.461Z appoptics:patching patched raw-body 2.5.1
(node:3685) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (297ms)


added 1 package, changed 3 packages, and audited 959 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:28:09.883Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:28:09.884Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:28:09.884Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:28:09.885Z appoptics:debug using context provider: ace-context
2022-04-21T21:28:09.971Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:28:10.147Z appoptics:patching patched crypto 
2022-04-21T21:28:10.170Z appoptics:patching patched https 
2022-04-21T21:28:10.171Z appoptics:patching patched http 
2022-04-21T21:28:10.219Z appoptics:patching patched zlib 
2022-04-21T21:28:10.234Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:28:10.235Z appoptics:patching patched fs 
2022-04-21T21:28:10.302Z appoptics:patching patched express 4.9.3
2022-04-21T21:28:10.311Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:28:10.321Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.3
    ✓ UDP might lose a message
2022-04-21T21:28:10.369Z appoptics:patching patched raw-body 2.5.1
(node:3707) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (74ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (322ms)


changed 2 packages, and audited 959 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:28:20.270Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:28:20.270Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:28:20.270Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:28:20.271Z appoptics:debug using context provider: ace-context
2022-04-21T21:28:20.350Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:28:20.522Z appoptics:patching patched crypto 
2022-04-21T21:28:20.547Z appoptics:patching patched https 
2022-04-21T21:28:20.548Z appoptics:patching patched http 
2022-04-21T21:28:20.597Z appoptics:patching patched zlib 
2022-04-21T21:28:20.614Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:28:20.614Z appoptics:patching patched fs 
2022-04-21T21:28:20.683Z appoptics:patching patched express 4.9.4
2022-04-21T21:28:20.692Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:28:20.700Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.4
    ✓ UDP might lose a message
2022-04-21T21:28:20.752Z appoptics:patching patched raw-body 2.5.1
(node:3729) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (44ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (302ms)


removed 9 packages, changed 3 packages, and audited 950 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:28:30.637Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:28:30.639Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:28:30.639Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:28:30.641Z appoptics:debug using context provider: ace-context
2022-04-21T21:28:30.821Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:28:31.048Z appoptics:patching patched crypto 
2022-04-21T21:28:31.086Z appoptics:patching patched https 
2022-04-21T21:28:31.087Z appoptics:patching patched http 
2022-04-21T21:28:31.131Z appoptics:patching patched zlib 
2022-04-21T21:28:31.147Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:28:31.148Z appoptics:patching patched fs 
2022-04-21T21:28:31.204Z appoptics:patching patched express 4.9.5
2022-04-21T21:28:31.212Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:28:31.221Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.5
    ✓ UDP might lose a message
2022-04-21T21:28:31.271Z appoptics:patching patched raw-body 2.5.1
(node:3751) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (72ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (316ms)


changed 1 package, and audited 950 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:28:39.983Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:28:39.984Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:28:39.984Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:28:39.985Z appoptics:debug using context provider: ace-context
2022-04-21T21:28:40.104Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:28:40.298Z appoptics:patching patched crypto 
2022-04-21T21:28:40.322Z appoptics:patching patched https 
2022-04-21T21:28:40.323Z appoptics:patching patched http 
2022-04-21T21:28:40.368Z appoptics:patching patched zlib 
2022-04-21T21:28:40.384Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:28:40.384Z appoptics:patching patched fs 
2022-04-21T21:28:40.438Z appoptics:patching patched express 4.9.6
2022-04-21T21:28:40.446Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:28:40.455Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.6
    ✓ UDP might lose a message
2022-04-21T21:28:40.504Z appoptics:patching patched raw-body 2.5.1
(node:3773) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (294ms)


changed 1 package, and audited 950 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:28:49.516Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:28:49.517Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:28:49.517Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:28:49.518Z appoptics:debug using context provider: ace-context
2022-04-21T21:28:49.597Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:28:49.769Z appoptics:patching patched crypto 
2022-04-21T21:28:49.793Z appoptics:patching patched https 
2022-04-21T21:28:49.794Z appoptics:patching patched http 
2022-04-21T21:28:49.841Z appoptics:patching patched zlib 
2022-04-21T21:28:49.856Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:28:49.857Z appoptics:patching patched fs 
2022-04-21T21:28:49.912Z appoptics:patching patched express 4.9.7
2022-04-21T21:28:49.920Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:28:49.929Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.7
    ✓ UDP might lose a message
2022-04-21T21:28:49.992Z appoptics:patching patched raw-body 2.5.1
(node:3795) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (140ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (422ms)


changed 1 package, and audited 950 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:28:59.483Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:28:59.484Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:28:59.484Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:28:59.485Z appoptics:debug using context provider: ace-context
2022-04-21T21:28:59.563Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:28:59.737Z appoptics:patching patched crypto 
2022-04-21T21:28:59.760Z appoptics:patching patched https 
2022-04-21T21:28:59.761Z appoptics:patching patched http 
2022-04-21T21:28:59.817Z appoptics:patching patched zlib 
2022-04-21T21:28:59.832Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:28:59.832Z appoptics:patching patched fs 
2022-04-21T21:28:59.885Z appoptics:patching patched express 4.9.8
2022-04-21T21:28:59.893Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:28:59.901Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.8
    ✓ UDP might lose a message
2022-04-21T21:28:59.949Z appoptics:patching patched raw-body 2.5.1
(node:3817) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (79ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (49ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (364ms)


added 4 packages, changed 17 packages, and audited 954 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:29:09.476Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:29:09.479Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:29:09.479Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:29:09.480Z appoptics:debug using context provider: ace-context
2022-04-21T21:29:09.561Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:29:09.731Z appoptics:patching patched crypto 
2022-04-21T21:29:09.754Z appoptics:patching patched https 
2022-04-21T21:29:09.755Z appoptics:patching patched http 
2022-04-21T21:29:09.802Z appoptics:patching patched zlib 
2022-04-21T21:29:09.822Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:29:09.822Z appoptics:patching patched fs 
2022-04-21T21:29:09.877Z appoptics:patching patched express 4.10.0
2022-04-21T21:29:09.886Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:29:09.894Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.0
    ✓ UDP might lose a message
2022-04-21T21:29:09.943Z appoptics:patching patched raw-body 2.5.1
(node:3839) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (43ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (292ms)


changed 2 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:29:18.430Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:29:18.431Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:29:18.431Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:29:18.432Z appoptics:debug using context provider: ace-context
2022-04-21T21:29:18.511Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:29:18.680Z appoptics:patching patched crypto 
2022-04-21T21:29:18.713Z appoptics:patching patched https 
2022-04-21T21:29:18.714Z appoptics:patching patched http 
2022-04-21T21:29:18.754Z appoptics:patching patched zlib 
2022-04-21T21:29:18.772Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:29:18.773Z appoptics:patching patched fs 
2022-04-21T21:29:18.829Z appoptics:patching patched express 4.10.1
2022-04-21T21:29:18.837Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:29:18.847Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.1
    ✓ UDP might lose a message
2022-04-21T21:29:18.908Z appoptics:patching patched raw-body 2.5.1
(node:3861) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (86ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (43ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (336ms)


changed 1 package, and audited 954 packages in 19s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:29:39.228Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:29:39.229Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:29:39.229Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:29:39.230Z appoptics:debug using context provider: ace-context
2022-04-21T21:29:39.309Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:29:39.488Z appoptics:patching patched crypto 
2022-04-21T21:29:39.528Z appoptics:patching patched https 
2022-04-21T21:29:39.529Z appoptics:patching patched http 
2022-04-21T21:29:39.587Z appoptics:patching patched zlib 
2022-04-21T21:29:39.606Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:29:39.606Z appoptics:patching patched fs 
2022-04-21T21:29:39.661Z appoptics:patching patched express 4.10.2
2022-04-21T21:29:39.670Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:29:39.679Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.2
    ✓ UDP might lose a message
2022-04-21T21:29:39.734Z appoptics:patching patched raw-body 2.5.1
(node:3883) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (79ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (311ms)


changed 2 packages, and audited 954 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:29:49.494Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:29:49.495Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:29:49.496Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:29:49.496Z appoptics:debug using context provider: ace-context
2022-04-21T21:29:49.576Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:29:49.759Z appoptics:patching patched crypto 
2022-04-21T21:29:49.782Z appoptics:patching patched https 
2022-04-21T21:29:49.783Z appoptics:patching patched http 
2022-04-21T21:29:49.828Z appoptics:patching patched zlib 
2022-04-21T21:29:49.847Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:29:49.847Z appoptics:patching patched fs 
2022-04-21T21:29:49.898Z appoptics:patching patched express 4.10.3
2022-04-21T21:29:49.906Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:29:49.915Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.3
    ✓ UDP might lose a message
2022-04-21T21:29:49.962Z appoptics:patching patched raw-body 2.5.1
(node:3905) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (74ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (304ms)


changed 1 package, and audited 954 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:29:59.204Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:29:59.205Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:29:59.205Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:29:59.206Z appoptics:debug using context provider: ace-context
2022-04-21T21:29:59.315Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:29:59.547Z appoptics:patching patched crypto 
2022-04-21T21:29:59.606Z appoptics:patching patched https 
2022-04-21T21:29:59.607Z appoptics:patching patched http 
2022-04-21T21:29:59.706Z appoptics:patching patched zlib 
2022-04-21T21:29:59.743Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:29:59.743Z appoptics:patching patched fs 
2022-04-21T21:29:59.844Z appoptics:patching patched express 4.10.4
2022-04-21T21:29:59.852Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:29:59.862Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.4
    ✓ UDP might lose a message
2022-04-21T21:29:59.910Z appoptics:patching patched raw-body 2.5.1
(node:3927) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (69ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (292ms)


changed 1 package, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:30:08.240Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:30:08.241Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:30:08.241Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:30:08.244Z appoptics:debug using context provider: ace-context
2022-04-21T21:30:08.426Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:30:08.599Z appoptics:patching patched crypto 
2022-04-21T21:30:08.633Z appoptics:patching patched https 
2022-04-21T21:30:08.634Z appoptics:patching patched http 
2022-04-21T21:30:08.675Z appoptics:patching patched zlib 
2022-04-21T21:30:08.692Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:30:08.693Z appoptics:patching patched fs 
2022-04-21T21:30:08.747Z appoptics:patching patched express 4.10.5
2022-04-21T21:30:08.755Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:30:08.764Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.5
    ✓ UDP might lose a message
2022-04-21T21:30:08.826Z appoptics:patching patched raw-body 2.5.1
(node:3949) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (91ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (326ms)


changed 1 package, and audited 954 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:30:17.998Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:30:17.999Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:30:17.999Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:30:18.001Z appoptics:debug using context provider: ace-context
2022-04-21T21:30:18.079Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:30:18.248Z appoptics:patching patched crypto 
2022-04-21T21:30:18.271Z appoptics:patching patched https 
2022-04-21T21:30:18.272Z appoptics:patching patched http 
2022-04-21T21:30:18.326Z appoptics:patching patched zlib 
2022-04-21T21:30:18.344Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:30:18.344Z appoptics:patching patched fs 
2022-04-21T21:30:18.395Z appoptics:patching patched express 4.10.6
2022-04-21T21:30:18.404Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:30:18.412Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.6
    ✓ UDP might lose a message
2022-04-21T21:30:18.502Z appoptics:patching patched raw-body 2.5.1
(node:3971) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (143ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (45ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (410ms)


changed 5 packages, and audited 954 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:30:27.769Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:30:27.770Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:30:27.770Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:30:27.772Z appoptics:debug using context provider: ace-context
2022-04-21T21:30:27.854Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:30:28.026Z appoptics:patching patched crypto 
2022-04-21T21:30:28.057Z appoptics:patching patched https 
2022-04-21T21:30:28.057Z appoptics:patching patched http 
2022-04-21T21:30:28.162Z appoptics:patching patched zlib 
2022-04-21T21:30:28.182Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:30:28.185Z appoptics:patching patched fs 
2022-04-21T21:30:28.239Z appoptics:patching patched express 4.10.7
2022-04-21T21:30:28.247Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:30:28.256Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.7
    ✓ UDP might lose a message
2022-04-21T21:30:28.304Z appoptics:patching patched raw-body 2.5.1
(node:3993) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (72ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (296ms)


changed 1 package, and audited 954 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:30:37.447Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:30:37.448Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:30:37.448Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:30:37.449Z appoptics:debug using context provider: ace-context
2022-04-21T21:30:37.587Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:30:37.790Z appoptics:patching patched crypto 
2022-04-21T21:30:37.814Z appoptics:patching patched https 
2022-04-21T21:30:37.815Z appoptics:patching patched http 
2022-04-21T21:30:37.861Z appoptics:patching patched zlib 
2022-04-21T21:30:37.880Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:30:37.880Z appoptics:patching patched fs 
2022-04-21T21:30:37.933Z appoptics:patching patched express 4.10.8
2022-04-21T21:30:37.942Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:30:37.950Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.8
    ✓ UDP might lose a message
2022-04-21T21:30:37.998Z appoptics:patching patched raw-body 2.5.1
(node:4015) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (299ms)


added 10 packages, removed 8 packages, changed 8 packages, and audited 956 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:30:46.649Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:30:46.650Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:30:46.650Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:30:46.652Z appoptics:debug using context provider: ace-context
2022-04-21T21:30:46.762Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:30:46.967Z appoptics:patching patched crypto 
2022-04-21T21:30:46.990Z appoptics:patching patched https 
2022-04-21T21:30:46.991Z appoptics:patching patched http 
2022-04-21T21:30:47.038Z appoptics:patching patched zlib 
2022-04-21T21:30:47.057Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:30:47.057Z appoptics:patching patched fs 
2022-04-21T21:30:47.126Z appoptics:patching patched express 4.11.0
2022-04-21T21:30:47.134Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:30:47.143Z appoptics:debug starting runtimeMetrics


  probes.express 4.11.0
    ✓ UDP might lose a message
2022-04-21T21:30:47.193Z appoptics:patching patched raw-body 2.5.1
(node:4037) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (286ms)


removed 8 packages, changed 2 packages, and audited 948 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:30:56.507Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:30:56.508Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:30:56.508Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:30:56.509Z appoptics:debug using context provider: ace-context
2022-04-21T21:30:56.601Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:30:56.792Z appoptics:patching patched crypto 
2022-04-21T21:30:56.816Z appoptics:patching patched https 
2022-04-21T21:30:56.817Z appoptics:patching patched http 
2022-04-21T21:30:56.868Z appoptics:patching patched zlib 
2022-04-21T21:30:56.897Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:30:56.898Z appoptics:patching patched fs 
2022-04-21T21:30:56.967Z appoptics:patching patched express 4.11.1
2022-04-21T21:30:56.975Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:30:56.985Z appoptics:debug starting runtimeMetrics


  probes.express 4.11.1
    ✓ UDP might lose a message
2022-04-21T21:30:57.043Z appoptics:patching patched raw-body 2.5.1
(node:4059) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (297ms)


changed 1 package, and audited 948 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:31:06.422Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:31:06.423Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:31:06.423Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:31:06.424Z appoptics:debug using context provider: ace-context
2022-04-21T21:31:06.504Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:31:06.686Z appoptics:patching patched crypto 
2022-04-21T21:31:06.712Z appoptics:patching patched https 
2022-04-21T21:31:06.713Z appoptics:patching patched http 
2022-04-21T21:31:06.761Z appoptics:patching patched zlib 
2022-04-21T21:31:06.781Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:31:06.781Z appoptics:patching patched fs 
2022-04-21T21:31:06.838Z appoptics:patching patched express 4.11.2
2022-04-21T21:31:06.846Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:31:06.855Z appoptics:debug starting runtimeMetrics


  probes.express 4.11.2
    ✓ UDP might lose a message
2022-04-21T21:31:06.903Z appoptics:patching patched raw-body 2.5.1
(node:4081) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (316ms)


added 9 packages, removed 3 packages, changed 5 packages, and audited 954 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:31:16.505Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:31:16.506Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:31:16.506Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:31:16.507Z appoptics:debug using context provider: ace-context
2022-04-21T21:31:16.587Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:31:16.764Z appoptics:patching patched crypto 
2022-04-21T21:31:16.801Z appoptics:patching patched https 
2022-04-21T21:31:16.802Z appoptics:patching patched http 
2022-04-21T21:31:16.844Z appoptics:patching patched zlib 
2022-04-21T21:31:16.863Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:31:16.863Z appoptics:patching patched fs 
2022-04-21T21:31:16.928Z appoptics:patching patched express 4.12.0
2022-04-21T21:31:16.937Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:31:16.946Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.0
    ✓ UDP might lose a message
2022-04-21T21:31:17.005Z appoptics:patching patched raw-body 2.5.1
(node:4103) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (307ms)


changed 2 packages, and audited 954 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:31:25.605Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:31:25.606Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:31:25.606Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:31:25.606Z appoptics:debug using context provider: ace-context
2022-04-21T21:31:25.714Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:31:25.961Z appoptics:patching patched crypto 
2022-04-21T21:31:26.001Z appoptics:patching patched https 
2022-04-21T21:31:26.002Z appoptics:patching patched http 
2022-04-21T21:31:26.134Z appoptics:patching patched zlib 
2022-04-21T21:31:26.168Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:31:26.168Z appoptics:patching patched fs 
2022-04-21T21:31:26.265Z appoptics:patching patched express 4.12.1
2022-04-21T21:31:26.280Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:31:26.293Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.1
    ✓ UDP might lose a message
2022-04-21T21:31:26.417Z appoptics:patching patched raw-body 2.5.1
(node:4125) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (149ms)
    ✓ should forward controller/action for POST (39ms)
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (59ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (553ms)


changed 1 package, and audited 954 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:31:35.451Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:31:35.451Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:31:35.451Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:31:35.452Z appoptics:debug using context provider: ace-context
2022-04-21T21:31:35.529Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:31:35.697Z appoptics:patching patched crypto 
2022-04-21T21:31:35.720Z appoptics:patching patched https 
2022-04-21T21:31:35.721Z appoptics:patching patched http 
2022-04-21T21:31:35.773Z appoptics:patching patched zlib 
2022-04-21T21:31:35.792Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:31:35.793Z appoptics:patching patched fs 
2022-04-21T21:31:35.855Z appoptics:patching patched express 4.12.2
2022-04-21T21:31:35.864Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:31:35.872Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.2
    ✓ UDP might lose a message
2022-04-21T21:31:35.920Z appoptics:patching patched raw-body 2.5.1
(node:4147) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (304ms)


changed 5 packages, and audited 954 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:31:45.300Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:31:45.301Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:31:45.301Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:31:45.302Z appoptics:debug using context provider: ace-context
2022-04-21T21:31:45.383Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:31:45.555Z appoptics:patching patched crypto 
2022-04-21T21:31:45.578Z appoptics:patching patched https 
2022-04-21T21:31:45.579Z appoptics:patching patched http 
2022-04-21T21:31:45.632Z appoptics:patching patched zlib 
2022-04-21T21:31:45.657Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:31:45.657Z appoptics:patching patched fs 
2022-04-21T21:31:45.736Z appoptics:patching patched express 4.12.3
2022-04-21T21:31:45.746Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:31:45.760Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.3
    ✓ UDP might lose a message
2022-04-21T21:31:45.813Z appoptics:patching patched raw-body 2.5.1
(node:4169) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (74ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (299ms)


removed 9 packages, changed 12 packages, and audited 945 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:31:55.191Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:31:55.192Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:31:55.192Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:31:55.193Z appoptics:debug using context provider: ace-context
2022-04-21T21:31:55.273Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:31:55.446Z appoptics:patching patched crypto 
2022-04-21T21:31:55.469Z appoptics:patching patched https 
2022-04-21T21:31:55.470Z appoptics:patching patched http 
2022-04-21T21:31:55.517Z appoptics:patching patched zlib 
2022-04-21T21:31:55.536Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:31:55.536Z appoptics:patching patched fs 
2022-04-21T21:31:55.586Z appoptics:patching patched express 4.12.4
2022-04-21T21:31:55.595Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:31:55.603Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.4
    ✓ UDP might lose a message
2022-04-21T21:31:55.647Z appoptics:patching patched raw-body 2.5.1
(node:4191) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (297ms)


added 13 packages, removed 4 packages, changed 13 packages, and audited 954 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:32:04.397Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:32:04.398Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:32:04.398Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:32:04.400Z appoptics:debug using context provider: ace-context
2022-04-21T21:32:04.502Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:32:04.691Z appoptics:patching patched crypto 
2022-04-21T21:32:04.737Z appoptics:patching patched https 
2022-04-21T21:32:04.738Z appoptics:patching patched http 
2022-04-21T21:32:04.790Z appoptics:patching patched zlib 
2022-04-21T21:32:04.812Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:32:04.812Z appoptics:patching patched fs 
2022-04-21T21:32:04.876Z appoptics:patching patched express 4.13.0
2022-04-21T21:32:04.884Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:32:04.894Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.0
    ✓ UDP might lose a message
2022-04-21T21:32:04.957Z appoptics:patching patched raw-body 2.5.1
(node:4213) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (81ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (42ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (335ms)


changed 2 packages, and audited 954 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:32:14.268Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:32:14.269Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:32:14.269Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:32:14.270Z appoptics:debug using context provider: ace-context
2022-04-21T21:32:14.349Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:32:14.531Z appoptics:patching patched crypto 
2022-04-21T21:32:14.554Z appoptics:patching patched https 
2022-04-21T21:32:14.555Z appoptics:patching patched http 
2022-04-21T21:32:14.601Z appoptics:patching patched zlib 
2022-04-21T21:32:14.623Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:32:14.623Z appoptics:patching patched fs 
2022-04-21T21:32:14.678Z appoptics:patching patched express 4.13.1
2022-04-21T21:32:14.686Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:32:14.695Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.1
    ✓ UDP might lose a message
2022-04-21T21:32:14.744Z appoptics:patching patched raw-body 2.5.1
(node:4235) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (301ms)


changed 3 packages, and audited 954 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:32:23.894Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:32:23.895Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:32:23.895Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:32:23.895Z appoptics:debug using context provider: ace-context
2022-04-21T21:32:23.980Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:32:24.174Z appoptics:patching patched crypto 
2022-04-21T21:32:24.202Z appoptics:patching patched https 
2022-04-21T21:32:24.203Z appoptics:patching patched http 
2022-04-21T21:32:24.323Z appoptics:patching patched zlib 
2022-04-21T21:32:24.390Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:32:24.390Z appoptics:patching patched fs 
2022-04-21T21:32:24.459Z appoptics:patching patched express 4.13.2
2022-04-21T21:32:24.467Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:32:24.476Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.2
    ✓ UDP might lose a message
2022-04-21T21:32:24.524Z appoptics:patching patched raw-body 2.5.1
(node:4257) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (69ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (283ms)


changed 1 package, and audited 954 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:32:34.010Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:32:34.011Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:32:34.011Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:32:34.012Z appoptics:debug using context provider: ace-context
2022-04-21T21:32:34.096Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:32:34.291Z appoptics:patching patched crypto 
2022-04-21T21:32:34.314Z appoptics:patching patched https 
2022-04-21T21:32:34.314Z appoptics:patching patched http 
2022-04-21T21:32:34.374Z appoptics:patching patched zlib 
2022-04-21T21:32:34.419Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:32:34.419Z appoptics:patching patched fs 
2022-04-21T21:32:34.507Z appoptics:patching patched express 4.13.3
2022-04-21T21:32:34.515Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:32:34.555Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.3
    ✓ UDP might lose a message
2022-04-21T21:32:34.666Z appoptics:patching patched raw-body 2.5.1
(node:4279) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (90ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (334ms)


removed 3 packages, changed 11 packages, and audited 951 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:32:43.394Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:32:43.395Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:32:43.395Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:32:43.396Z appoptics:debug using context provider: ace-context
2022-04-21T21:32:43.530Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:32:43.790Z appoptics:patching patched crypto 
2022-04-21T21:32:43.862Z appoptics:patching patched https 
2022-04-21T21:32:43.863Z appoptics:patching patched http 
2022-04-21T21:32:43.962Z appoptics:patching patched zlib 
2022-04-21T21:32:44.003Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:32:44.003Z appoptics:patching patched fs 
2022-04-21T21:32:44.119Z appoptics:patching patched express 4.13.4
2022-04-21T21:32:44.137Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:32:44.150Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.4
    ✓ UDP might lose a message
2022-04-21T21:32:44.238Z appoptics:patching patched raw-body 2.5.1
(node:4301) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (140ms)
    ✓ should forward controller/action for POST (44ms)
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span (50ms)
    ✓ should work with supertest (189ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler (38ms)
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (831ms)


added 6 packages, removed 8 packages, changed 19 packages, and audited 949 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (2 low, 7 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:32:53.751Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:32:53.752Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:32:53.752Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:32:53.753Z appoptics:debug using context provider: ace-context
2022-04-21T21:32:53.828Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:32:53.997Z appoptics:patching patched crypto 
2022-04-21T21:32:54.020Z appoptics:patching patched https 
2022-04-21T21:32:54.020Z appoptics:patching patched http 
2022-04-21T21:32:54.067Z appoptics:patching patched zlib 
2022-04-21T21:32:54.090Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:32:54.091Z appoptics:patching patched fs 
2022-04-21T21:32:54.150Z appoptics:patching patched express 4.14.0
2022-04-21T21:32:54.158Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:32:54.166Z appoptics:debug starting runtimeMetrics


  probes.express 4.14.0
    ✓ UDP might lose a message
2022-04-21T21:32:54.213Z appoptics:patching patched raw-body 2.5.1
(node:4323) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (293ms)


added 1 package, removed 12 packages, changed 6 packages, and audited 938 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (2 low, 7 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:33:03.622Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:33:03.622Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:33:03.623Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:33:03.623Z appoptics:debug using context provider: ace-context
2022-04-21T21:33:03.701Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:33:03.872Z appoptics:patching patched crypto 
2022-04-21T21:33:03.895Z appoptics:patching patched https 
2022-04-21T21:33:03.896Z appoptics:patching patched http 
2022-04-21T21:33:03.944Z appoptics:patching patched zlib 
2022-04-21T21:33:03.968Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:33:03.969Z appoptics:patching patched fs 
2022-04-21T21:33:04.016Z appoptics:patching patched express 4.14.1
2022-04-21T21:33:04.023Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:33:04.032Z appoptics:debug starting runtimeMetrics


  probes.express 4.14.1
    ✓ UDP might lose a message
2022-04-21T21:33:04.078Z appoptics:patching patched raw-body 2.5.1
(node:4345) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (314ms)


added 5 packages, removed 4 packages, changed 14 packages, and audited 939 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (1 low, 7 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:33:13.882Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:33:13.883Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:33:13.883Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:33:13.884Z appoptics:debug using context provider: ace-context
2022-04-21T21:33:13.965Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:33:14.134Z appoptics:patching patched crypto 
2022-04-21T21:33:14.156Z appoptics:patching patched https 
2022-04-21T21:33:14.157Z appoptics:patching patched http 
2022-04-21T21:33:14.206Z appoptics:patching patched zlib 
2022-04-21T21:33:14.232Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:33:14.233Z appoptics:patching patched fs 
2022-04-21T21:33:14.279Z appoptics:patching patched express 4.15.0
2022-04-21T21:33:14.285Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:33:14.293Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.0
    ✓ UDP might lose a message
2022-04-21T21:33:14.340Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (69ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (285ms)


changed 4 packages, and audited 939 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (1 low, 7 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:33:23.382Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:33:23.383Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:33:23.383Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:33:23.384Z appoptics:debug using context provider: ace-context
2022-04-21T21:33:23.482Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:33:23.678Z appoptics:patching patched crypto 
2022-04-21T21:33:23.742Z appoptics:patching patched https 
2022-04-21T21:33:23.742Z appoptics:patching patched http 
2022-04-21T21:33:23.805Z appoptics:patching patched zlib 
2022-04-21T21:33:23.837Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:33:23.838Z appoptics:patching patched fs 
2022-04-21T21:33:23.905Z appoptics:patching patched express 4.15.1
2022-04-21T21:33:23.913Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:33:23.924Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.1
    ✓ UDP might lose a message
2022-04-21T21:33:23.991Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (105ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (354ms)


changed 2 packages, and audited 939 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (1 low, 7 moderate, 7 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:33:32.592Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:33:32.593Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:33:32.593Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:33:32.594Z appoptics:debug using context provider: ace-context
2022-04-21T21:33:32.669Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:33:32.838Z appoptics:patching patched crypto 
2022-04-21T21:33:32.861Z appoptics:patching patched https 
2022-04-21T21:33:32.862Z appoptics:patching patched http 
2022-04-21T21:33:32.907Z appoptics:patching patched zlib 
2022-04-21T21:33:32.934Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:33:32.935Z appoptics:patching patched fs 
2022-04-21T21:33:32.980Z appoptics:patching patched express 4.15.2
2022-04-21T21:33:32.986Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:33:32.994Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.2
    ✓ UDP might lose a message
2022-04-21T21:33:33.041Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (67ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (298ms)


removed 2 packages, changed 6 packages, and audited 937 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (1 low, 7 moderate, 7 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:33:42.231Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:33:42.232Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:33:42.232Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:33:42.233Z appoptics:debug using context provider: ace-context
2022-04-21T21:33:42.313Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:33:42.511Z appoptics:patching patched crypto 
2022-04-21T21:33:42.545Z appoptics:patching patched https 
2022-04-21T21:33:42.546Z appoptics:patching patched http 
2022-04-21T21:33:42.589Z appoptics:patching patched zlib 
2022-04-21T21:33:42.615Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:33:42.615Z appoptics:patching patched fs 
2022-04-21T21:33:42.664Z appoptics:patching patched express 4.15.3
2022-04-21T21:33:42.669Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:33:42.677Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.3
    ✓ UDP might lose a message
2022-04-21T21:33:42.725Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (276ms)


changed 7 packages, and audited 937 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (1 low, 7 moderate, 7 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:33:52.034Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:33:52.035Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:33:52.035Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:33:52.036Z appoptics:debug using context provider: ace-context
2022-04-21T21:33:52.117Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:33:52.304Z appoptics:patching patched crypto 
2022-04-21T21:33:52.327Z appoptics:patching patched https 
2022-04-21T21:33:52.328Z appoptics:patching patched http 
2022-04-21T21:33:52.374Z appoptics:patching patched zlib 
2022-04-21T21:33:52.400Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:33:52.401Z appoptics:patching patched fs 
2022-04-21T21:33:52.452Z appoptics:patching patched express 4.15.4
2022-04-21T21:33:52.462Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:33:52.471Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.4
    ✓ UDP might lose a message
2022-04-21T21:33:52.525Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (290ms)


removed 4 packages, changed 5 packages, and audited 933 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

13 vulnerabilities (10 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:34:00.900Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:34:00.901Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:34:00.901Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:34:00.902Z appoptics:debug using context provider: ace-context
2022-04-21T21:34:01.019Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:34:01.227Z appoptics:patching patched crypto 
2022-04-21T21:34:01.291Z appoptics:patching patched https 
2022-04-21T21:34:01.291Z appoptics:patching patched http 
2022-04-21T21:34:01.337Z appoptics:patching patched zlib 
2022-04-21T21:34:01.361Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:34:01.361Z appoptics:patching patched fs 
2022-04-21T21:34:01.412Z appoptics:patching patched express 4.15.5
2022-04-21T21:34:01.418Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:34:01.426Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.5
    ✓ UDP might lose a message
2022-04-21T21:34:01.474Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST (42ms)
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (357ms)


added 11 packages, removed 2 packages, changed 11 packages, and audited 942 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:34:10.534Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:34:10.535Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:34:10.535Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:34:10.536Z appoptics:debug using context provider: ace-context
2022-04-21T21:34:10.616Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:34:10.790Z appoptics:patching patched crypto 
2022-04-21T21:34:10.813Z appoptics:patching patched https 
2022-04-21T21:34:10.814Z appoptics:patching patched http 
2022-04-21T21:34:10.868Z appoptics:patching patched zlib 
2022-04-21T21:34:10.894Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:34:10.895Z appoptics:patching patched fs 
2022-04-21T21:34:10.954Z appoptics:patching patched raw-body 2.3.2
2022-04-21T21:34:10.961Z appoptics:patching patched express 4.16.0
2022-04-21T21:34:10.967Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:34:10.975Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.0
    ✓ UDP might lose a message
2022-04-21T21:34:11.020Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (307ms)


changed 4 packages, and audited 942 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:34:20.569Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:34:20.569Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:34:20.570Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:34:20.571Z appoptics:debug using context provider: ace-context
2022-04-21T21:34:20.657Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:34:20.851Z appoptics:patching patched crypto 
2022-04-21T21:34:20.876Z appoptics:patching patched https 
2022-04-21T21:34:20.877Z appoptics:patching patched http 
2022-04-21T21:34:20.928Z appoptics:patching patched zlib 
2022-04-21T21:34:20.956Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:34:20.956Z appoptics:patching patched fs 
2022-04-21T21:34:21.022Z appoptics:patching patched raw-body 2.3.2
2022-04-21T21:34:21.030Z appoptics:patching patched express 4.16.1
2022-04-21T21:34:21.037Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:34:21.046Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.1
    ✓ UDP might lose a message
2022-04-21T21:34:21.097Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (67ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (303ms)


changed 1 package, and audited 942 packages in 21s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:34:43.334Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:34:43.335Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:34:43.335Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:34:43.336Z appoptics:debug using context provider: ace-context
2022-04-21T21:34:43.429Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:34:43.600Z appoptics:patching patched crypto 
2022-04-21T21:34:43.624Z appoptics:patching patched https 
2022-04-21T21:34:43.625Z appoptics:patching patched http 
2022-04-21T21:34:43.670Z appoptics:patching patched zlib 
2022-04-21T21:34:43.695Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:34:43.696Z appoptics:patching patched fs 
2022-04-21T21:34:43.755Z appoptics:patching patched raw-body 2.3.2
2022-04-21T21:34:43.762Z appoptics:patching patched express 4.16.2
2022-04-21T21:34:43.768Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:34:43.776Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.2
    ✓ UDP might lose a message
2022-04-21T21:34:43.821Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (276ms)


removed 10 packages, changed 6 packages, and audited 932 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:34:53.228Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:34:53.229Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:34:53.229Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:34:53.230Z appoptics:debug using context provider: ace-context
2022-04-21T21:34:53.330Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:34:53.555Z appoptics:patching patched crypto 
2022-04-21T21:34:53.593Z appoptics:patching patched https 
2022-04-21T21:34:53.594Z appoptics:patching patched http 
2022-04-21T21:34:53.633Z appoptics:patching patched zlib 
2022-04-21T21:34:53.660Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:34:53.660Z appoptics:patching patched fs 
2022-04-21T21:34:53.717Z appoptics:patching patched raw-body 2.3.2
2022-04-21T21:34:53.724Z appoptics:patching patched express 4.16.3
2022-04-21T21:34:53.730Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:34:53.737Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.3
    ✓ UDP might lose a message
2022-04-21T21:34:53.783Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (274ms)


removed 3 packages, changed 6 packages, and audited 929 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:35:02.285Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:35:02.285Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:35:02.285Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:35:02.286Z appoptics:debug using context provider: ace-context
2022-04-21T21:35:02.430Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:35:02.676Z appoptics:patching patched crypto 
2022-04-21T21:35:02.761Z appoptics:patching patched https 
2022-04-21T21:35:02.762Z appoptics:patching patched http 
2022-04-21T21:35:02.808Z appoptics:patching patched zlib 
2022-04-21T21:35:02.836Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:35:02.836Z appoptics:patching patched fs 
2022-04-21T21:35:02.892Z appoptics:patching patched raw-body 2.3.3
2022-04-21T21:35:02.900Z appoptics:patching patched express 4.16.4
2022-04-21T21:35:02.905Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:35:02.913Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.4
    ✓ UDP might lose a message
2022-04-21T21:35:02.965Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (85ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (317ms)


added 13 packages, removed 5 packages, changed 15 packages, and audited 937 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:35:11.949Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:35:11.949Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:35:11.950Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:35:11.950Z appoptics:debug using context provider: ace-context
2022-04-21T21:35:12.028Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:35:12.199Z appoptics:patching patched crypto 
2022-04-21T21:35:12.223Z appoptics:patching patched https 
2022-04-21T21:35:12.223Z appoptics:patching patched http 
2022-04-21T21:35:12.269Z appoptics:patching patched zlib 
2022-04-21T21:35:12.299Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:35:12.299Z appoptics:patching patched fs 
2022-04-21T21:35:12.355Z appoptics:patching patched raw-body 2.4.0
2022-04-21T21:35:12.363Z appoptics:patching patched express 4.17.0
2022-04-21T21:35:12.369Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:35:12.376Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.0
    ✓ UDP might lose a message
2022-04-21T21:35:12.426Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (297ms)


changed 1 package, and audited 937 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:35:21.637Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:35:21.637Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:35:21.638Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:35:21.639Z appoptics:debug using context provider: ace-context
2022-04-21T21:35:21.717Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:35:21.893Z appoptics:patching patched crypto 
2022-04-21T21:35:21.917Z appoptics:patching patched https 
2022-04-21T21:35:21.917Z appoptics:patching patched http 
2022-04-21T21:35:21.969Z appoptics:patching patched zlib 
2022-04-21T21:35:21.994Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:35:21.995Z appoptics:patching patched fs 
2022-04-21T21:35:22.046Z appoptics:patching patched raw-body 2.4.0
2022-04-21T21:35:22.054Z appoptics:patching patched express 4.17.1
2022-04-21T21:35:22.060Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:35:22.067Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.1
    ✓ UDP might lose a message
2022-04-21T21:35:22.114Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (286ms)


removed 9 packages, changed 14 packages, and audited 928 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:35:31.377Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:35:31.378Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:35:31.378Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:35:31.379Z appoptics:debug using context provider: ace-context
2022-04-21T21:35:31.465Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:35:31.648Z appoptics:patching patched crypto 
2022-04-21T21:35:31.689Z appoptics:patching patched https 
2022-04-21T21:35:31.691Z appoptics:patching patched http 
2022-04-21T21:35:31.743Z appoptics:patching patched zlib 
2022-04-21T21:35:31.770Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:35:31.771Z appoptics:patching patched fs 
2022-04-21T21:35:31.824Z appoptics:patching patched raw-body 2.4.2
2022-04-21T21:35:31.832Z appoptics:patching patched express 4.17.2
2022-04-21T21:35:31.838Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:35:31.845Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.2
    ✓ UDP might lose a message
2022-04-21T21:35:31.888Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (288ms)


removed 1 package, changed 5 packages, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:35:39.805Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:35:39.806Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:35:39.806Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:35:39.807Z appoptics:debug using context provider: ace-context
2022-04-21T21:35:39.884Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:35:40.074Z appoptics:patching patched crypto 
2022-04-21T21:35:40.096Z appoptics:patching patched https 
2022-04-21T21:35:40.097Z appoptics:patching patched http 
2022-04-21T21:35:40.154Z appoptics:patching patched zlib 
2022-04-21T21:35:40.185Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:35:40.186Z appoptics:patching patched fs 
2022-04-21T21:35:40.244Z appoptics:patching patched raw-body 2.4.3
2022-04-21T21:35:40.252Z appoptics:patching patched express 4.17.3
2022-04-21T21:35:40.258Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:35:40.268Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.3
    ✓ UDP might lose a message
2022-04-21T21:35:40.321Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (305ms)


up to date, audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
