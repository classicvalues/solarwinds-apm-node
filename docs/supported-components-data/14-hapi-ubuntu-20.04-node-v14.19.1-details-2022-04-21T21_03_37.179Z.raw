npm WARN deprecated hapi@13.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@7.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated topo@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@4.3.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@10.6.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.0.0
added 51 packages, removed 5 packages, updated 19 packages and audited 981 packages in 6.48s

86 packages are looking for funding
  run `npm fund` for details

found 12 vulnerabilities (4 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
npm WARN deprecated vision@4.1.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated boom@4.3.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@10.6.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated topo@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ vision@4.1.1
removed 1 package, updated 6 packages and audited 980 packages in 3.801s

86 packages are looking for funding
  run `npm fund` for details

found 12 vulnerabilities (4 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:03:49.269Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:03:49.269Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:03:49.269Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:03:49.270Z appoptics:debug using context provider: ace-context
2022-04-21T21:03:49.317Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:03:49.468Z appoptics:patching patched crypto 
2022-04-21T21:03:49.499Z appoptics:patching patched https 
2022-04-21T21:03:49.499Z appoptics:patching patched http 
2022-04-21T21:03:49.528Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.1.0
removed 32 packages, updated 2 packages, moved 1 package and audited 948 packages in 4.985s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:03:56.104Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:03:56.104Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:03:56.104Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:03:56.105Z appoptics:debug using context provider: ace-context
2022-04-21T21:03:56.217Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:03:56.410Z appoptics:patching patched crypto 
2022-04-21T21:03:56.456Z appoptics:patching patched https 
2022-04-21T21:03:56.457Z appoptics:patching patched http 
2022-04-21T21:03:56.482Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.2.0
updated 1 package and audited 948 packages in 4.683s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:04:02.261Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:02.262Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:02.262Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:02.262Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:02.313Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:02.447Z appoptics:patching patched crypto 
2022-04-21T21:04:02.464Z appoptics:patching patched https 
2022-04-21T21:04:02.464Z appoptics:patching patched http 
2022-04-21T21:04:02.503Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.2.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.2.1
updated 1 package and audited 948 packages in 4.553s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:04:08.210Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:08.211Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:08.211Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:08.211Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:08.307Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:08.577Z appoptics:patching patched crypto 
2022-04-21T21:04:08.599Z appoptics:patching patched https 
2022-04-21T21:04:08.599Z appoptics:patching patched http 
2022-04-21T21:04:08.632Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.2.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.2.2
updated 1 package and audited 948 packages in 3.977s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:04:13.654Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:13.655Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:13.655Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:13.656Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:13.704Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:13.843Z appoptics:patching patched crypto 
2022-04-21T21:04:13.860Z appoptics:patching patched https 
2022-04-21T21:04:13.861Z appoptics:patching patched http 
2022-04-21T21:04:13.892Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.3.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.3.0
updated 1 package and audited 948 packages in 4.079s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:04:19.142Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:19.143Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:19.143Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:19.143Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:19.206Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:19.363Z appoptics:patching patched crypto 
2022-04-21T21:04:19.411Z appoptics:patching patched https 
2022-04-21T21:04:19.411Z appoptics:patching patched http 
2022-04-21T21:04:19.436Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.4.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.4.0
removed 3 packages, updated 1 package and audited 945 packages in 4.096s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:04:24.714Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:24.714Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:24.714Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:24.715Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:24.765Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:24.903Z appoptics:patching patched crypto 
2022-04-21T21:04:24.930Z appoptics:patching patched https 
2022-04-21T21:04:24.930Z appoptics:patching patched http 
2022-04-21T21:04:24.959Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.4.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.4.1
updated 1 package and audited 945 packages in 4.188s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:04:30.175Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:30.175Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:30.175Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:30.176Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:30.226Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:30.363Z appoptics:patching patched crypto 
2022-04-21T21:04:30.380Z appoptics:patching patched https 
2022-04-21T21:04:30.380Z appoptics:patching patched http 
2022-04-21T21:04:30.412Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.4.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.4.2
updated 1 package and audited 945 packages in 5.436s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:04:36.975Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:36.976Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:36.976Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:36.977Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:37.038Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:37.192Z appoptics:patching patched crypto 
2022-04-21T21:04:37.230Z appoptics:patching patched https 
2022-04-21T21:04:37.231Z appoptics:patching patched http 
2022-04-21T21:04:37.265Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.5.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.5.0
updated 1 package and audited 945 packages in 4.552s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:04:42.821Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:42.822Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:42.822Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:42.822Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:42.869Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:43.027Z appoptics:patching patched crypto 
2022-04-21T21:04:43.060Z appoptics:patching patched https 
2022-04-21T21:04:43.060Z appoptics:patching patched http 
2022-04-21T21:04:43.095Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:52:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.5.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.5.3
updated 1 package and audited 945 packages in 4.35s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:04:48.546Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:48.547Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:48.547Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:48.547Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:48.594Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:48.742Z appoptics:patching patched crypto 
2022-04-21T21:04:48.764Z appoptics:patching patched https 
2022-04-21T21:04:48.765Z appoptics:patching patched http 
2022-04-21T21:04:48.796Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:52:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@14.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@14.0.0
updated 2 packages and audited 945 packages in 3.729s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:04:53.555Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:53.556Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:53.556Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:53.557Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:53.603Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:53.737Z appoptics:patching patched crypto 
2022-04-21T21:04:53.754Z appoptics:patching patched https 
2022-04-21T21:04:53.754Z appoptics:patching patched http 
2022-04-21T21:04:53.787Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:52:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@14.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@14.1.0
updated 1 package and audited 945 packages in 4.884s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:04:59.678Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:59.678Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:59.678Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:59.679Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:59.725Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:59.858Z appoptics:patching patched crypto 
2022-04-21T21:04:59.876Z appoptics:patching patched https 
2022-04-21T21:04:59.876Z appoptics:patching patched http 
2022-04-21T21:04:59.907Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:52:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@14.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@14.2.0
updated 1 package and audited 945 packages in 3.82s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:05:04.717Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:04.718Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:04.718Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:04.718Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:04.762Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:04.915Z appoptics:patching patched crypto 
2022-04-21T21:05:04.935Z appoptics:patching patched https 
2022-04-21T21:05:04.935Z appoptics:patching patched http 
2022-04-21T21:05:04.972Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:52:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@15.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@15.0.1
added 4 packages from 1 contributor, removed 3 packages, updated 4 packages and audited 946 packages in 5.019s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:05:11.026Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:11.026Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:11.026Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:11.027Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:11.089Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:11.250Z appoptics:patching patched crypto 
2022-04-21T21:05:11.268Z appoptics:patching patched https 
2022-04-21T21:05:11.268Z appoptics:patching patched http 
2022-04-21T21:05:11.303Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:54:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:17:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:11:20)
npm WARN deprecated hapi@15.0.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@15.0.2
updated 1 package and audited 946 packages in 3.883s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:05:16.191Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:16.192Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:16.192Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:16.193Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:16.239Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:16.373Z appoptics:patching patched crypto 
2022-04-21T21:05:16.390Z appoptics:patching patched https 
2022-04-21T21:05:16.391Z appoptics:patching patched http 
2022-04-21T21:05:16.422Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:54:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:17:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:11:20)
npm WARN deprecated hapi@15.0.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@15.0.3
updated 1 package and audited 946 packages in 5.238s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:05:22.693Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:22.693Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:22.694Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:22.694Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:22.741Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:22.879Z appoptics:patching patched crypto 
2022-04-21T21:05:22.896Z appoptics:patching patched https 
2022-04-21T21:05:22.896Z appoptics:patching patched http 
2022-04-21T21:05:22.929Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:54:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:17:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:11:20)
npm WARN deprecated hapi@15.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@15.1.0
updated 1 package and audited 946 packages in 4.296s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:05:28.248Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:28.248Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:28.248Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:28.249Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:28.296Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:28.432Z appoptics:patching patched crypto 
2022-04-21T21:05:28.449Z appoptics:patching patched https 
2022-04-21T21:05:28.450Z appoptics:patching patched http 
2022-04-21T21:05:28.483Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:54:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:17:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:11:20)
npm WARN deprecated hapi@15.1.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@15.1.1
updated 1 package and audited 946 packages in 5.236s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:05:34.709Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:34.710Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:34.710Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:34.711Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:34.757Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:34.893Z appoptics:patching patched crypto 
2022-04-21T21:05:34.910Z appoptics:patching patched https 
2022-04-21T21:05:34.910Z appoptics:patching patched http 
2022-04-21T21:05:34.942Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:54:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:17:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:11:20)
npm WARN deprecated hapi@15.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@15.2.0
updated 1 package and audited 946 packages in 3.811s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:05:39.812Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:39.812Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:39.812Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:39.813Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:39.858Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:40.018Z appoptics:patching patched crypto 
2022-04-21T21:05:40.036Z appoptics:patching patched https 
2022-04-21T21:05:40.036Z appoptics:patching patched http 
2022-04-21T21:05:40.067Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:54:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:17:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:11:20)
npm WARN deprecated hapi@16.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.0.0
added 1 package, removed 1 package, updated 2 packages and audited 946 packages in 5.434s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:05:46.479Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:46.479Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:46.479Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:46.480Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:46.525Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:46.660Z appoptics:patching patched crypto 
2022-04-21T21:05:46.677Z appoptics:patching patched https 
2022-04-21T21:05:46.678Z appoptics:patching patched http 
2022-04-21T21:05:46.708Z appoptics:patching patched zlib 
2022-04-21T21:05:46.800Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:46.800Z appoptics:patching patched fs 
2022-04-21T21:05:46.818Z appoptics:patching patched hapi 16.0.0
2022-04-21T21:05:46.822Z appoptics:patching vision instrumentation not active before v5
2022-04-21T21:05:46.822Z appoptics:patching patched vision 4.1.1
2022-04-21T21:05:46.825Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.0.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (46ms)
    1) should forward controller/action data from post request
2022-04-21T21:05:46.911Z appoptics:debug http: ule hapi:exit 2b-3bcb3877aa20e69a0eb1c858375ce53892cb017c-a51628ba875eae4c-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    7) should forward controller/action data from delete request
    ✓ should trace render span with template extension
    8) should trace render span without template extension
2022-04-21T21:05:46.991Z appoptics:debug http: ule hapi:exit 2b-0aa37d5446de1d062e00f7a045fc64ad70492531-f488778c9e3eb517-01


  3 passing (155ms)
  8 failing

  1) probes.hapi 16.0.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'A51628BA875EAE4C',
  HTTPMethod: 'POST',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 840,
  Timestamp_u: 1650575146907031,
  'X-Trace': '2B3BCB3877AA20E69A0EB1C858375CE53892CB017C62C65ACB877AA71A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.0.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'F8A1503E3F9C13F6',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 840,
  Timestamp_u: 1650575146925685,
  'X-Trace': '2B3BCB3877AA20E69A0EB1C858375CE53892CB017CFB833B7C7005DA8E01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.0.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '7F00EB720D0A6A54',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 840,
  Timestamp_u: 1650575146937674,
  'X-Trace': '2B3BCB3877AA20E69A0EB1C858375CE53892CB017C5F546CCCA88CF68801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.0.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'F8A1503E3F9C13F6',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 840,
  Timestamp_u: 1650575146925685,
  'X-Trace': '2B3BCB3877AA20E69A0EB1C858375CE53892CB017CFB833B7C7005DA8E01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.hapi 16.0.0 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: 'DA79DB394E90174C',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 840,
  Timestamp_u: 1650575146962819,
  'X-Trace': '2B5F633E6B040D729D9D369FB6A0C8B7FC0773BF19489B66DA5377291601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.0.0 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.0.0 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.0.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '7F00EB720D0A6A54',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 840,
  Timestamp_u: 1650575146937674,
  'X-Trace': '2B3BCB3877AA20E69A0EB1C858375CE53892CB017C5F546CCCA88CF68801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.hapi 16.0.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'F488778C9E3EB517',
  HTTPMethod: 'GET',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 840,
  Timestamp_u: 1650575146989661,
  'X-Trace': '2B0AA37D5446DE1D062E00F7A045FC64AD704925315357C191B0DE54C801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.0.1
updated 1 package and audited 946 packages in 3.762s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:05:51.720Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:51.721Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:51.721Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:51.721Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:51.769Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:51.904Z appoptics:patching patched crypto 
2022-04-21T21:05:51.922Z appoptics:patching patched https 
2022-04-21T21:05:51.923Z appoptics:patching patched http 
2022-04-21T21:05:51.956Z appoptics:patching patched zlib 
2022-04-21T21:05:52.047Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:52.047Z appoptics:patching patched fs 
2022-04-21T21:05:52.064Z appoptics:patching patched hapi 16.0.1
2022-04-21T21:05:52.068Z appoptics:patching vision instrumentation not active before v5
2022-04-21T21:05:52.068Z appoptics:patching patched vision 4.1.1
2022-04-21T21:05:52.071Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.0.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (45ms)
    1) should forward controller/action data from post request
2022-04-21T21:05:52.155Z appoptics:debug http: ule hapi:exit 2b-9532a606d33d2c079619fc9f1320ebf868c6eb1e-2937b3e5d213b615-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T21:05:52.239Z appoptics:debug http: ule hapi:exit 2b-17d93e758759b3743471c4f10df40677669e8a0c-92bc9a88ae284a9e-01


  3 passing (158ms)
  7 failing

  1) probes.hapi 16.0.1 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '2937B3E5D213B615',
  HTTPMethod: 'POST',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 862,
  Timestamp_u: 1650575152151198,
  'X-Trace': '2B9532A606D33D2C079619FC9F1320EBF868C6EB1EC2A0375D77E51AC901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.0.1 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '3962A4FCFA1ED5FA',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 862,
  Timestamp_u: 1650575152169891,
  'X-Trace': '2B9532A606D33D2C079619FC9F1320EBF868C6EB1ECF3D769BE3CCB53E01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.0.1 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'DF3B5D7F8030EB2E',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 862,
  Timestamp_u: 1650575152181887,
  'X-Trace': '2B9532A606D33D2C079619FC9F1320EBF868C6EB1E78B8D4423FF6374401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.0.1 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.0.1 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.0.1 vision 4.1.1
       should skip when disabled:
     Uncaught expected Object {
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.instrumentHttp (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:645:30)\nat internals.Request.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/@hapi/hapi.js:248:8)\nat Domain.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:273:25)\nat Domain.run (domain.js:378:15)\nat module.exports.internals.Protect.internals.Protect.enter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/protect.js:78:17)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:271:30)\nat Server.emit (events.js:400:28)\nat ao.requestStore.run.newContext (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:451:22)\nat Namespace.run (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:187:5)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:362:21)\nat parserOnIncoming (_http_server.js:900:12)\nat HTTPParser.parserOnHeadersComplete (_http_common.js:127:17)',
  Edge: 'EFAC9308F20EA3E1',
  Hostname: '71675785bfe7',
  Label: 'entry',
  Layer: 'hapi',
  TID: 862,
  Timestamp_u: 1650575152200069,
  'X-Trace': '2BECC69D15D2D76E58CE87254ABBAEE40849698C14E67DC06A310B7EB201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi')
  AssertionError: expected Object {
    Edge: 'EFAC9308F20EA3E1',
    Hostname: '71675785bfe7',
    Label: 'entry',
    Layer: 'hapi',
    TID: 862,
    Timestamp_u: 1650575152200069,
    'X-Trace': '2BECC69D15D2D76E58CE87254ABBAEE40849698C14E67DC06A310B7EB201',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'hapi')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpExit (test/probes/hapi/hapi-16-and-below.js:59:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.0.1 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.0.1 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.0.1 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '92BC9A88AE284A9E',
  HTTPMethod: 'GET',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 862,
  Timestamp_u: 1650575152236900,
  'X-Trace': '2B17D93E758759B3743471C4F10DF40677669E8A0C79DDF6F80650B04401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.0.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.0.2
updated 1 package and audited 946 packages in 4.293s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:05:57.520Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:57.520Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:57.520Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:57.521Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:57.567Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:57.700Z appoptics:patching patched crypto 
2022-04-21T21:05:57.717Z appoptics:patching patched https 
2022-04-21T21:05:57.718Z appoptics:patching patched http 
2022-04-21T21:05:57.749Z appoptics:patching patched zlib 
2022-04-21T21:05:57.838Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:57.839Z appoptics:patching patched fs 
2022-04-21T21:05:57.855Z appoptics:patching patched hapi 16.0.2
2022-04-21T21:05:57.859Z appoptics:patching vision instrumentation not active before v5
2022-04-21T21:05:57.859Z appoptics:patching patched vision 4.1.1
2022-04-21T21:05:57.862Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.0.2 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (46ms)
    1) should forward controller/action data from post request
2022-04-21T21:05:57.947Z appoptics:debug http: ule hapi:exit 2b-f886032e4e6bcd432f268259a664909b3e6f10c5-0d54b1ccb7a22411-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T21:05:58.029Z appoptics:debug http: ule hapi:exit 2b-84081d55d9e366ffffbce27216aeac7a89585a94-d5453815cdb29344-01


  3 passing (157ms)
  7 failing

  1) probes.hapi 16.0.2 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '0D54B1CCB7A22411',
  HTTPMethod: 'POST',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 884,
  Timestamp_u: 1650575157943257,
  'X-Trace': '2BF886032E4E6BCD432F268259A664909B3E6F10C5B1D6BE6721C01F3801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.0.2 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '7225C8836A3A398A',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 884,
  Timestamp_u: 1650575157961912,
  'X-Trace': '2BF886032E4E6BCD432F268259A664909B3E6F10C5A488C1370A605B0201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.0.2 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'BE62E0DF6BFB696B',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 884,
  Timestamp_u: 1650575157975789,
  'X-Trace': '2BFCCB3079972DC0F84D8B93529C096D7542660C025D701CB28044E29701',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.0.2 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.0.2 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.0.2 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: 'A6971F95B7AE4E61',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 884,
  Timestamp_u: 1650575158002003,
  'X-Trace': '2B3BF0A3ED47E5B5EAD57C8F1C5FCCEE714E96156E3CB5760EB6EE96F601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.0.2 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.0.2 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.0.2 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'D5453815CDB29344',
  HTTPMethod: 'GET',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 884,
  Timestamp_u: 1650575158027762,
  'X-Trace': '2B84081D55D9E366FFFFBCE27216AEAC7A89585A94D6F31A55781D73F501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.0.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.0.3
updated 1 package and audited 946 packages in 4.007s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:06:02.923Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:02.923Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:02.923Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:02.924Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:02.970Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:03.108Z appoptics:patching patched crypto 
2022-04-21T21:06:03.126Z appoptics:patching patched https 
2022-04-21T21:06:03.126Z appoptics:patching patched http 
2022-04-21T21:06:03.156Z appoptics:patching patched zlib 
2022-04-21T21:06:03.247Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:03.247Z appoptics:patching patched fs 
2022-04-21T21:06:03.264Z appoptics:patching patched hapi 16.0.3
2022-04-21T21:06:03.268Z appoptics:patching vision instrumentation not active before v5
2022-04-21T21:06:03.268Z appoptics:patching patched vision 4.1.1
2022-04-21T21:06:03.271Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.0.3 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (45ms)
    1) should forward controller/action data from post request
2022-04-21T21:06:03.355Z appoptics:debug http: ule hapi:exit 2b-1bbd4a1d5d3bb46b8ffa69d617e93ba5419f4161-ee4e163e7329fc9e-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T21:06:03.443Z appoptics:debug http: ule hapi:exit 2b-f6c2a461ec39a84feee68d4f975544d642cf2e1b-d56831b7e2ff2965-01


  3 passing (162ms)
  7 failing

  1) probes.hapi 16.0.3 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'EE4E163E7329FC9E',
  HTTPMethod: 'POST',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 906,
  Timestamp_u: 1650575163351529,
  'X-Trace': '2B1BBD4A1D5D3BB46B8FFA69D617E93BA5419F4161582D3D095EF9591F01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.0.3 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '61BF54A95A693B71',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 906,
  Timestamp_u: 1650575163370172,
  'X-Trace': '2B1BBD4A1D5D3BB46B8FFA69D617E93BA5419F41616C8809EC3173AE5801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.0.3 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'AE756232EB72C22A',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 906,
  Timestamp_u: 1650575163381955,
  'X-Trace': '2B1BBD4A1D5D3BB46B8FFA69D617E93BA5419F4161188E9F5EB072CEEB01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.0.3 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.0.3 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.0.3 vision 4.1.1
       should skip when disabled:
     Uncaught expected Object {
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.instrumentHttp (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:645:30)\nat internals.Request.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/@hapi/hapi.js:248:8)\nat Domain.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:273:25)\nat Domain.run (domain.js:378:15)\nat module.exports.internals.Protect.internals.Protect.enter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/protect.js:78:17)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:271:30)\nat Server.emit (events.js:400:28)\nat ao.requestStore.run.newContext (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:451:22)\nat Namespace.run (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:187:5)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:362:21)\nat parserOnIncoming (_http_server.js:900:12)\nat HTTPParser.parserOnHeadersComplete (_http_common.js:127:17)',
  Edge: '59EBC785452B61F3',
  Hostname: '71675785bfe7',
  Label: 'entry',
  Layer: 'hapi',
  TID: 906,
  Timestamp_u: 1650575163406012,
  'X-Trace': '2BBF25E4AB8273FA1AD1A7ED53CF3113220CA7D6D16D32A0CF3558C8F201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi')
  AssertionError: expected Object {
    Edge: '59EBC785452B61F3',
    Hostname: '71675785bfe7',
    Label: 'entry',
    Layer: 'hapi',
    TID: 906,
    Timestamp_u: 1650575163406012,
    'X-Trace': '2BBF25E4AB8273FA1AD1A7ED53CF3113220CA7D6D16D32A0CF3558C8F201',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'hapi')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpExit (test/probes/hapi/hapi-16-and-below.js:59:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.0.3 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.0.3 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.0.3 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'D56831B7E2FF2965',
  HTTPMethod: 'GET',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 906,
  Timestamp_u: 1650575163441316,
  'X-Trace': '2BF6C2A461EC39A84FEEE68D4F975544D642CF2E1B4444E7FAAA0C0FDA01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.1.0
updated 1 package and audited 946 packages in 4.221s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:06:08.675Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:08.676Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:08.676Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:08.677Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:08.763Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:08.981Z appoptics:patching patched crypto 
2022-04-21T21:06:09.051Z appoptics:patching patched https 
2022-04-21T21:06:09.051Z appoptics:patching patched http 
2022-04-21T21:06:09.095Z appoptics:patching patched zlib 
2022-04-21T21:06:09.189Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:09.190Z appoptics:patching patched fs 
2022-04-21T21:06:09.206Z appoptics:patching patched hapi 16.1.0
2022-04-21T21:06:09.210Z appoptics:patching vision instrumentation not active before v5
2022-04-21T21:06:09.210Z appoptics:patching patched vision 4.1.1
2022-04-21T21:06:09.214Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.1.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (46ms)
    1) should forward controller/action data from post request
2022-04-21T21:06:09.299Z appoptics:debug http: ule hapi:exit 2b-75d84c8661ab2954873d53eedfe1103f7d45faca-7289fa5832e8c5aa-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T21:06:09.380Z appoptics:debug http: ule hapi:exit 2b-41928f7467be2b9ac4965f6d825132d61fdb04e6-a1076a649786c214-01


  3 passing (157ms)
  7 failing

  1) probes.hapi 16.1.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:340:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:409:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:332:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '7289FA5832E8C5AA',
  HTTPMethod: 'POST',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 928,
  Timestamp_u: 1650575169295622,
  'X-Trace': '2B75D84C8661AB2954873D53EEDFE1103F7D45FACA8A1DF5B51D492A9301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.1.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'CBF4434FA95AAB71',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 928,
  Timestamp_u: 1650575169314096,
  'X-Trace': '2B75D84C8661AB2954873D53EEDFE1103F7D45FACADBDAA275F20A53F001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.1.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '8B08E64C8BD72BA6',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 928,
  Timestamp_u: 1650575169326038,
  'X-Trace': '2B75D84C8661AB2954873D53EEDFE1103F7D45FACA474B6EE60DDEDE7A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.1.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.1.0 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.1.0 vision 4.1.1
       should skip when disabled:
     Uncaught expected Object {
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.instrumentHttp (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:645:30)\nat internals.Request.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/@hapi/hapi.js:248:8)\nat Domain.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:273:25)\nat Domain.run (domain.js:378:15)\nat module.exports.internals.Protect.internals.Protect.enter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/protect.js:78:17)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:271:30)\nat Server.emit (events.js:400:28)\nat ao.requestStore.run.newContext (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:451:22)\nat Namespace.run (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:187:5)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:362:21)\nat parserOnIncoming (_http_server.js:900:12)\nat HTTPParser.parserOnHeadersComplete (_http_common.js:127:17)',
  Edge: '6AB2D46CDCF4C776',
  Hostname: '71675785bfe7',
  Label: 'entry',
  Layer: 'hapi',
  TID: 928,
  Timestamp_u: 1650575169342172,
  'X-Trace': '2BAFE15E682B3A1EB52E98F19BC31E937922520C17638ADC7E7C7F44DB01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi')
  AssertionError: expected Object {
    Edge: '6AB2D46CDCF4C776',
    Hostname: '71675785bfe7',
    Label: 'entry',
    Layer: 'hapi',
    TID: 928,
    Timestamp_u: 1650575169342172,
    'X-Trace': '2BAFE15E682B3A1EB52E98F19BC31E937922520C17638ADC7E7C7F44DB01',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'hapi')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpExit (test/probes/hapi/hapi-16-and-below.js:59:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.1.0 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.1.0 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.1.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:340:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:409:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:332:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'A1076A649786C214',
  HTTPMethod: 'GET',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 928,
  Timestamp_u: 1650575169378840,
  'X-Trace': '2B41928F7467BE2B9AC4965F6D825132D61FDB04E6B971165EC4F4DBAE01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.1.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.1.1
updated 1 package and audited 946 packages in 3.764s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:06:14.082Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:14.082Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:14.082Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:14.083Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:14.126Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:14.266Z appoptics:patching patched crypto 
2022-04-21T21:06:14.282Z appoptics:patching patched https 
2022-04-21T21:06:14.283Z appoptics:patching patched http 
2022-04-21T21:06:14.315Z appoptics:patching patched zlib 
2022-04-21T21:06:14.405Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:14.405Z appoptics:patching patched fs 
2022-04-21T21:06:14.425Z appoptics:patching patched hapi 16.1.1
2022-04-21T21:06:14.429Z appoptics:patching vision instrumentation not active before v5
2022-04-21T21:06:14.429Z appoptics:patching patched vision 4.1.1
2022-04-21T21:06:14.432Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.1.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (45ms)
    1) should forward controller/action data from post request
2022-04-21T21:06:14.515Z appoptics:debug http: ule hapi:exit 2b-f1afbbcfc777bf3c8a913d1fa154e326fa575b31-ce132852a15daa09-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T21:06:14.593Z appoptics:debug http: ule hapi:exit 2b-781e73ff66aa841e7d01bec59c2409e076b4de41-695a920101af39a7-01


  3 passing (152ms)
  7 failing

  1) probes.hapi 16.1.1 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:340:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:409:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:332:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'CE132852A15DAA09',
  HTTPMethod: 'POST',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 950,
  Timestamp_u: 1650575174511634,
  'X-Trace': '2BF1AFBBCFC777BF3C8A913D1FA154E326FA575B31F883FD9E430BD75601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.1.1 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '6A701DA7D47353DD',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 950,
  Timestamp_u: 1650575174529676,
  'X-Trace': '2BF1AFBBCFC777BF3C8A913D1FA154E326FA575B3175426DEF4174DB4601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.1.1 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '4E21AE2F869B7677',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 950,
  Timestamp_u: 1650575174541438,
  'X-Trace': '2BF1AFBBCFC777BF3C8A913D1FA154E326FA575B3120967FAC1128E00201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.1.1 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.1.1 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.1.1 vision 4.1.1
       should skip when disabled:
     Uncaught expected Object {
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.instrumentHttp (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:645:30)\nat internals.Request.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/@hapi/hapi.js:248:8)\nat Domain.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:273:25)\nat Domain.run (domain.js:378:15)\nat module.exports.internals.Protect.internals.Protect.enter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/protect.js:75:17)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:271:30)\nat Server.emit (events.js:400:28)\nat ao.requestStore.run.newContext (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:451:22)\nat Namespace.run (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:187:5)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:362:21)\nat parserOnIncoming (_http_server.js:900:12)\nat HTTPParser.parserOnHeadersComplete (_http_common.js:127:17)',
  Edge: 'DFC2ED27448AB515',
  Hostname: '71675785bfe7',
  Label: 'entry',
  Layer: 'hapi',
  TID: 950,
  Timestamp_u: 1650575174555894,
  'X-Trace': '2B2CADBCA57B1AEB733080CD76B82951D5EEECC5E4D23C43A9A9D33B5E01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi')
  AssertionError: expected Object {
    Edge: 'DFC2ED27448AB515',
    Hostname: '71675785bfe7',
    Label: 'entry',
    Layer: 'hapi',
    TID: 950,
    Timestamp_u: 1650575174555894,
    'X-Trace': '2B2CADBCA57B1AEB733080CD76B82951D5EEECC5E4D23C43A9A9D33B5E01',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'hapi')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpExit (test/probes/hapi/hapi-16-and-below.js:59:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.1.1 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.1.1 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.1.1 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:340:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:409:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:332:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '695A920101AF39A7',
  HTTPMethod: 'GET',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 950,
  Timestamp_u: 1650575174591239,
  'X-Trace': '2B781E73FF66AA841E7D01BEC59C2409E076B4DE413AC44F6A5241A74401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.2.0
added 1 package, updated 1 package and audited 947 packages in 4.57s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:06:20.235Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:20.236Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:20.236Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:20.237Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:20.296Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:20.532Z appoptics:patching patched crypto 
2022-04-21T21:06:20.572Z appoptics:patching patched https 
2022-04-21T21:06:20.572Z appoptics:patching patched http 
2022-04-21T21:06:20.606Z appoptics:patching patched zlib 
2022-04-21T21:06:20.726Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:20.726Z appoptics:patching patched fs 
2022-04-21T21:06:20.743Z appoptics:patching patched hapi 16.2.0
2022-04-21T21:06:20.748Z appoptics:patching vision instrumentation not active before v5
2022-04-21T21:06:20.748Z appoptics:patching patched vision 4.1.1
2022-04-21T21:06:20.752Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.2.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (49ms)
    1) should forward controller/action data from post request
2022-04-21T21:06:20.845Z appoptics:debug http: ule hapi:exit 2b-2b9cd0bd099f4f7b95caf1fddef221ebbe5851f3-24836be232a9f9ad-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T21:06:20.988Z appoptics:debug http: ule hapi:exit 2b-c6ace7afc10bf048cf2e77eee2dc7eef4f96779c-7c077a507a301a2b-01


  3 passing (225ms)
  7 failing

  1) probes.hapi 16.2.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:340:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:409:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:332:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '24836BE232A9F9AD',
  HTTPMethod: 'POST',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 972,
  Timestamp_u: 1650575180840436,
  'X-Trace': '2B2B9CD0BD099F4F7B95CAF1FDDEF221EBBE5851F3CB1782B9EE126C5101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.2.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '5330B4772038ECB5',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 972,
  Timestamp_u: 1650575180867226,
  'X-Trace': '2B2B9CD0BD099F4F7B95CAF1FDDEF221EBBE5851F3B018EDF16FF4845901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.2.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '64107302547C664C',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 972,
  Timestamp_u: 1650575180897212,
  'X-Trace': '2BA96ECA8D49F2703D9AAACBA31C2E35046A69D0BF07B9E70CBDC15B0601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.2.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.2.0 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.2.0 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '1ABC5AF0F8D8FBC3',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 972,
  Timestamp_u: 1650575180948774,
  'X-Trace': '2BAA4EABB23D4BF7CB5D3ED497D49D81302465BF9089209A7756848D1501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.2.0 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.2.0 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.2.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:340:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:409:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:332:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '7C077A507A301A2B',
  HTTPMethod: 'GET',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 972,
  Timestamp_u: 1650575180985166,
  'X-Trace': '2BC6ACE7AFC10BF048CF2E77EEE2DC7EEF4F96779C1963DDAEADCC1B4601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.3.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.3.0
updated 1 package and audited 947 packages in 4.184s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:06:26.179Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:26.180Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:26.180Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:26.180Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:26.224Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:26.376Z appoptics:patching patched crypto 
2022-04-21T21:06:26.409Z appoptics:patching patched https 
2022-04-21T21:06:26.409Z appoptics:patching patched http 
2022-04-21T21:06:26.442Z appoptics:patching patched zlib 
2022-04-21T21:06:26.557Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:26.558Z appoptics:patching patched fs 
2022-04-21T21:06:26.582Z appoptics:patching patched hapi 16.3.0
2022-04-21T21:06:26.587Z appoptics:patching vision instrumentation not active before v5
2022-04-21T21:06:26.587Z appoptics:patching patched vision 4.1.1
2022-04-21T21:06:26.591Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.3.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (50ms)
    1) should forward controller/action data from post request
2022-04-21T21:06:26.684Z appoptics:debug http: ule hapi:exit 2b-5b9a5ffab6a0101e016cd905fbb98c15685edf2f-ec98a7d6bffa22df-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T21:06:26.811Z appoptics:debug http: ule hapi:exit 2b-e6b0b50bfb0d1f9c9054b931b932ca17b7802720-ec7bbf2148cb077b-01


  3 passing (208ms)
  7 failing

  1) probes.hapi 16.3.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'EC98A7D6BFFA22DF',
  HTTPMethod: 'POST',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 994,
  Timestamp_u: 1650575186679223,
  'X-Trace': '2B5B9A5FFAB6A0101E016CD905FBB98C15685EDF2F620D6DCF8C4B8B6E01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.3.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '192DE263FF0E2618',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 994,
  Timestamp_u: 1650575186706279,
  'X-Trace': '2B5B9A5FFAB6A0101E016CD905FBB98C15685EDF2F2122C13D631352D001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.3.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'E985EBD60F09616C',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 994,
  Timestamp_u: 1650575186734250,
  'X-Trace': '2BF73CF14A30E10AF4AE6868B07C6DE52B9787DF10E64C95DA9CEDE1C701',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.3.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.3.0 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.3.0 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: 'C83563E19124D8A4',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 994,
  Timestamp_u: 1650575186776182,
  'X-Trace': '2B8C2A4AB3CBBE8E7456F989CC7D0C2DEA9BC34CC6F8751AF184B674B501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.3.0 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.3.0 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.3.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'EC7BBF2148CB077B',
  HTTPMethod: 'GET',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 994,
  Timestamp_u: 1650575186808415,
  'X-Trace': '2BE6B0B50BFB0D1F9C9054B931B932CA17B78027203BF3C091AA1B931B01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.3.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.3.1
updated 1 package and audited 947 packages in 4.267s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:06:32.254Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:32.255Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:32.255Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:32.256Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:32.312Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:32.534Z appoptics:patching patched crypto 
2022-04-21T21:06:32.568Z appoptics:patching patched https 
2022-04-21T21:06:32.569Z appoptics:patching patched http 
2022-04-21T21:06:32.620Z appoptics:patching patched zlib 
2022-04-21T21:06:32.727Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:32.727Z appoptics:patching patched fs 
2022-04-21T21:06:32.749Z appoptics:patching patched hapi 16.3.1
2022-04-21T21:06:32.754Z appoptics:patching vision instrumentation not active before v5
2022-04-21T21:06:32.754Z appoptics:patching patched vision 4.1.1
2022-04-21T21:06:32.758Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.3.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (78ms)
    1) should forward controller/action data from post request
2022-04-21T21:06:32.906Z appoptics:debug http: ule hapi:exit 2b-946a1b9cb3d054dd0a35d1cef5aa4af575971d7e-2be5a829ac9145db-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T21:06:33.000Z appoptics:debug http: ule hapi:exit 2b-b29b7a46366726374645aea2aada38d1d9a28dc6-24f49668caf4bd2b-01


  3 passing (220ms)
  7 failing

  1) probes.hapi 16.3.1 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '2BE5A829AC9145DB',
  HTTPMethod: 'POST',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1016,
  Timestamp_u: 1650575192894026,
  'X-Trace': '2B946A1B9CB3D054DD0A35D1CEF5AA4AF575971D7EB4BF60B0C68335FD01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.3.1 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught expected Object {
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.instrumentHttp (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:645:30)\nat internals.Request.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/@hapi/hapi.js:248:8)\nat Domain.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:275:25)\nat Domain.run (domain.js:378:15)\nat module.exports.internals.Protect.internals.Protect.enter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/protect.js:75:17)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:273:30)\nat Server.emit (events.js:400:28)\nat ao.requestStore.run.newContext (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:451:22)\nat Namespace.run (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:187:5)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:362:21)\nat parserOnIncoming (_http_server.js:900:12)\nat HTTPParser.parserOnHeadersComplete (_http_common.js:127:17)',
  Edge: '0F638EB76448CF01',
  Hostname: '71675785bfe7',
  Label: 'entry',
  Layer: 'hapi',
  TID: 1016,
  Timestamp_u: 1650575192916042,
  'X-Trace': '2BD9FC821D32B6DADAA487D02A9379D1D74B76DDCF9C343135C3C8D82501',
  _V: '1'
} to have property Label of 'exit' (got 'entry')
  AssertionError: expected Object {
    Edge: '0F638EB76448CF01',
    Hostname: '71675785bfe7',
    Label: 'entry',
    Layer: 'hapi',
    TID: 1016,
    Timestamp_u: 1650575192916042,
    'X-Trace': '2BD9FC821D32B6DADAA487D02A9379D1D74B76DDCF9C343135C3C8D82501',
    _V: '1'
  } to have property Label of 'exit' (got 'entry')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at hapiExit (test/probes/hapi/hapi-16-and-below.js:68:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.3.1 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.3.1 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  4) probes.hapi 16.3.1 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '177440B0B78C3F59',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1016,
  Timestamp_u: 1650575192950907,
  'X-Trace': '2B946A1B9CB3D054DD0A35D1CEF5AA4AF575971D7E7DCA600EF832A39701',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.hapi 16.3.1 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '89D6E668AD2E69E8',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1016,
  Timestamp_u: 1650575192957377,
  'X-Trace': '2BCDDD7A86D228BADB4AE88C30FAA79F012B724662BF6E786C2BA0533801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.3.1 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.3.1 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.3.1 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '24F49668CAF4BD2B',
  HTTPMethod: 'GET',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1016,
  Timestamp_u: 1650575192998242,
  'X-Trace': '2BB29B7A46366726374645AEA2AADA38D1D9A28DC68A100005168BA99D01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.4.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.4.0
updated 1 package and audited 947 packages in 3.913s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:06:38.020Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:38.021Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:38.021Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:38.021Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:38.073Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:38.210Z appoptics:patching patched crypto 
2022-04-21T21:06:38.228Z appoptics:patching patched https 
2022-04-21T21:06:38.228Z appoptics:patching patched http 
2022-04-21T21:06:38.260Z appoptics:patching patched zlib 
2022-04-21T21:06:38.352Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:38.352Z appoptics:patching patched fs 
2022-04-21T21:06:38.369Z appoptics:patching patched hapi 16.4.0
2022-04-21T21:06:38.374Z appoptics:patching vision instrumentation not active before v5
2022-04-21T21:06:38.374Z appoptics:patching patched vision 4.1.1
2022-04-21T21:06:38.377Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.4.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (46ms)
    1) should forward controller/action data from post request
2022-04-21T21:06:38.464Z appoptics:debug http: ule hapi:exit 2b-778e935d5eee36c7cb4035e5d0c659da3284a66d-5767c2a0cf7b2a9e-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T21:06:38.548Z appoptics:debug http: ule hapi:exit 2b-cb02ce244db37ffa5d4df59cda1ee880f641f1ea-a03c9faa29125694-01


  3 passing (160ms)
  7 failing

  1) probes.hapi 16.4.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '5767C2A0CF7B2A9E',
  HTTPMethod: 'POST',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1038,
  Timestamp_u: 1650575198460251,
  'X-Trace': '2B778E935D5EEE36C7CB4035E5D0C659DA3284A66D7132BB3E99CCFBD401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.4.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '2E0C3C5B73A4BCB4',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1038,
  Timestamp_u: 1650575198479215,
  'X-Trace': '2B778E935D5EEE36C7CB4035E5D0C659DA3284A66D279B4253F3B46AF401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.4.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '5DAECFDB3E81151A',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1038,
  Timestamp_u: 1650575198491430,
  'X-Trace': '2B778E935D5EEE36C7CB4035E5D0C659DA3284A66D56C018A306AAEC2A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.4.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.4.0 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.4.0 vision 4.1.1
       should skip when disabled:
     Uncaught expected Object {
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.instrumentHttp (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:645:30)\nat internals.Request.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/@hapi/hapi.js:248:8)\nat Domain.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:275:25)\nat Domain.run (domain.js:378:15)\nat module.exports.internals.Protect.internals.Protect.enter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/protect.js:75:17)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:273:30)\nat Server.emit (events.js:400:28)\nat ao.requestStore.run.newContext (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:451:22)\nat Namespace.run (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:187:5)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:362:21)\nat parserOnIncoming (_http_server.js:900:12)\nat HTTPParser.parserOnHeadersComplete (_http_common.js:127:17)',
  Edge: 'DF01A06C16C395B9',
  Hostname: '71675785bfe7',
  Label: 'entry',
  Layer: 'hapi',
  TID: 1038,
  Timestamp_u: 1650575198508128,
  'X-Trace': '2BC38B0F96EFB1936A4244A4957D9DEDB3017162AD1167481E7313F80B01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi')
  AssertionError: expected Object {
    Edge: 'DF01A06C16C395B9',
    Hostname: '71675785bfe7',
    Label: 'entry',
    Layer: 'hapi',
    TID: 1038,
    Timestamp_u: 1650575198508128,
    'X-Trace': '2BC38B0F96EFB1936A4244A4957D9DEDB3017162AD1167481E7313F80B01',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'hapi')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpExit (test/probes/hapi/hapi-16-and-below.js:59:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.4.0 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.4.0 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.4.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'A03C9FAA29125694',
  HTTPMethod: 'GET',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1038,
  Timestamp_u: 1650575198545735,
  'X-Trace': '2BCB02CE244DB37FFA5D4DF59CDA1EE880F641F1EAC10BB61AAD34BF0601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.4.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.2.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@10.5.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated items@2.1.1: This module has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version of hapi to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.1.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.4.1
added 3 packages, removed 4 packages, updated 6 packages and audited 946 packages in 4.646s

86 packages are looking for funding
  run `npm fund` for details

found 12 vulnerabilities (4 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:06:44.227Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:44.231Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:44.231Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:44.232Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:44.305Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:44.458Z appoptics:patching patched crypto 
2022-04-21T21:06:44.495Z appoptics:patching patched https 
2022-04-21T21:06:44.496Z appoptics:patching patched http 
2022-04-21T21:06:44.531Z appoptics:patching patched zlib 
2022-04-21T21:06:44.650Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:44.651Z appoptics:patching patched fs 
2022-04-21T21:06:44.668Z appoptics:patching patched hapi 16.4.1
2022-04-21T21:06:44.673Z appoptics:patching vision instrumentation not active before v5
2022-04-21T21:06:44.673Z appoptics:patching patched vision 4.1.1
2022-04-21T21:06:44.676Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.4.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (48ms)
    1) should forward controller/action data from post request
2022-04-21T21:06:44.769Z appoptics:debug http: ule hapi:exit 2b-05655c0d7ae27c2b36cef645f925bb48290557e1-c3146ed4be918176-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension (40ms)
    7) should trace render span without template extension
2022-04-21T21:06:44.925Z appoptics:debug http: ule hapi:exit 2b-823e7c6948a253617c1e0fbb13f72961f051be43-a28464192822fabf-01


  3 passing (238ms)
  7 failing

  1) probes.hapi 16.4.1 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:266:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'C3146ED4BE918176',
  HTTPMethod: 'POST',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1060,
  Timestamp_u: 1650575204764599,
  'X-Trace': '2B05655C0D7AE27C2B36CEF645F925BB48290557E1CDE5643549B9C39601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.4.1 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'DDAB250BF528248A',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1060,
  Timestamp_u: 1650575204783524,
  'X-Trace': '2B05655C0D7AE27C2B36CEF645F925BB48290557E15B2B27BDA558457401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.4.1 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '461DD599CE747E4E',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1060,
  Timestamp_u: 1650575204794966,
  'X-Trace': '2B72E8F0AEA9169246C3D1B99AB4824CBE34535E3B96EE1F040012BC1101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.4.1 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.4.1 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.4.1 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: 'C21B74D34F72316B',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1060,
  Timestamp_u: 1650575204862594,
  'X-Trace': '2B722D23E20A484CBBF9F8BD0034FC83E7D0BA9D7776AADD945E7F412901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.4.1 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.4.1 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.4.1 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:266:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'A28464192822FABF',
  HTTPMethod: 'GET',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1060,
  Timestamp_u: 1650575204923243,
  'X-Trace': '2B823E7C6948A253617C1E0FBB13F72961F051BE43F1E9FF0232E9EF0C01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.4.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.4.2
added 4 packages from 1 contributor, removed 3 packages, updated 6 packages and audited 947 packages in 4.182s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:06:50.198Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:50.199Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:50.199Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:50.199Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:50.243Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:50.381Z appoptics:patching patched crypto 
2022-04-21T21:06:50.398Z appoptics:patching patched https 
2022-04-21T21:06:50.399Z appoptics:patching patched http 
2022-04-21T21:06:50.431Z appoptics:patching patched zlib 
2022-04-21T21:06:50.522Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:50.522Z appoptics:patching patched fs 
2022-04-21T21:06:50.542Z appoptics:patching patched hapi 16.4.2
2022-04-21T21:06:50.547Z appoptics:patching vision instrumentation not active before v5
2022-04-21T21:06:50.547Z appoptics:patching patched vision 4.1.1
2022-04-21T21:06:50.550Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.4.2 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (46ms)
    1) should forward controller/action data from post request
2022-04-21T21:06:50.635Z appoptics:debug http: ule hapi:exit 2b-bb43cda36773449ccec76bfce4d0191b2258cadb-6ed67448e21e48b2-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T21:06:50.720Z appoptics:debug http: ule hapi:exit 2b-c5b02647a3c942727060bc5809ae57031edd66e3-6562278b72bf23b2-01


  3 passing (160ms)
  7 failing

  1) probes.hapi 16.4.2 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '6ED67448E21E48B2',
  HTTPMethod: 'POST',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1082,
  Timestamp_u: 1650575210630447,
  'X-Trace': '2BBB43CDA36773449CCEC76BFCE4D0191B2258CADB4C0FD4820D0E387D01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.4.2 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'CDB14A207930DE79',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1082,
  Timestamp_u: 1650575210649457,
  'X-Trace': '2BBB43CDA36773449CCEC76BFCE4D0191B2258CADBFCDE3022A5803E2A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.4.2 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'A833E5899DC4C6D5',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1082,
  Timestamp_u: 1650575210661337,
  'X-Trace': '2BBB43CDA36773449CCEC76BFCE4D0191B2258CADB35DA9C0AE4CCE28901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.4.2 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.4.2 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.4.2 vision 4.1.1
       should skip when disabled:
     Uncaught expected Object {
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.instrumentHttp (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:645:30)\nat internals.Request.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/@hapi/hapi.js:248:8)\nat Domain.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:275:25)\nat Domain.run (domain.js:378:15)\nat module.exports.internals.Protect.internals.Protect.enter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/protect.js:75:17)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:273:30)\nat Server.emit (events.js:400:28)\nat ao.requestStore.run.newContext (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:451:22)\nat Namespace.run (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:187:5)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:362:21)\nat parserOnIncoming (_http_server.js:900:12)\nat HTTPParser.parserOnHeadersComplete (_http_common.js:127:17)',
  Edge: 'ADAD2E4499A612C8',
  Hostname: '71675785bfe7',
  Label: 'entry',
  Layer: 'hapi',
  TID: 1082,
  Timestamp_u: 1650575210679691,
  'X-Trace': '2B00B514E47EB179ECD728B484571E545DAACFAEC19D46C3F45D04982101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi')
  AssertionError: expected Object {
    Edge: 'ADAD2E4499A612C8',
    Hostname: '71675785bfe7',
    Label: 'entry',
    Layer: 'hapi',
    TID: 1082,
    Timestamp_u: 1650575210679691,
    'X-Trace': '2B00B514E47EB179ECD728B484571E545DAACFAEC19D46C3F45D04982101',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'hapi')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpExit (test/probes/hapi/hapi-16-and-below.js:59:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.4.2 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.4.2 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.4.2 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '6562278B72BF23B2',
  HTTPMethod: 'GET',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1082,
  Timestamp_u: 1650575210718084,
  'X-Trace': '2BC5B02647A3C942727060BC5809AE57031EDD66E3DF77055FAFE7B07B01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.4.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.4.3
updated 1 package and audited 947 packages in 3.823s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:06:55.498Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:55.498Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:55.499Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:55.499Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:55.549Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:55.710Z appoptics:patching patched crypto 
2022-04-21T21:06:55.757Z appoptics:patching patched https 
2022-04-21T21:06:55.758Z appoptics:patching patched http 
2022-04-21T21:06:55.784Z appoptics:patching patched zlib 
2022-04-21T21:06:55.903Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:55.903Z appoptics:patching patched fs 
2022-04-21T21:06:55.921Z appoptics:patching patched hapi 16.4.3
2022-04-21T21:06:55.926Z appoptics:patching vision instrumentation not active before v5
2022-04-21T21:06:55.926Z appoptics:patching patched vision 4.1.1
2022-04-21T21:06:55.929Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.4.3 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (51ms)
    1) should forward controller/action data from post request
2022-04-21T21:06:56.023Z appoptics:debug http: ule hapi:exit 2b-f8c69f1385aa4603272a77229ee23ba9f349e045-934bbeb7811b3ca4-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T21:06:56.149Z appoptics:debug http: ule hapi:exit 2b-b6ed7ed48b400b643c746db1ea0a9726d74a9312-f6b9d5e1f7e4e8ce-01


  3 passing (207ms)
  7 failing

  1) probes.hapi 16.4.3 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '934BBEB7811B3CA4',
  HTTPMethod: 'POST',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1104,
  Timestamp_u: 1650575216019231,
  'X-Trace': '2BF8C69F1385AA4603272A77229EE23BA9F349E045DD9C5F2240AA786C01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.4.3 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '98E7F4E4648A98D6',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1104,
  Timestamp_u: 1650575216044987,
  'X-Trace': '2BF8C69F1385AA4603272A77229EE23BA9F349E045ADB349D0AB6C36B301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.4.3 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'EEC778B0CBD59CE0',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1104,
  Timestamp_u: 1650575216069018,
  'X-Trace': '2BDC9082E4E6AA5D835B1FDA9C01B5CE1B11BB96BCED1D9773CFF06A7C01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.4.3 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.4.3 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.4.3 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '46D5AE5F748D16DD',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1104,
  Timestamp_u: 1650575216114665,
  'X-Trace': '2B7BDA2E3001D04F3788B45E76C3293D36F463B96805DDA841CC07AB4B01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.4.3 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.4.3 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.4.3 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'F6B9D5E1F7E4E8CE',
  HTTPMethod: 'GET',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1104,
  Timestamp_u: 1650575216146747,
  'X-Trace': '2BB6ED7ED48B400B643C746DB1EA0A9726D74A9312B0359F79B8FCD7FC01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.5.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.5.0
updated 2 packages and audited 947 packages in 4.325s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:07:01.495Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:01.495Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:01.495Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:01.496Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:01.543Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:01.677Z appoptics:patching patched crypto 
2022-04-21T21:07:01.694Z appoptics:patching patched https 
2022-04-21T21:07:01.695Z appoptics:patching patched http 
2022-04-21T21:07:01.725Z appoptics:patching patched zlib 
2022-04-21T21:07:01.817Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:01.817Z appoptics:patching patched fs 
2022-04-21T21:07:01.839Z appoptics:patching patched hapi 16.5.0
2022-04-21T21:07:01.848Z appoptics:patching vision instrumentation not active before v5
2022-04-21T21:07:01.848Z appoptics:patching patched vision 4.1.1
2022-04-21T21:07:01.852Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.5.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (46ms)
    1) should forward controller/action data from post request
2022-04-21T21:07:01.941Z appoptics:debug http: ule hapi:exit 2b-3270338422a067afdf15fbadd69bcc79d0e8dc42-e02c2c34e3c903d3-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T21:07:02.027Z appoptics:debug http: ule hapi:exit 2b-1217aad81bed0a101d7ac933100be05cd51cbcbb-2f221f299dcfcf85-01


  3 passing (165ms)
  7 failing

  1) probes.hapi 16.5.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'E02C2C34E3C903D3',
  HTTPMethod: 'POST',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1126,
  Timestamp_u: 1650575221937146,
  'X-Trace': '2B3270338422A067AFDF15FBADD69BCC79D0E8DC42AB0E5C2993F1DCD001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.5.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'A75E1541E25C149B',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1126,
  Timestamp_u: 1650575221956467,
  'X-Trace': '2B3270338422A067AFDF15FBADD69BCC79D0E8DC425CC1A4F9F96F3F9901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.5.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '7165E137AE033852',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1126,
  Timestamp_u: 1650575221979889,
  'X-Trace': '2B8DA7192117BA03D61EC6950BC28CD796F2B55F3952390DB8A4D2E2B001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.5.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.5.0 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.5.0 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: 'C7F726262D6BBC54',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1126,
  Timestamp_u: 1650575221989953,
  'X-Trace': '2B72284AFE4508202DB69A32B611F4E3206A02631FD7B27D5947E8711A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.5.0 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.5.0 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.5.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '2F221F299DCFCF85',
  HTTPMethod: 'GET',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1126,
  Timestamp_u: 1650575222024941,
  'X-Trace': '2B1217AAD81BED0A101D7AC933100BE05CD51CBCBBA6A69A52423AD10201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.5.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.5.1
updated 1 package and audited 947 packages in 3.826s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:07:06.820Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:06.821Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:06.821Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:06.821Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:06.868Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:07.003Z appoptics:patching patched crypto 
2022-04-21T21:07:07.020Z appoptics:patching patched https 
2022-04-21T21:07:07.021Z appoptics:patching patched http 
2022-04-21T21:07:07.052Z appoptics:patching patched zlib 
2022-04-21T21:07:07.144Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:07.144Z appoptics:patching patched fs 
2022-04-21T21:07:07.163Z appoptics:patching patched hapi 16.5.1
2022-04-21T21:07:07.168Z appoptics:patching vision instrumentation not active before v5
2022-04-21T21:07:07.168Z appoptics:patching patched vision 4.1.1
2022-04-21T21:07:07.171Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.5.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (46ms)
    1) should forward controller/action data from post request
2022-04-21T21:07:07.256Z appoptics:debug http: ule hapi:exit 2b-dad76d2b086675d6794c1f211ac475a5ad0a0e34-ace8d337ccbd9ebb-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    7) should forward controller/action data from delete request
    ✓ should trace render span with template extension
    8) should trace render span without template extension
2022-04-21T21:07:07.339Z appoptics:debug http: ule hapi:exit 2b-25c27362375544a6d9fd3380d96091c89514fdd0-6d19c77f0a0b7fb0-01


  3 passing (158ms)
  8 failing

  1) probes.hapi 16.5.1 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'ACE8D337CCBD9EBB',
  HTTPMethod: 'POST',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1148,
  Timestamp_u: 1650575227252628,
  'X-Trace': '2BDAD76D2B086675D6794C1F211AC475A5AD0A0E347561C3DA296D45CE01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.5.1 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'CFCAA5B86F1FEF4B',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1148,
  Timestamp_u: 1650575227270814,
  'X-Trace': '2BDAD76D2B086675D6794C1F211AC475A5AD0A0E3484D062CF755F006E01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.5.1 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '661B912EEF95DDBB',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1148,
  Timestamp_u: 1650575227281007,
  'X-Trace': '2BDAD76D2B086675D6794C1F211AC475A5AD0A0E346892A1026126B2C801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.5.1 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'CFCAA5B86F1FEF4B',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1148,
  Timestamp_u: 1650575227270814,
  'X-Trace': '2BDAD76D2B086675D6794C1F211AC475A5AD0A0E3484D062CF755F006E01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.hapi 16.5.1 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '3BBAB1AE2C0ED7E9',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1148,
  Timestamp_u: 1650575227310952,
  'X-Trace': '2BADDF7783CA73663991AA9F7897348F44F3E5BD0AD3D7BB9EDC48FE6201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.5.1 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.5.1 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.5.1 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '661B912EEF95DDBB',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1148,
  Timestamp_u: 1650575227281007,
  'X-Trace': '2BDAD76D2B086675D6794C1F211AC475A5AD0A0E346892A1026126B2C801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.hapi 16.5.1 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '6D19C77F0A0B7FB0',
  HTTPMethod: 'GET',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1148,
  Timestamp_u: 1650575227337308,
  'X-Trace': '2B25C27362375544A6D9FD3380D96091C89514FDD0555B3A0662CD1F4301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.5.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.5.2
updated 1 package and audited 947 packages in 4.612s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:07:12.930Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:12.931Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:12.931Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:12.932Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:12.978Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:13.114Z appoptics:patching patched crypto 
2022-04-21T21:07:13.132Z appoptics:patching patched https 
2022-04-21T21:07:13.132Z appoptics:patching patched http 
2022-04-21T21:07:13.163Z appoptics:patching patched zlib 
2022-04-21T21:07:13.255Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:13.256Z appoptics:patching patched fs 
2022-04-21T21:07:13.274Z appoptics:patching patched hapi 16.5.2
2022-04-21T21:07:13.280Z appoptics:patching vision instrumentation not active before v5
2022-04-21T21:07:13.280Z appoptics:patching patched vision 4.1.1
2022-04-21T21:07:13.283Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.5.2 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (46ms)
    1) should forward controller/action data from post request
2022-04-21T21:07:13.368Z appoptics:debug http: ule hapi:exit 2b-7d677194f9e3a788b8720d72f7faab9d3b68dfa7-aaf9416f22466c58-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T21:07:13.453Z appoptics:debug http: ule hapi:exit 2b-e0ada95f9ebc5fc9d16ac7a455bacf9893a7f311-0f6c2fa12b34b062-01


  3 passing (160ms)
  7 failing

  1) probes.hapi 16.5.2 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'AAF9416F22466C58',
  HTTPMethod: 'POST',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1170,
  Timestamp_u: 1650575233364559,
  'X-Trace': '2B7D677194F9E3A788B8720D72F7FAAB9D3B68DFA79E71507E3BEE41E501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.5.2 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '0FD7C3B80F5A689F',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1170,
  Timestamp_u: 1650575233382685,
  'X-Trace': '2B7D677194F9E3A788B8720D72F7FAAB9D3B68DFA7443DE0C3A27CEC0A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.5.2 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '9137D1FF63BCC7ED',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1170,
  Timestamp_u: 1650575233404073,
  'X-Trace': '2B4B9B4AAEC541144E03B789D239CEA96A04A39D6AE5B5CBA42A22BDCE01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.5.2 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.5.2 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.5.2 vision 4.1.1
       should skip when disabled:
     Uncaught expected Object {
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.instrumentHttp (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:645:30)\nat internals.Request.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/@hapi/hapi.js:248:8)\nat Domain.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:275:25)\nat Domain.run (domain.js:378:15)\nat module.exports.internals.Protect.internals.Protect.enter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/protect.js:76:17)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:273:30)\nat Server.emit (events.js:400:28)\nat ao.requestStore.run.newContext (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:451:22)\nat Namespace.run (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:187:5)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:362:21)\nat parserOnIncoming (_http_server.js:900:12)\nat HTTPParser.parserOnHeadersComplete (_http_common.js:127:17)',
  Edge: 'C804EA387A927316',
  Hostname: '71675785bfe7',
  Label: 'entry',
  Layer: 'hapi',
  TID: 1170,
  Timestamp_u: 1650575233411287,
  'X-Trace': '2BEB8FF025A674BC93D2E1969E0B8855F2F1E8E9DD366ACC561C6AA14801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi')
  AssertionError: expected Object {
    Edge: 'C804EA387A927316',
    Hostname: '71675785bfe7',
    Label: 'entry',
    Layer: 'hapi',
    TID: 1170,
    Timestamp_u: 1650575233411287,
    'X-Trace': '2BEB8FF025A674BC93D2E1969E0B8855F2F1E8E9DD366ACC561C6AA14801',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'hapi')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpExit (test/probes/hapi/hapi-16-and-below.js:59:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.5.2 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.5.2 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.5.2 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '0F6C2FA12B34B062',
  HTTPMethod: 'GET',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1170,
  Timestamp_u: 1650575233451444,
  'X-Trace': '2BE0ADA95F9EBC5FC9D16AC7A455BACF9893A7F3114E76DD42C968AA6501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.6.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.6.0
updated 1 package and audited 947 packages in 3.863s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:07:18.185Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:18.185Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:18.185Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:18.186Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:18.229Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:18.366Z appoptics:patching patched crypto 
2022-04-21T21:07:18.383Z appoptics:patching patched https 
2022-04-21T21:07:18.383Z appoptics:patching patched http 
2022-04-21T21:07:18.415Z appoptics:patching patched zlib 
2022-04-21T21:07:18.534Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:18.534Z appoptics:patching patched fs 
2022-04-21T21:07:18.568Z appoptics:patching patched hapi 16.6.0
2022-04-21T21:07:18.578Z appoptics:patching vision instrumentation not active before v5
2022-04-21T21:07:18.578Z appoptics:patching patched vision 4.1.1
2022-04-21T21:07:18.581Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (46ms)
    1) should forward controller/action data from post request
2022-04-21T21:07:18.669Z appoptics:debug http: ule hapi:exit 2b-766205204b3ace201a72fd5b223c2edab24a8648-9b1f19a61753ce6a-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should forward controller/action data from delete request
    ✓ should skip when disabled
    6) should trace render span with template extension
2022-04-21T21:07:18.749Z appoptics:debug http: ule nodejs:entry 2b-4ee326d8831a46f191c8a6ff25755558d76fc53e-ea7ff4216773d12a-01
    ✓ should trace render span without template extension


  4 passing (172ms)
  6 failing

  1) probes.hapi 16.6.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '9B1F19A61753CE6A',
  HTTPMethod: 'POST',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1192,
  Timestamp_u: 1650575238665127,
  'X-Trace': '2B766205204B3ACE201A72FD5B223C2EDAB24A8648AFA287CB0EA08B4A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.6.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '2A8FCDFC1E159CAB',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1192,
  Timestamp_u: 1650575238683607,
  'X-Trace': '2B766205204B3ACE201A72FD5B223C2EDAB24A864857D788C161C665B701',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.6.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '1894E876BBC7C459',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1192,
  Timestamp_u: 1650575238713214,
  'X-Trace': '2B5801F5219B9DF6EBBD7FA66440EFBFF2EFFF8E36C5CB156BE7BA460E01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.6.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '2A8FCDFC1E159CAB',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1192,
  Timestamp_u: 1650575238683607,
  'X-Trace': '2B766205204B3ACE201A72FD5B223C2EDAB24A864857D788C161C665B701',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.hapi 16.6.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '1894E876BBC7C459',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1192,
  Timestamp_u: 1650575238713214,
  'X-Trace': '2B5801F5219B9DF6EBBD7FA66440EFBFF2EFFF8E36C5CB156BE7BA460E01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.6.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'EA7FF4216773D12A',
  HTTPMethod: 'GET',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 1192,
  Timestamp_u: 1650575238746710,
  'X-Trace': '2B4EE326D8831A46F191C8A6FF25755558D76FC53E9F6E1B9DA1D88E4401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.6.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.6.1
added 3 packages from 1 contributor, updated 1 package and audited 950 packages in 5.172s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:07:24.859Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:24.859Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:24.859Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:24.860Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:24.919Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:25.058Z appoptics:patching patched crypto 
2022-04-21T21:07:25.075Z appoptics:patching patched https 
2022-04-21T21:07:25.076Z appoptics:patching patched http 
2022-04-21T21:07:25.108Z appoptics:patching patched zlib 
2022-04-21T21:07:25.218Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:25.219Z appoptics:patching patched fs 
2022-04-21T21:07:25.240Z appoptics:patching patched hapi 16.6.1
2022-04-21T21:07:25.247Z appoptics:patching vision instrumentation not active before v5
2022-04-21T21:07:25.247Z appoptics:patching patched vision 4.1.1
2022-04-21T21:07:25.250Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (47ms)
    1) should forward controller/action data from post request
2022-04-21T21:07:25.338Z appoptics:debug http: ule hapi:exit 2b-e78eec54f9ad984ee6b4300b538290204a7307b2-a70ae7fcd0b6acf6-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T21:07:25.446Z appoptics:debug http: ule hapi:exit 2b-ef25c2338660b9682de324478fcee45b2148c4d1-cf07b032ce7e4e09-01


  3 passing (185ms)
  7 failing

  1) probes.hapi 16.6.1 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'A70AE7FCD0B6ACF6',
  HTTPMethod: 'POST',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1214,
  Timestamp_u: 1650575245333876,
  'X-Trace': '2BE78EEC54F9AD984EE6B4300B538290204A7307B2960CA2AECD28458001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.6.1 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '19D95588FC838102',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1214,
  Timestamp_u: 1650575245351930,
  'X-Trace': '2BE78EEC54F9AD984EE6B4300B538290204A7307B2159D50A8D406675001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.6.1 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '9FACB734811607B2',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1214,
  Timestamp_u: 1650575245362525,
  'X-Trace': '2B58487D0E71C28E824576153F6957FA64EF1561EEEC20AD07BD05628901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.6.1 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.6.1 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.6.1 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '25D08570E411DEF4',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1214,
  Timestamp_u: 1650575245393302,
  'X-Trace': '2B374564AB5ABB9C71BE11AA06279A1AF2E81C2BD792FA92309AC0E26901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.6.1 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.6.1 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.6.1 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'CF07B032CE7E4E09',
  HTTPMethod: 'GET',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1214,
  Timestamp_u: 1650575245443653,
  'X-Trace': '2BEF25C2338660B9682DE324478FCEE45B2148C4D17BA24CA521023C9F01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.6.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.6.2
updated 1 package and audited 950 packages in 3.846s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:07:30.187Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:30.187Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:30.188Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:30.188Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:30.235Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:30.388Z appoptics:patching patched crypto 
2022-04-21T21:07:30.406Z appoptics:patching patched https 
2022-04-21T21:07:30.406Z appoptics:patching patched http 
2022-04-21T21:07:30.439Z appoptics:patching patched zlib 
2022-04-21T21:07:30.578Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:30.579Z appoptics:patching patched fs 
2022-04-21T21:07:30.602Z appoptics:patching patched hapi 16.6.2
2022-04-21T21:07:30.606Z appoptics:patching vision instrumentation not active before v5
2022-04-21T21:07:30.606Z appoptics:patching patched vision 4.1.1
2022-04-21T21:07:30.610Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.2 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (50ms)
    1) should forward controller/action data from post request
2022-04-21T21:07:30.701Z appoptics:debug http: ule hapi:exit 2b-0bce9ad8c7d95cb6f60f72fb8d6dd719aa164410-8fa6b67c85e5cf46-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T21:07:30.793Z appoptics:debug http: ule hapi:exit 2b-f5c4388727685abe7fdc2c9838b84724bdae37a2-f2182fbeb0feeafb-01


  3 passing (173ms)
  7 failing

  1) probes.hapi 16.6.2 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '8FA6B67C85E5CF46',
  HTTPMethod: 'POST',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1236,
  Timestamp_u: 1650575250697335,
  'X-Trace': '2B0BCE9AD8C7D95CB6F60F72FB8D6DD719AA164410A759B10CBBBD834701',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.6.2 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '4E00DB83D914AB43',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1236,
  Timestamp_u: 1650575250716192,
  'X-Trace': '2B0BCE9AD8C7D95CB6F60F72FB8D6DD719AA1644105EFB135F08ED3A8301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.6.2 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '30E7F5D5AC767DC3',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1236,
  Timestamp_u: 1650575250727438,
  'X-Trace': '2BE1C7B93B7D463845360157613F312587C4F08C0B1E166714A3196BD301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.6.2 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.6.2 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.6.2 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: 'EE41341B1D96B7D1',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1236,
  Timestamp_u: 1650575250756178,
  'X-Trace': '2B124F9A2B36FEB37707310B13D5BED06183CD9C6500353A1C3D24C4CE01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.6.2 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.6.2 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.6.2 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'F2182FBEB0FEEAFB',
  HTTPMethod: 'GET',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1236,
  Timestamp_u: 1650575250791261,
  'X-Trace': '2BF5C4388727685ABE7FDC2C9838B84724BDAE37A23AD89912989CEA6501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.6.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.6.3
updated 1 package and audited 950 packages in 4.97s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:07:36.645Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:36.645Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:36.645Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:36.646Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:36.693Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:36.831Z appoptics:patching patched crypto 
2022-04-21T21:07:36.849Z appoptics:patching patched https 
2022-04-21T21:07:36.849Z appoptics:patching patched http 
2022-04-21T21:07:36.893Z appoptics:patching patched zlib 
2022-04-21T21:07:37.020Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:37.020Z appoptics:patching patched fs 
2022-04-21T21:07:37.043Z appoptics:patching patched hapi 16.6.3
2022-04-21T21:07:37.048Z appoptics:patching vision instrumentation not active before v5
2022-04-21T21:07:37.048Z appoptics:patching patched vision 4.1.1
2022-04-21T21:07:37.051Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.3 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (48ms)
    1) should forward controller/action data from post request
2022-04-21T21:07:37.138Z appoptics:debug http: ule hapi:exit 2b-480e5ee428ee208b5eff773b7be752f5e7b33433-f4638353b2fc4179-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T21:07:37.230Z appoptics:debug http: ule hapi:exit 2b-3572d4d222bd9f613a416e3739c7d3203a71f1f4-f762da3a9c5b3fc4-01


  3 passing (169ms)
  7 failing

  1) probes.hapi 16.6.3 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'F4638353B2FC4179',
  HTTPMethod: 'POST',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1258,
  Timestamp_u: 1650575257134366,
  'X-Trace': '2B480E5EE428EE208B5EFF773B7BE752F5E7B33433741D46EE87A097ED01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.6.3 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '758210E1D758B0C4',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1258,
  Timestamp_u: 1650575257152540,
  'X-Trace': '2B480E5EE428EE208B5EFF773B7BE752F5E7B3343378CFE3967CD05BC201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.6.3 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '2232E3E0B8698F85',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1258,
  Timestamp_u: 1650575257163636,
  'X-Trace': '2B970B36497205A201FBC30AFCEA3F135230B7177F04528F69F82BF5FB01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.6.3 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.6.3 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.6.3 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '091CB419CC848F1B',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1258,
  Timestamp_u: 1650575257191860,
  'X-Trace': '2B00B7CA44EEE383C0584A712D2ECA677476224EBD476DE4D47DF6B59601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.6.3 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.6.3 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.6.3 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'F762DA3A9C5B3FC4',
  HTTPMethod: 'GET',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1258,
  Timestamp_u: 1650575257227689,
  'X-Trace': '2B3572D4D222BD9F613A416E3739C7D3203A71F1F41D58D2F830CE0E4701',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.6.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.6.4
updated 1 package and audited 950 packages in 4.301s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:07:42.418Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:42.418Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:42.418Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:42.419Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:42.462Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:42.633Z appoptics:patching patched crypto 
2022-04-21T21:07:42.651Z appoptics:patching patched https 
2022-04-21T21:07:42.651Z appoptics:patching patched http 
2022-04-21T21:07:42.682Z appoptics:patching patched zlib 
2022-04-21T21:07:42.793Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:42.793Z appoptics:patching patched fs 
2022-04-21T21:07:42.813Z appoptics:patching patched hapi 16.6.4
2022-04-21T21:07:42.822Z appoptics:patching vision instrumentation not active before v5
2022-04-21T21:07:42.822Z appoptics:patching patched vision 4.1.1
2022-04-21T21:07:42.826Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.4 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (47ms)
    1) should forward controller/action data from post request
2022-04-21T21:07:42.907Z appoptics:debug http: ule hapi:exit 2b-6c3ff05d3c47b362c90201dc4f3d068a00c1fbfc-5116f9fe45c97520-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T21:07:43.002Z appoptics:debug http: ule hapi:exit 2b-601f6304261864f471b578215256eccee62f0a5c-9598a8c8cd607b98-01


  3 passing (172ms)
  7 failing

  1) probes.hapi 16.6.4 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '5116F9FE45C97520',
  HTTPMethod: 'POST',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1280,
  Timestamp_u: 1650575262903092,
  'X-Trace': '2B6C3FF05D3C47B362C90201DC4F3D068A00C1FBFC31A99E7B1324D8BA01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.6.4 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'CF172250B0ADC672',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1280,
  Timestamp_u: 1650575262920923,
  'X-Trace': '2B6C3FF05D3C47B362C90201DC4F3D068A00C1FBFCF5B8CD116D24861C01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.6.4 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'D080A55678A90D66',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1280,
  Timestamp_u: 1650575262931529,
  'X-Trace': '2BC4A19A1D0BCDFCC6E26E7877DDC55348B4A63D90FE6BB9A3FE94A42A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.6.4 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.6.4 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.6.4 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: 'CF4A0A0A5BF5B169',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1280,
  Timestamp_u: 1650575262959596,
  'X-Trace': '2B3F978444175E6E6A73669C087881D7302E7774C4872D83F350D99C7901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.6.4 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.6.4 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.6.4 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '9598A8C8CD607B98',
  HTTPMethod: 'GET',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1280,
  Timestamp_u: 1650575262999535,
  'X-Trace': '2B601F6304261864F471B578215256ECCEE62F0A5C37B0A72AD7166C5701',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.6.5: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.6.5
updated 1 package and audited 950 packages in 4.605s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:07:48.517Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:48.518Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:48.518Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:48.518Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:48.565Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:48.698Z appoptics:patching patched crypto 
2022-04-21T21:07:48.715Z appoptics:patching patched https 
2022-04-21T21:07:48.716Z appoptics:patching patched http 
2022-04-21T21:07:48.748Z appoptics:patching patched zlib 
2022-04-21T21:07:48.856Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:48.856Z appoptics:patching patched fs 
2022-04-21T21:07:48.881Z appoptics:patching patched hapi 16.6.5
2022-04-21T21:07:48.896Z appoptics:patching vision instrumentation not active before v5
2022-04-21T21:07:48.896Z appoptics:patching patched vision 4.1.1
2022-04-21T21:07:48.902Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.5 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (51ms)
    1) should forward controller/action data from post request
2022-04-21T21:07:49.003Z appoptics:debug http: ule hapi:exit 2b-5af2bfea0fe61fc1ea2c3e6c743a5f30380ddb93-14bfde9cc7d3ba8f-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T21:07:49.094Z appoptics:debug http: ule hapi:exit 2b-16c2923fe2b86529f35b95b4aa26ea36e4d3094a-01d547dfb01c8a73-01


  3 passing (185ms)
  7 failing

  1) probes.hapi 16.6.5 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '14BFDE9CC7D3BA8F',
  HTTPMethod: 'POST',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1302,
  Timestamp_u: 1650575268995969,
  'X-Trace': '2B5AF2BFEA0FE61FC1EA2C3E6C743A5F30380DDB935028AEC5E7C6889A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.6.5 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'D20FE2C1414F3FF9',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1302,
  Timestamp_u: 1650575269016973,
  'X-Trace': '2B5AF2BFEA0FE61FC1EA2C3E6C743A5F30380DDB9390D7EC01C9AC60B101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.6.5 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'C52CCFE9D1AFD598',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1302,
  Timestamp_u: 1650575269027541,
  'X-Trace': '2BEA1516759CF570367CFA6815640D10FAAA724EA105ADB17278449A2701',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.6.5 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.6.5 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.6.5 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '26B1E472EDB93003',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1302,
  Timestamp_u: 1650575269055127,
  'X-Trace': '2B6ADCC385C2D887428F41C0DADE2E2771A564928345F9D36234D4673201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.6.5 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.6.5 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.6.5 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '01D547DFB01C8A73',
  HTTPMethod: 'GET',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1302,
  Timestamp_u: 1650575269091826,
  'X-Trace': '2B16C2923FE2B86529F35B95B4AA26EA36E4D3094ACA87B0D005D233D001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.7.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated somever@1.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.7.0
added 1 package, updated 1 package and audited 951 packages in 4.961s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:07:54.989Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:54.989Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:54.989Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:54.990Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:55.045Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:55.275Z appoptics:patching patched crypto 
2022-04-21T21:07:55.311Z appoptics:patching patched https 
2022-04-21T21:07:55.312Z appoptics:patching patched http 
2022-04-21T21:07:55.356Z appoptics:patching patched zlib 
2022-04-21T21:07:55.492Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:55.492Z appoptics:patching patched fs 
2022-04-21T21:07:55.518Z appoptics:patching patched hapi 16.7.0
2022-04-21T21:07:55.522Z appoptics:patching vision instrumentation not active before v5
2022-04-21T21:07:55.522Z appoptics:patching patched vision 4.1.1
2022-04-21T21:07:55.525Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.7.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (48ms)
    1) should forward controller/action data from post request
2022-04-21T21:07:55.607Z appoptics:debug http: ule hapi:exit 2b-825950cbc8de33c5f6ea706bd7762dd797b1c29d-ebe09509fcd7c3d0-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T21:07:55.706Z appoptics:debug http: ule hapi:exit 2b-ffa970224d68a2afa1a7869b339ecb8f32f65731-5801693156c83bdf-01


  3 passing (176ms)
  7 failing

  1) probes.hapi 16.7.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:362:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:431:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:354:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'EBE09509FCD7C3D0',
  HTTPMethod: 'POST',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1324,
  Timestamp_u: 1650575275603535,
  'X-Trace': '2B825950CBC8DE33C5F6EA706BD7762DD797B1C29D2D38D2A0E56C409B01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.7.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '1AD2DD919C7A02CA',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1324,
  Timestamp_u: 1650575275621743,
  'X-Trace': '2B825950CBC8DE33C5F6EA706BD7762DD797B1C29D8196820610008B4501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.7.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '6BB04FA1F6E3CEB9',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1324,
  Timestamp_u: 1650575275632560,
  'X-Trace': '2BA7FEE5C51FCE2843CAF397C78A8F4D6573A7A84614433FF5869CEFE401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.7.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.7.0 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.7.0 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '81F44007B5E03849',
  Hostname: '71675785bfe7',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1324,
  Timestamp_u: 1650575275662514,
  'X-Trace': '2B3BB06E9CD8C651D2E2BF89412334FB256705A831AB270CEC162459BF01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.7.0 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.7.0 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.7.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:362:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:431:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:354:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '5801693156C83BDF',
  HTTPMethod: 'GET',
  Hostname: '71675785bfe7',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1324,
  Timestamp_u: 1650575275703981,
  'X-Trace': '2BFFA970224D68A2AFA1A7869B339ECB8F32F65731DD64BC0ACBF89F8301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@17.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated boom@7.3.0: This module has moved and is now available at @hapi/boom. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated topo@3.0.3: This module has moved and is now available at @hapi/topo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@14.3.1: This module has moved and is now available at @hapi/joi. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.0.0
added 46 packages from 2 contributors, removed 2 packages, updated 34 packages and audited 995 packages in 5.908s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
npm WARN deprecated vision@5.4.4: This module has moved and is now available at @hapi/vision. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated boom@7.3.0: This module has moved and is now available at @hapi/boom. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated items@2.1.2: This module has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version of hapi to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@14.3.1: This module has moved and is now available at @hapi/joi. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated topo@3.0.3: This module has moved and is now available at @hapi/topo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ vision@5.4.4
added 1 package from 1 contributor, updated 6 packages and audited 996 packages in 4.424s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:08:07.604Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:07.604Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:07.604Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:07.605Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:07.651Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:07.786Z appoptics:patching patched crypto 
2022-04-21T21:08:07.804Z appoptics:patching patched https 
2022-04-21T21:08:07.805Z appoptics:patching patched http 
2022-04-21T21:08:07.836Z appoptics:patching patched zlib 
2022-04-21T21:08:08.054Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:08.055Z appoptics:patching patched fs 
2022-04-21T21:08:08.077Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:08:08.077Z appoptics:patching patched hapi 17.0.0
2022-04-21T21:08:08.104Z appoptics:patching patched vision 5.4.4
2022-04-21T21:08:08.107Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.0.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (44ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (168ms)

npm WARN deprecated hapi@17.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.0.1
removed 59 packages, updated 1 package and audited 937 packages in 4.821s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:08:14.009Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:14.010Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:14.010Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:14.010Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:14.053Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:14.189Z appoptics:patching patched crypto 
2022-04-21T21:08:14.207Z appoptics:patching patched https 
2022-04-21T21:08:14.207Z appoptics:patching patched http 
2022-04-21T21:08:14.238Z appoptics:patching patched zlib 
2022-04-21T21:08:14.347Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:14.348Z appoptics:patching patched fs 
2022-04-21T21:08:14.358Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:08:14.358Z appoptics:patching patched hapi 17.0.1
2022-04-21T21:08:14.363Z appoptics:patching patched vision 5.4.4
2022-04-21T21:08:14.367Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.0.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (40ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (153ms)

npm WARN deprecated hapi@17.0.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.0.2
updated 1 package and audited 937 packages in 4.147s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:08:19.571Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:19.572Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:19.572Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:19.573Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:19.620Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:19.756Z appoptics:patching patched crypto 
2022-04-21T21:08:19.773Z appoptics:patching patched https 
2022-04-21T21:08:19.773Z appoptics:patching patched http 
2022-04-21T21:08:19.805Z appoptics:patching patched zlib 
2022-04-21T21:08:19.912Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:19.913Z appoptics:patching patched fs 
2022-04-21T21:08:19.923Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:08:19.923Z appoptics:patching patched hapi 17.0.2
2022-04-21T21:08:19.928Z appoptics:patching patched vision 5.4.4
2022-04-21T21:08:19.932Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.0.2 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (41ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (165ms)

npm WARN deprecated hapi@17.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.1.0
updated 1 package and audited 937 packages in 4.543s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:08:25.538Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:25.539Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:25.539Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:25.540Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:25.586Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:25.734Z appoptics:patching patched crypto 
2022-04-21T21:08:25.752Z appoptics:patching patched https 
2022-04-21T21:08:25.752Z appoptics:patching patched http 
2022-04-21T21:08:25.784Z appoptics:patching patched zlib 
2022-04-21T21:08:25.894Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:25.894Z appoptics:patching patched fs 
2022-04-21T21:08:25.905Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:08:25.905Z appoptics:patching patched hapi 17.1.0
2022-04-21T21:08:25.910Z appoptics:patching patched vision 5.4.4
2022-04-21T21:08:25.913Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.1.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (42ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (174ms)

npm WARN deprecated hapi@17.1.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.1.1
updated 1 package and audited 937 packages in 4.209s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:08:31.235Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:31.236Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:31.236Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:31.236Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:31.280Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:31.425Z appoptics:patching patched crypto 
2022-04-21T21:08:31.451Z appoptics:patching patched https 
2022-04-21T21:08:31.452Z appoptics:patching patched http 
2022-04-21T21:08:31.480Z appoptics:patching patched zlib 
2022-04-21T21:08:31.591Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:31.592Z appoptics:patching patched fs 
2022-04-21T21:08:31.603Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:08:31.603Z appoptics:patching patched hapi 17.1.1
2022-04-21T21:08:31.613Z appoptics:patching patched vision 5.4.4
2022-04-21T21:08:31.617Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.1.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (42ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (163ms)

npm WARN deprecated hapi@17.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.2.0
updated 1 package and audited 937 packages in 4.565s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:08:37.248Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:37.248Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:37.248Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:37.249Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:37.295Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:37.431Z appoptics:patching patched crypto 
2022-04-21T21:08:37.448Z appoptics:patching patched https 
2022-04-21T21:08:37.449Z appoptics:patching patched http 
2022-04-21T21:08:37.481Z appoptics:patching patched zlib 
2022-04-21T21:08:37.588Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:37.589Z appoptics:patching patched fs 
2022-04-21T21:08:37.599Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:08:37.599Z appoptics:patching patched hapi 17.2.0
2022-04-21T21:08:37.605Z appoptics:patching patched vision 5.4.4
2022-04-21T21:08:37.608Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.2.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (41ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (199ms)

npm WARN deprecated hapi@17.2.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.2.1
updated 1 package and audited 937 packages in 4.146s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:08:42.869Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:42.870Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:42.870Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:42.871Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:42.914Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:43.051Z appoptics:patching patched crypto 
2022-04-21T21:08:43.069Z appoptics:patching patched https 
2022-04-21T21:08:43.070Z appoptics:patching patched http 
2022-04-21T21:08:43.121Z appoptics:patching patched zlib 
2022-04-21T21:08:43.237Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:43.237Z appoptics:patching patched fs 
2022-04-21T21:08:43.248Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:08:43.248Z appoptics:patching patched hapi 17.2.1
2022-04-21T21:08:43.253Z appoptics:patching patched vision 5.4.4
2022-04-21T21:08:43.256Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.2.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (42ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (159ms)

npm WARN deprecated hapi@17.2.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.2.2
updated 1 package and audited 937 packages in 4.254s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:08:48.549Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:48.549Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:48.550Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:48.550Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:48.596Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:48.755Z appoptics:patching patched crypto 
2022-04-21T21:08:48.793Z appoptics:patching patched https 
2022-04-21T21:08:48.794Z appoptics:patching patched http 
2022-04-21T21:08:48.830Z appoptics:patching patched zlib 
2022-04-21T21:08:48.949Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:48.950Z appoptics:patching patched fs 
2022-04-21T21:08:48.959Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:08:48.959Z appoptics:patching patched hapi 17.2.2
2022-04-21T21:08:48.971Z appoptics:patching patched vision 5.4.4
2022-04-21T21:08:48.974Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.2.2 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (44ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (199ms)

npm WARN deprecated hapi@17.2.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.2.3
updated 1 package and audited 937 packages in 4.529s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:08:54.651Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:54.651Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:54.651Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:54.652Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:54.698Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:54.832Z appoptics:patching patched crypto 
2022-04-21T21:08:54.850Z appoptics:patching patched https 
2022-04-21T21:08:54.850Z appoptics:patching patched http 
2022-04-21T21:08:54.880Z appoptics:patching patched zlib 
2022-04-21T21:08:54.984Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:54.984Z appoptics:patching patched fs 
2022-04-21T21:08:54.993Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:08:54.993Z appoptics:patching patched hapi 17.2.3
2022-04-21T21:08:54.998Z appoptics:patching patched vision 5.4.4
2022-04-21T21:08:55.001Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.2.3 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (44ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (155ms)

npm WARN deprecated hapi@17.3.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.3.0
updated 1 package and audited 937 packages in 4.094s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:09:00.267Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:00.268Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:00.268Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:00.269Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:00.328Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:00.471Z appoptics:patching patched crypto 
2022-04-21T21:09:00.489Z appoptics:patching patched https 
2022-04-21T21:09:00.489Z appoptics:patching patched http 
2022-04-21T21:09:00.519Z appoptics:patching patched zlib 
2022-04-21T21:09:00.628Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:00.629Z appoptics:patching patched fs 
2022-04-21T21:09:00.637Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:09:00.637Z appoptics:patching patched hapi 17.3.0
2022-04-21T21:09:00.642Z appoptics:patching patched vision 5.4.4
2022-04-21T21:09:00.646Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.3.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (42ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (154ms)

npm WARN deprecated hapi@17.3.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.3.1
updated 1 package and audited 937 packages in 4.41s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:09:06.141Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:06.141Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:06.141Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:06.142Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:06.193Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:06.332Z appoptics:patching patched crypto 
2022-04-21T21:09:06.349Z appoptics:patching patched https 
2022-04-21T21:09:06.349Z appoptics:patching patched http 
2022-04-21T21:09:06.381Z appoptics:patching patched zlib 
2022-04-21T21:09:06.491Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:06.492Z appoptics:patching patched fs 
2022-04-21T21:09:06.500Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:09:06.500Z appoptics:patching patched hapi 17.3.1
2022-04-21T21:09:06.506Z appoptics:patching patched vision 5.4.4
2022-04-21T21:09:06.509Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.3.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (42ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (160ms)

npm WARN deprecated hapi@17.4.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.4.0
updated 1 package and audited 937 packages in 4.465s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:09:12.068Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:12.069Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:12.069Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:12.070Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:12.113Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:12.256Z appoptics:patching patched crypto 
2022-04-21T21:09:12.274Z appoptics:patching patched https 
2022-04-21T21:09:12.274Z appoptics:patching patched http 
2022-04-21T21:09:12.306Z appoptics:patching patched zlib 
2022-04-21T21:09:12.419Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:12.419Z appoptics:patching patched fs 
2022-04-21T21:09:12.428Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:09:12.428Z appoptics:patching patched hapi 17.4.0
2022-04-21T21:09:12.433Z appoptics:patching patched vision 5.4.4
2022-04-21T21:09:12.436Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.4.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (42ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (179ms)

npm WARN deprecated hapi@17.5.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.5.0
updated 1 package and audited 937 packages in 4.138s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:09:17.653Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:17.654Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:17.654Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:17.654Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:17.701Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:17.838Z appoptics:patching patched crypto 
2022-04-21T21:09:17.855Z appoptics:patching patched https 
2022-04-21T21:09:17.856Z appoptics:patching patched http 
2022-04-21T21:09:17.888Z appoptics:patching patched zlib 
2022-04-21T21:09:17.997Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:17.997Z appoptics:patching patched fs 
2022-04-21T21:09:18.006Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:09:18.006Z appoptics:patching patched hapi 17.5.0
2022-04-21T21:09:18.011Z appoptics:patching patched vision 5.4.4
2022-04-21T21:09:18.014Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.5.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (42ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (164ms)

npm WARN deprecated hapi@17.5.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.5.1
updated 1 package and audited 937 packages in 4.786s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:09:24.089Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:24.090Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:24.090Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:24.091Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:24.138Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:24.274Z appoptics:patching patched crypto 
2022-04-21T21:09:24.292Z appoptics:patching patched https 
2022-04-21T21:09:24.292Z appoptics:patching patched http 
2022-04-21T21:09:24.324Z appoptics:patching patched zlib 
2022-04-21T21:09:24.435Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:24.435Z appoptics:patching patched fs 
2022-04-21T21:09:24.443Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:09:24.444Z appoptics:patching patched hapi 17.5.1
2022-04-21T21:09:24.449Z appoptics:patching patched vision 5.4.4
2022-04-21T21:09:24.452Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.5.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (42ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (184ms)

npm WARN deprecated hapi@17.5.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.5.2
updated 1 package and audited 937 packages in 4.714s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:09:30.268Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:30.269Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:30.269Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:30.270Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:30.317Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:30.461Z appoptics:patching patched crypto 
2022-04-21T21:09:30.484Z appoptics:patching patched https 
2022-04-21T21:09:30.484Z appoptics:patching patched http 
2022-04-21T21:09:30.525Z appoptics:patching patched zlib 
2022-04-21T21:09:30.638Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:30.638Z appoptics:patching patched fs 
2022-04-21T21:09:30.647Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:09:30.647Z appoptics:patching patched hapi 17.5.2
2022-04-21T21:09:30.652Z appoptics:patching patched vision 5.4.4
2022-04-21T21:09:30.661Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.5.2 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (43ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (169ms)

npm WARN deprecated hapi@17.5.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.5.3
updated 1 package and audited 937 packages in 4.42s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:09:36.328Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:36.328Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:36.329Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:36.329Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:36.373Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:36.536Z appoptics:patching patched crypto 
2022-04-21T21:09:36.553Z appoptics:patching patched https 
2022-04-21T21:09:36.554Z appoptics:patching patched http 
2022-04-21T21:09:36.587Z appoptics:patching patched zlib 
2022-04-21T21:09:36.698Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:36.698Z appoptics:patching patched fs 
2022-04-21T21:09:36.707Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:09:36.707Z appoptics:patching patched hapi 17.5.3
2022-04-21T21:09:36.713Z appoptics:patching patched vision 5.4.4
2022-04-21T21:09:36.716Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.5.3 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (42ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (169ms)

npm WARN deprecated hapi@17.5.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.5.4
updated 1 package and audited 937 packages in 3.761s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:09:41.562Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:41.563Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:41.563Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:41.564Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:41.610Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:41.754Z appoptics:patching patched crypto 
2022-04-21T21:09:41.770Z appoptics:patching patched https 
2022-04-21T21:09:41.771Z appoptics:patching patched http 
2022-04-21T21:09:41.802Z appoptics:patching patched zlib 
2022-04-21T21:09:41.910Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:41.910Z appoptics:patching patched fs 
2022-04-21T21:09:41.919Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:09:41.919Z appoptics:patching patched hapi 17.5.4
2022-04-21T21:09:41.924Z appoptics:patching patched vision 5.4.4
2022-04-21T21:09:41.927Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.5.4 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (41ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (162ms)

npm WARN deprecated hapi@17.5.5: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.5.5
updated 1 package and audited 937 packages in 3.885s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:09:46.986Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:46.987Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:46.987Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:46.987Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:47.048Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:47.205Z appoptics:patching patched crypto 
2022-04-21T21:09:47.251Z appoptics:patching patched https 
2022-04-21T21:09:47.252Z appoptics:patching patched http 
2022-04-21T21:09:47.277Z appoptics:patching patched zlib 
2022-04-21T21:09:47.416Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:47.416Z appoptics:patching patched fs 
2022-04-21T21:09:47.432Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:09:47.432Z appoptics:patching patched hapi 17.5.5
2022-04-21T21:09:47.437Z appoptics:patching patched vision 5.4.4
2022-04-21T21:09:47.441Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.5.5 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (45ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (204ms)

npm WARN deprecated hapi@17.6.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.6.0
updated 1 package and audited 937 packages in 3.674s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:09:52.382Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:52.382Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:52.383Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:52.383Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:52.429Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:52.563Z appoptics:patching patched crypto 
2022-04-21T21:09:52.580Z appoptics:patching patched https 
2022-04-21T21:09:52.580Z appoptics:patching patched http 
2022-04-21T21:09:52.611Z appoptics:patching patched zlib 
2022-04-21T21:09:52.720Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:52.720Z appoptics:patching patched fs 
2022-04-21T21:09:52.728Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:09:52.729Z appoptics:patching patched hapi 17.6.0
2022-04-21T21:09:52.734Z appoptics:patching patched vision 5.4.4
2022-04-21T21:09:52.737Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.6.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (41ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (162ms)

npm WARN deprecated hapi@17.6.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.6.1
removed 2 packages, updated 1 package and audited 935 packages in 4.128s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:09:57.922Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:57.922Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:57.922Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:57.923Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:57.966Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:58.105Z appoptics:patching patched crypto 
2022-04-21T21:09:58.123Z appoptics:patching patched https 
2022-04-21T21:09:58.123Z appoptics:patching patched http 
2022-04-21T21:09:58.154Z appoptics:patching patched zlib 
2022-04-21T21:09:58.253Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:58.253Z appoptics:patching patched fs 
2022-04-21T21:09:58.262Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:09:58.262Z appoptics:patching patched hapi 17.6.1
2022-04-21T21:09:58.267Z appoptics:patching patched vision 5.4.4
2022-04-21T21:09:58.270Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.6.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (44ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (195ms)

npm WARN deprecated hapi@17.6.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.6.2
updated 1 package and audited 935 packages in 4.338s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:10:03.854Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:03.855Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:03.855Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:03.855Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:03.914Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:04.050Z appoptics:patching patched crypto 
2022-04-21T21:10:04.067Z appoptics:patching patched https 
2022-04-21T21:10:04.068Z appoptics:patching patched http 
2022-04-21T21:10:04.099Z appoptics:patching patched zlib 
2022-04-21T21:10:04.183Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:04.183Z appoptics:patching patched fs 
2022-04-21T21:10:04.192Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:10:04.192Z appoptics:patching patched hapi 17.6.2
2022-04-21T21:10:04.196Z appoptics:patching patched vision 5.4.4
2022-04-21T21:10:04.199Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.6.2 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (42ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (174ms)

npm WARN deprecated hapi@17.6.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.6.3
updated 1 package and audited 935 packages in 4.737s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:10:10.000Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:10.000Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:10.000Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:10.001Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:10.047Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:10.201Z appoptics:patching patched crypto 
2022-04-21T21:10:10.218Z appoptics:patching patched https 
2022-04-21T21:10:10.219Z appoptics:patching patched http 
2022-04-21T21:10:10.249Z appoptics:patching patched zlib 
2022-04-21T21:10:10.363Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:10.363Z appoptics:patching patched fs 
2022-04-21T21:10:10.372Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:10:10.372Z appoptics:patching patched hapi 17.6.3
2022-04-21T21:10:10.377Z appoptics:patching patched vision 5.4.4
2022-04-21T21:10:10.380Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.6.3 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (45ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (216ms)

npm WARN deprecated hapi@17.6.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.6.4
updated 1 package and audited 935 packages in 4.328s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:10:15.916Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:15.917Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:15.917Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:15.917Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:15.964Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:16.100Z appoptics:patching patched crypto 
2022-04-21T21:10:16.118Z appoptics:patching patched https 
2022-04-21T21:10:16.118Z appoptics:patching patched http 
2022-04-21T21:10:16.150Z appoptics:patching patched zlib 
2022-04-21T21:10:16.235Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:16.235Z appoptics:patching patched fs 
2022-04-21T21:10:16.244Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:10:16.244Z appoptics:patching patched hapi 17.6.4
2022-04-21T21:10:16.248Z appoptics:patching patched vision 5.4.4
2022-04-21T21:10:16.251Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.6.4 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (42ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (161ms)

npm WARN deprecated hapi@17.7.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.7.0
added 1 package, updated 1 package and audited 936 packages in 3.955s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:10:21.322Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:21.322Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:21.322Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:21.323Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:21.378Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:21.515Z appoptics:patching patched crypto 
2022-04-21T21:10:21.532Z appoptics:patching patched https 
2022-04-21T21:10:21.532Z appoptics:patching patched http 
2022-04-21T21:10:21.564Z appoptics:patching patched zlib 
2022-04-21T21:10:21.651Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:21.651Z appoptics:patching patched fs 
2022-04-21T21:10:21.660Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:10:21.660Z appoptics:patching patched hapi 17.7.0
2022-04-21T21:10:21.664Z appoptics:patching patched vision 5.4.4
2022-04-21T21:10:21.668Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.7.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (44ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (173ms)

npm WARN deprecated hapi@17.8.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.8.0
updated 1 package and audited 936 packages in 4.585s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:10:27.417Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:27.417Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:27.417Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:27.418Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:27.472Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:27.616Z appoptics:patching patched crypto 
2022-04-21T21:10:27.632Z appoptics:patching patched https 
2022-04-21T21:10:27.633Z appoptics:patching patched http 
2022-04-21T21:10:27.680Z appoptics:patching patched zlib 
2022-04-21T21:10:27.791Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:27.791Z appoptics:patching patched fs 
2022-04-21T21:10:27.800Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:10:27.800Z appoptics:patching patched hapi 17.8.0
2022-04-21T21:10:27.805Z appoptics:patching patched vision 5.4.4
2022-04-21T21:10:27.808Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.8.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (44ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (210ms)

npm WARN deprecated hapi@17.8.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.8.1
updated 1 package and audited 936 packages in 4.138s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:10:33.102Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:33.103Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:33.103Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:33.104Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:33.151Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:33.286Z appoptics:patching patched crypto 
2022-04-21T21:10:33.304Z appoptics:patching patched https 
2022-04-21T21:10:33.305Z appoptics:patching patched http 
2022-04-21T21:10:33.357Z appoptics:patching patched zlib 
2022-04-21T21:10:33.462Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:33.462Z appoptics:patching patched fs 
2022-04-21T21:10:33.472Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:10:33.472Z appoptics:patching patched hapi 17.8.1
2022-04-21T21:10:33.476Z appoptics:patching patched vision 5.4.4
2022-04-21T21:10:33.480Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.8.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (43ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (193ms)

npm WARN deprecated hapi@17.8.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.8.2
updated 1 package and audited 936 packages in 4.517s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:10:39.185Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:39.186Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:39.186Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:39.187Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:39.242Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:39.391Z appoptics:patching patched crypto 
2022-04-21T21:10:39.427Z appoptics:patching patched https 
2022-04-21T21:10:39.438Z appoptics:patching patched http 
2022-04-21T21:10:39.463Z appoptics:patching patched zlib 
2022-04-21T21:10:39.560Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:39.561Z appoptics:patching patched fs 
2022-04-21T21:10:39.569Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:10:39.570Z appoptics:patching patched hapi 17.8.2
2022-04-21T21:10:39.574Z appoptics:patching patched vision 5.4.4
2022-04-21T21:10:39.577Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.8.2 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (42ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (172ms)

npm WARN deprecated hapi@17.8.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.8.3
updated 1 package and audited 936 packages in 3.917s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:10:44.577Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:44.578Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:44.578Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:44.579Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:44.625Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:44.760Z appoptics:patching patched crypto 
2022-04-21T21:10:44.777Z appoptics:patching patched https 
2022-04-21T21:10:44.778Z appoptics:patching patched http 
2022-04-21T21:10:44.810Z appoptics:patching patched zlib 
2022-04-21T21:10:44.894Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:44.895Z appoptics:patching patched fs 
2022-04-21T21:10:44.903Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:10:44.904Z appoptics:patching patched hapi 17.8.3
2022-04-21T21:10:44.908Z appoptics:patching patched vision 5.4.4
2022-04-21T21:10:44.911Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.8.3 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (43ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (167ms)

npm WARN deprecated hapi@17.8.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.8.4
updated 1 package and audited 936 packages in 4.727s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:10:50.711Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:50.712Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:50.712Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:50.713Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:50.759Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:50.897Z appoptics:patching patched crypto 
2022-04-21T21:10:50.914Z appoptics:patching patched https 
2022-04-21T21:10:50.915Z appoptics:patching patched http 
2022-04-21T21:10:50.946Z appoptics:patching patched zlib 
2022-04-21T21:10:51.031Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:51.032Z appoptics:patching patched fs 
2022-04-21T21:10:51.040Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:10:51.041Z appoptics:patching patched hapi 17.8.4
2022-04-21T21:10:51.045Z appoptics:patching patched vision 5.4.4
2022-04-21T21:10:51.048Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.8.4 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (42ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (166ms)

npm WARN deprecated hapi@17.8.5: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.8.5
updated 1 package and audited 936 packages in 3.818s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:10:55.920Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:55.921Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:55.921Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:55.922Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:55.968Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:56.104Z appoptics:patching patched crypto 
2022-04-21T21:10:56.121Z appoptics:patching patched https 
2022-04-21T21:10:56.121Z appoptics:patching patched http 
2022-04-21T21:10:56.152Z appoptics:patching patched zlib 
2022-04-21T21:10:56.238Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:56.238Z appoptics:patching patched fs 
2022-04-21T21:10:56.247Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:10:56.247Z appoptics:patching patched hapi 17.8.5
2022-04-21T21:10:56.251Z appoptics:patching patched vision 5.4.4
2022-04-21T21:10:56.255Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.8.5 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (53ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (193ms)

npm WARN deprecated hapi@18.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@4.0.1: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@18.0.0
removed 1 package, updated 2 packages and audited 935 packages in 4.455s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:11:01.792Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:01.792Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:01.792Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:01.793Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:01.864Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:02.016Z appoptics:patching patched crypto 
2022-04-21T21:11:02.034Z appoptics:patching patched https 
2022-04-21T21:11:02.035Z appoptics:patching patched http 
2022-04-21T21:11:02.066Z appoptics:patching patched zlib 
2022-04-21T21:11:02.151Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:02.151Z appoptics:patching patched fs 
2022-04-21T21:11:02.160Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:11:02.160Z appoptics:patching patched hapi 18.0.0
2022-04-21T21:11:02.166Z appoptics:patching patched vision 5.4.4
2022-04-21T21:11:02.169Z appoptics:debug starting runtimeMetrics


  probes.hapi 18.0.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (56ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (188ms)

npm WARN deprecated hapi@18.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@4.0.1: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@18.0.1
updated 1 package and audited 935 packages in 3.702s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:11:06.982Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:06.982Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:06.982Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:06.983Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:07.029Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:07.159Z appoptics:patching patched crypto 
2022-04-21T21:11:07.176Z appoptics:patching patched https 
2022-04-21T21:11:07.177Z appoptics:patching patched http 
2022-04-21T21:11:07.207Z appoptics:patching patched zlib 
2022-04-21T21:11:07.289Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:07.290Z appoptics:patching patched fs 
2022-04-21T21:11:07.298Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:11:07.298Z appoptics:patching patched hapi 18.0.1
2022-04-21T21:11:07.303Z appoptics:patching patched vision 5.4.4
2022-04-21T21:11:07.307Z appoptics:debug starting runtimeMetrics


  probes.hapi 18.0.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (44ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (207ms)

npm WARN deprecated hapi@18.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@4.0.1: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@18.1.0
updated 1 package and audited 935 packages in 4.49s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T21:11:13.012Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:13.013Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:13.013Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:13.014Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:13.057Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:13.197Z appoptics:patching patched crypto 
2022-04-21T21:11:13.214Z appoptics:patching patched https 
2022-04-21T21:11:13.215Z appoptics:patching patched http 
2022-04-21T21:11:13.246Z appoptics:patching patched zlib 
2022-04-21T21:11:13.329Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:13.329Z appoptics:patching patched fs 
2022-04-21T21:11:13.338Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T21:11:13.338Z appoptics:patching patched hapi 18.1.0
2022-04-21T21:11:13.343Z appoptics:patching patched vision 5.4.4
2022-04-21T21:11:13.346Z appoptics:debug starting runtimeMetrics


  probes.hapi 18.1.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (42ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (164ms)

npm WARN deprecated hapi@18.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@4.0.1: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@18.1.0
updated 1 package and audited 935 packages in 3.58s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
