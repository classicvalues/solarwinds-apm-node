
added 15 packages, removed 5 packages, changed 2 packages, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:18:51.952Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:18:51.953Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:18:51.953Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:18:51.954Z appoptics:debug using context provider: ace-context
2021-09-23T17:18:52.046Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:18:52.115Z appoptics:patching patched crypto 
2021-09-23T17:18:52.155Z appoptics:patching patched https 
2021-09-23T17:18:52.156Z appoptics:patching patched http 
2021-09-23T17:18:52.206Z appoptics:patching patched pino 2.3.0
2021-09-23T17:18:52.210Z appoptics:debug starting runtimeMetrics


  pino v2.3.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:18:59.640Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:18:59.640Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:18:59.640Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:18:59.641Z appoptics:debug using context provider: ace-context
2021-09-23T17:18:59.707Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:18:59.755Z appoptics:patching patched crypto 
2021-09-23T17:18:59.779Z appoptics:patching patched https 
2021-09-23T17:18:59.779Z appoptics:patching patched http 
2021-09-23T17:18:59.816Z appoptics:patching patched pino 2.4.0
2021-09-23T17:18:59.826Z appoptics:debug starting runtimeMetrics


  pino v2.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:07.397Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:07.398Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:07.398Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:07.399Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:07.464Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:07.512Z appoptics:patching patched crypto 
2021-09-23T17:19:07.536Z appoptics:patching patched https 
2021-09-23T17:19:07.537Z appoptics:patching patched http 
2021-09-23T17:19:07.573Z appoptics:patching patched pino 2.4.1
2021-09-23T17:19:07.583Z appoptics:debug starting runtimeMetrics


  pino v2.4.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1112 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:14.956Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:14.957Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:14.957Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:14.957Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:15.061Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:15.142Z appoptics:patching patched crypto 
2021-09-23T17:19:15.178Z appoptics:patching patched https 
2021-09-23T17:19:15.179Z appoptics:patching patched http 
2021-09-23T17:19:15.231Z appoptics:patching patched pino 2.4.2
2021-09-23T17:19:15.242Z appoptics:debug starting runtimeMetrics


  pino v2.4.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1112 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:22.442Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:22.443Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:22.443Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:22.444Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:22.510Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:22.558Z appoptics:patching patched crypto 
2021-09-23T17:19:22.580Z appoptics:patching patched https 
2021-09-23T17:19:22.581Z appoptics:patching patched http 
2021-09-23T17:19:22.617Z appoptics:patching patched pino 2.4.3
2021-09-23T17:19:22.627Z appoptics:debug starting runtimeMetrics


  pino v2.4.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:30.550Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:30.550Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:30.550Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:30.551Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:30.620Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:30.674Z appoptics:patching patched crypto 
2021-09-23T17:19:30.697Z appoptics:patching patched https 
2021-09-23T17:19:30.697Z appoptics:patching patched http 
2021-09-23T17:19:30.734Z appoptics:patching patched pino 2.4.4
2021-09-23T17:19:30.744Z appoptics:debug starting runtimeMetrics


  pino v2.4.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:38.161Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:38.162Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:38.162Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:38.163Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:38.231Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:38.335Z appoptics:patching patched crypto 
2021-09-23T17:19:38.384Z appoptics:patching patched https 
2021-09-23T17:19:38.385Z appoptics:patching patched http 
2021-09-23T17:19:38.431Z appoptics:patching patched pino 2.5.0
2021-09-23T17:19:38.447Z appoptics:debug starting runtimeMetrics


  pino v2.5.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:46.042Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:46.043Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:46.043Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:46.044Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:46.111Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:46.160Z appoptics:patching patched crypto 
2021-09-23T17:19:46.183Z appoptics:patching patched https 
2021-09-23T17:19:46.184Z appoptics:patching patched http 
2021-09-23T17:19:46.223Z appoptics:patching patched pino 2.6.0
2021-09-23T17:19:46.232Z appoptics:debug starting runtimeMetrics


  pino v2.6.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:53.756Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:53.757Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:53.757Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:53.758Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:53.825Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:53.873Z appoptics:patching patched crypto 
2021-09-23T17:19:53.897Z appoptics:patching patched https 
2021-09-23T17:19:53.897Z appoptics:patching patched http 
2021-09-23T17:19:53.935Z appoptics:patching patched pino 2.6.1
2021-09-23T17:19:53.939Z appoptics:debug starting runtimeMetrics


  pino v2.6.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:01.488Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:01.489Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:01.489Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:01.490Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:01.555Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:01.603Z appoptics:patching patched crypto 
2021-09-23T17:20:01.627Z appoptics:patching patched https 
2021-09-23T17:20:01.627Z appoptics:patching patched http 
2021-09-23T17:20:01.664Z appoptics:patching patched pino 2.7.0
2021-09-23T17:20:01.674Z appoptics:debug starting runtimeMetrics


  pino v2.7.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:09.164Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:09.164Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:09.164Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:09.165Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:09.232Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:09.289Z appoptics:patching patched crypto 
2021-09-23T17:20:09.314Z appoptics:patching patched https 
2021-09-23T17:20:09.314Z appoptics:patching patched http 
2021-09-23T17:20:09.354Z appoptics:patching patched pino 2.7.1
2021-09-23T17:20:09.361Z appoptics:debug starting runtimeMetrics


  pino v2.7.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1112 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:16.117Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:16.118Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:16.118Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:16.119Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:16.231Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:16.285Z appoptics:patching patched crypto 
2021-09-23T17:20:16.312Z appoptics:patching patched https 
2021-09-23T17:20:16.312Z appoptics:patching patched http 
2021-09-23T17:20:16.350Z appoptics:patching patched pino 2.7.2
2021-09-23T17:20:16.366Z appoptics:debug starting runtimeMetrics


  pino v2.7.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1112 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:23.482Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:23.483Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:23.483Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:23.483Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:23.551Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:23.599Z appoptics:patching patched crypto 
2021-09-23T17:20:23.622Z appoptics:patching patched https 
2021-09-23T17:20:23.623Z appoptics:patching patched http 
2021-09-23T17:20:23.661Z appoptics:patching patched pino 2.7.3
2021-09-23T17:20:23.671Z appoptics:debug starting runtimeMetrics


  pino v2.7.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:31.514Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:31.515Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:31.515Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:31.516Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:31.601Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:31.653Z appoptics:patching patched crypto 
2021-09-23T17:20:31.679Z appoptics:patching patched https 
2021-09-23T17:20:31.679Z appoptics:patching patched http 
2021-09-23T17:20:31.723Z appoptics:patching patched pino 2.7.4
2021-09-23T17:20:31.734Z appoptics:debug starting runtimeMetrics


  pino v2.7.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)


changed 1 package, and audited 1112 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:38.450Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:38.451Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:38.451Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:38.452Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:38.518Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:38.567Z appoptics:patching patched crypto 
2021-09-23T17:20:38.590Z appoptics:patching patched https 
2021-09-23T17:20:38.590Z appoptics:patching patched http 
2021-09-23T17:20:38.627Z appoptics:patching patched pino 2.7.5
2021-09-23T17:20:38.637Z appoptics:debug starting runtimeMetrics


  pino v2.7.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:45.973Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:45.973Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:45.973Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:45.974Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:46.041Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:46.089Z appoptics:patching patched crypto 
2021-09-23T17:20:46.112Z appoptics:patching patched https 
2021-09-23T17:20:46.113Z appoptics:patching patched http 
2021-09-23T17:20:46.150Z appoptics:patching patched pino 2.8.0
2021-09-23T17:20:46.159Z appoptics:debug starting runtimeMetrics


  pino v2.8.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1112 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:53.093Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:53.094Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:53.094Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:53.101Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:53.215Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:53.297Z appoptics:patching patched crypto 
2021-09-23T17:20:53.337Z appoptics:patching patched https 
2021-09-23T17:20:53.337Z appoptics:patching patched http 
2021-09-23T17:20:53.425Z appoptics:patching patched pino 2.8.1
2021-09-23T17:20:53.433Z appoptics:debug starting runtimeMetrics


  pino v2.8.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (194ms)


changed 1 package, and audited 1112 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:00.885Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:00.885Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:00.885Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:00.886Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:00.951Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:00.999Z appoptics:patching patched crypto 
2021-09-23T17:21:01.022Z appoptics:patching patched https 
2021-09-23T17:21:01.023Z appoptics:patching patched http 
2021-09-23T17:21:01.074Z appoptics:patching patched pino 2.8.2
2021-09-23T17:21:01.078Z appoptics:debug starting runtimeMetrics


  pino v2.8.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:09.256Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:09.256Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:09.256Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:09.257Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:09.324Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:09.372Z appoptics:patching patched crypto 
2021-09-23T17:21:09.396Z appoptics:patching patched https 
2021-09-23T17:21:09.397Z appoptics:patching patched http 
2021-09-23T17:21:09.449Z appoptics:patching patched pino 2.8.3
2021-09-23T17:21:09.453Z appoptics:debug starting runtimeMetrics


  pino v2.8.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1112 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:15.912Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:15.912Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:15.913Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:15.913Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:15.978Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:16.026Z appoptics:patching patched crypto 
2021-09-23T17:21:16.049Z appoptics:patching patched https 
2021-09-23T17:21:16.050Z appoptics:patching patched http 
2021-09-23T17:21:16.101Z appoptics:patching patched pino 2.9.0
2021-09-23T17:21:16.105Z appoptics:debug starting runtimeMetrics


  pino v2.9.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:23.597Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:23.598Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:23.598Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:23.599Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:23.666Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:23.714Z appoptics:patching patched crypto 
2021-09-23T17:21:23.737Z appoptics:patching patched https 
2021-09-23T17:21:23.738Z appoptics:patching patched http 
2021-09-23T17:21:23.789Z appoptics:patching patched pino 2.10.0
2021-09-23T17:21:23.793Z appoptics:debug starting runtimeMetrics


  pino v2.10.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1112 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:31.030Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:31.031Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:31.031Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:31.032Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:31.117Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:31.169Z appoptics:patching patched crypto 
2021-09-23T17:21:31.196Z appoptics:patching patched https 
2021-09-23T17:21:31.196Z appoptics:patching patched http 
2021-09-23T17:21:31.260Z appoptics:patching patched pino 2.10.1
2021-09-23T17:21:31.265Z appoptics:debug starting runtimeMetrics


  pino v2.10.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1112 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:37.951Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:37.952Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:37.952Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:37.952Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:38.019Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:38.067Z appoptics:patching patched crypto 
2021-09-23T17:21:38.091Z appoptics:patching patched https 
2021-09-23T17:21:38.091Z appoptics:patching patched http 
2021-09-23T17:21:38.142Z appoptics:patching patched pino 2.11.0
2021-09-23T17:21:38.146Z appoptics:debug starting runtimeMetrics


  pino v2.11.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (225ms)


changed 1 package, and audited 1112 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:45.445Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:45.446Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:45.446Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:45.446Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:45.512Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:45.560Z appoptics:patching patched crypto 
2021-09-23T17:21:45.583Z appoptics:patching patched https 
2021-09-23T17:21:45.584Z appoptics:patching patched http 
2021-09-23T17:21:45.635Z appoptics:patching patched pino 2.12.0
2021-09-23T17:21:45.639Z appoptics:debug starting runtimeMetrics


  pino v2.12.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:53.308Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:53.309Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:53.309Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:53.310Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:53.376Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:53.424Z appoptics:patching patched crypto 
2021-09-23T17:21:53.447Z appoptics:patching patched https 
2021-09-23T17:21:53.448Z appoptics:patching patched http 
2021-09-23T17:21:53.499Z appoptics:patching patched pino 2.12.1
2021-09-23T17:21:53.503Z appoptics:debug starting runtimeMetrics


  pino v2.12.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:22:01.433Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:01.434Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:01.434Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:01.435Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:01.501Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:01.549Z appoptics:patching patched crypto 
2021-09-23T17:22:01.573Z appoptics:patching patched https 
2021-09-23T17:22:01.573Z appoptics:patching patched http 
2021-09-23T17:22:01.624Z appoptics:patching patched pino 2.12.2
2021-09-23T17:22:01.629Z appoptics:debug starting runtimeMetrics


  pino v2.12.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1112 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:22:08.391Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:08.392Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:08.392Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:08.393Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:08.473Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:08.525Z appoptics:patching patched crypto 
2021-09-23T17:22:08.552Z appoptics:patching patched https 
2021-09-23T17:22:08.553Z appoptics:patching patched http 
2021-09-23T17:22:08.653Z appoptics:patching patched pino 2.12.3
2021-09-23T17:22:08.659Z appoptics:debug starting runtimeMetrics


  pino v2.12.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:22:16.342Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:16.342Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:16.342Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:16.343Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:16.410Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:16.458Z appoptics:patching patched crypto 
2021-09-23T17:22:16.481Z appoptics:patching patched https 
2021-09-23T17:22:16.481Z appoptics:patching patched http 
2021-09-23T17:22:16.532Z appoptics:patching patched pino 2.12.4
2021-09-23T17:22:16.537Z appoptics:debug starting runtimeMetrics


  pino v2.12.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:22:24.101Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:24.102Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:24.102Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:24.103Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:24.170Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:24.218Z appoptics:patching patched crypto 
2021-09-23T17:22:24.241Z appoptics:patching patched https 
2021-09-23T17:22:24.242Z appoptics:patching patched http 
2021-09-23T17:22:24.293Z appoptics:patching patched pino 2.13.0
2021-09-23T17:22:24.298Z appoptics:debug starting runtimeMetrics


  pino v2.13.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1112 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:22:32.627Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:32.628Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:32.628Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:32.629Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:32.700Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:32.755Z appoptics:patching patched crypto 
2021-09-23T17:22:32.781Z appoptics:patching patched https 
2021-09-23T17:22:32.781Z appoptics:patching patched http 
2021-09-23T17:22:32.834Z appoptics:patching patched pino 2.13.2
2021-09-23T17:22:32.838Z appoptics:debug starting runtimeMetrics


  pino v2.13.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (194ms)


changed 1 package, and audited 1112 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:22:40.037Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:40.039Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:40.039Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:40.040Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:40.105Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:40.153Z appoptics:patching patched crypto 
2021-09-23T17:22:40.177Z appoptics:patching patched https 
2021-09-23T17:22:40.177Z appoptics:patching patched http 
2021-09-23T17:22:40.227Z appoptics:patching patched pino 2.14.0
2021-09-23T17:22:40.231Z appoptics:debug starting runtimeMetrics


  pino v2.14.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:22:47.782Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:47.782Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:47.782Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:47.783Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:47.848Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:47.896Z appoptics:patching patched crypto 
2021-09-23T17:22:47.919Z appoptics:patching patched https 
2021-09-23T17:22:47.919Z appoptics:patching patched http 
2021-09-23T17:22:47.970Z appoptics:patching patched pino 2.15.0
2021-09-23T17:22:47.974Z appoptics:debug starting runtimeMetrics


  pino v2.15.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


added 1 package, removed 1 package, changed 1 package, and audited 1112 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:22:54.813Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:54.813Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:54.813Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:54.814Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:54.880Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:54.928Z appoptics:patching patched crypto 
2021-09-23T17:22:54.951Z appoptics:patching patched https 
2021-09-23T17:22:54.951Z appoptics:patching patched http 
2021-09-23T17:22:54.975Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:22:54.976Z appoptics:patching patched fs 
2021-09-23T17:22:55.008Z appoptics:patching patched pino 2.16.0
2021-09-23T17:22:55.013Z appoptics:debug starting runtimeMetrics


  pino v2.16.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


added 1 package, removed 1 package, changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:23:03.177Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:03.177Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:03.177Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:03.178Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:03.244Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:03.291Z appoptics:patching patched crypto 
2021-09-23T17:23:03.315Z appoptics:patching patched https 
2021-09-23T17:23:03.315Z appoptics:patching patched http 
2021-09-23T17:23:03.338Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:03.339Z appoptics:patching patched fs 
2021-09-23T17:23:03.362Z appoptics:patching patched pino 3.0.0
2021-09-23T17:23:03.366Z appoptics:debug starting runtimeMetrics


  pino v3.0.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


added 1 package, removed 1 package, changed 1 package, and audited 1112 packages in 16s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:23:20.518Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:20.519Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:20.519Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:20.520Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:20.612Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:20.694Z appoptics:patching patched crypto 
2021-09-23T17:23:20.719Z appoptics:patching patched https 
2021-09-23T17:23:20.719Z appoptics:patching patched http 
2021-09-23T17:23:20.743Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:20.743Z appoptics:patching patched fs 
2021-09-23T17:23:20.767Z appoptics:patching patched pino 3.0.1
2021-09-23T17:23:20.772Z appoptics:debug starting runtimeMetrics


  pino v3.0.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1112 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:23:29.060Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:29.061Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:29.061Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:29.061Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:29.128Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:29.175Z appoptics:patching patched crypto 
2021-09-23T17:23:29.199Z appoptics:patching patched https 
2021-09-23T17:23:29.200Z appoptics:patching patched http 
2021-09-23T17:23:29.223Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:29.224Z appoptics:patching patched fs 
2021-09-23T17:23:29.248Z appoptics:patching patched pino 3.0.2
2021-09-23T17:23:29.252Z appoptics:debug starting runtimeMetrics


  pino v3.0.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:23:36.768Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:36.769Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:36.769Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:36.769Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:36.835Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:36.883Z appoptics:patching patched crypto 
2021-09-23T17:23:36.906Z appoptics:patching patched https 
2021-09-23T17:23:36.907Z appoptics:patching patched http 
2021-09-23T17:23:36.930Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:36.930Z appoptics:patching patched fs 
2021-09-23T17:23:36.953Z appoptics:patching patched pino 3.0.3
2021-09-23T17:23:36.958Z appoptics:debug starting runtimeMetrics


  pino v3.0.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:23:44.301Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:44.301Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:44.301Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:44.302Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:44.368Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:44.416Z appoptics:patching patched crypto 
2021-09-23T17:23:44.440Z appoptics:patching patched https 
2021-09-23T17:23:44.441Z appoptics:patching patched http 
2021-09-23T17:23:44.464Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:44.464Z appoptics:patching patched fs 
2021-09-23T17:23:44.488Z appoptics:patching patched pino 3.0.4
2021-09-23T17:23:44.492Z appoptics:debug starting runtimeMetrics


  pino v3.0.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:23:51.883Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:51.883Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:51.884Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:51.884Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:51.951Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:51.998Z appoptics:patching patched crypto 
2021-09-23T17:23:52.022Z appoptics:patching patched https 
2021-09-23T17:23:52.022Z appoptics:patching patched http 
2021-09-23T17:23:52.045Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:52.046Z appoptics:patching patched fs 
2021-09-23T17:23:52.063Z appoptics:patching patched pino 3.0.5
2021-09-23T17:23:52.073Z appoptics:debug starting runtimeMetrics


  pino v3.0.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (106ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (188ms)


changed 1 package, and audited 1112 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:23:59.053Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:59.053Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:59.053Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:59.054Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:59.132Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:59.184Z appoptics:patching patched crypto 
2021-09-23T17:23:59.210Z appoptics:patching patched https 
2021-09-23T17:23:59.210Z appoptics:patching patched http 
2021-09-23T17:23:59.234Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:59.235Z appoptics:patching patched fs 
2021-09-23T17:23:59.258Z appoptics:patching patched pino 3.0.6
2021-09-23T17:23:59.270Z appoptics:debug starting runtimeMetrics


  pino v3.0.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (201ms)


changed 1 package, and audited 1112 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:24:06.567Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:06.568Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:06.568Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:06.568Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:06.633Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:06.681Z appoptics:patching patched crypto 
2021-09-23T17:24:06.704Z appoptics:patching patched https 
2021-09-23T17:24:06.704Z appoptics:patching patched http 
2021-09-23T17:24:06.727Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:24:06.727Z appoptics:patching patched fs 
2021-09-23T17:24:06.750Z appoptics:patching patched pino 3.0.7
2021-09-23T17:24:06.755Z appoptics:debug starting runtimeMetrics


  pino v3.0.7
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)


changed 1 package, and audited 1112 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:24:15.153Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:15.154Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:15.154Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:15.155Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:15.221Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:15.269Z appoptics:patching patched crypto 
2021-09-23T17:24:15.293Z appoptics:patching patched https 
2021-09-23T17:24:15.294Z appoptics:patching patched http 
2021-09-23T17:24:15.317Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:24:15.318Z appoptics:patching patched fs 
2021-09-23T17:24:15.341Z appoptics:patching patched pino 3.1.0
2021-09-23T17:24:15.346Z appoptics:debug starting runtimeMetrics


  pino v3.1.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1112 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:24:21.934Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:21.935Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:21.935Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:21.935Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:22.000Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:22.047Z appoptics:patching patched crypto 
2021-09-23T17:24:22.070Z appoptics:patching patched https 
2021-09-23T17:24:22.071Z appoptics:patching patched http 
2021-09-23T17:24:22.094Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:24:22.094Z appoptics:patching patched fs 
2021-09-23T17:24:22.117Z appoptics:patching patched pino 3.1.1
2021-09-23T17:24:22.122Z appoptics:debug starting runtimeMetrics


  pino v3.1.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:24:29.821Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:29.821Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:29.822Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:29.822Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:29.888Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:29.937Z appoptics:patching patched crypto 
2021-09-23T17:24:29.966Z appoptics:patching patched https 
2021-09-23T17:24:29.966Z appoptics:patching patched http 
2021-09-23T17:24:29.991Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:24:29.991Z appoptics:patching patched fs 
2021-09-23T17:24:30.008Z appoptics:patching patched pino 3.1.2
2021-09-23T17:24:30.019Z appoptics:debug starting runtimeMetrics


  pino v3.1.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (106ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (192ms)


changed 1 package, and audited 1112 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:24:36.967Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:36.968Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:36.968Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:36.969Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:37.063Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:37.112Z appoptics:patching patched crypto 
2021-09-23T17:24:37.138Z appoptics:patching patched https 
2021-09-23T17:24:37.138Z appoptics:patching patched http 
2021-09-23T17:24:37.162Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:24:37.163Z appoptics:patching patched fs 
2021-09-23T17:24:37.194Z appoptics:patching patched pino 3.1.3
2021-09-23T17:24:37.199Z appoptics:debug starting runtimeMetrics


  pino v3.1.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:24:44.711Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:44.712Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:44.712Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:44.713Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:44.779Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:44.827Z appoptics:patching patched crypto 
2021-09-23T17:24:44.850Z appoptics:patching patched https 
2021-09-23T17:24:44.851Z appoptics:patching patched http 
2021-09-23T17:24:44.874Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:24:44.875Z appoptics:patching patched fs 
2021-09-23T17:24:44.898Z appoptics:patching patched pino 3.2.0
2021-09-23T17:24:44.902Z appoptics:debug starting runtimeMetrics


  pino v3.2.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:24:52.467Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:52.468Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:52.468Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:52.468Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:52.533Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:52.581Z appoptics:patching patched crypto 
2021-09-23T17:24:52.604Z appoptics:patching patched https 
2021-09-23T17:24:52.605Z appoptics:patching patched http 
2021-09-23T17:24:52.627Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:24:52.628Z appoptics:patching patched fs 

Error: Cannot find module './lib/events'
Require stack:
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/pino.js
- /__w/appoptics-apm-node/appoptics-apm-node/test/probes/pino.test.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/esm-utils.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/mocha.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/one-and-dones.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/options.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/bin/mocha
    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:933:15)
    at Function.Module._load (node:internal/modules/cjs/loader:778:27)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/pino.js:7:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/pino.test.js:11:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.exports.requireOrImport (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/esm-utils.js:42:12)
    at Object.exports.loadFilesAsync (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/esm-utils.js:55:34)
    at Mocha.loadFilesAsync (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/mocha.js:473:19)
    at singleRun (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/run-helpers.js:125:15)
    at exports.runMocha (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/run-helpers.js:190:10)

changed 1 package, and audited 1112 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:24:58.940Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:58.941Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:58.941Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:58.942Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:59.007Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:59.055Z appoptics:patching patched crypto 
2021-09-23T17:24:59.078Z appoptics:patching patched https 
2021-09-23T17:24:59.079Z appoptics:patching patched http 
2021-09-23T17:24:59.101Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:24:59.101Z appoptics:patching patched fs 
2021-09-23T17:24:59.127Z appoptics:patching patched pino 3.3.1
2021-09-23T17:24:59.132Z appoptics:debug starting runtimeMetrics


  pino v3.3.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1112 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:25:06.856Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:06.857Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:06.857Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:06.857Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:06.923Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:06.971Z appoptics:patching patched crypto 
2021-09-23T17:25:06.994Z appoptics:patching patched https 
2021-09-23T17:25:06.994Z appoptics:patching patched http 
2021-09-23T17:25:07.017Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:25:07.017Z appoptics:patching patched fs 
2021-09-23T17:25:07.043Z appoptics:patching patched pino 3.3.2
2021-09-23T17:25:07.048Z appoptics:debug starting runtimeMetrics


  pino v3.3.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


added 2 packages, changed 1 package, and audited 1114 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:25:13.925Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:13.925Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:13.925Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:13.926Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:14.045Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:14.119Z appoptics:patching patched crypto 
2021-09-23T17:25:14.153Z appoptics:patching patched https 
2021-09-23T17:25:14.153Z appoptics:patching patched http 
2021-09-23T17:25:14.202Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:25:14.202Z appoptics:patching patched fs 
2021-09-23T17:25:14.255Z appoptics:patching patched pino 3.4.0
2021-09-23T17:25:14.267Z appoptics:debug starting runtimeMetrics


  pino v3.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1114 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:25:21.657Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:21.658Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:21.658Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:21.659Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:21.725Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:21.772Z appoptics:patching patched crypto 
2021-09-23T17:25:21.795Z appoptics:patching patched https 
2021-09-23T17:25:21.795Z appoptics:patching patched http 
2021-09-23T17:25:21.818Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:25:21.819Z appoptics:patching patched fs 
2021-09-23T17:25:21.846Z appoptics:patching patched pino 4.0.0
2021-09-23T17:25:21.851Z appoptics:debug starting runtimeMetrics


  pino v4.0.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1114 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:25:29.565Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:29.565Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:29.565Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:29.566Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:29.632Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:29.681Z appoptics:patching patched crypto 
2021-09-23T17:25:29.704Z appoptics:patching patched https 
2021-09-23T17:25:29.704Z appoptics:patching patched http 
2021-09-23T17:25:29.726Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:25:29.727Z appoptics:patching patched fs 
2021-09-23T17:25:29.754Z appoptics:patching patched pino 4.0.1
2021-09-23T17:25:29.759Z appoptics:debug starting runtimeMetrics


  pino v4.0.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1114 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:25:37.008Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:37.008Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:37.008Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:37.009Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:37.075Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:37.124Z appoptics:patching patched crypto 
2021-09-23T17:25:37.147Z appoptics:patching patched https 
2021-09-23T17:25:37.147Z appoptics:patching patched http 
2021-09-23T17:25:37.170Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:25:37.170Z appoptics:patching patched fs 
2021-09-23T17:25:37.197Z appoptics:patching patched pino 4.0.2
2021-09-23T17:25:37.201Z appoptics:debug starting runtimeMetrics


  pino v4.0.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1114 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:25:44.549Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:44.550Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:44.550Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:44.551Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:44.618Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:44.667Z appoptics:patching patched crypto 
2021-09-23T17:25:44.690Z appoptics:patching patched https 
2021-09-23T17:25:44.691Z appoptics:patching patched http 
2021-09-23T17:25:44.713Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:25:44.714Z appoptics:patching patched fs 
2021-09-23T17:25:44.741Z appoptics:patching patched pino 4.0.3
2021-09-23T17:25:44.745Z appoptics:debug starting runtimeMetrics


  pino v4.0.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (207ms)

npm ERR! code ENOENT
npm ERR! syscall chmod
npm ERR! path /__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/bin.js
npm ERR! errno -2
npm ERR! enoent ENOENT: no such file or directory, chmod '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/bin.js'
npm ERR! enoent This is related to npm not being able to find a file.
npm ERR! enoent 

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_25_50_732Z-debug.log

changed 154 packages, and audited 1114 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:25:59.471Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:59.472Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:59.472Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:59.473Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:59.541Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:59.589Z appoptics:patching patched crypto 
2021-09-23T17:25:59.612Z appoptics:patching patched https 
2021-09-23T17:25:59.612Z appoptics:patching patched http 
2021-09-23T17:25:59.635Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:25:59.635Z appoptics:patching patched fs 
2021-09-23T17:25:59.663Z appoptics:patching patched pino 4.1.1
2021-09-23T17:25:59.667Z appoptics:debug starting runtimeMetrics


  pino v4.1.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1114 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:26:07.550Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:07.550Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:07.551Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:07.551Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:07.617Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:07.665Z appoptics:patching patched crypto 
2021-09-23T17:26:07.688Z appoptics:patching patched https 
2021-09-23T17:26:07.688Z appoptics:patching patched http 
2021-09-23T17:26:07.710Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:26:07.711Z appoptics:patching patched fs 
2021-09-23T17:26:07.737Z appoptics:patching patched pino 4.1.2
2021-09-23T17:26:07.742Z appoptics:debug starting runtimeMetrics


  pino v4.1.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1114 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:26:14.298Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:14.299Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:14.299Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:14.300Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:14.366Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:14.414Z appoptics:patching patched crypto 
2021-09-23T17:26:14.437Z appoptics:patching patched https 
2021-09-23T17:26:14.438Z appoptics:patching patched http 
2021-09-23T17:26:14.461Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:26:14.461Z appoptics:patching patched fs 
2021-09-23T17:26:14.488Z appoptics:patching patched pino 4.2.0
2021-09-23T17:26:14.492Z appoptics:debug starting runtimeMetrics


  pino v4.2.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1114 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:26:22.283Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:22.284Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:22.284Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:22.285Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:22.353Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:22.405Z appoptics:patching patched crypto 
2021-09-23T17:26:22.428Z appoptics:patching patched https 
2021-09-23T17:26:22.428Z appoptics:patching patched http 
2021-09-23T17:26:22.451Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:26:22.452Z appoptics:patching patched fs 
2021-09-23T17:26:22.477Z appoptics:patching patched pino 4.2.1
2021-09-23T17:26:22.482Z appoptics:debug starting runtimeMetrics


  pino v4.2.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1114 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:26:29.843Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:29.844Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:29.844Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:29.845Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:29.947Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:30.002Z appoptics:patching patched crypto 
2021-09-23T17:26:30.028Z appoptics:patching patched https 
2021-09-23T17:26:30.028Z appoptics:patching patched http 
2021-09-23T17:26:30.051Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:26:30.052Z appoptics:patching patched fs 
2021-09-23T17:26:30.085Z appoptics:patching patched pino 4.2.2
2021-09-23T17:26:30.089Z appoptics:debug starting runtimeMetrics


  pino v4.2.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1114 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:26:37.254Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:37.254Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:37.254Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:37.255Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:37.333Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:37.386Z appoptics:patching patched crypto 
2021-09-23T17:26:37.412Z appoptics:patching patched https 
2021-09-23T17:26:37.412Z appoptics:patching patched http 
2021-09-23T17:26:37.436Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:26:37.436Z appoptics:patching patched fs 
2021-09-23T17:26:37.470Z appoptics:patching patched pino 4.2.3
2021-09-23T17:26:37.475Z appoptics:debug starting runtimeMetrics


  pino v4.2.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)


changed 1 package, and audited 1114 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:26:45.024Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:45.025Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:45.025Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:45.026Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:45.092Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:45.140Z appoptics:patching patched crypto 
2021-09-23T17:26:45.164Z appoptics:patching patched https 
2021-09-23T17:26:45.164Z appoptics:patching patched http 
2021-09-23T17:26:45.187Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:26:45.188Z appoptics:patching patched fs 
2021-09-23T17:26:45.214Z appoptics:patching patched pino 4.2.4
2021-09-23T17:26:45.218Z appoptics:debug starting runtimeMetrics


  pino v4.2.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1114 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:26:52.049Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:52.050Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:52.050Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:52.051Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:52.136Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:52.199Z appoptics:patching patched crypto 
2021-09-23T17:26:52.223Z appoptics:patching patched https 
2021-09-23T17:26:52.224Z appoptics:patching patched http 
2021-09-23T17:26:52.246Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:26:52.247Z appoptics:patching patched fs 
2021-09-23T17:26:52.273Z appoptics:patching patched pino 4.3.0
2021-09-23T17:26:52.278Z appoptics:debug starting runtimeMetrics


  pino v4.3.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)


changed 1 package, and audited 1114 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:27:00.053Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:00.054Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:00.054Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:00.054Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:00.120Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:00.168Z appoptics:patching patched crypto 
2021-09-23T17:27:00.192Z appoptics:patching patched https 
2021-09-23T17:27:00.192Z appoptics:patching patched http 
2021-09-23T17:27:00.215Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:27:00.215Z appoptics:patching patched fs 
2021-09-23T17:27:00.241Z appoptics:patching patched pino 4.4.0
2021-09-23T17:27:00.246Z appoptics:debug starting runtimeMetrics


  pino v4.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1114 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:27:07.578Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:07.579Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:07.579Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:07.580Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:07.670Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:07.723Z appoptics:patching patched crypto 
2021-09-23T17:27:07.749Z appoptics:patching patched https 
2021-09-23T17:27:07.749Z appoptics:patching patched http 
2021-09-23T17:27:07.772Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:27:07.773Z appoptics:patching patched fs 
2021-09-23T17:27:07.806Z appoptics:patching patched pino 4.5.0
2021-09-23T17:27:07.811Z appoptics:debug starting runtimeMetrics


  pino v4.5.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)


changed 1 package, and audited 1114 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:27:14.736Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:14.737Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:14.737Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:14.738Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:14.804Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:14.852Z appoptics:patching patched crypto 
2021-09-23T17:27:14.875Z appoptics:patching patched https 
2021-09-23T17:27:14.875Z appoptics:patching patched http 
2021-09-23T17:27:14.898Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:27:14.899Z appoptics:patching patched fs 
2021-09-23T17:27:14.925Z appoptics:patching patched pino 4.5.1
2021-09-23T17:27:14.930Z appoptics:debug starting runtimeMetrics


  pino v4.5.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1114 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:27:22.347Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:22.348Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:22.348Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:22.348Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:22.426Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:22.487Z appoptics:patching patched crypto 
2021-09-23T17:27:22.511Z appoptics:patching patched https 
2021-09-23T17:27:22.512Z appoptics:patching patched http 
2021-09-23T17:27:22.534Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:27:22.535Z appoptics:patching patched fs 
2021-09-23T17:27:22.562Z appoptics:patching patched pino 4.5.2
2021-09-23T17:27:22.567Z appoptics:debug starting runtimeMetrics


  pino v4.5.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (187ms)


changed 1 package, and audited 1114 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:27:29.725Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:29.726Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:29.726Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:29.727Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:29.791Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:29.839Z appoptics:patching patched crypto 
2021-09-23T17:27:29.861Z appoptics:patching patched https 
2021-09-23T17:27:29.862Z appoptics:patching patched http 
2021-09-23T17:27:29.884Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:27:29.884Z appoptics:patching patched fs 
2021-09-23T17:27:29.910Z appoptics:patching patched pino 4.5.3
2021-09-23T17:27:29.914Z appoptics:debug starting runtimeMetrics


  pino v4.5.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1114 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:27:37.681Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:37.682Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:37.682Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:37.683Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:37.766Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:37.832Z appoptics:patching patched crypto 
2021-09-23T17:27:37.867Z appoptics:patching patched https 
2021-09-23T17:27:37.867Z appoptics:patching patched http 
2021-09-23T17:27:37.907Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:27:37.908Z appoptics:patching patched fs 
2021-09-23T17:27:37.944Z appoptics:patching patched pino 4.5.4
2021-09-23T17:27:37.949Z appoptics:debug starting runtimeMetrics


  pino v4.5.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)


changed 1 package, and audited 1114 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:27:45.081Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:45.082Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:45.082Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:45.083Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:45.162Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:45.215Z appoptics:patching patched crypto 
2021-09-23T17:27:45.242Z appoptics:patching patched https 
2021-09-23T17:27:45.242Z appoptics:patching patched http 
2021-09-23T17:27:45.265Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:27:45.266Z appoptics:patching patched fs 
2021-09-23T17:27:45.301Z appoptics:patching patched pino 4.6.0
2021-09-23T17:27:45.306Z appoptics:debug starting runtimeMetrics


  pino v4.6.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)


added 3 packages, removed 4 packages, changed 4 packages, and audited 1113 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:27:52.280Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:52.281Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:52.281Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:52.282Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:52.347Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:52.394Z appoptics:patching patched crypto 
2021-09-23T17:27:52.417Z appoptics:patching patched https 
2021-09-23T17:27:52.418Z appoptics:patching patched http 
2021-09-23T17:27:52.439Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:27:52.440Z appoptics:patching patched fs 
2021-09-23T17:27:52.472Z appoptics:patching patched pino 4.7.0
2021-09-23T17:27:52.477Z appoptics:debug starting runtimeMetrics


  pino v4.7.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1113 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:28:00.243Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:28:00.244Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:28:00.244Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:28:00.244Z appoptics:debug using context provider: ace-context
2021-09-23T17:28:00.310Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:28:00.358Z appoptics:patching patched crypto 
2021-09-23T17:28:00.381Z appoptics:patching patched https 
2021-09-23T17:28:00.382Z appoptics:patching patched http 
2021-09-23T17:28:00.404Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:28:00.405Z appoptics:patching patched fs 
2021-09-23T17:28:00.437Z appoptics:patching patched pino 4.7.1
2021-09-23T17:28:00.441Z appoptics:debug starting runtimeMetrics


  pino v4.7.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1113 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:28:07.153Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:28:07.155Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:28:07.155Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:28:07.156Z appoptics:debug using context provider: ace-context
2021-09-23T17:28:07.230Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:28:07.279Z appoptics:patching patched crypto 
2021-09-23T17:28:07.303Z appoptics:patching patched https 
2021-09-23T17:28:07.303Z appoptics:patching patched http 
2021-09-23T17:28:07.326Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:28:07.327Z appoptics:patching patched fs 
2021-09-23T17:28:07.359Z appoptics:patching patched pino 4.7.2
2021-09-23T17:28:07.364Z appoptics:debug starting runtimeMetrics


  pino v4.7.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1113 packages in 27s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:28:34.997Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:28:34.998Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:28:34.998Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:28:34.999Z appoptics:debug using context provider: ace-context
2021-09-23T17:28:35.064Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:28:35.111Z appoptics:patching patched crypto 
2021-09-23T17:28:35.134Z appoptics:patching patched https 
2021-09-23T17:28:35.134Z appoptics:patching patched http 
2021-09-23T17:28:35.157Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:28:35.157Z appoptics:patching patched fs 
2021-09-23T17:28:35.191Z appoptics:patching patched pino 4.7.3
2021-09-23T17:28:35.196Z appoptics:debug starting runtimeMetrics


  pino v4.7.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1113 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:28:42.230Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:28:42.230Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:28:42.230Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:28:42.231Z appoptics:debug using context provider: ace-context
2021-09-23T17:28:42.297Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:28:42.345Z appoptics:patching patched crypto 
2021-09-23T17:28:42.368Z appoptics:patching patched https 
2021-09-23T17:28:42.369Z appoptics:patching patched http 
2021-09-23T17:28:42.391Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:28:42.391Z appoptics:patching patched fs 
2021-09-23T17:28:42.425Z appoptics:patching patched pino 4.8.0
2021-09-23T17:28:42.429Z appoptics:debug starting runtimeMetrics


  pino v4.8.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)


changed 1 package, and audited 1113 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:28:49.926Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:28:49.927Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:28:49.927Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:28:49.928Z appoptics:debug using context provider: ace-context
2021-09-23T17:28:50.003Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:28:50.050Z appoptics:patching patched crypto 
2021-09-23T17:28:50.074Z appoptics:patching patched https 
2021-09-23T17:28:50.074Z appoptics:patching patched http 
2021-09-23T17:28:50.097Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:28:50.098Z appoptics:patching patched fs 
2021-09-23T17:28:50.131Z appoptics:patching patched pino 4.8.1
2021-09-23T17:28:50.136Z appoptics:debug starting runtimeMetrics


  pino v4.8.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)


changed 1 package, and audited 1113 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:28:56.996Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:28:56.996Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:28:56.996Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:28:56.997Z appoptics:debug using context provider: ace-context
2021-09-23T17:28:57.075Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:28:57.129Z appoptics:patching patched crypto 
2021-09-23T17:28:57.156Z appoptics:patching patched https 
2021-09-23T17:28:57.156Z appoptics:patching patched http 
2021-09-23T17:28:57.180Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:28:57.180Z appoptics:patching patched fs 
2021-09-23T17:28:57.221Z appoptics:patching patched pino 4.8.2
2021-09-23T17:28:57.226Z appoptics:debug starting runtimeMetrics


  pino v4.8.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)


changed 1 package, and audited 1113 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:29:04.492Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:29:04.493Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:29:04.493Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:29:04.494Z appoptics:debug using context provider: ace-context
2021-09-23T17:29:04.559Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:29:04.607Z appoptics:patching patched crypto 
2021-09-23T17:29:04.630Z appoptics:patching patched https 
2021-09-23T17:29:04.631Z appoptics:patching patched http 
2021-09-23T17:29:04.653Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:29:04.653Z appoptics:patching patched fs 
2021-09-23T17:29:04.687Z appoptics:patching patched pino 4.9.0
2021-09-23T17:29:04.692Z appoptics:debug starting runtimeMetrics


  pino v4.9.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)


changed 1 package, and audited 1113 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:29:12.471Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:29:12.471Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:29:12.472Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:29:12.472Z appoptics:debug using context provider: ace-context
2021-09-23T17:29:12.538Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:29:12.586Z appoptics:patching patched crypto 
2021-09-23T17:29:12.609Z appoptics:patching patched https 
2021-09-23T17:29:12.609Z appoptics:patching patched http 
2021-09-23T17:29:12.632Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:29:12.632Z appoptics:patching patched fs 
2021-09-23T17:29:12.665Z appoptics:patching patched pino 4.10.0
2021-09-23T17:29:12.670Z appoptics:debug starting runtimeMetrics


  pino v4.10.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)


changed 1 package, and audited 1113 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:29:19.205Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:29:19.206Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:29:19.206Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:29:19.207Z appoptics:debug using context provider: ace-context
2021-09-23T17:29:19.274Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:29:19.322Z appoptics:patching patched crypto 
2021-09-23T17:29:19.345Z appoptics:patching patched https 
2021-09-23T17:29:19.346Z appoptics:patching patched http 
2021-09-23T17:29:19.368Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:29:19.368Z appoptics:patching patched fs 
2021-09-23T17:29:19.402Z appoptics:patching patched pino 4.10.1
2021-09-23T17:29:19.407Z appoptics:debug starting runtimeMetrics


  pino v4.10.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (192ms)


changed 1 package, and audited 1113 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:29:27.137Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:29:27.138Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:29:27.138Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:29:27.139Z appoptics:debug using context provider: ace-context
2021-09-23T17:29:27.234Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:29:27.286Z appoptics:patching patched crypto 
2021-09-23T17:29:27.311Z appoptics:patching patched https 
2021-09-23T17:29:27.312Z appoptics:patching patched http 
2021-09-23T17:29:27.337Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:29:27.337Z appoptics:patching patched fs 
2021-09-23T17:29:27.370Z appoptics:patching patched pino 4.10.2
2021-09-23T17:29:27.374Z appoptics:debug starting runtimeMetrics


  pino v4.10.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)


changed 2 packages, and audited 1113 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:29:35.251Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:29:35.252Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:29:35.252Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:29:35.252Z appoptics:debug using context provider: ace-context
2021-09-23T17:29:35.331Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:29:35.381Z appoptics:patching patched crypto 
2021-09-23T17:29:35.407Z appoptics:patching patched https 
2021-09-23T17:29:35.408Z appoptics:patching patched http 
2021-09-23T17:29:35.431Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:29:35.432Z appoptics:patching patched fs 
2021-09-23T17:29:35.473Z appoptics:patching patched pino 4.10.3
2021-09-23T17:29:35.478Z appoptics:debug starting runtimeMetrics


  pino v4.10.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (241ms)


changed 1 package, and audited 1113 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:29:42.327Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:29:42.328Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:29:42.328Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:29:42.328Z appoptics:debug using context provider: ace-context
2021-09-23T17:29:42.398Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:29:42.446Z appoptics:patching patched crypto 
2021-09-23T17:29:42.469Z appoptics:patching patched https 
2021-09-23T17:29:42.469Z appoptics:patching patched http 
2021-09-23T17:29:42.492Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:29:42.492Z appoptics:patching patched fs 
2021-09-23T17:29:42.524Z appoptics:patching patched pino 4.10.4
2021-09-23T17:29:42.529Z appoptics:debug starting runtimeMetrics


  pino v4.10.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1113 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:29:49.863Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:29:49.863Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:29:49.863Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:29:49.864Z appoptics:debug using context provider: ace-context
2021-09-23T17:29:49.930Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:29:49.979Z appoptics:patching patched crypto 
2021-09-23T17:29:50.002Z appoptics:patching patched https 
2021-09-23T17:29:50.002Z appoptics:patching patched http 
2021-09-23T17:29:50.027Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:29:50.027Z appoptics:patching patched fs 
2021-09-23T17:29:50.070Z appoptics:patching patched pino 4.11.0
2021-09-23T17:29:50.074Z appoptics:debug starting runtimeMetrics


  pino v4.11.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


added 1 package, changed 1 package, and audited 1114 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:29:56.822Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:29:56.823Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:29:56.823Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:29:56.824Z appoptics:debug using context provider: ace-context
2021-09-23T17:29:56.902Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:29:56.959Z appoptics:patching patched crypto 
2021-09-23T17:29:56.985Z appoptics:patching patched https 
2021-09-23T17:29:56.986Z appoptics:patching patched http 
2021-09-23T17:29:57.012Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:29:57.012Z appoptics:patching patched fs 
2021-09-23T17:29:57.048Z appoptics:patching patched pino 4.12.0
2021-09-23T17:29:57.053Z appoptics:debug starting runtimeMetrics


  pino v4.12.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1114 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:30:04.180Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:30:04.180Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:30:04.180Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:30:04.181Z appoptics:debug using context provider: ace-context
2021-09-23T17:30:04.260Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:30:04.315Z appoptics:patching patched crypto 
2021-09-23T17:30:04.339Z appoptics:patching patched https 
2021-09-23T17:30:04.339Z appoptics:patching patched http 
2021-09-23T17:30:04.363Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:30:04.364Z appoptics:patching patched fs 
2021-09-23T17:30:04.397Z appoptics:patching patched pino 4.13.0
2021-09-23T17:30:04.402Z appoptics:debug starting runtimeMetrics


  pino v4.13.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 2 packages, and audited 1114 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:30:11.755Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:30:11.755Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:30:11.755Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:30:11.756Z appoptics:debug using context provider: ace-context
2021-09-23T17:30:11.836Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:30:11.889Z appoptics:patching patched crypto 
2021-09-23T17:30:11.915Z appoptics:patching patched https 
2021-09-23T17:30:11.916Z appoptics:patching patched http 
2021-09-23T17:30:11.942Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:30:11.942Z appoptics:patching patched fs 
2021-09-23T17:30:11.983Z appoptics:patching patched pino 4.14.0
2021-09-23T17:30:11.988Z appoptics:debug starting runtimeMetrics


  pino v4.14.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)


changed 1 package, and audited 1114 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:30:18.943Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:30:18.943Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:30:18.943Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:30:18.944Z appoptics:debug using context provider: ace-context
2021-09-23T17:30:19.021Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:30:19.074Z appoptics:patching patched crypto 
2021-09-23T17:30:19.100Z appoptics:patching patched https 
2021-09-23T17:30:19.100Z appoptics:patching patched http 
2021-09-23T17:30:19.125Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:30:19.125Z appoptics:patching patched fs 
2021-09-23T17:30:19.164Z appoptics:patching patched pino 4.15.0
2021-09-23T17:30:19.169Z appoptics:debug starting runtimeMetrics


  pino v4.15.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)


changed 1 package, and audited 1114 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:30:26.231Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:30:26.232Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:30:26.232Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:30:26.233Z appoptics:debug using context provider: ace-context
2021-09-23T17:30:26.298Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:30:26.346Z appoptics:patching patched crypto 
2021-09-23T17:30:26.369Z appoptics:patching patched https 
2021-09-23T17:30:26.369Z appoptics:patching patched http 
2021-09-23T17:30:26.395Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:30:26.395Z appoptics:patching patched fs 
2021-09-23T17:30:26.435Z appoptics:patching patched pino 4.15.1
2021-09-23T17:30:26.440Z appoptics:debug starting runtimeMetrics


  pino v4.15.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1114 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:30:33.253Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:30:33.253Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:30:33.253Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:30:33.254Z appoptics:debug using context provider: ace-context
2021-09-23T17:30:33.322Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:30:33.372Z appoptics:patching patched crypto 
2021-09-23T17:30:33.397Z appoptics:patching patched https 
2021-09-23T17:30:33.397Z appoptics:patching patched http 
2021-09-23T17:30:33.423Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:30:33.423Z appoptics:patching patched fs 
2021-09-23T17:30:33.455Z appoptics:patching patched pino 4.15.2
2021-09-23T17:30:33.460Z appoptics:debug starting runtimeMetrics


  pino v4.15.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 2 packages, and audited 1114 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:30:40.788Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:30:40.789Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:30:40.789Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:30:40.790Z appoptics:debug using context provider: ace-context
2021-09-23T17:30:40.870Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:30:40.948Z appoptics:patching patched crypto 
2021-09-23T17:30:40.975Z appoptics:patching patched https 
2021-09-23T17:30:40.975Z appoptics:patching patched http 
2021-09-23T17:30:41.013Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:30:41.013Z appoptics:patching patched fs 
2021-09-23T17:30:41.080Z appoptics:patching patched pino 4.15.3
2021-09-23T17:30:41.085Z appoptics:debug starting runtimeMetrics


  pino v4.15.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)


changed 1 package, and audited 1114 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:30:47.567Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:30:47.568Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:30:47.568Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:30:47.569Z appoptics:debug using context provider: ace-context
2021-09-23T17:30:47.635Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:30:47.682Z appoptics:patching patched crypto 
2021-09-23T17:30:47.706Z appoptics:patching patched https 
2021-09-23T17:30:47.706Z appoptics:patching patched http 
2021-09-23T17:30:47.731Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:30:47.731Z appoptics:patching patched fs 
2021-09-23T17:30:47.764Z appoptics:patching patched pino 4.15.4
2021-09-23T17:30:47.769Z appoptics:debug starting runtimeMetrics


  pino v4.15.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)


changed 1 package, and audited 1114 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:30:54.995Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:30:54.995Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:30:54.995Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:30:54.996Z appoptics:debug using context provider: ace-context
2021-09-23T17:30:55.063Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:30:55.111Z appoptics:patching patched crypto 
2021-09-23T17:30:55.135Z appoptics:patching patched https 
2021-09-23T17:30:55.135Z appoptics:patching patched http 
2021-09-23T17:30:55.161Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:30:55.161Z appoptics:patching patched fs 
2021-09-23T17:30:55.195Z appoptics:patching patched pino 4.16.0
2021-09-23T17:30:55.199Z appoptics:debug starting runtimeMetrics


  pino v4.16.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1114 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:31:02.255Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:31:02.255Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:31:02.256Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:31:02.256Z appoptics:debug using context provider: ace-context
2021-09-23T17:31:02.520Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:31:02.652Z appoptics:patching patched crypto 
2021-09-23T17:31:02.676Z appoptics:patching patched https 
2021-09-23T17:31:02.677Z appoptics:patching patched http 
2021-09-23T17:31:02.701Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:31:02.702Z appoptics:patching patched fs 
2021-09-23T17:31:02.745Z appoptics:patching patched pino 4.16.1
2021-09-23T17:31:02.750Z appoptics:debug starting runtimeMetrics


  pino v4.16.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)


changed 1 package, and audited 1114 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:31:09.223Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:31:09.224Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:31:09.224Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:31:09.225Z appoptics:debug using context provider: ace-context
2021-09-23T17:31:09.289Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:31:09.336Z appoptics:patching patched crypto 
2021-09-23T17:31:09.359Z appoptics:patching patched https 
2021-09-23T17:31:09.360Z appoptics:patching patched http 
2021-09-23T17:31:09.384Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:31:09.384Z appoptics:patching patched fs 
2021-09-23T17:31:09.416Z appoptics:patching patched pino 4.17.0
2021-09-23T17:31:09.420Z appoptics:debug starting runtimeMetrics


  pino v4.17.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1114 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:31:17.149Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:31:17.150Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:31:17.152Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:31:17.153Z appoptics:debug using context provider: ace-context
2021-09-23T17:31:17.264Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:31:17.311Z appoptics:patching patched crypto 
2021-09-23T17:31:17.335Z appoptics:patching patched https 
2021-09-23T17:31:17.335Z appoptics:patching patched http 
2021-09-23T17:31:17.359Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:31:17.360Z appoptics:patching patched fs 
2021-09-23T17:31:17.392Z appoptics:patching patched pino 4.17.1
2021-09-23T17:31:17.397Z appoptics:debug starting runtimeMetrics


  pino v4.17.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)


changed 1 package, and audited 1114 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:31:24.163Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:31:24.164Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:31:24.164Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:31:24.165Z appoptics:debug using context provider: ace-context
2021-09-23T17:31:24.230Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:31:24.277Z appoptics:patching patched crypto 
2021-09-23T17:31:24.300Z appoptics:patching patched https 
2021-09-23T17:31:24.300Z appoptics:patching patched http 
2021-09-23T17:31:24.325Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:31:24.325Z appoptics:patching patched fs 
2021-09-23T17:31:24.358Z appoptics:patching patched pino 4.17.2
2021-09-23T17:31:24.362Z appoptics:debug starting runtimeMetrics


  pino v4.17.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)


changed 1 package, and audited 1114 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:31:31.946Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:31:31.947Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:31:31.947Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:31:31.947Z appoptics:debug using context provider: ace-context
2021-09-23T17:31:32.037Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:31:32.093Z appoptics:patching patched crypto 
2021-09-23T17:31:32.116Z appoptics:patching patched https 
2021-09-23T17:31:32.117Z appoptics:patching patched http 
2021-09-23T17:31:32.141Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:31:32.141Z appoptics:patching patched fs 
2021-09-23T17:31:32.174Z appoptics:patching patched pino 4.17.3
2021-09-23T17:31:32.179Z appoptics:debug starting runtimeMetrics


  pino v4.17.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)


changed 1 package, and audited 1114 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:31:39.095Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:31:39.096Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:31:39.096Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:31:39.097Z appoptics:debug using context provider: ace-context
2021-09-23T17:31:39.174Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:31:39.224Z appoptics:patching patched crypto 
2021-09-23T17:31:39.250Z appoptics:patching patched https 
2021-09-23T17:31:39.250Z appoptics:patching patched http 
2021-09-23T17:31:39.275Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:31:39.275Z appoptics:patching patched fs 
2021-09-23T17:31:39.315Z appoptics:patching patched pino 4.17.5
2021-09-23T17:31:39.319Z appoptics:debug starting runtimeMetrics


  pino v4.17.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1114 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:31:45.924Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:31:45.925Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:31:45.925Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:31:45.926Z appoptics:debug using context provider: ace-context
2021-09-23T17:31:45.991Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:31:46.039Z appoptics:patching patched crypto 
2021-09-23T17:31:46.062Z appoptics:patching patched https 
2021-09-23T17:31:46.062Z appoptics:patching patched http 
2021-09-23T17:31:46.086Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:31:46.087Z appoptics:patching patched fs 
2021-09-23T17:31:46.119Z appoptics:patching patched pino 4.17.6
2021-09-23T17:31:46.124Z appoptics:debug starting runtimeMetrics


  pino v4.17.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (105ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)


added 2 packages, removed 12 packages, changed 3 packages, and audited 1104 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:31:53.588Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:31:53.589Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:31:53.589Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:31:53.589Z appoptics:debug using context provider: ace-context
2021-09-23T17:31:53.654Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:31:53.701Z appoptics:patching patched crypto 
2021-09-23T17:31:53.724Z appoptics:patching patched https 
2021-09-23T17:31:53.725Z appoptics:patching patched http 
2021-09-23T17:31:53.748Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:31:53.749Z appoptics:patching patched fs 
2021-09-23T17:31:53.760Z appoptics:patching patched pino 5.0.0
2021-09-23T17:31:53.765Z appoptics:debug starting runtimeMetrics


  pino v5.0.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 2 packages, and audited 1104 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:32:00.388Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:32:00.389Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:32:00.389Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:32:00.390Z appoptics:debug using context provider: ace-context
2021-09-23T17:32:00.454Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:32:00.501Z appoptics:patching patched crypto 
2021-09-23T17:32:00.524Z appoptics:patching patched https 
2021-09-23T17:32:00.524Z appoptics:patching patched http 
2021-09-23T17:32:00.548Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:32:00.548Z appoptics:patching patched fs 
2021-09-23T17:32:00.559Z appoptics:patching patched pino 5.0.1
2021-09-23T17:32:00.564Z appoptics:debug starting runtimeMetrics


  pino v5.0.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1104 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:32:08.288Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:32:08.289Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:32:08.289Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:32:08.290Z appoptics:debug using context provider: ace-context
2021-09-23T17:32:08.356Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:32:08.405Z appoptics:patching patched crypto 
2021-09-23T17:32:08.428Z appoptics:patching patched https 
2021-09-23T17:32:08.428Z appoptics:patching patched http 
2021-09-23T17:32:08.452Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:32:08.453Z appoptics:patching patched fs 
2021-09-23T17:32:08.464Z appoptics:patching patched pino 5.0.2
2021-09-23T17:32:08.469Z appoptics:debug starting runtimeMetrics


  pino v5.0.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1104 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:32:15.244Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:32:15.244Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:32:15.245Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:32:15.245Z appoptics:debug using context provider: ace-context
2021-09-23T17:32:15.321Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:32:15.368Z appoptics:patching patched crypto 
2021-09-23T17:32:15.393Z appoptics:patching patched https 
2021-09-23T17:32:15.394Z appoptics:patching patched http 
2021-09-23T17:32:15.418Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:32:15.419Z appoptics:patching patched fs 
2021-09-23T17:32:15.436Z appoptics:patching patched pino 5.0.3
2021-09-23T17:32:15.441Z appoptics:debug starting runtimeMetrics


  pino v5.0.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1104 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:32:22.969Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:32:22.970Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:32:22.970Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:32:22.971Z appoptics:debug using context provider: ace-context
2021-09-23T17:32:23.078Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:32:23.145Z appoptics:patching patched crypto 
2021-09-23T17:32:23.174Z appoptics:patching patched https 
2021-09-23T17:32:23.174Z appoptics:patching patched http 
2021-09-23T17:32:23.200Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:32:23.200Z appoptics:patching patched fs 
2021-09-23T17:32:23.212Z appoptics:patching patched pino 5.0.4
2021-09-23T17:32:23.216Z appoptics:debug starting runtimeMetrics


  pino v5.0.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1104 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:32:30.539Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:32:30.540Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:32:30.540Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:32:30.540Z appoptics:debug using context provider: ace-context
2021-09-23T17:32:30.605Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:32:30.652Z appoptics:patching patched crypto 
2021-09-23T17:32:30.676Z appoptics:patching patched https 
2021-09-23T17:32:30.676Z appoptics:patching patched http 
2021-09-23T17:32:30.702Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:32:30.702Z appoptics:patching patched fs 
2021-09-23T17:32:30.714Z appoptics:patching patched pino 5.0.5
2021-09-23T17:32:30.719Z appoptics:debug starting runtimeMetrics


  pino v5.0.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (182ms)


changed 1 package, and audited 1104 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:32:37.336Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:32:37.337Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:32:37.337Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:32:37.337Z appoptics:debug using context provider: ace-context
2021-09-23T17:32:37.430Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:32:37.487Z appoptics:patching patched crypto 
2021-09-23T17:32:37.511Z appoptics:patching patched https 
2021-09-23T17:32:37.512Z appoptics:patching patched http 
2021-09-23T17:32:37.537Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:32:37.538Z appoptics:patching patched fs 
2021-09-23T17:32:37.550Z appoptics:patching patched pino 5.1.0
2021-09-23T17:32:37.555Z appoptics:debug starting runtimeMetrics


  pino v5.1.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)


changed 1 package, and audited 1104 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:32:44.969Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:32:44.969Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:32:44.969Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:32:44.970Z appoptics:debug using context provider: ace-context
2021-09-23T17:32:45.037Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:32:45.085Z appoptics:patching patched crypto 
2021-09-23T17:32:45.108Z appoptics:patching patched https 
2021-09-23T17:32:45.109Z appoptics:patching patched http 
2021-09-23T17:32:45.134Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:32:45.135Z appoptics:patching patched fs 
2021-09-23T17:32:45.146Z appoptics:patching patched pino 5.1.1
2021-09-23T17:32:45.151Z appoptics:debug starting runtimeMetrics


  pino v5.1.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1104 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:32:52.026Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:32:52.027Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:32:52.027Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:32:52.027Z appoptics:debug using context provider: ace-context
2021-09-23T17:32:52.105Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:32:52.156Z appoptics:patching patched crypto 
2021-09-23T17:32:52.182Z appoptics:patching patched https 
2021-09-23T17:32:52.183Z appoptics:patching patched http 
2021-09-23T17:32:52.207Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:32:52.208Z appoptics:patching patched fs 
2021-09-23T17:32:52.225Z appoptics:patching patched pino 5.2.0
2021-09-23T17:32:52.230Z appoptics:debug starting runtimeMetrics


  pino v5.2.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1104 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:32:59.673Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:32:59.673Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:32:59.673Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:32:59.674Z appoptics:debug using context provider: ace-context
2021-09-23T17:32:59.740Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:32:59.788Z appoptics:patching patched crypto 
2021-09-23T17:32:59.811Z appoptics:patching patched https 
2021-09-23T17:32:59.812Z appoptics:patching patched http 
2021-09-23T17:32:59.836Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:32:59.836Z appoptics:patching patched fs 
2021-09-23T17:32:59.849Z appoptics:patching patched pino 5.3.0
2021-09-23T17:32:59.853Z appoptics:debug starting runtimeMetrics


  pino v5.3.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1104 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:33:07.334Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:33:07.335Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:33:07.335Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:33:07.336Z appoptics:debug using context provider: ace-context
2021-09-23T17:33:07.401Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:33:07.449Z appoptics:patching patched crypto 
2021-09-23T17:33:07.472Z appoptics:patching patched https 
2021-09-23T17:33:07.472Z appoptics:patching patched http 
2021-09-23T17:33:07.496Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:33:07.497Z appoptics:patching patched fs 
2021-09-23T17:33:07.508Z appoptics:patching patched pino 5.3.1
2021-09-23T17:33:07.513Z appoptics:debug starting runtimeMetrics


  pino v5.3.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)


changed 1 package, and audited 1104 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:33:14.509Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:33:14.509Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:33:14.509Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:33:14.510Z appoptics:debug using context provider: ace-context
2021-09-23T17:33:14.585Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:33:14.632Z appoptics:patching patched crypto 
2021-09-23T17:33:14.656Z appoptics:patching patched https 
2021-09-23T17:33:14.656Z appoptics:patching patched http 
2021-09-23T17:33:14.682Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:33:14.682Z appoptics:patching patched fs 
2021-09-23T17:33:14.694Z appoptics:patching patched pino 5.4.0
2021-09-23T17:33:14.699Z appoptics:debug starting runtimeMetrics


  pino v5.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1104 packages in 11s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:33:26.817Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:33:26.817Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:33:26.817Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:33:26.818Z appoptics:debug using context provider: ace-context
2021-09-23T17:33:26.895Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:33:26.946Z appoptics:patching patched crypto 
2021-09-23T17:33:26.972Z appoptics:patching patched https 
2021-09-23T17:33:26.973Z appoptics:patching patched http 
2021-09-23T17:33:26.997Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:33:26.998Z appoptics:patching patched fs 
2021-09-23T17:33:27.015Z appoptics:patching patched pino 5.4.1
2021-09-23T17:33:27.020Z appoptics:debug starting runtimeMetrics


  pino v5.4.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)


changed 1 package, and audited 1104 packages in 13s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:33:41.085Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:33:41.086Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:33:41.086Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:33:41.087Z appoptics:debug using context provider: ace-context
2021-09-23T17:33:41.153Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:33:41.201Z appoptics:patching patched crypto 
2021-09-23T17:33:41.236Z appoptics:patching patched https 
2021-09-23T17:33:41.236Z appoptics:patching patched http 
2021-09-23T17:33:41.262Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:33:41.263Z appoptics:patching patched fs 
2021-09-23T17:33:41.276Z appoptics:patching patched pino 5.5.0
2021-09-23T17:33:41.281Z appoptics:debug starting runtimeMetrics


  pino v5.5.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1104 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:33:48.787Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:33:48.788Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:33:48.788Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:33:48.789Z appoptics:debug using context provider: ace-context
2021-09-23T17:33:48.868Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:33:48.920Z appoptics:patching patched crypto 
2021-09-23T17:33:48.946Z appoptics:patching patched https 
2021-09-23T17:33:48.947Z appoptics:patching patched http 
2021-09-23T17:33:48.972Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:33:48.972Z appoptics:patching patched fs 
2021-09-23T17:33:48.990Z appoptics:patching patched pino 5.6.0
2021-09-23T17:33:48.995Z appoptics:debug starting runtimeMetrics


  pino v5.6.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1104 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:33:56.228Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:33:56.229Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:33:56.229Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:33:56.230Z appoptics:debug using context provider: ace-context
2021-09-23T17:33:56.295Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:33:56.342Z appoptics:patching patched crypto 
2021-09-23T17:33:56.366Z appoptics:patching patched https 
2021-09-23T17:33:56.366Z appoptics:patching patched http 
2021-09-23T17:33:56.389Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:33:56.390Z appoptics:patching patched fs 
2021-09-23T17:33:56.401Z appoptics:patching patched pino 5.6.1
2021-09-23T17:33:56.406Z appoptics:debug starting runtimeMetrics


  pino v5.6.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1104 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:34:03.038Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:34:03.039Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:34:03.039Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:34:03.040Z appoptics:debug using context provider: ace-context
2021-09-23T17:34:03.106Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:34:03.154Z appoptics:patching patched crypto 
2021-09-23T17:34:03.177Z appoptics:patching patched https 
2021-09-23T17:34:03.178Z appoptics:patching patched http 
2021-09-23T17:34:03.201Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:34:03.202Z appoptics:patching patched fs 
2021-09-23T17:34:03.213Z appoptics:patching patched pino 5.6.2
2021-09-23T17:34:03.218Z appoptics:debug starting runtimeMetrics


  pino v5.6.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (105ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1104 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:34:10.942Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:34:10.942Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:34:10.942Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:34:10.943Z appoptics:debug using context provider: ace-context
2021-09-23T17:34:11.020Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:34:11.075Z appoptics:patching patched crypto 
2021-09-23T17:34:11.099Z appoptics:patching patched https 
2021-09-23T17:34:11.100Z appoptics:patching patched http 
2021-09-23T17:34:11.124Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:34:11.124Z appoptics:patching patched fs 
2021-09-23T17:34:11.137Z appoptics:patching patched pino 5.6.3
2021-09-23T17:34:11.142Z appoptics:debug starting runtimeMetrics


  pino v5.6.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1104 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:34:18.267Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:34:18.267Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:34:18.268Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:34:18.268Z appoptics:debug using context provider: ace-context
2021-09-23T17:34:18.357Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:34:18.408Z appoptics:patching patched crypto 
2021-09-23T17:34:18.432Z appoptics:patching patched https 
2021-09-23T17:34:18.432Z appoptics:patching patched http 
2021-09-23T17:34:18.456Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:34:18.457Z appoptics:patching patched fs 
2021-09-23T17:34:18.470Z appoptics:patching patched pino 5.6.4
2021-09-23T17:34:18.475Z appoptics:debug starting runtimeMetrics


  pino v5.6.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (194ms)


changed 1 package, and audited 1104 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:34:25.686Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:34:25.687Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:34:25.687Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:34:25.688Z appoptics:debug using context provider: ace-context
2021-09-23T17:34:25.753Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:34:25.800Z appoptics:patching patched crypto 
2021-09-23T17:34:25.823Z appoptics:patching patched https 
2021-09-23T17:34:25.823Z appoptics:patching patched http 
2021-09-23T17:34:25.849Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:34:25.849Z appoptics:patching patched fs 
2021-09-23T17:34:25.861Z appoptics:patching patched pino 5.7.0
2021-09-23T17:34:25.866Z appoptics:debug starting runtimeMetrics


  pino v5.7.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1104 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:34:33.555Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:34:33.555Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:34:33.555Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:34:33.556Z appoptics:debug using context provider: ace-context
2021-09-23T17:34:33.621Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:34:33.668Z appoptics:patching patched crypto 
2021-09-23T17:34:33.691Z appoptics:patching patched https 
2021-09-23T17:34:33.691Z appoptics:patching patched http 
2021-09-23T17:34:33.715Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:34:33.715Z appoptics:patching patched fs 
2021-09-23T17:34:33.726Z appoptics:patching patched pino 5.8.0
2021-09-23T17:34:33.731Z appoptics:debug starting runtimeMetrics


  pino v5.8.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1104 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:34:40.434Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:34:40.434Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:34:40.434Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:34:40.435Z appoptics:debug using context provider: ace-context
2021-09-23T17:34:40.501Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:34:40.550Z appoptics:patching patched crypto 
2021-09-23T17:34:40.576Z appoptics:patching patched https 
2021-09-23T17:34:40.577Z appoptics:patching patched http 
2021-09-23T17:34:40.605Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:34:40.605Z appoptics:patching patched fs 
2021-09-23T17:34:40.612Z appoptics:patching patched pino 5.8.1
2021-09-23T17:34:40.617Z appoptics:debug starting runtimeMetrics


  pino v5.8.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1104 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:34:48.242Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:34:48.242Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:34:48.242Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:34:48.243Z appoptics:debug using context provider: ace-context
2021-09-23T17:34:48.308Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:34:48.356Z appoptics:patching patched crypto 
2021-09-23T17:34:48.379Z appoptics:patching patched https 
2021-09-23T17:34:48.379Z appoptics:patching patched http 
2021-09-23T17:34:48.407Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:34:48.407Z appoptics:patching patched fs 
2021-09-23T17:34:48.414Z appoptics:patching patched pino 5.9.0
2021-09-23T17:34:48.419Z appoptics:debug starting runtimeMetrics


  pino v5.9.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


added 1 package, changed 2 packages, and audited 1105 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:34:55.288Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:34:55.289Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:34:55.289Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:34:55.292Z appoptics:debug using context provider: ace-context
2021-09-23T17:34:55.377Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:34:55.428Z appoptics:patching patched crypto 
2021-09-23T17:34:55.455Z appoptics:patching patched https 
2021-09-23T17:34:55.456Z appoptics:patching patched http 
2021-09-23T17:34:55.486Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:34:55.486Z appoptics:patching patched fs 
2021-09-23T17:34:55.500Z appoptics:patching patched pino 5.10.1
2021-09-23T17:34:55.505Z appoptics:debug starting runtimeMetrics


  pino v5.10.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1105 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:35:02.860Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:35:02.861Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:35:02.861Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:35:02.861Z appoptics:debug using context provider: ace-context
2021-09-23T17:35:02.927Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:35:02.975Z appoptics:patching patched crypto 
2021-09-23T17:35:02.998Z appoptics:patching patched https 
2021-09-23T17:35:02.999Z appoptics:patching patched http 
2021-09-23T17:35:03.027Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:35:03.028Z appoptics:patching patched fs 
2021-09-23T17:35:03.035Z appoptics:patching patched pino 5.10.2
2021-09-23T17:35:03.040Z appoptics:debug starting runtimeMetrics


  pino v5.10.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1105 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:35:11.219Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:35:11.220Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:35:11.220Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:35:11.221Z appoptics:debug using context provider: ace-context
2021-09-23T17:35:11.286Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:35:11.333Z appoptics:patching patched crypto 
2021-09-23T17:35:11.356Z appoptics:patching patched https 
2021-09-23T17:35:11.357Z appoptics:patching patched http 
2021-09-23T17:35:11.385Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:35:11.385Z appoptics:patching patched fs 
2021-09-23T17:35:11.392Z appoptics:patching patched pino 5.10.3
2021-09-23T17:35:11.397Z appoptics:debug starting runtimeMetrics


  pino v5.10.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1105 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:35:18.262Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:35:18.263Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:35:18.263Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:35:18.263Z appoptics:debug using context provider: ace-context
2021-09-23T17:35:18.329Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:35:18.377Z appoptics:patching patched crypto 
2021-09-23T17:35:18.401Z appoptics:patching patched https 
2021-09-23T17:35:18.401Z appoptics:patching patched http 
2021-09-23T17:35:18.429Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:35:18.430Z appoptics:patching patched fs 
2021-09-23T17:35:18.437Z appoptics:patching patched pino 5.10.4
2021-09-23T17:35:18.442Z appoptics:debug starting runtimeMetrics


  pino v5.10.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


removed 3 packages, changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:35:25.653Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:35:25.653Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:35:25.653Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:35:25.654Z appoptics:debug using context provider: ace-context
2021-09-23T17:35:25.720Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:35:25.768Z appoptics:patching patched crypto 
2021-09-23T17:35:25.791Z appoptics:patching patched https 
2021-09-23T17:35:25.792Z appoptics:patching patched http 
2021-09-23T17:35:25.820Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:35:25.821Z appoptics:patching patched fs 
2021-09-23T17:35:25.828Z appoptics:patching patched pino 5.10.5
2021-09-23T17:35:25.833Z appoptics:debug starting runtimeMetrics


  pino v5.10.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (105ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:35:32.902Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:35:32.903Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:35:32.903Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:35:32.904Z appoptics:debug using context provider: ace-context
2021-09-23T17:35:32.983Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:35:33.037Z appoptics:patching patched crypto 
2021-09-23T17:35:33.063Z appoptics:patching patched https 
2021-09-23T17:35:33.064Z appoptics:patching patched http 
2021-09-23T17:35:33.093Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:35:33.094Z appoptics:patching patched fs 
2021-09-23T17:35:33.107Z appoptics:patching patched pino 5.10.6
2021-09-23T17:35:33.112Z appoptics:debug starting runtimeMetrics


  pino v5.10.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:35:40.234Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:35:40.235Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:35:40.235Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:35:40.236Z appoptics:debug using context provider: ace-context
2021-09-23T17:35:40.320Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:35:40.368Z appoptics:patching patched crypto 
2021-09-23T17:35:40.391Z appoptics:patching patched https 
2021-09-23T17:35:40.391Z appoptics:patching patched http 
2021-09-23T17:35:40.419Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:35:40.420Z appoptics:patching patched fs 
2021-09-23T17:35:40.427Z appoptics:patching patched pino 5.10.7
2021-09-23T17:35:40.432Z appoptics:debug starting runtimeMetrics


  pino v5.10.7
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:35:48.022Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:35:48.023Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:35:48.023Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:35:48.024Z appoptics:debug using context provider: ace-context
2021-09-23T17:35:48.091Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:35:48.156Z appoptics:patching patched crypto 
2021-09-23T17:35:48.183Z appoptics:patching patched https 
2021-09-23T17:35:48.184Z appoptics:patching patched http 
2021-09-23T17:35:48.212Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:35:48.213Z appoptics:patching patched fs 
2021-09-23T17:35:48.220Z appoptics:patching patched pino 5.10.8
2021-09-23T17:35:48.225Z appoptics:debug starting runtimeMetrics


  pino v5.10.8
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)


changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:35:55.302Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:35:55.303Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:35:55.303Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:35:55.304Z appoptics:debug using context provider: ace-context
2021-09-23T17:35:55.371Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:35:55.419Z appoptics:patching patched crypto 
2021-09-23T17:35:55.442Z appoptics:patching patched https 
2021-09-23T17:35:55.443Z appoptics:patching patched http 
2021-09-23T17:35:55.471Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:35:55.472Z appoptics:patching patched fs 
2021-09-23T17:35:55.479Z appoptics:patching patched pino 5.10.9
2021-09-23T17:35:55.484Z appoptics:debug starting runtimeMetrics


  pino v5.10.9
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:36:03.091Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:36:03.092Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:36:03.092Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:36:03.093Z appoptics:debug using context provider: ace-context
2021-09-23T17:36:03.157Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:36:03.205Z appoptics:patching patched crypto 
2021-09-23T17:36:03.228Z appoptics:patching patched https 
2021-09-23T17:36:03.228Z appoptics:patching patched http 
2021-09-23T17:36:03.256Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:36:03.257Z appoptics:patching patched fs 
2021-09-23T17:36:03.264Z appoptics:patching patched pino 5.10.10
2021-09-23T17:36:03.268Z appoptics:debug starting runtimeMetrics


  pino v5.10.10
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:36:10.514Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:36:10.515Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:36:10.515Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:36:10.515Z appoptics:debug using context provider: ace-context
2021-09-23T17:36:10.597Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:36:10.649Z appoptics:patching patched crypto 
2021-09-23T17:36:10.675Z appoptics:patching patched https 
2021-09-23T17:36:10.676Z appoptics:patching patched http 
2021-09-23T17:36:10.715Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:36:10.716Z appoptics:patching patched fs 
2021-09-23T17:36:10.739Z appoptics:patching patched pino 5.11.0
2021-09-23T17:36:10.747Z appoptics:debug starting runtimeMetrics


  pino v5.11.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:36:17.759Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:36:17.760Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:36:17.760Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:36:17.761Z appoptics:debug using context provider: ace-context
2021-09-23T17:36:17.833Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:36:17.904Z appoptics:patching patched crypto 
2021-09-23T17:36:17.931Z appoptics:patching patched https 
2021-09-23T17:36:17.932Z appoptics:patching patched http 
2021-09-23T17:36:17.961Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:36:17.961Z appoptics:patching patched fs 
2021-09-23T17:36:17.968Z appoptics:patching patched pino 5.11.1
2021-09-23T17:36:17.973Z appoptics:debug starting runtimeMetrics


  pino v5.11.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:36:25.523Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:36:25.523Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:36:25.523Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:36:25.524Z appoptics:debug using context provider: ace-context
2021-09-23T17:36:25.590Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:36:25.640Z appoptics:patching patched crypto 
2021-09-23T17:36:25.663Z appoptics:patching patched https 
2021-09-23T17:36:25.664Z appoptics:patching patched http 
2021-09-23T17:36:25.692Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:36:25.692Z appoptics:patching patched fs 
2021-09-23T17:36:25.699Z appoptics:patching patched pino 5.11.2
2021-09-23T17:36:25.704Z appoptics:debug starting runtimeMetrics


  pino v5.11.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:36:32.949Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:36:32.949Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:36:32.949Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:36:32.950Z appoptics:debug using context provider: ace-context
2021-09-23T17:36:33.015Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:36:33.063Z appoptics:patching patched crypto 
2021-09-23T17:36:33.086Z appoptics:patching patched https 
2021-09-23T17:36:33.086Z appoptics:patching patched http 
2021-09-23T17:36:33.114Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:36:33.115Z appoptics:patching patched fs 
2021-09-23T17:36:33.122Z appoptics:patching patched pino 5.11.3
2021-09-23T17:36:33.127Z appoptics:debug starting runtimeMetrics


  pino v5.11.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:36:40.650Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:36:40.651Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:36:40.651Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:36:40.652Z appoptics:debug using context provider: ace-context
2021-09-23T17:36:40.717Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:36:40.765Z appoptics:patching patched crypto 
2021-09-23T17:36:40.790Z appoptics:patching patched https 
2021-09-23T17:36:40.791Z appoptics:patching patched http 
2021-09-23T17:36:40.819Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:36:40.820Z appoptics:patching patched fs 
2021-09-23T17:36:40.827Z appoptics:patching patched pino 5.12.0
2021-09-23T17:36:40.832Z appoptics:debug starting runtimeMetrics


  pino v5.12.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)


changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:36:47.656Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:36:47.657Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:36:47.657Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:36:47.658Z appoptics:debug using context provider: ace-context
2021-09-23T17:36:47.737Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:36:47.790Z appoptics:patching patched crypto 
2021-09-23T17:36:47.816Z appoptics:patching patched https 
2021-09-23T17:36:47.816Z appoptics:patching patched http 
2021-09-23T17:36:47.846Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:36:47.846Z appoptics:patching patched fs 
2021-09-23T17:36:47.859Z appoptics:patching patched pino 5.12.1
2021-09-23T17:36:47.864Z appoptics:debug starting runtimeMetrics


  pino v5.12.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:36:54.866Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:36:54.867Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:36:54.867Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:36:54.868Z appoptics:debug using context provider: ace-context
2021-09-23T17:36:54.933Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:36:54.982Z appoptics:patching patched crypto 
2021-09-23T17:36:55.007Z appoptics:patching patched https 
2021-09-23T17:36:55.007Z appoptics:patching patched http 
2021-09-23T17:36:55.036Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:36:55.036Z appoptics:patching patched fs 
2021-09-23T17:36:55.043Z appoptics:patching patched pino 5.12.2
2021-09-23T17:36:55.048Z appoptics:debug starting runtimeMetrics


  pino v5.12.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:37:02.406Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:37:02.407Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:37:02.407Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:37:02.407Z appoptics:debug using context provider: ace-context
2021-09-23T17:37:02.472Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:37:02.522Z appoptics:patching patched crypto 
2021-09-23T17:37:02.545Z appoptics:patching patched https 
2021-09-23T17:37:02.546Z appoptics:patching patched http 
2021-09-23T17:37:02.573Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:37:02.574Z appoptics:patching patched fs 
2021-09-23T17:37:02.581Z appoptics:patching patched pino 5.12.3
2021-09-23T17:37:02.586Z appoptics:debug starting runtimeMetrics


  pino v5.12.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:37:09.256Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:37:09.257Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:37:09.257Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:37:09.258Z appoptics:debug using context provider: ace-context
2021-09-23T17:37:09.341Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:37:09.399Z appoptics:patching patched crypto 
2021-09-23T17:37:09.423Z appoptics:patching patched https 
2021-09-23T17:37:09.424Z appoptics:patching patched http 
2021-09-23T17:37:09.455Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:37:09.455Z appoptics:patching patched fs 
2021-09-23T17:37:09.463Z appoptics:patching patched pino 5.12.4
2021-09-23T17:37:09.468Z appoptics:debug starting runtimeMetrics


  pino v5.12.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:37:16.648Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:37:16.648Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:37:16.649Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:37:16.649Z appoptics:debug using context provider: ace-context
2021-09-23T17:37:16.716Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:37:16.764Z appoptics:patching patched crypto 
2021-09-23T17:37:16.787Z appoptics:patching patched https 
2021-09-23T17:37:16.787Z appoptics:patching patched http 
2021-09-23T17:37:16.816Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:37:16.816Z appoptics:patching patched fs 
2021-09-23T17:37:16.823Z appoptics:patching patched pino 5.12.5
2021-09-23T17:37:16.828Z appoptics:debug starting runtimeMetrics


  pino v5.12.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (195ms)


changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:37:23.639Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:37:23.640Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:37:23.640Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:37:23.640Z appoptics:debug using context provider: ace-context
2021-09-23T17:37:23.703Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:37:23.750Z appoptics:patching patched crypto 
2021-09-23T17:37:23.773Z appoptics:patching patched https 
2021-09-23T17:37:23.773Z appoptics:patching patched http 
2021-09-23T17:37:23.801Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:37:23.802Z appoptics:patching patched fs 
2021-09-23T17:37:23.809Z appoptics:patching patched pino 5.12.6
2021-09-23T17:37:23.814Z appoptics:debug starting runtimeMetrics


  pino v5.12.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (168ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:37:31.166Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:37:31.167Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:37:31.167Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:37:31.168Z appoptics:debug using context provider: ace-context
2021-09-23T17:37:31.233Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:37:31.280Z appoptics:patching patched crypto 
2021-09-23T17:37:31.304Z appoptics:patching patched https 
2021-09-23T17:37:31.305Z appoptics:patching patched http 
2021-09-23T17:37:31.334Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:37:31.335Z appoptics:patching patched fs 
2021-09-23T17:37:31.342Z appoptics:patching patched pino 5.13.0
2021-09-23T17:37:31.347Z appoptics:debug starting runtimeMetrics


  pino v5.13.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:37:38.220Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:37:38.221Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:37:38.221Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:37:38.222Z appoptics:debug using context provider: ace-context
2021-09-23T17:37:38.327Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:37:38.390Z appoptics:patching patched crypto 
2021-09-23T17:37:38.416Z appoptics:patching patched https 
2021-09-23T17:37:38.417Z appoptics:patching patched http 
2021-09-23T17:37:38.450Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:37:38.451Z appoptics:patching patched fs 
2021-09-23T17:37:38.464Z appoptics:patching patched pino 5.13.1
2021-09-23T17:37:38.470Z appoptics:debug starting runtimeMetrics


  pino v5.13.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:37:45.345Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:37:45.346Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:37:45.346Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:37:45.347Z appoptics:debug using context provider: ace-context
2021-09-23T17:37:45.412Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:37:45.460Z appoptics:patching patched crypto 
2021-09-23T17:37:45.483Z appoptics:patching patched https 
2021-09-23T17:37:45.483Z appoptics:patching patched http 
2021-09-23T17:37:45.512Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:37:45.512Z appoptics:patching patched fs 
2021-09-23T17:37:45.519Z appoptics:patching patched pino 5.13.2
2021-09-23T17:37:45.524Z appoptics:debug starting runtimeMetrics


  pino v5.13.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:37:52.985Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:37:52.986Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:37:52.986Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:37:52.987Z appoptics:debug using context provider: ace-context
2021-09-23T17:37:53.051Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:37:53.099Z appoptics:patching patched crypto 
2021-09-23T17:37:53.122Z appoptics:patching patched https 
2021-09-23T17:37:53.123Z appoptics:patching patched http 
2021-09-23T17:37:53.151Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:37:53.152Z appoptics:patching patched fs 
2021-09-23T17:37:53.159Z appoptics:patching patched pino 5.13.3
2021-09-23T17:37:53.164Z appoptics:debug starting runtimeMetrics


  pino v5.13.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 2 packages, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:37:59.428Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:37:59.429Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:37:59.429Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:37:59.429Z appoptics:debug using context provider: ace-context
2021-09-23T17:37:59.496Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:37:59.544Z appoptics:patching patched crypto 
2021-09-23T17:37:59.567Z appoptics:patching patched https 
2021-09-23T17:37:59.567Z appoptics:patching patched http 
2021-09-23T17:37:59.595Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:37:59.596Z appoptics:patching patched fs 
2021-09-23T17:37:59.603Z appoptics:patching patched pino 5.13.4
2021-09-23T17:37:59.608Z appoptics:debug starting runtimeMetrics


  pino v5.13.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:38:07.291Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:38:07.292Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:38:07.292Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:38:07.293Z appoptics:debug using context provider: ace-context
2021-09-23T17:38:07.358Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:38:07.405Z appoptics:patching patched crypto 
2021-09-23T17:38:07.428Z appoptics:patching patched https 
2021-09-23T17:38:07.428Z appoptics:patching patched http 
2021-09-23T17:38:07.457Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:38:07.457Z appoptics:patching patched fs 
2021-09-23T17:38:07.465Z appoptics:patching patched pino 5.13.5
2021-09-23T17:38:07.469Z appoptics:debug starting runtimeMetrics


  pino v5.13.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:38:14.104Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:38:14.105Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:38:14.105Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:38:14.106Z appoptics:debug using context provider: ace-context
2021-09-23T17:38:14.223Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:38:14.296Z appoptics:patching patched crypto 
2021-09-23T17:38:14.321Z appoptics:patching patched https 
2021-09-23T17:38:14.322Z appoptics:patching patched http 
2021-09-23T17:38:14.351Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:38:14.352Z appoptics:patching patched fs 
2021-09-23T17:38:14.359Z appoptics:patching patched pino 5.13.6
2021-09-23T17:38:14.365Z appoptics:debug starting runtimeMetrics


  pino v5.13.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)


changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:38:21.645Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:38:21.646Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:38:21.646Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:38:21.647Z appoptics:debug using context provider: ace-context
2021-09-23T17:38:21.711Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:38:21.758Z appoptics:patching patched crypto 
2021-09-23T17:38:21.781Z appoptics:patching patched https 
2021-09-23T17:38:21.781Z appoptics:patching patched http 
2021-09-23T17:38:21.809Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:38:21.809Z appoptics:patching patched fs 
2021-09-23T17:38:21.816Z appoptics:patching patched pino 5.14.0
2021-09-23T17:38:21.821Z appoptics:debug starting runtimeMetrics


  pino v5.14.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (168ms)


changed 1 package, and audited 1102 packages in 29s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:38:51.425Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:38:51.426Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:38:51.426Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:38:51.427Z appoptics:debug using context provider: ace-context
2021-09-23T17:38:51.575Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:38:51.634Z appoptics:patching patched crypto 
2021-09-23T17:38:51.665Z appoptics:patching patched https 
2021-09-23T17:38:51.666Z appoptics:patching patched http 
2021-09-23T17:38:51.700Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:38:51.700Z appoptics:patching patched fs 
2021-09-23T17:38:51.708Z appoptics:patching patched pino 5.15.0
2021-09-23T17:38:51.712Z appoptics:debug starting runtimeMetrics


  pino v5.15.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)


changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:38:58.375Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:38:58.376Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:38:58.376Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:38:58.377Z appoptics:debug using context provider: ace-context
2021-09-23T17:38:58.441Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:38:58.489Z appoptics:patching patched crypto 
2021-09-23T17:38:58.512Z appoptics:patching patched https 
2021-09-23T17:38:58.512Z appoptics:patching patched http 
2021-09-23T17:38:58.540Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:38:58.541Z appoptics:patching patched fs 
2021-09-23T17:38:58.549Z appoptics:patching patched pino 5.16.0
2021-09-23T17:38:58.554Z appoptics:debug starting runtimeMetrics


  pino v5.16.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:39:05.976Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:39:05.977Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:39:05.977Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:39:05.978Z appoptics:debug using context provider: ace-context
2021-09-23T17:39:06.043Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:39:06.091Z appoptics:patching patched crypto 
2021-09-23T17:39:06.115Z appoptics:patching patched https 
2021-09-23T17:39:06.115Z appoptics:patching patched http 
2021-09-23T17:39:06.143Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:39:06.144Z appoptics:patching patched fs 
2021-09-23T17:39:06.151Z appoptics:patching patched pino 5.17.0
2021-09-23T17:39:06.156Z appoptics:debug starting runtimeMetrics


  pino v5.17.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 3 packages, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:39:12.926Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:39:12.927Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:39:12.927Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:39:12.928Z appoptics:debug using context provider: ace-context
2021-09-23T17:39:12.993Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:39:13.040Z appoptics:patching patched crypto 
2021-09-23T17:39:13.063Z appoptics:patching patched https 
2021-09-23T17:39:13.063Z appoptics:patching patched http 
2021-09-23T17:39:13.091Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:39:13.092Z appoptics:patching patched fs 
2021-09-23T17:39:13.100Z appoptics:patching patched pino 6.0.0
2021-09-23T17:39:13.104Z appoptics:debug starting runtimeMetrics


  pino v6.0.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (180ms)
  14 failing

  1) pino v6.0.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4010
         "time": 1632418753258
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.0.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4010
         "time": 1632418753265
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.0.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4010
         "time": 1632418753268
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.0.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4010
         "time": 1632418753271
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.0.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4010
         "time": 1632418753273
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.0.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4010
         "time": 1632418753276
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.0.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4010
         "time": 1632418753278
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.0.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4010
         "time": 1632418753279
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.0.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4010
         "time": 1632418753281
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.0.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4010
         "time": 1632418753282
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.0.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4010
         "time": 1632418753283
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.0.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4010
         "time": 1632418753285
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.0.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4010
         "time": 1632418753391
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.0.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 7F84CDA3CA51E12BA3B19E26D72E76DCB5504E7C-1"
         "pid": 4010
         "time": 1632418753419
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:39:20.631Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:39:20.632Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:39:20.632Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:39:20.633Z appoptics:debug using context provider: ace-context
2021-09-23T17:39:20.697Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:39:20.746Z appoptics:patching patched crypto 
2021-09-23T17:39:20.781Z appoptics:patching patched https 
2021-09-23T17:39:20.782Z appoptics:patching patched http 
2021-09-23T17:39:20.817Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:39:20.818Z appoptics:patching patched fs 
2021-09-23T17:39:20.825Z appoptics:patching patched pino 6.1.0
2021-09-23T17:39:20.830Z appoptics:debug starting runtimeMetrics


  pino v6.1.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (178ms)
  14 failing

  1) pino v6.1.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4033
         "time": 1632418760980
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.1.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4033
         "time": 1632418760987
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.1.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4033
         "time": 1632418760990
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.1.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4033
         "time": 1632418760993
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.1.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4033
         "time": 1632418760995
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.1.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4033
         "time": 1632418760998
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.1.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4033
         "time": 1632418761000
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.1.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4033
         "time": 1632418761001
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.1.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4033
         "time": 1632418761003
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.1.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4033
         "time": 1632418761004
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.1.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4033
         "time": 1632418761005
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.1.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4033
         "time": 1632418761007
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.1.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4033
         "time": 1632418761111
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.1.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 96D30EC735EAD1690C0F4F60ED210F004D792D64-1"
         "pid": 4033
         "time": 1632418761139
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:39:27.702Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:39:27.702Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:39:27.702Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:39:27.703Z appoptics:debug using context provider: ace-context
2021-09-23T17:39:27.781Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:39:27.834Z appoptics:patching patched crypto 
2021-09-23T17:39:27.860Z appoptics:patching patched https 
2021-09-23T17:39:27.860Z appoptics:patching patched http 
2021-09-23T17:39:27.890Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:39:27.890Z appoptics:patching patched fs 
2021-09-23T17:39:27.904Z appoptics:patching patched pino 6.1.1
2021-09-23T17:39:27.909Z appoptics:debug starting runtimeMetrics


  pino v6.1.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (189ms)
  14 failing

  1) pino v6.1.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4056
         "time": 1632418768123
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.1.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4056
         "time": 1632418768131
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.1.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4056
         "time": 1632418768134
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.1.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4056
         "time": 1632418768139
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.1.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4056
         "time": 1632418768141
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.1.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4056
         "time": 1632418768144
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.1.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4056
         "time": 1632418768146
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.1.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4056
         "time": 1632418768148
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.1.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4056
         "time": 1632418768150
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.1.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4056
         "time": 1632418768151
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.1.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4056
         "time": 1632418768153
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.1.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4056
         "time": 1632418768156
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.1.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4056
         "time": 1632418768259
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.1.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous C6AAD99ED4A6DA5E6D361961C163970970795220-1"
         "pid": 4056
         "time": 1632418768287
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:39:35.057Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:39:35.057Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:39:35.057Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:39:35.058Z appoptics:debug using context provider: ace-context
2021-09-23T17:39:35.125Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:39:35.174Z appoptics:patching patched crypto 
2021-09-23T17:39:35.197Z appoptics:patching patched https 
2021-09-23T17:39:35.198Z appoptics:patching patched http 
2021-09-23T17:39:35.227Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:39:35.228Z appoptics:patching patched fs 
2021-09-23T17:39:35.235Z appoptics:patching patched pino 6.2.0
2021-09-23T17:39:35.240Z appoptics:debug starting runtimeMetrics


  pino v6.2.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (186ms)
  14 failing

  1) pino v6.2.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4079
         "time": 1632418775398
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.2.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4079
         "time": 1632418775406
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.2.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4079
         "time": 1632418775409
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.2.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4079
         "time": 1632418775411
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.2.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4079
         "time": 1632418775414
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.2.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4079
         "time": 1632418775417
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.2.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4079
         "time": 1632418775419
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.2.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4079
         "time": 1632418775420
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.2.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4079
         "time": 1632418775422
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.2.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4079
         "time": 1632418775423
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.2.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4079
         "time": 1632418775424
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.2.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4079
         "time": 1632418775426
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.2.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4079
         "time": 1632418775533
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.2.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous C3F60F5694CD6741BFF9AFC851B606BC8FD500D2-1"
         "pid": 4079
         "time": 1632418775561
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:39:42.566Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:39:42.566Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:39:42.566Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:39:42.567Z appoptics:debug using context provider: ace-context
2021-09-23T17:39:42.636Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:39:42.681Z appoptics:patching patched crypto 
2021-09-23T17:39:42.703Z appoptics:patching patched https 
2021-09-23T17:39:42.704Z appoptics:patching patched http 
2021-09-23T17:39:42.733Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:39:42.734Z appoptics:patching patched fs 
2021-09-23T17:39:42.742Z appoptics:patching patched pino 6.2.1
2021-09-23T17:39:42.746Z appoptics:debug starting runtimeMetrics


  pino v6.2.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (183ms)
  14 failing

  1) pino v6.2.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4102
         "time": 1632418782900
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.2.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4102
         "time": 1632418782907
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.2.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4102
         "time": 1632418782910
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.2.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4102
         "time": 1632418782913
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.2.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4102
         "time": 1632418782916
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.2.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4102
         "time": 1632418782918
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.2.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4102
         "time": 1632418782920
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.2.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4102
         "time": 1632418782921
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.2.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4102
         "time": 1632418782923
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.2.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4102
         "time": 1632418782924
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.2.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4102
         "time": 1632418782925
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.2.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4102
         "time": 1632418782927
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.2.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4102
         "time": 1632418783033
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.2.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous F305E9044A8DB574C42C1E8A596D88239C82CC1D-1"
         "pid": 4102
         "time": 1632418783062
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:39:49.029Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:39:49.030Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:39:49.030Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:39:49.031Z appoptics:debug using context provider: ace-context
2021-09-23T17:39:49.096Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:39:49.144Z appoptics:patching patched crypto 
2021-09-23T17:39:49.167Z appoptics:patching patched https 
2021-09-23T17:39:49.168Z appoptics:patching patched http 
2021-09-23T17:39:49.196Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:39:49.196Z appoptics:patching patched fs 
2021-09-23T17:39:49.203Z appoptics:patching patched pino 6.3.0
2021-09-23T17:39:49.208Z appoptics:debug starting runtimeMetrics


  pino v6.3.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (180ms)
  14 failing

  1) pino v6.3.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4125
         "time": 1632418789360
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.3.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4125
         "time": 1632418789366
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.3.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4125
         "time": 1632418789369
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.3.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4125
         "time": 1632418789372
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.3.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4125
         "time": 1632418789374
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.3.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4125
         "time": 1632418789377
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.3.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4125
         "time": 1632418789379
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.3.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4125
         "time": 1632418789380
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.3.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4125
         "time": 1632418789382
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.3.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4125
         "time": 1632418789383
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.3.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4125
         "time": 1632418789384
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.3.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4125
         "time": 1632418789386
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.3.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4125
         "time": 1632418789491
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.3.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 4B928D5BCBB02FA4338673F848C02A53BC0C3C69-1"
         "pid": 4125
         "time": 1632418789521
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:39:56.988Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:39:56.988Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:39:56.988Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:39:56.989Z appoptics:debug using context provider: ace-context
2021-09-23T17:39:57.056Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:39:57.104Z appoptics:patching patched crypto 
2021-09-23T17:39:57.129Z appoptics:patching patched https 
2021-09-23T17:39:57.129Z appoptics:patching patched http 
2021-09-23T17:39:57.158Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:39:57.158Z appoptics:patching patched fs 
2021-09-23T17:39:57.166Z appoptics:patching patched pino 6.3.1
2021-09-23T17:39:57.171Z appoptics:debug starting runtimeMetrics


  pino v6.3.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (178ms)
  14 failing

  1) pino v6.3.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4148
         "time": 1632418797327
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.3.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4148
         "time": 1632418797334
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.3.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4148
         "time": 1632418797337
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.3.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4148
         "time": 1632418797340
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.3.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4148
         "time": 1632418797342
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.3.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4148
         "time": 1632418797345
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.3.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4148
         "time": 1632418797347
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.3.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4148
         "time": 1632418797348
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.3.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4148
         "time": 1632418797350
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.3.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4148
         "time": 1632418797351
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.3.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4148
         "time": 1632418797352
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.3.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4148
         "time": 1632418797354
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.3.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4148
         "time": 1632418797458
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.3.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 6969D1F9A69F42756BE07BAAD729B4F671E05337-1"
         "pid": 4148
         "time": 1632418797485
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:40:04.068Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:40:04.069Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:40:04.069Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:40:04.073Z appoptics:debug using context provider: ace-context
2021-09-23T17:40:04.214Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:40:04.309Z appoptics:patching patched crypto 
2021-09-23T17:40:04.386Z appoptics:patching patched https 
2021-09-23T17:40:04.387Z appoptics:patching patched http 
2021-09-23T17:40:04.476Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:40:04.476Z appoptics:patching patched fs 
2021-09-23T17:40:04.498Z appoptics:patching patched pino 6.3.2
2021-09-23T17:40:04.512Z appoptics:debug starting runtimeMetrics


  pino v6.3.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (210ms)
  14 failing

  1) pino v6.3.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4171
         "time": 1632418804880
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.3.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4171
         "time": 1632418804888
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.3.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4171
         "time": 1632418804893
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.3.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4171
         "time": 1632418804899
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.3.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4171
         "time": 1632418804902
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.3.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4171
         "time": 1632418804909
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.3.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4171
         "time": 1632418804910
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.3.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4171
         "time": 1632418804918
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.3.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4171
         "time": 1632418804920
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.3.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4171
         "time": 1632418804921
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.3.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4171
         "time": 1632418804922
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.3.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4171
         "time": 1632418804927
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.3.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4171
         "time": 1632418805030
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.3.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 627BF4035AEF14ED120F40D887CB478CC2408464-1"
         "pid": 4171
         "time": 1632418805059
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:40:11.663Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:40:11.663Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:40:11.663Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:40:11.664Z appoptics:debug using context provider: ace-context
2021-09-23T17:40:11.730Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:40:11.781Z appoptics:patching patched crypto 
2021-09-23T17:40:11.805Z appoptics:patching patched https 
2021-09-23T17:40:11.805Z appoptics:patching patched http 
2021-09-23T17:40:11.834Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:40:11.835Z appoptics:patching patched fs 
2021-09-23T17:40:11.842Z appoptics:patching patched pino 6.4.0
2021-09-23T17:40:11.847Z appoptics:debug starting runtimeMetrics


  pino v6.4.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (182ms)
  14 failing

  1) pino v6.4.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4194
         "time": 1632418812001
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.4.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "42411A18186511FF57FA8B4125CA23C9AA3B2B8B-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4194
         "time": 1632418812008
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.4.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C9336767662325BEB66109685F55F26BF6891EBF-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4194
         "time": 1632418812011
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.4.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C9D82BD50A376E0975188772CD122195827602E8-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4194
         "time": 1632418812014
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.4.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5D0FA02AC8D5B7C93D64DA8D89BDE25052E4C3C6-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4194
         "time": 1632418812016
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.4.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4194
         "time": 1632418812019
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.4.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6DDB3A72069ADC0075A6BBED497100C18D5A1C2A-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4194
         "time": 1632418812021
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.4.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "54CC42146AA3B6F3070F8947A812CB4976751DFC-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4194
         "time": 1632418812022
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.4.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4194
         "time": 1632418812024
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.4.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9FABA9C8967C53003B9A05F67FE3EA771C83D05E-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4194
         "time": 1632418812025
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.4.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "always insert"
         "pid": 4194
         "time": 1632418812026
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.4.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5BBD01AB5F9C621B371A217610896C0E57D3C88C-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4194
         "time": 1632418812028
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.4.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "85EA77709C4FAE18D8EE305005C55C3DB83C90EC-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4194
         "time": 1632418812131
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.4.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous C3014A40E3E8B8339ADC03BDE3219BA821FEAAD4-1"
         "pid": 4194
         "time": 1632418812162
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:40:19.349Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:40:19.350Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:40:19.350Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:40:19.351Z appoptics:debug using context provider: ace-context
2021-09-23T17:40:19.418Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:40:19.466Z appoptics:patching patched crypto 
2021-09-23T17:40:19.490Z appoptics:patching patched https 
2021-09-23T17:40:19.490Z appoptics:patching patched http 
2021-09-23T17:40:19.519Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:40:19.519Z appoptics:patching patched fs 
2021-09-23T17:40:19.527Z appoptics:patching patched pino 6.4.1
2021-09-23T17:40:19.532Z appoptics:debug starting runtimeMetrics


  pino v6.4.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (182ms)
  14 failing

  1) pino v6.4.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4217
         "time": 1632418819689
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.4.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1B2301CC9961344C68CB233B651205FC408DA4E1-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4217
         "time": 1632418819696
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.4.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D46A94DC72B4E737B4F2ED1F91178EFD3E36A6A0-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4217
         "time": 1632418819699
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.4.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0842A74EC7FE827397BA4101E54288232742BD20-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4217
         "time": 1632418819701
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.4.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2CA01951FFE30DF243E6AAB8184B0CC9BAEB7AE6-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4217
         "time": 1632418819704
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.4.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4217
         "time": 1632418819707
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.4.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C3F8EE26FCA0AF33092892500AC7A970DE05F64B-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4217
         "time": 1632418819708
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.4.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "69A8001757688A833F158B694CAD1EF72883FAFB-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4217
         "time": 1632418819710
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.4.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4217
         "time": 1632418819711
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.4.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "34E05DEDD47D788CA6FE7F4EA2CDF18A15CD6764-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4217
         "time": 1632418819712
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.4.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "always insert"
         "pid": 4217
         "time": 1632418819714
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.4.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2AAFAD18BF1A4F02AE3C5E732E7CB34B3E683220-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4217
         "time": 1632418819715
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.4.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B9CB8C05AAF8EFEC9F8EEEFBCF27324AB6CB9E44-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4217
         "time": 1632418819821
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.4.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 64D30DB75702D28FE096EE528FEA6B09A9770C99-1"
         "pid": 4217
         "time": 1632418819849
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:40:26.612Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:40:26.612Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:40:26.612Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:40:26.613Z appoptics:debug using context provider: ace-context
2021-09-23T17:40:26.685Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:40:26.733Z appoptics:patching patched crypto 
2021-09-23T17:40:26.758Z appoptics:patching patched https 
2021-09-23T17:40:26.759Z appoptics:patching patched http 
2021-09-23T17:40:26.791Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:40:26.791Z appoptics:patching patched fs 
2021-09-23T17:40:26.800Z appoptics:patching patched pino 6.5.0
2021-09-23T17:40:26.806Z appoptics:debug starting runtimeMetrics


  pino v6.5.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (177ms)
  14 failing

  1) pino v6.5.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4240
         "time": 1632418826966
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.5.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "033334F712839D5FD3AA57247B11469E45F3FADF-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4240
         "time": 1632418826974
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.5.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A60DA673D60144220E3BF486FD17995D62427396-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4240
         "time": 1632418826977
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.5.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "577672DBBDCE12A6D157B82B4A35D96B47BE735C-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4240
         "time": 1632418826979
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.5.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8AC6898C74DCF5611C2395EB0FA52808A3DF7F55-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4240
         "time": 1632418826982
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.5.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4240
         "time": 1632418826984
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.5.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CD89AE6F7D530FDE9198F3B1420ECFC0200F37D5-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4240
         "time": 1632418826986
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.5.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EBC4A46D82A12A9513230AFFEB16E2E43E1F5ED7-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4240
         "time": 1632418826987
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.5.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4240
         "time": 1632418826989
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.5.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5730BDEB7B88BC928DD06C5840B142E81F7D49EB-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4240
         "time": 1632418826990
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.5.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "always insert"
         "pid": 4240
         "time": 1632418826991
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.5.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8BE27B226F3A975E703B7BEBA11AE7F1A4CCD27C-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4240
         "time": 1632418826993
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.5.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7D4D3F2A17AA978EA64F9D68715418D149FCF303-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4240
         "time": 1632418827096
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.5.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 62C3B32C2806526B14D418A13E51AC838FB94DCB-1"
         "pid": 4240
         "time": 1632418827124
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:40:34.209Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:40:34.210Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:40:34.210Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:40:34.211Z appoptics:debug using context provider: ace-context
2021-09-23T17:40:34.275Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:40:34.323Z appoptics:patching patched crypto 
2021-09-23T17:40:34.346Z appoptics:patching patched https 
2021-09-23T17:40:34.346Z appoptics:patching patched http 
2021-09-23T17:40:34.375Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:40:34.375Z appoptics:patching patched fs 
2021-09-23T17:40:34.383Z appoptics:patching patched pino 6.5.1
2021-09-23T17:40:34.388Z appoptics:debug starting runtimeMetrics


  pino v6.5.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (180ms)
  14 failing

  1) pino v6.5.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4263
         "time": 1632418834542
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.5.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "460D46595F4BCA8455424A20F0567EB029C0A692-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4263
         "time": 1632418834549
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.5.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "AD0C9423D9C3246097C62490FE24F9DF8D06301F-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4263
         "time": 1632418834552
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.5.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9A2873D0852D21DDDDE7AC8F597A925BD425BB1E-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4263
         "time": 1632418834555
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.5.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "603EF6FD5E3CE38BDAF76DA84FFDF5B318AD5DFA-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4263
         "time": 1632418834557
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.5.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4263
         "time": 1632418834560
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.5.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C2E330CB9A713A2CF03E2314544F2ACAA0C35360-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4263
         "time": 1632418834562
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.5.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D21FE95B7F270CA2618F26B2FA34828EEB70D857-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4263
         "time": 1632418834563
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.5.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4263
         "time": 1632418834565
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.5.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "97A492F5AB8B9C43E7399CB7EAC95EA214548B82-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4263
         "time": 1632418834566
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.5.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "always insert"
         "pid": 4263
         "time": 1632418834567
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.5.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7D66C77ED151A7946CF96416B7B2DD87DBA844FE-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4263
         "time": 1632418834569
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.5.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "25350623E9153BA8D8DD585C39EDB9BB1EF2E7BF-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4263
         "time": 1632418834674
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.5.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 391146C5895B05513EACAE0A229F368C6D1E0FDE-1"
         "pid": 4263
         "time": 1632418834702
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:40:40.886Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:40:40.886Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:40:40.886Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:40:40.887Z appoptics:debug using context provider: ace-context
2021-09-23T17:40:40.952Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:40:41.000Z appoptics:patching patched crypto 
2021-09-23T17:40:41.022Z appoptics:patching patched https 
2021-09-23T17:40:41.023Z appoptics:patching patched http 
2021-09-23T17:40:41.051Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:40:41.051Z appoptics:patching patched fs 
2021-09-23T17:40:41.059Z appoptics:patching patched pino 6.6.0
2021-09-23T17:40:41.064Z appoptics:debug starting runtimeMetrics


  pino v6.6.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (203ms)
  14 failing

  1) pino v6.6.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4286
         "time": 1632418841275
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.6.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8A0C12CC96B17AF49EADD3E7D0115EFCA079CDA2-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4286
         "time": 1632418841283
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.6.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E561D03F615A9DF90C7348CA4817D58035443B2D-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4286
         "time": 1632418841286
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.6.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A3AC31E6D37DE17EB75851BEA7D1A6049234CB31-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4286
         "time": 1632418841292
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.6.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "885DB2FBDECEA1141D5186C8E27C2B373D31D9C4-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4286
         "time": 1632418841299
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.6.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4286
         "time": 1632418841303
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.6.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A7273AD513C7781B884BB56100783AFC49933975-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4286
         "time": 1632418841309
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.6.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B75ACA80D33A2F7C3499EF205BD542DBCFE2FC84-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4286
         "time": 1632418841310
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.6.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4286
         "time": 1632418841311
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.6.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "12C0F4C11BF888343FA65ED7A85F4207301168AD-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4286
         "time": 1632418841317
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.6.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "always insert"
         "pid": 4286
         "time": 1632418841318
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.6.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "72CB993119E674E29A32A6D0E0D4669FEF612D3F-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4286
         "time": 1632418841325
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.6.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E3BB5DD9466C302F89A98751CCFA70B33B04C638-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4286
         "time": 1632418841428
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.6.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous B9774094619FD47E9378BAAEA820D1578D1D767A-1"
         "pid": 4286
         "time": 1632418841457
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:40:48.459Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:40:48.459Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:40:48.459Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:40:48.460Z appoptics:debug using context provider: ace-context
2021-09-23T17:40:48.542Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:40:48.596Z appoptics:patching patched crypto 
2021-09-23T17:40:48.623Z appoptics:patching patched https 
2021-09-23T17:40:48.624Z appoptics:patching patched http 
2021-09-23T17:40:48.657Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:40:48.658Z appoptics:patching patched fs 
2021-09-23T17:40:48.667Z appoptics:patching patched pino 6.6.1
2021-09-23T17:40:48.672Z appoptics:debug starting runtimeMetrics


  pino v6.6.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (180ms)
  14 failing

  1) pino v6.6.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4309
         "time": 1632418848825
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.6.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C84F8F499B13E2F26A291056CDFAA76B6EC8B195-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4309
         "time": 1632418848832
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.6.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "54871DC3947E4DB7D0F5E247F90AC6FD2ADF2EB6-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4309
         "time": 1632418848835
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.6.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3389EB9780C7663A1763BBE80E4213C90408B456-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4309
         "time": 1632418848838
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.6.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4B4337F1459F0E9A8CDBABF983E499706704BD4F-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4309
         "time": 1632418848840
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.6.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4309
         "time": 1632418848843
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.6.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "37927C62EC8D9E8EB8FDD26837EA743A4EBBC8E3-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4309
         "time": 1632418848844
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.6.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0C7F2F83EE8CC742D9F19B697303F9F3A4B14444-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4309
         "time": 1632418848846
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.6.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4309
         "time": 1632418848847
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.6.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2BA340EBE92831F33BFA986758620D7985C5B19D-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4309
         "time": 1632418848848
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.6.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "always insert"
         "pid": 4309
         "time": 1632418848850
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.6.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D880B0162E76C5E0E269C227346E98A4FF67C5D2-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4309
         "time": 1632418848851
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.6.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DBB6A88CA82ECAE409B6CD8C3D8D05968235F21C-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4309
         "time": 1632418848956
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.6.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 44F053CD0BDF1AD3759EE24DD5C21A2BB96A4792-1"
         "pid": 4309
         "time": 1632418848986
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 2 packages, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:40:55.934Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:40:55.934Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:40:55.934Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:40:55.935Z appoptics:debug using context provider: ace-context
2021-09-23T17:40:56.029Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:40:56.077Z appoptics:patching patched crypto 
2021-09-23T17:40:56.100Z appoptics:patching patched https 
2021-09-23T17:40:56.100Z appoptics:patching patched http 
2021-09-23T17:40:56.130Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:40:56.130Z appoptics:patching patched fs 
2021-09-23T17:40:56.139Z appoptics:patching patched pino 6.7.0
2021-09-23T17:40:56.144Z appoptics:debug starting runtimeMetrics


  pino v6.7.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (180ms)
  14 failing

  1) pino v6.7.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4332
         "time": 1632418856300
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.7.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "449A8674141A7042A53751F18E182CCA25829D52-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4332
         "time": 1632418856307
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.7.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1223AEE9D0E7AFF0F905E15099314D5B2DA3416D-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4332
         "time": 1632418856310
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.7.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0FB47DA2AE8A625278D5D406923CB0BE88097C0E-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4332
         "time": 1632418856312
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.7.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "20177801075998142CA18E7D807BC0DEE3A53461-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4332
         "time": 1632418856315
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.7.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4332
         "time": 1632418856318
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.7.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3FA58538C724AA814FDC2C761F8CC08A9E27E158-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4332
         "time": 1632418856319
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.7.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "996E9199111A7B29D2928215DD3F4BD97A448C20-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4332
         "time": 1632418856321
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.7.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4332
         "time": 1632418856322
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.7.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B85FAB4EF6FB6D7F5706F03A18E3AA7D23F1AAEA-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4332
         "time": 1632418856323
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.7.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "always insert"
         "pid": 4332
         "time": 1632418856325
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.7.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0BE73EAB70C8E6EF95F5548C38CA14641B36AED2-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4332
         "time": 1632418856326
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.7.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "45749E9BF571B178AED94BBFC426D801A94F1DDD-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4332
         "time": 1632418856432
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.7.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous EDFA25AF1E72E079DD0138459DBA0931F1025055-1"
         "pid": 4332
         "time": 1632418856460
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:41:02.742Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:41:02.743Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:41:02.743Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:41:02.744Z appoptics:debug using context provider: ace-context
2021-09-23T17:41:02.810Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:41:02.857Z appoptics:patching patched crypto 
2021-09-23T17:41:02.881Z appoptics:patching patched https 
2021-09-23T17:41:02.881Z appoptics:patching patched http 
2021-09-23T17:41:02.910Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:41:02.910Z appoptics:patching patched fs 
2021-09-23T17:41:02.918Z appoptics:patching patched pino 6.8.0
2021-09-23T17:41:02.923Z appoptics:debug starting runtimeMetrics


  pino v6.8.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (193ms)
  14 failing

  1) pino v6.8.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4355
         "time": 1632418863093
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.8.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7407F3C4378210C36AA4D7346F9EB1322D4B9134-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4355
         "time": 1632418863100
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.8.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "995EDCF8BB40F1A494AF7B4E455C7DA1D20EEB34-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4355
         "time": 1632418863103
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.8.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CF2794028EFD70F38037D57500166767EC668847-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4355
         "time": 1632418863106
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.8.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "77F5E9D228508E3841F27A3D8A186A8D81B98CB8-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4355
         "time": 1632418863109
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.8.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4355
         "time": 1632418863111
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.8.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3B6F4D3FA7B792C18C4C98445A034DDE3F994E59-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4355
         "time": 1632418863116
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.8.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "59479D740E472859D4875FF8055476FB7F7A2022-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4355
         "time": 1632418863118
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.8.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4355
         "time": 1632418863119
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.8.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E2B7BA08BF91D6308B9FCC2E8E5C333ED0A1CAF7-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4355
         "time": 1632418863120
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.8.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "always insert"
         "pid": 4355
         "time": 1632418863123
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.8.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B1456F4AEA74621711F078E614C09F912D6FCAF3-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4355
         "time": 1632418863126
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.8.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B43CA8B9A0D5FA5A63C2A92906C1EAA3396E60BC-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4355
         "time": 1632418863234
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.8.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous F6FDD4F5B7155C8DBE43A4C79281635E9D118CCF-1"
         "pid": 4355
         "time": 1632418863264
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:41:10.107Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:41:10.108Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:41:10.108Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:41:10.108Z appoptics:debug using context provider: ace-context
2021-09-23T17:41:10.188Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:41:10.240Z appoptics:patching patched crypto 
2021-09-23T17:41:10.266Z appoptics:patching patched https 
2021-09-23T17:41:10.266Z appoptics:patching patched http 
2021-09-23T17:41:10.296Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:41:10.296Z appoptics:patching patched fs 
2021-09-23T17:41:10.311Z appoptics:patching patched pino 6.9.0
2021-09-23T17:41:10.315Z appoptics:debug starting runtimeMetrics


  pino v6.9.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (181ms)
  14 failing

  1) pino v6.9.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4378
         "time": 1632418870474
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.9.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F81681657A8F936D587497C45B7EDA46685CF191-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4378
         "time": 1632418870481
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.9.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "080B377ED367532F50126E5115FD8AD9A2E81791-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4378
         "time": 1632418870484
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.9.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "26BF31F1FA390CF951CEBD1AF908B4772170C90E-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4378
         "time": 1632418870486
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.9.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FAF7BA08B1B4C16F083ADF928F1C9E24D2CE12CC-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4378
         "time": 1632418870489
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.9.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4378
         "time": 1632418870492
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.9.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7164933128E6EFCD5E011F5D355A155AFD8E9743-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4378
         "time": 1632418870493
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.9.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7696D78FEEF41EDCA6C1ED6E100258622218C4B6-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4378
         "time": 1632418870495
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.9.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4378
         "time": 1632418870496
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.9.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F28F34A0594011F02564E54DD3EFD4FA233542D0-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4378
         "time": 1632418870497
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.9.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "always insert"
         "pid": 4378
         "time": 1632418870499
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.9.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6D095D4B97D7AEA1D03B246D12CC884A3A71B241-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4378
         "time": 1632418870500
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.9.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "273067BD9591E20C820831F463EE87A727913129-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4378
         "time": 1632418870607
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.9.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 0B824CC8961C4D29F2CE8FE85FB4D936289B295D-1"
         "pid": 4378
         "time": 1632418870635
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 2 packages, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:41:16.987Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:41:16.988Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:41:16.988Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:41:16.989Z appoptics:debug using context provider: ace-context
2021-09-23T17:41:17.054Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:41:17.101Z appoptics:patching patched crypto 
2021-09-23T17:41:17.124Z appoptics:patching patched https 
2021-09-23T17:41:17.125Z appoptics:patching patched http 
2021-09-23T17:41:17.153Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:41:17.153Z appoptics:patching patched fs 
2021-09-23T17:41:17.161Z appoptics:patching patched pino 6.10.0
2021-09-23T17:41:17.166Z appoptics:debug starting runtimeMetrics


  pino v6.10.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (179ms)
  14 failing

  1) pino v6.10.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4401
         "time": 1632418877319
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.10.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "382BA05D39440A4F892876E0E71C3531324FBAD7-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4401
         "time": 1632418877326
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.10.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "BA7CCAD45F411C2DF74CB28299BDBA80F7E60939-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4401
         "time": 1632418877329
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.10.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "856419391FA1D0A1CAB4E0F17FA26BBFEB58BA58-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4401
         "time": 1632418877331
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.10.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2440498C89F5D2FE2634418D0AA05B472B4CAA8D-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4401
         "time": 1632418877334
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.10.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4401
         "time": 1632418877336
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.10.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2590D95032EA4387E34136D0AD6D84FA99840B60-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4401
         "time": 1632418877338
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.10.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "047E2B076F4EE75A9CF286CE227E855BF30F1DB0-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4401
         "time": 1632418877339
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.10.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4401
         "time": 1632418877341
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.10.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9682FA243F592D54387FF1D7EB318B0B27AEF602-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4401
         "time": 1632418877342
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.10.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "always insert"
         "pid": 4401
         "time": 1632418877343
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.10.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "78D6FF7DF2C2B6F82734414768875F8137C2B109-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4401
         "time": 1632418877345
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.10.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B4DE63C0A5D9BA8AEC994720D6FC295B52DD0D22-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4401
         "time": 1632418877450
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.10.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous CE5E2FC19BC07824EF1029A7582C0B73D70C6396-1"
         "pid": 4401
         "time": 1632418877479
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:41:24.313Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:41:24.313Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:41:24.313Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:41:24.314Z appoptics:debug using context provider: ace-context
2021-09-23T17:41:24.379Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:41:24.426Z appoptics:patching patched crypto 
2021-09-23T17:41:24.449Z appoptics:patching patched https 
2021-09-23T17:41:24.450Z appoptics:patching patched http 
2021-09-23T17:41:24.478Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:41:24.478Z appoptics:patching patched fs 
2021-09-23T17:41:24.486Z appoptics:patching patched pino 6.11.0
2021-09-23T17:41:24.490Z appoptics:debug starting runtimeMetrics


  pino v6.11.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (212ms)
  14 failing

  1) pino v6.11.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4424
         "time": 1632418884720
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.11.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B7768F5E751BD2F366578FED05116CCFA53FA6F1-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4424
         "time": 1632418884738
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.11.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E41E3195A283E21C9AFE95D5975995B2E4472052-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4424
         "time": 1632418884741
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.11.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5997230E48346A8878C636782989DA4B276C81AC-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4424
         "time": 1632418884744
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.11.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9E11B19924A386D7C8ED8A6DDF8B8CE5D1A37E1F-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4424
         "time": 1632418884750
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.11.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4424
         "time": 1632418884753
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.11.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "11AB0C3659E138F5EE53C676A1A4CB50DE805738-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4424
         "time": 1632418884755
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.11.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3548DD47D70ABE1D9B6E834165EFC1E00DF867EF-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4424
         "time": 1632418884756
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.11.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4424
         "time": 1632418884757
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.11.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2789403C14CB072C6DB0C8C587D78A5F431A4B60-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4424
         "time": 1632418884759
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.11.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "always insert"
         "pid": 4424
         "time": 1632418884760
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.11.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "541211F9C1959F496C4B34CA133B944B7AFFCE5B-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4424
         "time": 1632418884762
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.11.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A2ACDA449DCE223A37DDDB0A52E6E4758F06DCD9-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4424
         "time": 1632418884867
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.11.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous B6B1BC8BE3CFAF756494073AB1E9D756289F1327-1"
         "pid": 4424
         "time": 1632418884896
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:41:31.068Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:41:31.068Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:41:31.068Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:41:31.069Z appoptics:debug using context provider: ace-context
2021-09-23T17:41:31.148Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:41:31.205Z appoptics:patching patched crypto 
2021-09-23T17:41:31.231Z appoptics:patching patched https 
2021-09-23T17:41:31.231Z appoptics:patching patched http 
2021-09-23T17:41:31.261Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:41:31.261Z appoptics:patching patched fs 
2021-09-23T17:41:31.269Z appoptics:patching patched pino 6.11.1
2021-09-23T17:41:31.275Z appoptics:debug starting runtimeMetrics


  pino v6.11.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (230ms)
  14 failing

  1) pino v6.11.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4447
         "time": 1632418891517
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.11.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7C9D30B17F6B0CBA87E9C380367E1E5A37E06A00-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4447
         "time": 1632418891528
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.11.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "25B8654CD224B068567486103C3B407D0EE4B439-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4447
         "time": 1632418891536
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.11.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9FFDA6DC1F12DB5ABA86000FB601E7FE2C4D68F9-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4447
         "time": 1632418891539
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.11.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EB7FA1AB6EBB0F1CB9EEF8DD9655DDE8A247ECD2-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4447
         "time": 1632418891544
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.11.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4447
         "time": 1632418891549
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.11.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4E0327F9E811F4CAE1B395E347A635D65B632D7A-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4447
         "time": 1632418891553
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.11.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "612A1F8D9EE3B6E39632DF8B8501EEC7EEB17BFE-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4447
         "time": 1632418891557
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.11.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4447
         "time": 1632418891564
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.11.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D0AE58A1445ED5A64142CE25F07F682113943BB3-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4447
         "time": 1632418891572
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.11.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "always insert"
         "pid": 4447
         "time": 1632418891578
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.11.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "02F557C23358D5FE7C5A0FAB0D4EC14B4F3FB0C7-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4447
         "time": 1632418891588
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.11.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "907B016F8F499971EAA7FF9A5FDED29E2146E44B-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4447
         "time": 1632418891691
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.11.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous AB478AB217449EE1D0282EC2CD30A3F8C8DC72E5-1"
         "pid": 4447
         "time": 1632418891719
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 2 packages, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:41:38.750Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:41:38.751Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:41:38.751Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:41:38.751Z appoptics:debug using context provider: ace-context
2021-09-23T17:41:38.816Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:41:38.863Z appoptics:patching patched crypto 
2021-09-23T17:41:38.885Z appoptics:patching patched https 
2021-09-23T17:41:38.886Z appoptics:patching patched http 
2021-09-23T17:41:38.914Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:41:38.914Z appoptics:patching patched fs 
2021-09-23T17:41:38.922Z appoptics:patching patched pino 6.11.2
2021-09-23T17:41:38.927Z appoptics:debug starting runtimeMetrics


  pino v6.11.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (185ms)
  14 failing

  1) pino v6.11.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4470
         "time": 1632418899080
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.11.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "359DB5309A0DC18C5120C952F47A180DAD308291-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4470
         "time": 1632418899087
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.11.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2E4E1548578AEF74B6B039FD29AD7204F410FC94-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4470
         "time": 1632418899090
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.11.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0FA7A6885A1B3ABCC14DE22B32719DBFA115E83A-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4470
         "time": 1632418899093
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.11.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "39FC7CB3660860D7BC4BD1E0464E5D8F4E440E8B-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4470
         "time": 1632418899095
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.11.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4470
         "time": 1632418899098
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.11.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FDBE01535EF531981C33A89AA8D00095DEA6EB16-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4470
         "time": 1632418899100
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.11.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EF2EEEFA31430D3FC487992976F3317597EDC858-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4470
         "time": 1632418899101
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.11.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4470
         "time": 1632418899102
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.11.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8C58EEE88A74269F0C4A20DCA137F40D18611AB0-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4470
         "time": 1632418899110
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.11.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "always insert"
         "pid": 4470
         "time": 1632418899111
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.11.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "828572FA4ECD96CC39AE07F1F61E698AF74E973A-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4470
         "time": 1632418899113
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.11.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0C553FD6F0B8F83916E94EBB11BEA4611FDA71BB-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4470
         "time": 1632418899216
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.11.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 9E00541CD672C453FB4FD83203370A71688CDE0D-1"
         "pid": 4470
         "time": 1632418899246
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 2 packages, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:41:46.435Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:41:46.436Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:41:46.436Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:41:46.436Z appoptics:debug using context provider: ace-context
2021-09-23T17:41:46.502Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:41:46.550Z appoptics:patching patched crypto 
2021-09-23T17:41:46.573Z appoptics:patching patched https 
2021-09-23T17:41:46.574Z appoptics:patching patched http 
2021-09-23T17:41:46.602Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:41:46.603Z appoptics:patching patched fs 
2021-09-23T17:41:46.611Z appoptics:patching patched pino 6.11.3
2021-09-23T17:41:46.616Z appoptics:debug starting runtimeMetrics


  pino v6.11.3
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (178ms)
  14 failing

  1) pino v6.11.3
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4493
         "time": 1632418906772
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.11.3
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A92AEFA7BAE03B406AAC901CD480AB6F0A799383-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4493
         "time": 1632418906779
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.11.3
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EEC2E7769FB287D2D21ADD63E0D2CB71E992FE3E-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4493
         "time": 1632418906782
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.11.3
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3AF71B2B457D0A706B2C263B0FF70BB5C156ECE6-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4493
         "time": 1632418906784
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.11.3
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C584E1D935011D0A693DBE3AB0D7C97723350B14-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4493
         "time": 1632418906787
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.11.3
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4493
         "time": 1632418906789
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.11.3
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2A8B5261079FA974B8E52763A7B91EB767A3D5CC-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4493
         "time": 1632418906791
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.11.3
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9C89BDCE67D1C90A809915515F52EBFA0C7FFDC6-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4493
         "time": 1632418906792
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.11.3
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4493
         "time": 1632418906794
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.11.3
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FE8CBC80DADA92A3E53AB4647B75B2D4060BD581-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4493
         "time": 1632418906795
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.11.3
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "always insert"
         "pid": 4493
         "time": 1632418906797
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.11.3
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CA789B76F36CF117EE7664DE90A9DC4CB32B2354-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4493
         "time": 1632418906798
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.11.3
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FABD0137F4AE732B8F8B7961FD14B3B9ADE0AF08-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4493
         "time": 1632418906903
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.11.3
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 781BABF2581EC83F162D394CE41B70A50E98A405-1"
         "pid": 4493
         "time": 1632418906931
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:41:53.064Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:41:53.064Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:41:53.064Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:41:53.065Z appoptics:debug using context provider: ace-context
2021-09-23T17:41:53.130Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:41:53.177Z appoptics:patching patched crypto 
2021-09-23T17:41:53.200Z appoptics:patching patched https 
2021-09-23T17:41:53.201Z appoptics:patching patched http 
2021-09-23T17:41:53.229Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:41:53.229Z appoptics:patching patched fs 
2021-09-23T17:41:53.237Z appoptics:patching patched pino 6.12.0
2021-09-23T17:41:53.241Z appoptics:debug starting runtimeMetrics


  pino v6.12.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (180ms)
  14 failing

  1) pino v6.12.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4516
         "time": 1632418913394
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.12.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "61F248F122B825642B1059787D5FB8AF7267F2FE-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4516
         "time": 1632418913401
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.12.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A962A8C658B1A8571307127B42EFDF79B9ADC322-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4516
         "time": 1632418913404
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.12.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "573968FD53A69F384F69117FDBC8A67BDF74CFB4-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4516
         "time": 1632418913406
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.12.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "476CB0EDE25B57F56FF628527043DE0354BBA366-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4516
         "time": 1632418913409
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.12.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4516
         "time": 1632418913412
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.12.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "18A2ECB05BBC8261B13081A51C18EBAC3642C85C-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4516
         "time": 1632418913413
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.12.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E77319B356C7D46AFC4751386102173C218495E9-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4516
         "time": 1632418913415
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.12.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4516
         "time": 1632418913416
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.12.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "154D89746C234280769A1C7E7371A936AFCE297E-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4516
         "time": 1632418913417
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.12.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "always insert"
         "pid": 4516
         "time": 1632418913419
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.12.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E2B5205715F8839CE5DE4638BF07708A7B82B41A-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4516
         "time": 1632418913420
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.12.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "299EC16CB8375EAF2FA6E1B7B1AF8B1B32C35FA0-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4516
         "time": 1632418913527
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.12.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 90F0AF0CDED0165522623C36333A449C9A66257C-1"
         "pid": 4516
         "time": 1632418913555
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:42:00.911Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:42:00.912Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:42:00.912Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:42:00.913Z appoptics:debug using context provider: ace-context
2021-09-23T17:42:00.978Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:42:01.027Z appoptics:patching patched crypto 
2021-09-23T17:42:01.049Z appoptics:patching patched https 
2021-09-23T17:42:01.050Z appoptics:patching patched http 
2021-09-23T17:42:01.077Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:42:01.078Z appoptics:patching patched fs 
2021-09-23T17:42:01.085Z appoptics:patching patched pino 6.13.0
2021-09-23T17:42:01.090Z appoptics:debug starting runtimeMetrics


  pino v6.13.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (180ms)
  14 failing

  1) pino v6.13.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4539
         "time": 1632418921245
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.13.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "603A2D1AA559B08C11DBDD96E1ADB78AEB5DCD55-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4539
         "time": 1632418921252
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.13.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "29CF5906F2CE59136D01B30B7A17F2976114FC80-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4539
         "time": 1632418921255
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.13.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "035B257A7B5D1F524385409119BD7FA4A49D6BB3-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4539
         "time": 1632418921258
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.13.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "AB2BE1F1361E39B1591AECC3023EB24100FFDABC-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4539
         "time": 1632418921260
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.13.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4539
         "time": 1632418921263
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.13.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E0594B42CB958722130CFFE8A010C3197EAF032A-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4539
         "time": 1632418921265
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.13.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E5DC56AE911F9D041A690F7F91440345FFDB8F55-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4539
         "time": 1632418921266
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.13.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4539
         "time": 1632418921268
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.13.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "14F3C1834106EA897AFDD3885F402B91D93609C2-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4539
         "time": 1632418921269
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.13.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "always insert"
         "pid": 4539
         "time": 1632418921270
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.13.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1A72B59F98489653BC5546714BD143477D0574DA-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4539
         "time": 1632418921272
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.13.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "65F418DDEE4A87CC9A3AB233404D8A87B9BB16F6-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4539
         "time": 1632418921377
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.13.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 9B3CB53AB330EF954604FD219D4EB7E8365809BD-1"
         "pid": 4539
         "time": 1632418921406
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




added 1 package, changed 1 package, and audited 1103 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:42:07.995Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:42:07.995Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:42:07.995Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:42:07.996Z appoptics:debug using context provider: ace-context
2021-09-23T17:42:08.062Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:42:08.111Z appoptics:patching patched crypto 
2021-09-23T17:42:08.134Z appoptics:patching patched https 
2021-09-23T17:42:08.134Z appoptics:patching patched http 
2021-09-23T17:42:08.163Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:42:08.163Z appoptics:patching patched fs 
2021-09-23T17:42:08.172Z appoptics:patching patched pino 6.13.1
2021-09-23T17:42:08.177Z appoptics:debug starting runtimeMetrics


  pino v6.13.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (180ms)
  14 failing

  1) pino v6.13.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4562
         "time": 1632418928352
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.13.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4DBB58D5F9596DFEF1302EFAAC8FB9249E844FA2-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4562
         "time": 1632418928361
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.13.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B7DA2F55BD8E9DCBB27D5237FB46CFFA961190E0-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4562
         "time": 1632418928364
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.13.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "18EC71474F32FBC3054827A37FE897CC2AEAEA50-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4562
         "time": 1632418928367
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.13.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3D7D10A069D8A2184E8C98EC4EBB25D09F687257-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4562
         "time": 1632418928369
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.13.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4562
         "time": 1632418928372
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.13.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "13F1AB4A8F595CBCA8ED9B92003B3A1C51047B5B-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4562
         "time": 1632418928373
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.13.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "63D9434DA42D8640E830FD10037FF4CB9ED786A7-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4562
         "time": 1632418928375
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.13.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4562
         "time": 1632418928376
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.13.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2288EF73E8EF43E97EAD025904956BA4A3408AD0-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4562
         "time": 1632418928378
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.13.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "always insert"
         "pid": 4562
         "time": 1632418928379
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.13.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9235B9CD427CAC090812309D8F6E0D293708D0F1-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4562
         "time": 1632418928381
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.13.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FE90A2083897F93C9D6D78A25690C3B560CF9E37-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4562
         "time": 1632418928484
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.13.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 9BB1375376417E0640F93C638315B8BC0C620F7B-1"
         "pid": 4562
         "time": 1632418928512
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1103 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:42:15.083Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:42:15.084Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:42:15.084Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:42:15.084Z appoptics:debug using context provider: ace-context
2021-09-23T17:42:15.150Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:42:15.197Z appoptics:patching patched crypto 
2021-09-23T17:42:15.220Z appoptics:patching patched https 
2021-09-23T17:42:15.220Z appoptics:patching patched http 
2021-09-23T17:42:15.248Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:42:15.249Z appoptics:patching patched fs 
2021-09-23T17:42:15.257Z appoptics:patching patched pino 6.13.2
2021-09-23T17:42:15.262Z appoptics:debug starting runtimeMetrics


  pino v6.13.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (179ms)
  14 failing

  1) pino v6.13.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4585
         "time": 1632418935416
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.13.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B67FCB370B45E14F4B084920A12C7E7255E4C6F2-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4585
         "time": 1632418935423
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.13.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8C65095EF0781F9CF6AA9D8F5B22761AC7628918-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4585
         "time": 1632418935426
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.13.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D2EDA07316EB3377E0EBF35A6EB38A0FE211205F-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4585
         "time": 1632418935428
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.13.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "056B8ABB05BA0BEF95EC7A8F2A5E77FE4F4BC8E2-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4585
         "time": 1632418935431
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.13.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4585
         "time": 1632418935433
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.13.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "687910591AF1E7961668AB891746A537543B7C7F-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4585
         "time": 1632418935435
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.13.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E31D674E24484816654113289E6E42553EE24141-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4585
         "time": 1632418935436
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.13.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4585
         "time": 1632418935438
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.13.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "72413F293DBAC1E95150A99B0BE92B10796E6E5A-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4585
         "time": 1632418935439
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.13.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "always insert"
         "pid": 4585
         "time": 1632418935441
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.13.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "647B8FBAC9B3F054DA8244A8031646DC9667AAA6-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4585
         "time": 1632418935442
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.13.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7506303FDB267C884E30AFEAD6095A9A6BF183DE-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4585
         "time": 1632418935547
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.13.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 79A0A1F85B672349E1DC23FBCBCE9AF87C481D5B-1"
         "pid": 4585
         "time": 1632418935576
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1103 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:42:22.849Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:42:22.849Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:42:22.849Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:42:22.850Z appoptics:debug using context provider: ace-context
2021-09-23T17:42:22.971Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:42:23.023Z appoptics:patching patched crypto 
2021-09-23T17:42:23.046Z appoptics:patching patched https 
2021-09-23T17:42:23.046Z appoptics:patching patched http 
2021-09-23T17:42:23.076Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:42:23.077Z appoptics:patching patched fs 
2021-09-23T17:42:23.085Z appoptics:patching patched pino 6.13.3
2021-09-23T17:42:23.090Z appoptics:debug starting runtimeMetrics


  pino v6.13.3
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (184ms)
  14 failing

  1) pino v6.13.3
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4608
         "time": 1632418943246
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.13.3
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "785EC59F457C3025897C888EE8EF90BA7B59774F-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4608
         "time": 1632418943253
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.13.3
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8F5058902D3AE71020959AFCB16FFD298381017B-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4608
         "time": 1632418943256
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.13.3
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A5F8023D6CA002C061CE6148957CB847F1B8B171-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4608
         "time": 1632418943258
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.13.3
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C61E01762575B795D48CB16E8C718237AFC0BC27-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4608
         "time": 1632418943261
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.13.3
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4608
         "time": 1632418943264
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.13.3
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "63A5A33600922D8C3C6B628BFBBDD546D90694CF-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4608
         "time": 1632418943265
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.13.3
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "68E36720DA4AAB19CDBCFFF33FF6F30A6ED0CEE0-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4608
         "time": 1632418943266
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.13.3
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4608
         "time": 1632418943268
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.13.3
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "094D00F1C92740CF40D5858438816F925EF92DE9-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4608
         "time": 1632418943269
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.13.3
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "always insert"
         "pid": 4608
         "time": 1632418943270
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.13.3
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "BD3FD48054373B46A41E8F5C3837DA4EBFE74A31-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4608
         "time": 1632418943272
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.13.3
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B72CDEA1432299F2B49734870AA374AACE410E8B-1"
      +  }
         "hostname": "dfe2aecec4b8"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4608
         "time": 1632418943377
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.13.3
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous EC7583D00FB120C2D69AFB927649048EC8DF73A9-1"
         "pid": 4608
         "time": 1632418943411
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




removed 1 package, changed 5 packages, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
