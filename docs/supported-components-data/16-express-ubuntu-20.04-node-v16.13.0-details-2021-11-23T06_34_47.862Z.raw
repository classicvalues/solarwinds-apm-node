npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated mkdirp@0.3.3: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated formidable@1.0.11: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.6.0: connect 2.x series is deprecated

added 16 packages, removed 15 packages, changed 8 packages, and audited 1079 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (21 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:34:56.957Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:56.958Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:56.958Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:56.959Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:57.111Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:57.324Z appoptics:patching patched crypto 
2021-11-23T06:34:57.401Z appoptics:patching patched https 
2021-11-23T06:34:57.402Z appoptics:patching patched http 
2021-11-23T06:34:57.539Z appoptics:patching patched zlib 
2021-11-23T06:34:57.655Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:34:57.656Z appoptics:patching patched fs 
2021-11-23T06:34:57.812Z appoptics:patching express 3.0.0 does not support render spans
2021-11-23T06:34:57.812Z appoptics:patching patched express 3.0.0
2021-11-23T06:34:57.817Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:34:57.833Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.0
    ✓ UDP might lose a message
2021-11-23T06:34:57.939Z appoptics:patching patched raw-body 2.4.0
(node:443) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (114ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest (45ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (376ms)
  3 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated connect@2.6.2: connect 2.x series is deprecated

added 1 package, removed 2 packages, changed 2 packages, and audited 1078 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:35:06.527Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:06.528Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:06.528Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:06.529Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:06.605Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:06.782Z appoptics:patching patched crypto 
2021-11-23T06:35:06.805Z appoptics:patching patched https 
2021-11-23T06:35:06.805Z appoptics:patching patched http 
2021-11-23T06:35:06.867Z appoptics:patching patched zlib 
2021-11-23T06:35:06.922Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:06.923Z appoptics:patching patched fs 
2021-11-23T06:35:07.056Z appoptics:patching express 3.0.1 does not support render spans
2021-11-23T06:35:07.056Z appoptics:patching patched express 3.0.1
2021-11-23T06:35:07.064Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:35:07.074Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.1
    ✓ UDP might lose a message
2021-11-23T06:35:07.131Z appoptics:patching patched raw-body 2.4.0
(node:466) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (72ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (315ms)
  3 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1078 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:35:15.922Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:15.923Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:15.923Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:15.924Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:16.000Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:16.203Z appoptics:patching patched crypto 
2021-11-23T06:35:16.227Z appoptics:patching patched https 
2021-11-23T06:35:16.228Z appoptics:patching patched http 
2021-11-23T06:35:16.278Z appoptics:patching patched zlib 
2021-11-23T06:35:16.332Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:16.333Z appoptics:patching patched fs 
2021-11-23T06:35:16.477Z appoptics:patching express 3.0.2 does not support render spans
2021-11-23T06:35:16.477Z appoptics:patching patched express 3.0.2
2021-11-23T06:35:16.483Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:35:16.492Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.2
    ✓ UDP might lose a message
2021-11-23T06:35:16.535Z appoptics:patching patched raw-body 2.4.0
(node:489) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (240ms)
  3 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated connect@2.7.0: connect 2.x series is deprecated

changed 3 packages, and audited 1078 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:35:25.432Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:25.433Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:25.433Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:25.434Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:25.509Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:25.685Z appoptics:patching patched crypto 
2021-11-23T06:35:25.707Z appoptics:patching patched https 
2021-11-23T06:35:25.708Z appoptics:patching patched http 
2021-11-23T06:35:25.773Z appoptics:patching patched zlib 
2021-11-23T06:35:25.827Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:25.827Z appoptics:patching patched fs 
2021-11-23T06:35:25.947Z appoptics:patching express 3.0.3 does not support render spans
2021-11-23T06:35:25.947Z appoptics:patching patched express 3.0.3
2021-11-23T06:35:25.952Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:35:25.962Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.3
    ✓ UDP might lose a message
2021-11-23T06:35:26.011Z appoptics:patching patched raw-body 2.4.0
(node:512) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest (49ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (265ms)
  3 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated connect@2.7.1: connect 2.x series is deprecated

added 1 package, changed 2 packages, and audited 1079 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:35:33.864Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:33.865Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:33.865Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:33.866Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:33.943Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:34.107Z appoptics:patching patched crypto 
2021-11-23T06:35:34.129Z appoptics:patching patched https 
2021-11-23T06:35:34.130Z appoptics:patching patched http 
2021-11-23T06:35:34.187Z appoptics:patching patched zlib 
2021-11-23T06:35:34.262Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:34.263Z appoptics:patching patched fs 
2021-11-23T06:35:34.389Z appoptics:patching express 3.0.4 does not support render spans
2021-11-23T06:35:34.389Z appoptics:patching patched express 3.0.4
2021-11-23T06:35:34.393Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:35:34.401Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.4
    ✓ UDP might lose a message
2021-11-23T06:35:34.441Z appoptics:patching patched raw-body 2.4.0
(node:535) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (229ms)
  3 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1079 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:35:43.191Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:43.191Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:43.192Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:43.192Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:43.274Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:43.447Z appoptics:patching patched crypto 
2021-11-23T06:35:43.470Z appoptics:patching patched https 
2021-11-23T06:35:43.471Z appoptics:patching patched http 
2021-11-23T06:35:43.529Z appoptics:patching patched zlib 
2021-11-23T06:35:43.587Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:43.588Z appoptics:patching patched fs 
2021-11-23T06:35:43.714Z appoptics:patching express 3.0.5 does not support render spans
2021-11-23T06:35:43.715Z appoptics:patching patched express 3.0.5
2021-11-23T06:35:43.721Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:35:43.731Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.5
    ✓ UDP might lose a message
2021-11-23T06:35:43.773Z appoptics:patching patched raw-body 2.4.0
(node:558) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (240ms)
  3 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated connect@2.7.2: connect 2.x series is deprecated

removed 1 package, changed 2 packages, and audited 1078 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:35:52.611Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:52.612Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:52.612Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:52.613Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:52.693Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:52.914Z appoptics:patching patched crypto 
2021-11-23T06:35:52.934Z appoptics:patching patched https 
2021-11-23T06:35:52.935Z appoptics:patching patched http 
2021-11-23T06:35:52.990Z appoptics:patching patched zlib 
2021-11-23T06:35:53.045Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:53.046Z appoptics:patching patched fs 
2021-11-23T06:35:53.164Z appoptics:patching express 3.0.6 does not support render spans
2021-11-23T06:35:53.164Z appoptics:patching patched express 3.0.6
2021-11-23T06:35:53.170Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:35:53.181Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.6
    ✓ UDP might lose a message
2021-11-23T06:35:53.217Z appoptics:patching patched raw-body 2.4.0
(node:581) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (237ms)
  3 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:36:01.203Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:01.205Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:01.205Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:01.206Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:01.301Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:01.541Z appoptics:patching patched crypto 
2021-11-23T06:36:01.566Z appoptics:patching patched https 
2021-11-23T06:36:01.566Z appoptics:patching patched http 
2021-11-23T06:36:01.629Z appoptics:patching patched zlib 
2021-11-23T06:36:01.688Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:01.689Z appoptics:patching patched fs 
2021-11-23T06:36:01.833Z appoptics:patching express 3.1.0 does not support render spans
2021-11-23T06:36:01.833Z appoptics:patching patched express 3.1.0
2021-11-23T06:36:01.838Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:36:01.847Z appoptics:debug starting runtimeMetrics


  probes.express 3.1.0
    ✓ UDP might lose a message
2021-11-23T06:36:01.891Z appoptics:patching patched raw-body 2.4.0
(node:604) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (276ms)
  3 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.3.5: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.7.4: connect 2.x series is deprecated

added 1 package, changed 5 packages, and audited 1079 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:36:10.669Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:10.669Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:10.669Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:10.670Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:10.747Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:10.915Z appoptics:patching patched crypto 
2021-11-23T06:36:10.934Z appoptics:patching patched https 
2021-11-23T06:36:10.935Z appoptics:patching patched http 
2021-11-23T06:36:10.988Z appoptics:patching patched zlib 
2021-11-23T06:36:11.046Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:11.047Z appoptics:patching patched fs 
2021-11-23T06:36:11.170Z appoptics:patching express 3.1.1 does not support render spans
2021-11-23T06:36:11.170Z appoptics:patching patched express 3.1.1
2021-11-23T06:36:11.184Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:36:11.194Z appoptics:debug starting runtimeMetrics


  probes.express 3.1.1
    ✓ UDP might lose a message
2021-11-23T06:36:11.233Z appoptics:patching patched raw-body 2.4.0
(node:627) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (234ms)
  3 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated connect@2.7.5: connect 2.x series is deprecated

changed 3 packages, and audited 1079 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:36:20.175Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:20.182Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:20.182Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:20.183Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:20.296Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:20.477Z appoptics:patching patched crypto 
2021-11-23T06:36:20.500Z appoptics:patching patched https 
2021-11-23T06:36:20.501Z appoptics:patching patched http 
2021-11-23T06:36:20.559Z appoptics:patching patched zlib 
2021-11-23T06:36:20.612Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:20.612Z appoptics:patching patched fs 
2021-11-23T06:36:20.733Z appoptics:patching express 3.1.2 does not support render spans
2021-11-23T06:36:20.733Z appoptics:patching patched express 3.1.2
2021-11-23T06:36:20.738Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:36:20.746Z appoptics:debug starting runtimeMetrics


  probes.express 3.1.2
    ✓ UDP might lose a message
2021-11-23T06:36:20.786Z appoptics:patching patched raw-body 2.4.0
(node:650) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (232ms)
  3 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated connect@2.7.6: connect 2.x series is deprecated

changed 3 packages, and audited 1079 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:36:29.348Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:29.349Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:29.349Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:29.350Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:29.497Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:29.714Z appoptics:patching patched crypto 
2021-11-23T06:36:29.736Z appoptics:patching patched https 
2021-11-23T06:36:29.736Z appoptics:patching patched http 
2021-11-23T06:36:29.795Z appoptics:patching patched zlib 
2021-11-23T06:36:29.850Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:29.850Z appoptics:patching patched fs 
2021-11-23T06:36:29.968Z appoptics:patching patched express 3.2.0
2021-11-23T06:36:29.974Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:36:29.982Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.0
    ✓ UDP might lose a message
2021-11-23T06:36:30.025Z appoptics:patching patched raw-body 2.4.0
(node:673) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (259ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v16.13.0', npm: '8.1.0' }
npm WARN EBADENGINE }
npm WARN deprecated mkdirp@0.3.4: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated formidable@1.0.13: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.7.7: connect 2.x series is deprecated

added 1 package, removed 1 package, changed 6 packages, and audited 1079 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:36:38.252Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:38.253Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:38.253Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:38.253Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:38.329Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:38.502Z appoptics:patching patched crypto 
2021-11-23T06:36:38.525Z appoptics:patching patched https 
2021-11-23T06:36:38.526Z appoptics:patching patched http 
2021-11-23T06:36:38.588Z appoptics:patching patched zlib 
2021-11-23T06:36:38.640Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:38.641Z appoptics:patching patched fs 
2021-11-23T06:36:38.774Z appoptics:patching patched express 3.2.1
2021-11-23T06:36:38.779Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:36:38.789Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.1
    ✓ UDP might lose a message
2021-11-23T06:36:38.835Z appoptics:patching patched raw-body 2.4.0
(node:696) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (253ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v16.13.0', npm: '8.1.0' }
npm WARN EBADENGINE }
npm WARN deprecated connect@2.7.8: connect 2.x series is deprecated

changed 4 packages, and audited 1079 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:36:47.894Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:47.894Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:47.895Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:47.896Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:47.970Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:48.162Z appoptics:patching patched crypto 
2021-11-23T06:36:48.187Z appoptics:patching patched https 
2021-11-23T06:36:48.188Z appoptics:patching patched http 
2021-11-23T06:36:48.253Z appoptics:patching patched zlib 
2021-11-23T06:36:48.327Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:48.328Z appoptics:patching patched fs 
2021-11-23T06:36:48.448Z appoptics:patching patched express 3.2.2
2021-11-23T06:36:48.454Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:36:48.463Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.2
    ✓ UDP might lose a message
2021-11-23T06:36:48.509Z appoptics:patching patched raw-body 2.4.0
(node:719) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (252ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v16.13.0', npm: '8.1.0' }
npm WARN EBADENGINE }
npm WARN deprecated connect@2.7.9: connect 2.x series is deprecated

changed 4 packages, and audited 1079 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:36:57.594Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:57.595Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:57.595Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:57.596Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:57.669Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:57.861Z appoptics:patching patched crypto 
2021-11-23T06:36:57.882Z appoptics:patching patched https 
2021-11-23T06:36:57.883Z appoptics:patching patched http 
2021-11-23T06:36:57.937Z appoptics:patching patched zlib 
2021-11-23T06:36:57.989Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:57.990Z appoptics:patching patched fs 
2021-11-23T06:36:58.115Z appoptics:patching patched express 3.2.3
2021-11-23T06:36:58.120Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:36:58.128Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.3
    ✓ UDP might lose a message
2021-11-23T06:36:58.169Z appoptics:patching patched raw-body 2.4.0
(node:742) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (236ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v16.13.0', npm: '8.1.0' }
npm WARN EBADENGINE }

removed 1 package, changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:37:06.101Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:06.102Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:06.102Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:06.103Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:06.209Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:06.401Z appoptics:patching patched crypto 
2021-11-23T06:37:06.424Z appoptics:patching patched https 
2021-11-23T06:37:06.425Z appoptics:patching patched http 
2021-11-23T06:37:06.487Z appoptics:patching patched zlib 
2021-11-23T06:37:06.548Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:06.548Z appoptics:patching patched fs 
2021-11-23T06:37:06.705Z appoptics:patching patched express 3.2.4
2021-11-23T06:37:06.710Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:37:06.721Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.4
    ✓ UDP might lose a message
2021-11-23T06:37:06.766Z appoptics:patching patched raw-body 2.4.0
(node:765) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (46ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (301ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated formidable@1.0.14: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.7.10: connect 2.x series is deprecated

added 1 package, changed 5 packages, and audited 1079 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:37:15.200Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:15.201Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:15.201Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:15.202Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:15.279Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:15.478Z appoptics:patching patched crypto 
2021-11-23T06:37:15.512Z appoptics:patching patched https 
2021-11-23T06:37:15.512Z appoptics:patching patched http 
2021-11-23T06:37:15.573Z appoptics:patching patched zlib 
2021-11-23T06:37:15.627Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:15.627Z appoptics:patching patched fs 
2021-11-23T06:37:15.741Z appoptics:patching patched express 3.2.5
2021-11-23T06:37:15.748Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:37:15.758Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.5
    ✓ UDP might lose a message
2021-11-23T06:37:15.800Z appoptics:patching patched raw-body 2.4.0
(node:788) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST (38ms)
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (289ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated connect@2.7.11: connect 2.x series is deprecated

added 2 packages, changed 2 packages, and audited 1081 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:37:24.799Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:24.800Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:24.800Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:24.801Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:24.874Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:25.039Z appoptics:patching patched crypto 
2021-11-23T06:37:25.063Z appoptics:patching patched https 
2021-11-23T06:37:25.064Z appoptics:patching patched http 
2021-11-23T06:37:25.117Z appoptics:patching patched zlib 
2021-11-23T06:37:25.172Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:25.173Z appoptics:patching patched fs 
2021-11-23T06:37:25.288Z appoptics:patching patched express 3.2.6
2021-11-23T06:37:25.293Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:37:25.302Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.6
    ✓ UDP might lose a message
2021-11-23T06:37:25.341Z appoptics:patching patched raw-body 2.4.0
(node:811) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (245ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated connect@2.8.0: connect 2.x series is deprecated

added 1 package, removed 2 packages, changed 4 packages, and audited 1080 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:37:34.190Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:34.191Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:34.191Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:34.192Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:34.275Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:34.441Z appoptics:patching patched crypto 
2021-11-23T06:37:34.467Z appoptics:patching patched https 
2021-11-23T06:37:34.467Z appoptics:patching patched http 
2021-11-23T06:37:34.518Z appoptics:patching patched zlib 
2021-11-23T06:37:34.586Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:34.586Z appoptics:patching patched fs 
2021-11-23T06:37:34.711Z appoptics:patching patched express 3.3.0
2021-11-23T06:37:34.716Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:37:34.725Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.0
    ✓ UDP might lose a message
2021-11-23T06:37:34.766Z appoptics:patching patched raw-body 2.4.0
(node:834) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (237ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated connect@2.8.1: connect 2.x series is deprecated

changed 2 packages, and audited 1080 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:37:42.931Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:42.931Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:42.932Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:42.932Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:43.008Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:43.186Z appoptics:patching patched crypto 
2021-11-23T06:37:43.210Z appoptics:patching patched https 
2021-11-23T06:37:43.211Z appoptics:patching patched http 
2021-11-23T06:37:43.266Z appoptics:patching patched zlib 
2021-11-23T06:37:43.322Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:43.323Z appoptics:patching patched fs 
2021-11-23T06:37:43.452Z appoptics:patching patched express 3.3.1
2021-11-23T06:37:43.457Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:37:43.466Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.1
    ✓ UDP might lose a message
2021-11-23T06:37:43.514Z appoptics:patching patched raw-body 2.4.0
(node:857) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (250ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated connect@2.8.2: connect 2.x series is deprecated

added 1 package, removed 1 package, changed 3 packages, and audited 1080 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:37:52.228Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:52.229Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:52.229Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:52.229Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:52.307Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:52.475Z appoptics:patching patched crypto 
2021-11-23T06:37:52.497Z appoptics:patching patched https 
2021-11-23T06:37:52.498Z appoptics:patching patched http 
2021-11-23T06:37:52.552Z appoptics:patching patched zlib 
2021-11-23T06:37:52.605Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:52.605Z appoptics:patching patched fs 
2021-11-23T06:37:52.727Z appoptics:patching patched express 3.3.2
2021-11-23T06:37:52.732Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:37:52.745Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.2
    ✓ UDP might lose a message
2021-11-23T06:37:52.799Z appoptics:patching patched raw-body 2.4.0
(node:880) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (255ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.3.5: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.8.3: connect 2.x series is deprecated

added 1 package, changed 4 packages, and audited 1081 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:01.770Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:01.771Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:01.771Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:01.778Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:01.866Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:02.040Z appoptics:patching patched crypto 
2021-11-23T06:38:02.060Z appoptics:patching patched https 
2021-11-23T06:38:02.061Z appoptics:patching patched http 
2021-11-23T06:38:02.116Z appoptics:patching patched zlib 
2021-11-23T06:38:02.171Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:02.171Z appoptics:patching patched fs 
2021-11-23T06:38:02.293Z appoptics:patching patched express 3.3.3
2021-11-23T06:38:02.298Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:38:02.308Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.3
    ✓ UDP might lose a message
2021-11-23T06:38:02.352Z appoptics:patching patched raw-body 2.4.0
(node:903) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (254ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated connect@2.8.4: connect 2.x series is deprecated

changed 3 packages, and audited 1081 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:10.764Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:10.764Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:10.764Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:10.765Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:10.862Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:11.171Z appoptics:patching patched crypto 
2021-11-23T06:38:11.211Z appoptics:patching patched https 
2021-11-23T06:38:11.211Z appoptics:patching patched http 
2021-11-23T06:38:11.314Z appoptics:patching patched zlib 
2021-11-23T06:38:11.458Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:11.459Z appoptics:patching patched fs 
2021-11-23T06:38:11.725Z appoptics:patching patched express 3.3.4
2021-11-23T06:38:11.734Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:38:11.750Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.4
    ✓ UDP might lose a message
2021-11-23T06:38:11.888Z appoptics:patching patched raw-body 2.4.0
(node:926) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (206ms)
    ✓ should forward controller/action for POST (53ms)
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (59ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (665ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated connect@2.8.5: connect 2.x series is deprecated

changed 4 packages, and audited 1081 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:20.084Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:20.086Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:20.086Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:20.087Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:20.175Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:20.361Z appoptics:patching patched crypto 
2021-11-23T06:38:20.382Z appoptics:patching patched https 
2021-11-23T06:38:20.383Z appoptics:patching patched http 
2021-11-23T06:38:20.440Z appoptics:patching patched zlib 
2021-11-23T06:38:20.497Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:20.498Z appoptics:patching patched fs 
2021-11-23T06:38:20.620Z appoptics:patching patched express 3.3.5
2021-11-23T06:38:20.626Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:38:20.634Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.5
    ✓ UDP might lose a message
2021-11-23T06:38:20.678Z appoptics:patching patched raw-body 2.4.0
(node:949) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (254ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1081 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:30.069Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:30.071Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:30.071Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:30.072Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:30.165Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:30.359Z appoptics:patching patched crypto 
2021-11-23T06:38:30.386Z appoptics:patching patched https 
2021-11-23T06:38:30.386Z appoptics:patching patched http 
2021-11-23T06:38:30.452Z appoptics:patching patched zlib 
2021-11-23T06:38:30.510Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:30.511Z appoptics:patching patched fs 
2021-11-23T06:38:30.628Z appoptics:patching patched express 3.3.6
2021-11-23T06:38:30.634Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:38:30.643Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.6
    ✓ UDP might lose a message
2021-11-23T06:38:30.684Z appoptics:patching patched raw-body 2.4.0
(node:972) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (246ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated connect@2.8.7: connect 2.x series is deprecated

changed 2 packages, and audited 1081 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:39.855Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:39.856Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:39.856Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:39.856Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:39.934Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:40.108Z appoptics:patching patched crypto 
2021-11-23T06:38:40.130Z appoptics:patching patched https 
2021-11-23T06:38:40.130Z appoptics:patching patched http 
2021-11-23T06:38:40.187Z appoptics:patching patched zlib 
2021-11-23T06:38:40.246Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:40.247Z appoptics:patching patched fs 
2021-11-23T06:38:40.371Z appoptics:patching patched express 3.3.7
2021-11-23T06:38:40.376Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:38:40.385Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.7
    ✓ UDP might lose a message
2021-11-23T06:38:40.429Z appoptics:patching patched raw-body 2.4.0
(node:995) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (352ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated connect@2.8.8: connect 2.x series is deprecated

changed 2 packages, and audited 1081 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:48.842Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:48.843Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:48.843Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:48.844Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:48.931Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:49.143Z appoptics:patching patched crypto 
2021-11-23T06:38:49.165Z appoptics:patching patched https 
2021-11-23T06:38:49.165Z appoptics:patching patched http 
2021-11-23T06:38:49.233Z appoptics:patching patched zlib 
2021-11-23T06:38:49.297Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:49.297Z appoptics:patching patched fs 
2021-11-23T06:38:49.445Z appoptics:patching patched express 3.3.8
2021-11-23T06:38:49.451Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:38:49.470Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.8
    ✓ UDP might lose a message
2021-11-23T06:38:49.517Z appoptics:patching patched raw-body 2.4.0
(node:1018) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (303ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.9.0: connect 2.x series is deprecated

added 6 packages, removed 2 packages, changed 3 packages, and audited 1085 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:59.069Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:59.069Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:59.069Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:59.070Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:59.149Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:59.335Z appoptics:patching patched crypto 
2021-11-23T06:38:59.356Z appoptics:patching patched https 
2021-11-23T06:38:59.357Z appoptics:patching patched http 
2021-11-23T06:38:59.420Z appoptics:patching patched zlib 
2021-11-23T06:38:59.473Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:59.473Z appoptics:patching patched fs 
2021-11-23T06:38:59.613Z appoptics:patching patched express 3.4.0
2021-11-23T06:38:59.619Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:38:59.628Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.0
    ✓ UDP might lose a message
2021-11-23T06:38:59.673Z appoptics:patching patched raw-body 2.4.0
(node:1041) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (264ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated connect@2.9.1: connect 2.x series is deprecated

removed 5 packages, changed 5 packages, and audited 1080 packages in 14s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (22 moderate, 9 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:39:14.719Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:14.720Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:14.720Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:14.721Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:14.825Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:15.037Z appoptics:patching patched crypto 
2021-11-23T06:39:15.062Z appoptics:patching patched https 
2021-11-23T06:39:15.063Z appoptics:patching patched http 
2021-11-23T06:39:15.128Z appoptics:patching patched zlib 
2021-11-23T06:39:15.189Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:15.190Z appoptics:patching patched fs 
2021-11-23T06:39:15.348Z appoptics:patching patched express 3.4.1
2021-11-23T06:39:15.355Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:39:15.364Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.1
    ✓ UDP might lose a message
2021-11-23T06:39:15.425Z appoptics:patching patched raw-body 2.4.0
(node:1064) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (78ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (308ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated connect@2.9.2: connect 2.x series is deprecated

added 4 packages, changed 4 packages, and audited 1084 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

34 vulnerabilities (22 moderate, 10 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:39:24.408Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:24.409Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:24.409Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:24.410Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:24.483Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:24.655Z appoptics:patching patched crypto 
2021-11-23T06:39:24.677Z appoptics:patching patched https 
2021-11-23T06:39:24.678Z appoptics:patching patched http 
2021-11-23T06:39:24.738Z appoptics:patching patched zlib 
2021-11-23T06:39:24.794Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:24.795Z appoptics:patching patched fs 
2021-11-23T06:39:24.930Z appoptics:patching patched raw-body 0.0.3
2021-11-23T06:39:24.946Z appoptics:patching patched express 3.4.2
2021-11-23T06:39:24.952Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:39:24.961Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.2
    ✓ UDP might lose a message
2021-11-23T06:39:25.001Z appoptics:patching patched raw-body 2.4.0
(node:1087) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (252ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated connect@2.10.1: connect 2.x series is deprecated

changed 2 packages, and audited 1084 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

34 vulnerabilities (22 moderate, 10 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:39:33.991Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:33.992Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:33.992Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:33.993Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:34.074Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:34.252Z appoptics:patching patched crypto 
2021-11-23T06:39:34.276Z appoptics:patching patched https 
2021-11-23T06:39:34.276Z appoptics:patching patched http 
2021-11-23T06:39:34.331Z appoptics:patching patched zlib 
2021-11-23T06:39:34.386Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:34.387Z appoptics:patching patched fs 
2021-11-23T06:39:34.505Z appoptics:patching patched raw-body 0.0.3
2021-11-23T06:39:34.520Z appoptics:patching patched express 3.4.3
2021-11-23T06:39:34.527Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:39:34.536Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.3
    ✓ UDP might lose a message
2021-11-23T06:39:34.579Z appoptics:patching patched raw-body 2.4.0
(node:1110) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (254ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated connect@2.11.0: connect 2.x series is deprecated

changed 6 packages, and audited 1084 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

34 vulnerabilities (22 moderate, 10 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:39:44.169Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:44.170Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:44.171Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:44.171Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:44.254Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:44.441Z appoptics:patching patched crypto 
2021-11-23T06:39:44.463Z appoptics:patching patched https 
2021-11-23T06:39:44.464Z appoptics:patching patched http 
2021-11-23T06:39:44.515Z appoptics:patching patched zlib 
2021-11-23T06:39:44.571Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:44.571Z appoptics:patching patched fs 
2021-11-23T06:39:44.679Z appoptics:patching patched raw-body 0.0.3
2021-11-23T06:39:44.695Z appoptics:patching patched express 3.4.4
2021-11-23T06:39:44.701Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:39:44.709Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.4
    ✓ UDP might lose a message
2021-11-23T06:39:44.753Z appoptics:patching patched raw-body 2.4.0
(node:1133) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (255ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated connect@2.11.1: connect 2.x series is deprecated

added 2 packages, changed 4 packages, and audited 1086 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 22 moderate, 10 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:39:53.019Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:53.022Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:53.022Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:53.023Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:53.191Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:53.614Z appoptics:patching patched crypto 
2021-11-23T06:39:53.653Z appoptics:patching patched https 
2021-11-23T06:39:53.654Z appoptics:patching patched http 
2021-11-23T06:39:53.755Z appoptics:patching patched zlib 
2021-11-23T06:39:53.826Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:53.827Z appoptics:patching patched fs 
2021-11-23T06:39:54.023Z appoptics:patching patched raw-body 1.1.1
2021-11-23T06:39:54.055Z appoptics:patching patched express 3.4.5
2021-11-23T06:39:54.061Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:39:54.071Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.5
    ✓ UDP might lose a message
2021-11-23T06:39:54.156Z appoptics:patching patched raw-body 2.4.0
(node:1156) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (86ms)
    ✓ should forward controller/action for POST (41ms)
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (338ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated connect@2.11.2: connect 2.x series is deprecated

changed 3 packages, and audited 1086 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 22 moderate, 10 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:40:02.355Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:02.355Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:02.355Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:02.357Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:02.435Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:02.599Z appoptics:patching patched crypto 
2021-11-23T06:40:02.622Z appoptics:patching patched https 
2021-11-23T06:40:02.622Z appoptics:patching patched http 
2021-11-23T06:40:02.682Z appoptics:patching patched zlib 
2021-11-23T06:40:02.743Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:02.744Z appoptics:patching patched fs 
2021-11-23T06:40:02.854Z appoptics:patching patched raw-body 1.1.2
2021-11-23T06:40:02.871Z appoptics:patching patched express 3.4.6
2021-11-23T06:40:02.877Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:40:02.887Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.6
    ✓ UDP might lose a message
2021-11-23T06:40:02.928Z appoptics:patching patched raw-body 2.4.0
(node:1179) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (249ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated connect@2.12.0: connect 2.x series is deprecated

added 2 packages, changed 3 packages, and audited 1088 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 22 moderate, 10 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:40:12.012Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:12.013Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:12.013Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:12.014Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:12.090Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:12.281Z appoptics:patching patched crypto 
2021-11-23T06:40:12.310Z appoptics:patching patched https 
2021-11-23T06:40:12.310Z appoptics:patching patched http 
2021-11-23T06:40:12.368Z appoptics:patching patched zlib 
2021-11-23T06:40:12.444Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:12.444Z appoptics:patching patched fs 
2021-11-23T06:40:12.562Z appoptics:patching patched raw-body 1.1.2
2021-11-23T06:40:12.577Z appoptics:patching patched express 3.4.7
2021-11-23T06:40:12.582Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:40:12.591Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.7
    ✓ UDP might lose a message
2021-11-23T06:40:12.632Z appoptics:patching patched raw-body 2.4.0
(node:1202) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (245ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1088 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 22 moderate, 10 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:40:21.044Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:21.045Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:21.045Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:21.046Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:21.145Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:21.311Z appoptics:patching patched crypto 
2021-11-23T06:40:21.331Z appoptics:patching patched https 
2021-11-23T06:40:21.332Z appoptics:patching patched http 
2021-11-23T06:40:21.390Z appoptics:patching patched zlib 
2021-11-23T06:40:21.449Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:21.450Z appoptics:patching patched fs 
2021-11-23T06:40:21.589Z appoptics:patching patched raw-body 1.1.2
2021-11-23T06:40:21.603Z appoptics:patching patched express 3.4.8
2021-11-23T06:40:21.610Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:40:21.620Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.8
    ✓ UDP might lose a message
2021-11-23T06:40:21.662Z appoptics:patching patched raw-body 2.4.0
(node:1225) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (248ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated static-favicon@1.0.0: use serve-favicon module
npm WARN deprecated connect@2.14.1: connect 2.x series is deprecated

added 22 packages, removed 1 package, changed 10 packages, and audited 1109 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

41 vulnerabilities (2 low, 25 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:40:30.586Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:30.587Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:30.587Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:30.588Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:30.675Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:30.949Z appoptics:patching patched crypto 
2021-11-23T06:40:30.977Z appoptics:patching patched https 
2021-11-23T06:40:30.977Z appoptics:patching patched http 
2021-11-23T06:40:31.045Z appoptics:patching patched zlib 
2021-11-23T06:40:31.104Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:31.105Z appoptics:patching patched fs 
2021-11-23T06:40:31.312Z appoptics:patching patched raw-body 1.1.3
2021-11-23T06:40:31.338Z appoptics:patching patched morgan 1.0.0
2021-11-23T06:40:31.346Z appoptics:patching patched express 3.5.0
2021-11-23T06:40:31.351Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:40:31.361Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.0
    ✓ UDP might lose a message
2021-11-23T06:40:31.400Z appoptics:patching patched raw-body 2.4.0
(node:1248) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (291ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1109 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

41 vulnerabilities (2 low, 25 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:40:40.152Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:40.153Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:40.153Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:40.154Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:40.232Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:40.415Z appoptics:patching patched crypto 
2021-11-23T06:40:40.437Z appoptics:patching patched https 
2021-11-23T06:40:40.438Z appoptics:patching patched http 
2021-11-23T06:40:40.495Z appoptics:patching patched zlib 
2021-11-23T06:40:40.553Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:40.554Z appoptics:patching patched fs 
2021-11-23T06:40:40.678Z appoptics:patching patched raw-body 1.1.3
2021-11-23T06:40:40.699Z appoptics:patching patched morgan 1.0.0
2021-11-23T06:40:40.706Z appoptics:patching patched express 3.5.1
2021-11-23T06:40:40.713Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:40:40.723Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.1
    ✓ UDP might lose a message
2021-11-23T06:40:40.765Z appoptics:patching patched raw-body 2.4.0
(node:1271) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (261ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated static-favicon@1.0.2: use serve-favicon module
npm WARN deprecated scmp@0.0.3: scmp v2 uses improved core crypto comparison since Node v6.6.0
npm WARN deprecated mkdirp@0.4.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.14.5: connect 2.x series is deprecated

added 5 packages, changed 10 packages, and audited 1114 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

41 vulnerabilities (2 low, 25 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:40:50.344Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:50.345Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:50.345Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:50.346Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:50.422Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:50.591Z appoptics:patching patched crypto 
2021-11-23T06:40:50.614Z appoptics:patching patched https 
2021-11-23T06:40:50.614Z appoptics:patching patched http 
2021-11-23T06:40:50.659Z appoptics:patching patched zlib 
2021-11-23T06:40:50.729Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:50.730Z appoptics:patching patched fs 
2021-11-23T06:40:50.842Z appoptics:patching patched raw-body 1.1.4
2021-11-23T06:40:50.864Z appoptics:patching patched morgan 1.0.0
2021-11-23T06:40:50.875Z appoptics:patching patched express 3.5.2
2021-11-23T06:40:50.880Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:40:50.889Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.2
    ✓ UDP might lose a message
2021-11-23T06:40:50.929Z appoptics:patching patched raw-body 2.4.0
(node:1294) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (240ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.4.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1114 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

41 vulnerabilities (2 low, 25 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:40:59.699Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:59.700Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:59.700Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:59.701Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:59.794Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:59.981Z appoptics:patching patched crypto 
2021-11-23T06:41:00.006Z appoptics:patching patched https 
2021-11-23T06:41:00.006Z appoptics:patching patched http 
2021-11-23T06:41:00.072Z appoptics:patching patched zlib 
2021-11-23T06:41:00.132Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:00.132Z appoptics:patching patched fs 
2021-11-23T06:41:00.273Z appoptics:patching patched raw-body 1.1.4
2021-11-23T06:41:00.305Z appoptics:patching patched morgan 1.0.0
2021-11-23T06:41:00.316Z appoptics:patching patched express 3.5.3
2021-11-23T06:41:00.323Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:41:00.332Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.3
    ✓ UDP might lose a message
2021-11-23T06:41:00.379Z appoptics:patching patched raw-body 2.4.0
(node:1317) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (257ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.15.0: connect 2.x series is deprecated

added 3 packages, removed 5 packages, changed 14 packages, and audited 1112 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

43 vulnerabilities (3 low, 25 moderate, 13 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:41:08.892Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:08.893Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:08.893Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:08.901Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:09.024Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:09.216Z appoptics:patching patched crypto 
2021-11-23T06:41:09.239Z appoptics:patching patched https 
2021-11-23T06:41:09.240Z appoptics:patching patched http 
2021-11-23T06:41:09.303Z appoptics:patching patched zlib 
2021-11-23T06:41:09.365Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:09.365Z appoptics:patching patched fs 
2021-11-23T06:41:09.515Z appoptics:patching patched raw-body 1.1.4
2021-11-23T06:41:09.542Z appoptics:patching patched morgan 1.0.1
2021-11-23T06:41:09.550Z appoptics:patching patched express 3.6.0
2021-11-23T06:41:09.559Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:41:09.568Z appoptics:debug starting runtimeMetrics


  probes.express 3.6.0
    ✓ UDP might lose a message
2021-11-23T06:41:09.612Z appoptics:patching patched raw-body 2.4.0
(node:1340) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (267ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.16.2: connect 2.x series is deprecated

added 11 packages, removed 2 packages, changed 10 packages, and audited 1121 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

45 vulnerabilities (3 low, 26 moderate, 14 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:41:18.855Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:18.855Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:18.855Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:18.856Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:18.941Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:19.119Z appoptics:patching patched crypto 
2021-11-23T06:41:19.139Z appoptics:patching patched https 
2021-11-23T06:41:19.140Z appoptics:patching patched http 
2021-11-23T06:41:19.191Z appoptics:patching patched zlib 
2021-11-23T06:41:19.245Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:19.245Z appoptics:patching patched fs 
2021-11-23T06:41:19.370Z appoptics:patching patched raw-body 1.1.4
2021-11-23T06:41:19.388Z appoptics:patching patched morgan 1.0.1
2021-11-23T06:41:19.396Z appoptics:patching patched express 3.7.0
2021-11-23T06:41:19.404Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:41:19.414Z appoptics:debug starting runtimeMetrics


  probes.express 3.7.0
    ✓ UDP might lose a message
2021-11-23T06:41:19.453Z appoptics:patching patched raw-body 2.4.0
(node:1363) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (253ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.17.1: connect 2.x series is deprecated

removed 1 package, changed 6 packages, and audited 1120 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

45 vulnerabilities (3 low, 26 moderate, 14 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:41:28.867Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:28.868Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:28.868Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:28.869Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:28.967Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:29.153Z appoptics:patching patched crypto 
2021-11-23T06:41:29.172Z appoptics:patching patched https 
2021-11-23T06:41:29.172Z appoptics:patching patched http 
2021-11-23T06:41:29.231Z appoptics:patching patched zlib 
2021-11-23T06:41:29.286Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:29.287Z appoptics:patching patched fs 
2021-11-23T06:41:29.406Z appoptics:patching patched raw-body 1.1.4
2021-11-23T06:41:29.424Z appoptics:patching patched morgan 1.1.1
2021-11-23T06:41:29.434Z appoptics:patching patched express 3.8.0
2021-11-23T06:41:29.442Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:41:29.452Z appoptics:debug starting runtimeMetrics


  probes.express 3.8.0
    ✓ UDP might lose a message
2021-11-23T06:41:29.492Z appoptics:patching patched raw-body 2.4.0
(node:1386) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (246ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.17.3: connect 2.x series is deprecated

removed 1 package, changed 7 packages, and audited 1119 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

46 vulnerabilities (3 low, 26 moderate, 15 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:41:38.868Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:38.869Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:38.869Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:38.870Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:38.961Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:39.158Z appoptics:patching patched crypto 
2021-11-23T06:41:39.180Z appoptics:patching patched https 
2021-11-23T06:41:39.181Z appoptics:patching patched http 
2021-11-23T06:41:39.239Z appoptics:patching patched zlib 
2021-11-23T06:41:39.296Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:39.296Z appoptics:patching patched fs 
2021-11-23T06:41:39.422Z appoptics:patching patched raw-body 1.1.6
2021-11-23T06:41:39.442Z appoptics:patching patched morgan 1.1.1
2021-11-23T06:41:39.451Z appoptics:patching patched express 3.8.1
2021-11-23T06:41:39.459Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:41:39.470Z appoptics:debug starting runtimeMetrics


  probes.express 3.8.1
    ✓ UDP might lose a message
2021-11-23T06:41:39.511Z appoptics:patching patched raw-body 2.4.0
(node:1409) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (252ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.18.0: connect 2.x series is deprecated

added 4 packages, removed 3 packages, changed 12 packages, and audited 1120 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

47 vulnerabilities (3 low, 28 moderate, 14 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:41:48.737Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:48.738Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:48.738Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:48.739Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:48.826Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:49.102Z appoptics:patching patched crypto 
2021-11-23T06:41:49.123Z appoptics:patching patched https 
2021-11-23T06:41:49.124Z appoptics:patching patched http 
2021-11-23T06:41:49.180Z appoptics:patching patched zlib 
2021-11-23T06:41:49.281Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:49.281Z appoptics:patching patched fs 
2021-11-23T06:41:49.486Z appoptics:patching patched raw-body 1.1.6
2021-11-23T06:41:49.525Z appoptics:patching patched morgan 1.1.1
2021-11-23T06:41:49.536Z appoptics:patching patched express 3.9.0
2021-11-23T06:41:49.547Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:41:49.561Z appoptics:debug starting runtimeMetrics


  probes.express 3.9.0
    ✓ UDP might lose a message
2021-11-23T06:41:49.616Z appoptics:patching patched raw-body 2.4.0
(node:1432) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (81ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (317ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.1: connect 2.x series is deprecated

added 2 packages, changed 12 packages, and audited 1122 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

47 vulnerabilities (3 low, 28 moderate, 14 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:41:58.298Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:58.299Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:58.299Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:58.300Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:58.367Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:58.542Z appoptics:patching patched crypto 
2021-11-23T06:41:58.563Z appoptics:patching patched https 
2021-11-23T06:41:58.563Z appoptics:patching patched http 
2021-11-23T06:41:58.617Z appoptics:patching patched zlib 
2021-11-23T06:41:58.670Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:58.671Z appoptics:patching patched fs 
2021-11-23T06:41:58.786Z appoptics:patching patched raw-body 1.1.6
2021-11-23T06:41:58.806Z appoptics:patching patched morgan 1.1.1
2021-11-23T06:41:58.814Z appoptics:patching patched express 3.10.0
2021-11-23T06:41:58.822Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:41:58.832Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.0
    ✓ UDP might lose a message
2021-11-23T06:41:58.873Z appoptics:patching patched raw-body 2.4.0
(node:1455) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (253ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.2: connect 2.x series is deprecated

changed 5 packages, and audited 1122 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

47 vulnerabilities (3 low, 28 moderate, 14 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:42:07.800Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:07.801Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:07.801Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:07.802Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:07.894Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:08.092Z appoptics:patching patched crypto 
2021-11-23T06:42:08.118Z appoptics:patching patched https 
2021-11-23T06:42:08.118Z appoptics:patching patched http 
2021-11-23T06:42:08.187Z appoptics:patching patched zlib 
2021-11-23T06:42:08.249Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:08.250Z appoptics:patching patched fs 
2021-11-23T06:42:08.373Z appoptics:patching patched raw-body 1.1.6
2021-11-23T06:42:08.391Z appoptics:patching patched morgan 1.1.1
2021-11-23T06:42:08.401Z appoptics:patching patched express 3.10.1
2021-11-23T06:42:08.410Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:42:08.418Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.1
    ✓ UDP might lose a message
2021-11-23T06:42:08.458Z appoptics:patching patched raw-body 2.4.0
(node:1478) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (263ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.3: connect 2.x series is deprecated

changed 4 packages, and audited 1122 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

47 vulnerabilities (3 low, 28 moderate, 14 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:42:17.454Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:17.454Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:17.454Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:17.455Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:17.529Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:17.699Z appoptics:patching patched crypto 
2021-11-23T06:42:17.722Z appoptics:patching patched https 
2021-11-23T06:42:17.723Z appoptics:patching patched http 
2021-11-23T06:42:17.778Z appoptics:patching patched zlib 
2021-11-23T06:42:17.836Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:17.836Z appoptics:patching patched fs 
2021-11-23T06:42:17.969Z appoptics:patching patched raw-body 1.1.6
2021-11-23T06:42:17.988Z appoptics:patching patched morgan 1.1.1
2021-11-23T06:42:17.998Z appoptics:patching patched express 3.10.2
2021-11-23T06:42:18.007Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:42:18.015Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.2
    ✓ UDP might lose a message
2021-11-23T06:42:18.057Z appoptics:patching patched raw-body 2.4.0
(node:1501) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (282ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.4: connect 2.x series is deprecated

added 3 packages, changed 8 packages, and audited 1125 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

48 vulnerabilities (2 low, 28 moderate, 16 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:42:26.870Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:26.871Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:26.871Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:26.872Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:26.969Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:27.176Z appoptics:patching patched crypto 
2021-11-23T06:42:27.201Z appoptics:patching patched https 
2021-11-23T06:42:27.202Z appoptics:patching patched http 
2021-11-23T06:42:27.262Z appoptics:patching patched zlib 
2021-11-23T06:42:27.325Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:27.326Z appoptics:patching patched fs 
2021-11-23T06:42:27.497Z appoptics:patching patched raw-body 1.1.6
2021-11-23T06:42:27.520Z appoptics:patching patched morgan 1.1.1
2021-11-23T06:42:27.530Z appoptics:patching patched express 3.10.3
2021-11-23T06:42:27.538Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:42:27.549Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.3
    ✓ UDP might lose a message
2021-11-23T06:42:27.605Z appoptics:patching patched raw-body 2.4.0
(node:1524) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (45ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (389ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.5: connect 2.x series is deprecated

added 6 packages, changed 11 packages, and audited 1131 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

48 vulnerabilities (2 low, 28 moderate, 16 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:42:36.257Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:36.258Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:36.258Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:36.259Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:36.340Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:36.540Z appoptics:patching patched crypto 
2021-11-23T06:42:36.560Z appoptics:patching patched https 
2021-11-23T06:42:36.561Z appoptics:patching patched http 
2021-11-23T06:42:36.614Z appoptics:patching patched zlib 
2021-11-23T06:42:36.674Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:36.675Z appoptics:patching patched fs 
2021-11-23T06:42:36.821Z appoptics:patching patched raw-body 1.1.6
2021-11-23T06:42:36.844Z appoptics:patching patched morgan 1.1.1
2021-11-23T06:42:36.853Z appoptics:patching patched express 3.10.4
2021-11-23T06:42:36.861Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:42:36.871Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.4
    ✓ UDP might lose a message
2021-11-23T06:42:36.913Z appoptics:patching patched raw-body 2.4.0
(node:1547) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (290ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.6: connect 2.x series is deprecated

added 1 package, removed 1 package, changed 15 packages, and audited 1131 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

47 vulnerabilities (2 low, 27 moderate, 16 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:42:46.364Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:46.365Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:46.365Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:46.366Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:46.439Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:46.619Z appoptics:patching patched crypto 
2021-11-23T06:42:46.656Z appoptics:patching patched https 
2021-11-23T06:42:46.657Z appoptics:patching patched http 
2021-11-23T06:42:46.708Z appoptics:patching patched zlib 
2021-11-23T06:42:46.762Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:46.762Z appoptics:patching patched fs 
2021-11-23T06:42:46.901Z appoptics:patching patched raw-body 1.1.6
2021-11-23T06:42:46.922Z appoptics:patching patched morgan 1.1.1
2021-11-23T06:42:46.931Z appoptics:patching patched express 3.10.5
2021-11-23T06:42:46.939Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:42:46.948Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.5
    ✓ UDP might lose a message
2021-11-23T06:42:46.992Z appoptics:patching patched raw-body 2.4.0
(node:1570) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (271ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated native-or-bluebird@1.1.2: 'native-or-bluebird' is deprecated. Please use 'any-promise' instead.
npm WARN deprecated connect@2.20.2: connect 2.x series is deprecated

added 14 packages, removed 2 packages, changed 20 packages, and audited 1143 packages in 10s

80 packages are looking for funding
  run `npm fund` for details

53 vulnerabilities (3 low, 28 moderate, 20 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:42:57.328Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:57.328Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:57.329Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:57.330Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:57.411Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:57.608Z appoptics:patching patched crypto 
2021-11-23T06:42:57.630Z appoptics:patching patched https 
2021-11-23T06:42:57.631Z appoptics:patching patched http 
2021-11-23T06:42:57.688Z appoptics:patching patched zlib 
2021-11-23T06:42:57.738Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:57.738Z appoptics:patching patched fs 
2021-11-23T06:42:57.883Z appoptics:patching patched morgan 1.1.1
2021-11-23T06:42:57.897Z appoptics:patching patched express 3.11.0
2021-11-23T06:42:57.905Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:42:57.913Z appoptics:debug starting runtimeMetrics


  probes.express 3.11.0
    ✓ UDP might lose a message
2021-11-23T06:42:57.954Z appoptics:patching patched raw-body 2.4.0
(node:1593) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (259ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.21.0: connect 2.x series is deprecated

added 15 packages, removed 2 packages, changed 12 packages, and audited 1156 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

53 vulnerabilities (3 low, 24 moderate, 24 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:43:07.658Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:07.659Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:07.659Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:07.660Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:07.745Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:07.929Z appoptics:patching patched crypto 
2021-11-23T06:43:07.954Z appoptics:patching patched https 
2021-11-23T06:43:07.955Z appoptics:patching patched http 
2021-11-23T06:43:08.011Z appoptics:patching patched zlib 
2021-11-23T06:43:08.072Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:08.072Z appoptics:patching patched fs 
2021-11-23T06:43:08.230Z appoptics:patching patched morgan 1.1.1
2021-11-23T06:43:08.247Z appoptics:patching patched express 3.12.0
2021-11-23T06:43:08.256Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:43:08.266Z appoptics:debug starting runtimeMetrics


  probes.express 3.12.0
    ✓ UDP might lose a message
2021-11-23T06:43:08.314Z appoptics:patching patched raw-body 2.4.0
(node:1616) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (262ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.21.1: connect 2.x series is deprecated

added 2 packages, removed 2 packages, changed 6 packages, and audited 1156 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (3 low, 22 moderate, 24 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:43:16.889Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:16.890Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:16.890Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:16.891Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:17.094Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:17.325Z appoptics:patching patched crypto 
2021-11-23T06:43:17.349Z appoptics:patching patched https 
2021-11-23T06:43:17.350Z appoptics:patching patched http 
2021-11-23T06:43:17.415Z appoptics:patching patched zlib 
2021-11-23T06:43:17.472Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:17.473Z appoptics:patching patched fs 
2021-11-23T06:43:17.697Z appoptics:patching patched morgan 1.1.1
2021-11-23T06:43:17.721Z appoptics:patching patched express 3.12.1
2021-11-23T06:43:17.738Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:43:17.757Z appoptics:debug starting runtimeMetrics


  probes.express 3.12.1
    ✓ UDP might lose a message
2021-11-23T06:43:17.837Z appoptics:patching patched raw-body 2.4.0
(node:1639) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (121ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (378ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.22.0: connect 2.x series is deprecated

added 8 packages, removed 1 package, changed 10 packages, and audited 1163 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (3 low, 22 moderate, 24 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:43:26.975Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:26.976Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:26.976Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:26.977Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:27.060Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:27.269Z appoptics:patching patched crypto 
2021-11-23T06:43:27.293Z appoptics:patching patched https 
2021-11-23T06:43:27.294Z appoptics:patching patched http 
2021-11-23T06:43:27.352Z appoptics:patching patched zlib 
2021-11-23T06:43:27.410Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:27.411Z appoptics:patching patched fs 
2021-11-23T06:43:27.578Z appoptics:patching patched morgan 1.1.1
2021-11-23T06:43:27.591Z appoptics:patching patched express 3.13.0
2021-11-23T06:43:27.598Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:43:27.607Z appoptics:debug starting runtimeMetrics


  probes.express 3.13.0
    ✓ UDP might lose a message
2021-11-23T06:43:27.650Z appoptics:patching patched raw-body 2.4.0
(node:1662) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (263ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.23.0: connect 2.x series is deprecated

added 3 packages, removed 1 package, changed 10 packages, and audited 1165 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (3 low, 22 moderate, 24 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:43:37.095Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:37.096Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:37.096Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:37.097Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:37.200Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:37.487Z appoptics:patching patched crypto 
2021-11-23T06:43:37.513Z appoptics:patching patched https 
2021-11-23T06:43:37.514Z appoptics:patching patched http 
2021-11-23T06:43:37.572Z appoptics:patching patched zlib 
2021-11-23T06:43:37.625Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:37.625Z appoptics:patching patched fs 
2021-11-23T06:43:37.794Z appoptics:patching patched morgan 1.1.1
2021-11-23T06:43:37.810Z appoptics:patching patched express 3.14.0
2021-11-23T06:43:37.817Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:43:37.826Z appoptics:debug starting runtimeMetrics


  probes.express 3.14.0
    ✓ UDP might lose a message
2021-11-23T06:43:37.869Z appoptics:patching patched raw-body 2.4.0
(node:1685) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (261ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.0: connect 2.x series is deprecated

added 8 packages, removed 3 packages, changed 26 packages, and audited 1170 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (2 low, 22 moderate, 25 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:43:47.453Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:47.456Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:47.457Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:47.458Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:47.552Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:47.744Z appoptics:patching patched crypto 
2021-11-23T06:43:47.768Z appoptics:patching patched https 
2021-11-23T06:43:47.769Z appoptics:patching patched http 
2021-11-23T06:43:47.831Z appoptics:patching patched zlib 
2021-11-23T06:43:47.888Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:47.888Z appoptics:patching patched fs 
2021-11-23T06:43:48.098Z appoptics:patching patched morgan 1.2.3
2021-11-23T06:43:48.112Z appoptics:patching patched express 3.15.0
2021-11-23T06:43:48.120Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:43:48.130Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.0
    ✓ UDP might lose a message
2021-11-23T06:43:48.178Z appoptics:patching patched raw-body 2.4.0
(node:1708) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (57ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (380ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.1: connect 2.x series is deprecated

changed 7 packages, and audited 1170 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (2 low, 22 moderate, 25 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:43:57.455Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:57.458Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:57.458Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:57.459Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:57.592Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:57.800Z appoptics:patching patched crypto 
2021-11-23T06:43:57.822Z appoptics:patching patched https 
2021-11-23T06:43:57.822Z appoptics:patching patched http 
2021-11-23T06:43:57.871Z appoptics:patching patched zlib 
2021-11-23T06:43:57.927Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:57.927Z appoptics:patching patched fs 
2021-11-23T06:43:58.109Z appoptics:patching patched morgan 1.2.3
2021-11-23T06:43:58.123Z appoptics:patching patched express 3.15.1
2021-11-23T06:43:58.129Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:43:58.139Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.1
    ✓ UDP might lose a message
2021-11-23T06:43:58.183Z appoptics:patching patched raw-body 2.4.0
(node:1731) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (257ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.2: connect 2.x series is deprecated

removed 2 packages, changed 7 packages, and audited 1168 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (2 low, 22 moderate, 25 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:44:06.671Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:06.672Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:06.672Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:06.673Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:06.748Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:06.939Z appoptics:patching patched crypto 
2021-11-23T06:44:06.971Z appoptics:patching patched https 
2021-11-23T06:44:06.972Z appoptics:patching patched http 
2021-11-23T06:44:07.054Z appoptics:patching patched zlib 
2021-11-23T06:44:07.115Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:07.116Z appoptics:patching patched fs 
2021-11-23T06:44:07.312Z appoptics:patching patched morgan 1.2.3
2021-11-23T06:44:07.328Z appoptics:patching patched express 3.15.2
2021-11-23T06:44:07.336Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:44:07.346Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.2
    ✓ UDP might lose a message
2021-11-23T06:44:07.390Z appoptics:patching patched raw-body 2.4.0
(node:1754) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (258ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.3: connect 2.x series is deprecated

removed 5 packages, changed 4 packages, and audited 1163 packages in 18s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (2 low, 22 moderate, 25 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:44:26.136Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:26.137Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:26.137Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:26.138Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:26.222Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:26.400Z appoptics:patching patched crypto 
2021-11-23T06:44:26.424Z appoptics:patching patched https 
2021-11-23T06:44:26.425Z appoptics:patching patched http 
2021-11-23T06:44:26.481Z appoptics:patching patched zlib 
2021-11-23T06:44:26.535Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:26.535Z appoptics:patching patched fs 
2021-11-23T06:44:26.691Z appoptics:patching patched morgan 1.2.3
2021-11-23T06:44:26.707Z appoptics:patching patched express 3.15.3
2021-11-23T06:44:26.714Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:44:26.724Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.3
    ✓ UDP might lose a message
2021-11-23T06:44:26.777Z appoptics:patching patched raw-body 2.4.0
(node:1777) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (281ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated scmp@1.0.0: scmp v2 uses improved core crypto comparison since Node v6.6.0
npm WARN deprecated connect@2.25.0: connect 2.x series is deprecated

added 11 packages, removed 2 packages, changed 11 packages, and audited 1172 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (1 low, 23 moderate, 25 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:44:36.654Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:36.655Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:36.655Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:36.656Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:36.734Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:36.925Z appoptics:patching patched crypto 
2021-11-23T06:44:36.948Z appoptics:patching patched https 
2021-11-23T06:44:36.949Z appoptics:patching patched http 
2021-11-23T06:44:37.005Z appoptics:patching patched zlib 
2021-11-23T06:44:37.059Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:37.060Z appoptics:patching patched fs 
2021-11-23T06:44:37.228Z appoptics:patching patched morgan 1.2.3
2021-11-23T06:44:37.242Z appoptics:patching patched express 3.16.0
2021-11-23T06:44:37.249Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:44:37.258Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.0
    ✓ UDP might lose a message
2021-11-23T06:44:37.302Z appoptics:patching patched raw-body 2.4.0
(node:1800) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (279ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.1: connect 2.x series is deprecated

changed 4 packages, and audited 1172 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (1 low, 23 moderate, 25 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:44:46.207Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:46.208Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:46.208Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:46.208Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:46.297Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:46.496Z appoptics:patching patched crypto 
2021-11-23T06:44:46.519Z appoptics:patching patched https 
2021-11-23T06:44:46.520Z appoptics:patching patched http 
2021-11-23T06:44:46.582Z appoptics:patching patched zlib 
2021-11-23T06:44:46.643Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:46.643Z appoptics:patching patched fs 
2021-11-23T06:44:46.879Z appoptics:patching patched morgan 1.2.3
2021-11-23T06:44:46.898Z appoptics:patching patched express 3.16.1
2021-11-23T06:44:46.907Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:44:46.916Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.1
    ✓ UDP might lose a message
2021-11-23T06:44:46.962Z appoptics:patching patched raw-body 2.4.0
(node:1823) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (300ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.2: connect 2.x series is deprecated

changed 4 packages, and audited 1172 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (1 low, 23 moderate, 25 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:44:55.845Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:55.846Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:55.846Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:55.847Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:55.936Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:56.166Z appoptics:patching patched crypto 
2021-11-23T06:44:56.189Z appoptics:patching patched https 
2021-11-23T06:44:56.190Z appoptics:patching patched http 
2021-11-23T06:44:56.242Z appoptics:patching patched zlib 
2021-11-23T06:44:56.304Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:56.305Z appoptics:patching patched fs 
2021-11-23T06:44:56.482Z appoptics:patching patched morgan 1.2.3
2021-11-23T06:44:56.497Z appoptics:patching patched express 3.16.2
2021-11-23T06:44:56.504Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:44:56.515Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.2
    ✓ UDP might lose a message
2021-11-23T06:44:56.558Z appoptics:patching patched raw-body 2.4.0
(node:1846) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (261ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.3: connect 2.x series is deprecated

changed 4 packages, and audited 1172 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (1 low, 23 moderate, 25 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:45:05.903Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:05.904Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:05.904Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:05.905Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:05.994Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:06.251Z appoptics:patching patched crypto 
2021-11-23T06:45:06.274Z appoptics:patching patched https 
2021-11-23T06:45:06.275Z appoptics:patching patched http 
2021-11-23T06:45:06.329Z appoptics:patching patched zlib 
2021-11-23T06:45:06.384Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:06.385Z appoptics:patching patched fs 
2021-11-23T06:45:06.557Z appoptics:patching patched morgan 1.2.3
2021-11-23T06:45:06.572Z appoptics:patching patched express 3.16.3
2021-11-23T06:45:06.580Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:45:06.591Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.3
    ✓ UDP might lose a message
2021-11-23T06:45:06.634Z appoptics:patching patched raw-body 2.4.0
(node:1869) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (262ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.4: connect 2.x series is deprecated

removed 10 packages, changed 7 packages, and audited 1162 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (1 low, 23 moderate, 25 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:45:15.775Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:15.776Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:15.776Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:15.777Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:15.851Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:16.030Z appoptics:patching patched crypto 
2021-11-23T06:45:16.052Z appoptics:patching patched https 
2021-11-23T06:45:16.053Z appoptics:patching patched http 
2021-11-23T06:45:16.110Z appoptics:patching patched zlib 
2021-11-23T06:45:16.175Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:16.175Z appoptics:patching patched fs 
2021-11-23T06:45:16.466Z appoptics:patching patched morgan 1.2.3
2021-11-23T06:45:16.479Z appoptics:patching patched express 3.16.4
2021-11-23T06:45:16.487Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:45:16.495Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.4
    ✓ UDP might lose a message
2021-11-23T06:45:16.542Z appoptics:patching patched raw-body 2.4.0
(node:1892) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (289ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.5: connect 2.x series is deprecated

changed 3 packages, and audited 1162 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (1 low, 23 moderate, 25 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:45:25.252Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:25.253Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:25.253Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:25.254Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:25.372Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:25.570Z appoptics:patching patched crypto 
2021-11-23T06:45:25.592Z appoptics:patching patched https 
2021-11-23T06:45:25.594Z appoptics:patching patched http 
2021-11-23T06:45:25.652Z appoptics:patching patched zlib 
2021-11-23T06:45:25.709Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:25.710Z appoptics:patching patched fs 
2021-11-23T06:45:25.942Z appoptics:patching patched morgan 1.2.3
2021-11-23T06:45:25.957Z appoptics:patching patched express 3.16.5
2021-11-23T06:45:25.965Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:45:25.977Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.5
    ✓ UDP might lose a message
2021-11-23T06:45:26.029Z appoptics:patching patched raw-body 2.4.0
(node:1915) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (336ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.6: connect 2.x series is deprecated

added 1 package, changed 5 packages, and audited 1163 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (1 low, 23 moderate, 25 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:45:34.767Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:34.767Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:34.768Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:34.768Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:34.844Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:35.039Z appoptics:patching patched crypto 
2021-11-23T06:45:35.065Z appoptics:patching patched https 
2021-11-23T06:45:35.066Z appoptics:patching patched http 
2021-11-23T06:45:35.125Z appoptics:patching patched zlib 
2021-11-23T06:45:35.180Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:35.181Z appoptics:patching patched fs 
2021-11-23T06:45:35.351Z appoptics:patching patched morgan 1.2.3
2021-11-23T06:45:35.364Z appoptics:patching patched express 3.16.6
2021-11-23T06:45:35.371Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:45:35.381Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.6
    ✓ UDP might lose a message
2021-11-23T06:45:35.427Z appoptics:patching patched raw-body 2.4.0
(node:1938) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (258ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.7: connect 2.x series is deprecated

added 3 packages, removed 3 packages, changed 4 packages, and audited 1163 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (1 low, 23 moderate, 25 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:45:45.108Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:45.109Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:45.109Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:45.110Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:45.191Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:45.367Z appoptics:patching patched crypto 
2021-11-23T06:45:45.391Z appoptics:patching patched https 
2021-11-23T06:45:45.392Z appoptics:patching patched http 
2021-11-23T06:45:45.452Z appoptics:patching patched zlib 
2021-11-23T06:45:45.507Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:45.508Z appoptics:patching patched fs 
2021-11-23T06:45:45.691Z appoptics:patching patched morgan 1.2.3
2021-11-23T06:45:45.704Z appoptics:patching patched express 3.16.7
2021-11-23T06:45:45.711Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:45:45.722Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.7
    ✓ UDP might lose a message
2021-11-23T06:45:45.768Z appoptics:patching patched raw-body 2.4.0
(node:1961) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (279ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.8: connect 2.x series is deprecated

changed 4 packages, and audited 1163 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (1 low, 23 moderate, 25 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:45:55.471Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:55.472Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:55.472Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:55.473Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:55.549Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:55.740Z appoptics:patching patched crypto 
2021-11-23T06:45:55.763Z appoptics:patching patched https 
2021-11-23T06:45:55.764Z appoptics:patching patched http 
2021-11-23T06:45:55.820Z appoptics:patching patched zlib 
2021-11-23T06:45:55.879Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:55.880Z appoptics:patching patched fs 
2021-11-23T06:45:56.047Z appoptics:patching patched morgan 1.2.3
2021-11-23T06:45:56.061Z appoptics:patching patched express 3.16.8
2021-11-23T06:45:56.068Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:45:56.077Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.8
    ✓ UDP might lose a message
2021-11-23T06:45:56.123Z appoptics:patching patched raw-body 2.4.0
(node:1984) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (265ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.9: connect 2.x series is deprecated

removed 1 package, changed 4 packages, and audited 1162 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (1 low, 23 moderate, 25 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:46:05.177Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:46:05.178Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:46:05.178Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:46:05.178Z appoptics:debug using context provider: ace-context
2021-11-23T06:46:05.278Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:46:05.568Z appoptics:patching patched crypto 
2021-11-23T06:46:05.599Z appoptics:patching patched https 
2021-11-23T06:46:05.599Z appoptics:patching patched http 
2021-11-23T06:46:05.668Z appoptics:patching patched zlib 
2021-11-23T06:46:05.735Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:46:05.735Z appoptics:patching patched fs 
2021-11-23T06:46:05.911Z appoptics:patching patched morgan 1.2.3
2021-11-23T06:46:05.927Z appoptics:patching patched express 3.16.9
2021-11-23T06:46:05.934Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:46:05.942Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.9
    ✓ UDP might lose a message
2021-11-23T06:46:05.986Z appoptics:patching patched raw-body 2.4.0
(node:2007) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (256ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.10: connect 2.x series is deprecated

removed 8 packages, changed 4 packages, and audited 1154 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (1 low, 23 moderate, 25 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:46:14.471Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:46:14.472Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:46:14.472Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:46:14.473Z appoptics:debug using context provider: ace-context
2021-11-23T06:46:14.553Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:46:14.734Z appoptics:patching patched crypto 
2021-11-23T06:46:14.757Z appoptics:patching patched https 
2021-11-23T06:46:14.758Z appoptics:patching patched http 
2021-11-23T06:46:14.822Z appoptics:patching patched zlib 
2021-11-23T06:46:14.876Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:46:14.876Z appoptics:patching patched fs 
2021-11-23T06:46:15.037Z appoptics:patching patched morgan 1.2.3
2021-11-23T06:46:15.052Z appoptics:patching patched express 3.16.10
2021-11-23T06:46:15.060Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:46:15.069Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.10
    ✓ UDP might lose a message
2021-11-23T06:46:15.112Z appoptics:patching patched raw-body 2.4.0
(node:2030) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (67ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (274ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.0: connect 2.x series is deprecated

added 23 packages, removed 3 packages, changed 38 packages, and audited 1174 packages in 10s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (1 low, 23 moderate, 25 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:46:25.524Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:46:25.525Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:46:25.525Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:46:25.526Z appoptics:debug using context provider: ace-context
2021-11-23T06:46:25.620Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:46:25.799Z appoptics:patching patched crypto 
2021-11-23T06:46:25.829Z appoptics:patching patched https 
2021-11-23T06:46:25.830Z appoptics:patching patched http 
2021-11-23T06:46:25.887Z appoptics:patching patched zlib 
2021-11-23T06:46:25.942Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:46:25.942Z appoptics:patching patched fs 
2021-11-23T06:46:26.145Z appoptics:patching patched morgan 1.3.2
2021-11-23T06:46:26.167Z appoptics:patching patched express 3.17.0
2021-11-23T06:46:26.175Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:46:26.185Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.0
    ✓ UDP might lose a message
2021-11-23T06:46:26.230Z appoptics:patching patched raw-body 2.4.0
(node:2053) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (270ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1174 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (1 low, 23 moderate, 25 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:46:35.760Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:46:35.761Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:46:35.761Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:46:35.762Z appoptics:debug using context provider: ace-context
2021-11-23T06:46:35.877Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:46:36.111Z appoptics:patching patched crypto 
2021-11-23T06:46:36.136Z appoptics:patching patched https 
2021-11-23T06:46:36.137Z appoptics:patching patched http 
2021-11-23T06:46:36.200Z appoptics:patching patched zlib 
2021-11-23T06:46:36.260Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:46:36.261Z appoptics:patching patched fs 
2021-11-23T06:46:36.468Z appoptics:patching patched morgan 1.3.2
2021-11-23T06:46:36.482Z appoptics:patching patched express 3.17.1
2021-11-23T06:46:36.490Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:46:36.499Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.1
    ✓ UDP might lose a message
2021-11-23T06:46:36.545Z appoptics:patching patched raw-body 2.4.0
(node:2076) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (271ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.1: connect 2.x series is deprecated

removed 3 packages, changed 7 packages, and audited 1171 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (1 low, 23 moderate, 25 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:46:46.487Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:46:46.488Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:46:46.488Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:46:46.489Z appoptics:debug using context provider: ace-context
2021-11-23T06:46:46.582Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:46:46.783Z appoptics:patching patched crypto 
2021-11-23T06:46:46.807Z appoptics:patching patched https 
2021-11-23T06:46:46.808Z appoptics:patching patched http 
2021-11-23T06:46:46.870Z appoptics:patching patched zlib 
2021-11-23T06:46:46.935Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:46:46.936Z appoptics:patching patched fs 
2021-11-23T06:46:47.179Z appoptics:patching patched morgan 1.3.2
2021-11-23T06:46:47.194Z appoptics:patching patched express 3.17.2
2021-11-23T06:46:47.203Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:46:47.213Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.2
    ✓ UDP might lose a message
2021-11-23T06:46:47.259Z appoptics:patching patched raw-body 2.4.0
(node:2099) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (260ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

added 1 package, changed 4 packages, and audited 1172 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (1 low, 23 moderate, 25 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:46:56.292Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:46:56.293Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:46:56.293Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:46:56.293Z appoptics:debug using context provider: ace-context
2021-11-23T06:46:56.385Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:46:56.592Z appoptics:patching patched crypto 
2021-11-23T06:46:56.621Z appoptics:patching patched https 
2021-11-23T06:46:56.622Z appoptics:patching patched http 
2021-11-23T06:46:56.698Z appoptics:patching patched zlib 
2021-11-23T06:46:56.773Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:46:56.774Z appoptics:patching patched fs 
2021-11-23T06:46:57.064Z appoptics:patching patched morgan 1.3.2
2021-11-23T06:46:57.079Z appoptics:patching patched express 3.17.3
2021-11-23T06:46:57.086Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:46:57.095Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.3
    ✓ UDP might lose a message
2021-11-23T06:46:57.137Z appoptics:patching patched raw-body 2.4.0
(node:2122) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (297ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.2: connect 2.x series is deprecated

removed 1 package, changed 4 packages, and audited 1171 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (1 low, 23 moderate, 25 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:47:05.810Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:47:05.811Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:47:05.811Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:47:05.811Z appoptics:debug using context provider: ace-context
2021-11-23T06:47:05.884Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:47:06.062Z appoptics:patching patched crypto 
2021-11-23T06:47:06.085Z appoptics:patching patched https 
2021-11-23T06:47:06.086Z appoptics:patching patched http 
2021-11-23T06:47:06.162Z appoptics:patching patched zlib 
2021-11-23T06:47:06.234Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:47:06.234Z appoptics:patching patched fs 
2021-11-23T06:47:06.419Z appoptics:patching patched morgan 1.3.2
2021-11-23T06:47:06.434Z appoptics:patching patched express 3.17.4
2021-11-23T06:47:06.441Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:47:06.450Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.4
    ✓ UDP might lose a message
2021-11-23T06:47:06.497Z appoptics:patching patched raw-body 2.4.0
(node:2145) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (266ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.3: connect 2.x series is deprecated

removed 9 packages, changed 5 packages, and audited 1162 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (1 low, 23 moderate, 25 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:47:16.304Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:47:16.304Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:47:16.304Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:47:16.307Z appoptics:debug using context provider: ace-context
2021-11-23T06:47:16.407Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:47:16.590Z appoptics:patching patched crypto 
2021-11-23T06:47:16.613Z appoptics:patching patched https 
2021-11-23T06:47:16.614Z appoptics:patching patched http 
2021-11-23T06:47:16.672Z appoptics:patching patched zlib 
2021-11-23T06:47:16.732Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:47:16.733Z appoptics:patching patched fs 
2021-11-23T06:47:16.923Z appoptics:patching patched morgan 1.3.2
2021-11-23T06:47:16.936Z appoptics:patching patched express 3.17.5
2021-11-23T06:47:16.942Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:47:16.951Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.5
    ✓ UDP might lose a message
2021-11-23T06:47:16.994Z appoptics:patching patched raw-body 2.4.0
(node:2168) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (249ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.4: connect 2.x series is deprecated

changed 3 packages, and audited 1162 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (1 low, 23 moderate, 25 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:47:26.885Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:47:26.885Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:47:26.885Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:47:26.886Z appoptics:debug using context provider: ace-context
2021-11-23T06:47:26.966Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:47:27.142Z appoptics:patching patched crypto 
2021-11-23T06:47:27.166Z appoptics:patching patched https 
2021-11-23T06:47:27.167Z appoptics:patching patched http 
2021-11-23T06:47:27.221Z appoptics:patching patched zlib 
2021-11-23T06:47:27.280Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:47:27.281Z appoptics:patching patched fs 
2021-11-23T06:47:27.459Z appoptics:patching patched morgan 1.3.2
2021-11-23T06:47:27.472Z appoptics:patching patched express 3.17.6
2021-11-23T06:47:27.479Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:47:27.488Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.6
    ✓ UDP might lose a message
2021-11-23T06:47:27.531Z appoptics:patching patched raw-body 2.4.0
(node:2191) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (262ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.5: connect 2.x series is deprecated

changed 3 packages, and audited 1162 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (1 low, 23 moderate, 25 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:47:37.139Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:47:37.140Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:47:37.140Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:47:37.141Z appoptics:debug using context provider: ace-context
2021-11-23T06:47:37.216Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:47:37.401Z appoptics:patching patched crypto 
2021-11-23T06:47:37.426Z appoptics:patching patched https 
2021-11-23T06:47:37.427Z appoptics:patching patched http 
2021-11-23T06:47:37.483Z appoptics:patching patched zlib 
2021-11-23T06:47:37.537Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:47:37.538Z appoptics:patching patched fs 
2021-11-23T06:47:37.716Z appoptics:patching patched morgan 1.3.2
2021-11-23T06:47:37.730Z appoptics:patching patched express 3.17.7
2021-11-23T06:47:37.736Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:47:37.745Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.7
    ✓ UDP might lose a message
2021-11-23T06:47:37.788Z appoptics:patching patched raw-body 2.4.0
(node:2214) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (273ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.6: connect 2.x series is deprecated

changed 3 packages, and audited 1162 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

51 vulnerabilities (1 low, 23 moderate, 25 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:47:46.865Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:47:46.865Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:47:46.866Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:47:46.866Z appoptics:debug using context provider: ace-context
2021-11-23T06:47:46.965Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:47:47.185Z appoptics:patching patched crypto 
2021-11-23T06:47:47.211Z appoptics:patching patched https 
2021-11-23T06:47:47.212Z appoptics:patching patched http 
2021-11-23T06:47:47.270Z appoptics:patching patched zlib 
2021-11-23T06:47:47.325Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:47:47.326Z appoptics:patching patched fs 
2021-11-23T06:47:47.544Z appoptics:patching patched morgan 1.3.2
2021-11-23T06:47:47.556Z appoptics:patching patched express 3.17.8
2021-11-23T06:47:47.562Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:47:47.571Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.8
    ✓ UDP might lose a message
2021-11-23T06:47:47.610Z appoptics:patching patched raw-body 2.4.0
(node:2237) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (255ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.0: connect 2.x series is deprecated

added 20 packages, removed 5 packages, changed 38 packages, and audited 1177 packages in 10s

80 packages are looking for funding
  run `npm fund` for details

50 vulnerabilities (1 low, 23 moderate, 24 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:47:58.167Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:47:58.168Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:47:58.168Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:47:58.169Z appoptics:debug using context provider: ace-context
2021-11-23T06:47:58.245Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:47:58.412Z appoptics:patching patched crypto 
2021-11-23T06:47:58.434Z appoptics:patching patched https 
2021-11-23T06:47:58.435Z appoptics:patching patched http 
2021-11-23T06:47:58.489Z appoptics:patching patched zlib 
2021-11-23T06:47:58.545Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:47:58.545Z appoptics:patching patched fs 
2021-11-23T06:47:58.734Z appoptics:patching patched morgan 1.4.1
2021-11-23T06:47:58.754Z appoptics:patching patched express 3.18.0
2021-11-23T06:47:58.759Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:47:58.766Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.0
    ✓ UDP might lose a message
Tue, 23 Nov 2021 06:47:58 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/express.js:36:9
2021-11-23T06:47:58.807Z appoptics:patching patched raw-body 2.4.0
(node:2260) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
Tue, 23 Nov 2021 06:47:58 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/application.js:487:9
Tue, 23 Nov 2021 06:47:58 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/application.js:490:30
Tue, 23 Nov 2021 06:47:58 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/application.js:493:9
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (281ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.1: connect 2.x series is deprecated

removed 9 packages, changed 8 packages, and audited 1168 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

50 vulnerabilities (1 low, 23 moderate, 24 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:48:08.072Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:48:08.073Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:48:08.073Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:48:08.074Z appoptics:debug using context provider: ace-context
2021-11-23T06:48:08.156Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:48:08.327Z appoptics:patching patched crypto 
2021-11-23T06:48:08.351Z appoptics:patching patched https 
2021-11-23T06:48:08.351Z appoptics:patching patched http 
2021-11-23T06:48:08.405Z appoptics:patching patched zlib 
2021-11-23T06:48:08.461Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:48:08.461Z appoptics:patching patched fs 
2021-11-23T06:48:08.652Z appoptics:patching patched morgan 1.4.1
2021-11-23T06:48:08.674Z appoptics:patching patched express 3.18.1
2021-11-23T06:48:08.678Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:48:08.686Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.1
    ✓ UDP might lose a message
2021-11-23T06:48:08.728Z appoptics:patching patched raw-body 2.4.0
(node:2283) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (256ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.2: connect 2.x series is deprecated

changed 4 packages, and audited 1168 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

50 vulnerabilities (1 low, 23 moderate, 24 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:48:18.257Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:48:18.258Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:48:18.258Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:48:18.259Z appoptics:debug using context provider: ace-context
2021-11-23T06:48:18.334Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:48:18.518Z appoptics:patching patched crypto 
2021-11-23T06:48:18.541Z appoptics:patching patched https 
2021-11-23T06:48:18.542Z appoptics:patching patched http 
2021-11-23T06:48:18.599Z appoptics:patching patched zlib 
2021-11-23T06:48:18.651Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:48:18.652Z appoptics:patching patched fs 
2021-11-23T06:48:18.828Z appoptics:patching patched morgan 1.4.1
2021-11-23T06:48:18.847Z appoptics:patching patched express 3.18.2
2021-11-23T06:48:18.852Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:48:18.859Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.2
    ✓ UDP might lose a message
2021-11-23T06:48:18.905Z appoptics:patching patched raw-body 2.4.0
(node:2306) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (260ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.3: connect 2.x series is deprecated

changed 3 packages, and audited 1168 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

50 vulnerabilities (1 low, 23 moderate, 24 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:48:28.300Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:48:28.301Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:48:28.301Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:48:28.302Z appoptics:debug using context provider: ace-context
2021-11-23T06:48:28.381Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:48:28.551Z appoptics:patching patched crypto 
2021-11-23T06:48:28.573Z appoptics:patching patched https 
2021-11-23T06:48:28.574Z appoptics:patching patched http 
2021-11-23T06:48:28.627Z appoptics:patching patched zlib 
2021-11-23T06:48:28.684Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:48:28.684Z appoptics:patching patched fs 
2021-11-23T06:48:28.862Z appoptics:patching patched morgan 1.4.1
2021-11-23T06:48:28.882Z appoptics:patching patched express 3.18.3
2021-11-23T06:48:28.886Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:48:28.895Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.3
    ✓ UDP might lose a message
2021-11-23T06:48:28.936Z appoptics:patching patched raw-body 2.4.0
(node:2329) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (240ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.4: connect 2.x series is deprecated

removed 1 package, changed 4 packages, and audited 1167 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

50 vulnerabilities (1 low, 23 moderate, 24 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:48:37.491Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:48:37.491Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:48:37.491Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:48:37.492Z appoptics:debug using context provider: ace-context
2021-11-23T06:48:37.592Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:48:37.794Z appoptics:patching patched crypto 
2021-11-23T06:48:37.819Z appoptics:patching patched https 
2021-11-23T06:48:37.820Z appoptics:patching patched http 
2021-11-23T06:48:37.919Z appoptics:patching patched zlib 
2021-11-23T06:48:37.999Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:48:37.999Z appoptics:patching patched fs 
2021-11-23T06:48:38.310Z appoptics:patching patched morgan 1.4.1
2021-11-23T06:48:38.331Z appoptics:patching patched express 3.18.4
2021-11-23T06:48:38.335Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:48:38.344Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.4
    ✓ UDP might lose a message
2021-11-23T06:48:38.459Z appoptics:patching patched raw-body 2.4.0
(node:2352) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (132ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (477ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.6: connect 2.x series is deprecated

changed 3 packages, and audited 1167 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

50 vulnerabilities (1 low, 23 moderate, 24 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:48:47.611Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:48:47.611Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:48:47.611Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:48:47.612Z appoptics:debug using context provider: ace-context
2021-11-23T06:48:47.690Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:48:47.861Z appoptics:patching patched crypto 
2021-11-23T06:48:47.883Z appoptics:patching patched https 
2021-11-23T06:48:47.884Z appoptics:patching patched http 
2021-11-23T06:48:47.938Z appoptics:patching patched zlib 
2021-11-23T06:48:47.994Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:48:47.995Z appoptics:patching patched fs 
2021-11-23T06:48:48.175Z appoptics:patching patched morgan 1.4.1
2021-11-23T06:48:48.194Z appoptics:patching patched express 3.18.5
2021-11-23T06:48:48.198Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:48:48.206Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.5
    ✓ UDP might lose a message
2021-11-23T06:48:48.252Z appoptics:patching patched raw-body 2.4.0
(node:2375) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (258ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1167 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

50 vulnerabilities (1 low, 23 moderate, 24 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:48:58.034Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:48:58.035Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:48:58.035Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:48:58.036Z appoptics:debug using context provider: ace-context
2021-11-23T06:48:58.111Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:48:58.292Z appoptics:patching patched crypto 
2021-11-23T06:48:58.317Z appoptics:patching patched https 
2021-11-23T06:48:58.318Z appoptics:patching patched http 
2021-11-23T06:48:58.375Z appoptics:patching patched zlib 
2021-11-23T06:48:58.432Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:48:58.432Z appoptics:patching patched fs 
2021-11-23T06:48:58.613Z appoptics:patching patched morgan 1.4.1
2021-11-23T06:48:58.632Z appoptics:patching patched express 3.18.6
2021-11-23T06:48:58.637Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:48:58.646Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.6
    ✓ UDP might lose a message
2021-11-23T06:48:58.690Z appoptics:patching patched raw-body 2.4.0
(node:2398) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (264ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.28.1: connect 2.x series is deprecated

added 17 packages, removed 12 packages, changed 30 packages, and audited 1172 packages in 10s

80 packages are looking for funding
  run `npm fund` for details

50 vulnerabilities (1 low, 23 moderate, 24 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:49:09.379Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:49:09.380Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:49:09.380Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:49:09.381Z appoptics:debug using context provider: ace-context
2021-11-23T06:49:09.467Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:49:09.653Z appoptics:patching patched crypto 
2021-11-23T06:49:09.678Z appoptics:patching patched https 
2021-11-23T06:49:09.679Z appoptics:patching patched http 
2021-11-23T06:49:09.737Z appoptics:patching patched zlib 
2021-11-23T06:49:09.800Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:49:09.800Z appoptics:patching patched fs 
2021-11-23T06:49:10.025Z appoptics:patching patched morgan 1.5.3
2021-11-23T06:49:10.046Z appoptics:patching patched express 3.19.0
2021-11-23T06:49:10.050Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:49:10.058Z appoptics:debug starting runtimeMetrics


  probes.express 3.19.0
    ✓ UDP might lose a message
2021-11-23T06:49:10.100Z appoptics:patching patched raw-body 2.4.0
(node:2421) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (255ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.28.2: connect 2.x series is deprecated

removed 8 packages, changed 4 packages, and audited 1164 packages in 18s

80 packages are looking for funding
  run `npm fund` for details

50 vulnerabilities (1 low, 23 moderate, 24 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:49:28.876Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:49:28.878Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:49:28.878Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:49:28.879Z appoptics:debug using context provider: ace-context
2021-11-23T06:49:28.975Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:49:29.179Z appoptics:patching patched crypto 
2021-11-23T06:49:29.204Z appoptics:patching patched https 
2021-11-23T06:49:29.204Z appoptics:patching patched http 
2021-11-23T06:49:29.263Z appoptics:patching patched zlib 
2021-11-23T06:49:29.321Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:49:29.322Z appoptics:patching patched fs 
2021-11-23T06:49:29.533Z appoptics:patching patched morgan 1.5.3
2021-11-23T06:49:29.564Z appoptics:patching patched express 3.19.1
2021-11-23T06:49:29.569Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:49:29.578Z appoptics:debug starting runtimeMetrics


  probes.express 3.19.1
    ✓ UDP might lose a message
2021-11-23T06:49:29.624Z appoptics:patching patched raw-body 2.4.0
(node:2444) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (305ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.28.3: connect 2.x series is deprecated

changed 3 packages, and audited 1164 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

50 vulnerabilities (1 low, 23 moderate, 24 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:49:38.904Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:49:38.905Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:49:38.905Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:49:38.905Z appoptics:debug using context provider: ace-context
2021-11-23T06:49:38.977Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:49:39.150Z appoptics:patching patched crypto 
2021-11-23T06:49:39.172Z appoptics:patching patched https 
2021-11-23T06:49:39.172Z appoptics:patching patched http 
2021-11-23T06:49:39.228Z appoptics:patching patched zlib 
2021-11-23T06:49:39.283Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:49:39.283Z appoptics:patching patched fs 
2021-11-23T06:49:39.470Z appoptics:patching patched morgan 1.5.3
2021-11-23T06:49:39.490Z appoptics:patching patched express 3.19.2
2021-11-23T06:49:39.495Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:49:39.503Z appoptics:debug starting runtimeMetrics


  probes.express 3.19.2
    ✓ UDP might lose a message
2021-11-23T06:49:39.547Z appoptics:patching patched raw-body 2.4.0
(node:2467) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (264ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.29.0: connect 2.x series is deprecated

added 13 packages, removed 6 packages, changed 21 packages, and audited 1171 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

50 vulnerabilities (2 low, 23 moderate, 23 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:49:49.223Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:49:49.224Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:49:49.224Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:49:49.225Z appoptics:debug using context provider: ace-context
2021-11-23T06:49:49.299Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:49:49.479Z appoptics:patching patched crypto 
2021-11-23T06:49:49.503Z appoptics:patching patched https 
2021-11-23T06:49:49.504Z appoptics:patching patched http 
2021-11-23T06:49:49.565Z appoptics:patching patched zlib 
2021-11-23T06:49:49.633Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:49:49.634Z appoptics:patching patched fs 
2021-11-23T06:49:49.829Z appoptics:patching patched morgan 1.5.3
2021-11-23T06:49:49.851Z appoptics:patching patched express 3.20.0
2021-11-23T06:49:49.855Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:49:49.862Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.0
    ✓ UDP might lose a message
2021-11-23T06:49:49.905Z appoptics:patching patched raw-body 2.4.0
(node:2490) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (262ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1171 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

50 vulnerabilities (2 low, 23 moderate, 23 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:49:59.613Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:49:59.614Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:49:59.614Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:49:59.615Z appoptics:debug using context provider: ace-context
2021-11-23T06:49:59.701Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:49:59.892Z appoptics:patching patched crypto 
2021-11-23T06:49:59.916Z appoptics:patching patched https 
2021-11-23T06:49:59.917Z appoptics:patching patched http 
2021-11-23T06:49:59.973Z appoptics:patching patched zlib 
2021-11-23T06:50:00.032Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:50:00.033Z appoptics:patching patched fs 
2021-11-23T06:50:00.228Z appoptics:patching patched morgan 1.5.3
2021-11-23T06:50:00.247Z appoptics:patching patched express 3.20.1
2021-11-23T06:50:00.252Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:50:00.258Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.1
    ✓ UDP might lose a message
2021-11-23T06:50:00.300Z appoptics:patching patched raw-body 2.4.0
(node:2513) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (267ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.29.1: connect 2.x series is deprecated

changed 8 packages, and audited 1171 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

50 vulnerabilities (2 low, 23 moderate, 23 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:50:10.339Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:50:10.339Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:50:10.339Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:50:10.340Z appoptics:debug using context provider: ace-context
2021-11-23T06:50:10.422Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:50:10.596Z appoptics:patching patched crypto 
2021-11-23T06:50:10.617Z appoptics:patching patched https 
2021-11-23T06:50:10.618Z appoptics:patching patched http 
2021-11-23T06:50:10.676Z appoptics:patching patched zlib 
2021-11-23T06:50:10.730Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:50:10.730Z appoptics:patching patched fs 
2021-11-23T06:50:10.917Z appoptics:patching patched morgan 1.5.3
2021-11-23T06:50:10.938Z appoptics:patching patched express 3.20.2
2021-11-23T06:50:10.942Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:50:10.949Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.2
    ✓ UDP might lose a message
2021-11-23T06:50:10.995Z appoptics:patching patched raw-body 2.4.0
(node:2536) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (263ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.29.2: connect 2.x series is deprecated

added 1 package, removed 14 packages, changed 15 packages, and audited 1158 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

50 vulnerabilities (2 low, 23 moderate, 23 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:50:20.160Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:50:20.161Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:50:20.161Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:50:20.162Z appoptics:debug using context provider: ace-context
2021-11-23T06:50:20.260Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:50:20.454Z appoptics:patching patched crypto 
2021-11-23T06:50:20.477Z appoptics:patching patched https 
2021-11-23T06:50:20.477Z appoptics:patching patched http 
2021-11-23T06:50:20.538Z appoptics:patching patched zlib 
2021-11-23T06:50:20.599Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:50:20.600Z appoptics:patching patched fs 
2021-11-23T06:50:20.815Z appoptics:patching patched morgan 1.5.3
2021-11-23T06:50:20.833Z appoptics:patching patched express 3.20.3
2021-11-23T06:50:20.837Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:50:20.845Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.3
    ✓ UDP might lose a message
2021-11-23T06:50:20.894Z appoptics:patching patched raw-body 2.4.0
(node:2559) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (286ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.30.0: connect 2.x series is deprecated

added 18 packages, removed 13 packages, changed 34 packages, and audited 1163 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

46 vulnerabilities (3 low, 23 moderate, 18 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:50:30.430Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:50:30.431Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:50:30.431Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:50:30.432Z appoptics:debug using context provider: ace-context
2021-11-23T06:50:30.519Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:50:30.715Z appoptics:patching patched crypto 
2021-11-23T06:50:30.738Z appoptics:patching patched https 
2021-11-23T06:50:30.739Z appoptics:patching patched http 
2021-11-23T06:50:30.798Z appoptics:patching patched zlib 
2021-11-23T06:50:30.855Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:50:30.855Z appoptics:patching patched fs 
2021-11-23T06:50:31.088Z appoptics:patching patched morgan 1.6.1
2021-11-23T06:50:31.108Z appoptics:patching patched express 3.21.0
2021-11-23T06:50:31.112Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:50:31.120Z appoptics:debug starting runtimeMetrics


  probes.express 3.21.0
    ✓ UDP might lose a message
2021-11-23T06:50:31.164Z appoptics:patching patched raw-body 2.4.0
(node:2582) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (248ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.30.1: connect 2.x series is deprecated

removed 2 packages, changed 6 packages, and audited 1161 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

46 vulnerabilities (3 low, 23 moderate, 18 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:50:40.304Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:50:40.305Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:50:40.305Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:50:40.306Z appoptics:debug using context provider: ace-context
2021-11-23T06:50:40.379Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:50:40.547Z appoptics:patching patched crypto 
2021-11-23T06:50:40.570Z appoptics:patching patched https 
2021-11-23T06:50:40.571Z appoptics:patching patched http 
2021-11-23T06:50:40.632Z appoptics:patching patched zlib 
2021-11-23T06:50:40.690Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:50:40.691Z appoptics:patching patched fs 
2021-11-23T06:50:40.874Z appoptics:patching patched morgan 1.6.1
2021-11-23T06:50:40.892Z appoptics:patching patched express 3.21.1
2021-11-23T06:50:40.905Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:50:40.912Z appoptics:debug starting runtimeMetrics


  probes.express 3.21.1
    ✓ UDP might lose a message
2021-11-23T06:50:40.955Z appoptics:patching patched raw-body 2.4.0
(node:2605) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (274ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.30.2: connect 2.x series is deprecated

changed 3 packages, and audited 1161 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

46 vulnerabilities (3 low, 23 moderate, 18 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:50:50.012Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:50:50.014Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:50:50.014Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:50:50.015Z appoptics:debug using context provider: ace-context
2021-11-23T06:50:50.091Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:50:50.275Z appoptics:patching patched crypto 
2021-11-23T06:50:50.298Z appoptics:patching patched https 
2021-11-23T06:50:50.299Z appoptics:patching patched http 
2021-11-23T06:50:50.363Z appoptics:patching patched zlib 
2021-11-23T06:50:50.418Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:50:50.419Z appoptics:patching patched fs 
2021-11-23T06:50:50.610Z appoptics:patching patched morgan 1.6.1
2021-11-23T06:50:50.629Z appoptics:patching patched express 3.21.2
2021-11-23T06:50:50.633Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:50:50.639Z appoptics:debug starting runtimeMetrics


  probes.express 3.21.2
    ✓ UDP might lose a message
2021-11-23T06:50:50.679Z appoptics:patching patched raw-body 2.4.0
(node:2628) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (261ms)
  2 pending

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

added 15 packages, removed 87 packages, changed 21 packages, and audited 1089 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (2 low, 23 moderate, 10 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:50:59.639Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:50:59.640Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:50:59.640Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:50:59.641Z appoptics:debug using context provider: ace-context
2021-11-23T06:50:59.739Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:50:59.986Z appoptics:patching patched crypto 
2021-11-23T06:51:00.019Z appoptics:patching patched https 
2021-11-23T06:51:00.020Z appoptics:patching patched http 
2021-11-23T06:51:00.093Z appoptics:patching patched zlib 
2021-11-23T06:51:00.166Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:51:00.166Z appoptics:patching patched fs 
2021-11-23T06:51:00.288Z appoptics:patching patched express 4.0.0
2021-11-23T06:51:00.293Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:51:00.303Z appoptics:debug starting runtimeMetrics


  probes.express 4.0.0
    ✓ UDP might lose a message
2021-11-23T06:51:00.343Z appoptics:patching patched raw-body 2.4.0
(node:2651) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (248ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

added 1 package, removed 3 packages, changed 7 packages, and audited 1087 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (2 low, 23 moderate, 10 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:51:08.240Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:51:08.240Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:51:08.240Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:51:08.241Z appoptics:debug using context provider: ace-context
2021-11-23T06:51:08.311Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:51:08.471Z appoptics:patching patched crypto 
2021-11-23T06:51:08.493Z appoptics:patching patched https 
2021-11-23T06:51:08.494Z appoptics:patching patched http 
2021-11-23T06:51:08.556Z appoptics:patching patched zlib 
2021-11-23T06:51:08.612Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:51:08.612Z appoptics:patching patched fs 
2021-11-23T06:51:08.720Z appoptics:patching patched express 4.1.0
2021-11-23T06:51:08.728Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:51:08.739Z appoptics:debug starting runtimeMetrics


  probes.express 4.1.0
    ✓ UDP might lose a message
2021-11-23T06:51:08.780Z appoptics:patching patched raw-body 2.4.0
(node:2674) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (306ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1087 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (2 low, 23 moderate, 10 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:51:17.296Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:51:17.297Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:51:17.297Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:51:17.297Z appoptics:debug using context provider: ace-context
2021-11-23T06:51:17.375Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:51:17.541Z appoptics:patching patched crypto 
2021-11-23T06:51:17.561Z appoptics:patching patched https 
2021-11-23T06:51:17.562Z appoptics:patching patched http 
2021-11-23T06:51:17.619Z appoptics:patching patched zlib 
2021-11-23T06:51:17.672Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:51:17.673Z appoptics:patching patched fs 
2021-11-23T06:51:17.772Z appoptics:patching patched express 4.1.1
2021-11-23T06:51:17.779Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:51:17.788Z appoptics:debug starting runtimeMetrics


  probes.express 4.1.1
    ✓ UDP might lose a message
2021-11-23T06:51:17.829Z appoptics:patching patched raw-body 2.4.0
(node:2697) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (260ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1087 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (2 low, 23 moderate, 10 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:51:26.460Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:51:26.461Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:51:26.461Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:51:26.462Z appoptics:debug using context provider: ace-context
2021-11-23T06:51:26.535Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:51:26.704Z appoptics:patching patched crypto 
2021-11-23T06:51:26.724Z appoptics:patching patched https 
2021-11-23T06:51:26.725Z appoptics:patching patched http 
2021-11-23T06:51:26.778Z appoptics:patching patched zlib 
2021-11-23T06:51:26.831Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:51:26.831Z appoptics:patching patched fs 
2021-11-23T06:51:26.930Z appoptics:patching patched express 4.1.2
2021-11-23T06:51:26.941Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:51:26.955Z appoptics:debug starting runtimeMetrics


  probes.express 4.1.2
    ✓ UDP might lose a message
2021-11-23T06:51:27.021Z appoptics:patching patched raw-body 2.4.0
(node:2720) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (292ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 2 packages, and audited 1087 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (2 low, 23 moderate, 10 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:51:34.640Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:51:34.641Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:51:34.641Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:51:34.642Z appoptics:debug using context provider: ace-context
2021-11-23T06:51:34.713Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:51:34.879Z appoptics:patching patched crypto 
2021-11-23T06:51:34.903Z appoptics:patching patched https 
2021-11-23T06:51:34.905Z appoptics:patching patched http 
2021-11-23T06:51:34.953Z appoptics:patching patched zlib 
2021-11-23T06:51:35.026Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:51:35.027Z appoptics:patching patched fs 
2021-11-23T06:51:35.157Z appoptics:patching patched express 4.2.0
2021-11-23T06:51:35.167Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:51:35.177Z appoptics:debug starting runtimeMetrics


  probes.express 4.2.0
    ✓ UDP might lose a message
2021-11-23T06:51:35.235Z appoptics:patching patched raw-body 2.4.0
(node:2743) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (74ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (288ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

added 2 packages, changed 2 packages, and audited 1089 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (2 low, 23 moderate, 10 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:51:44.318Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:51:44.319Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:51:44.319Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:51:44.319Z appoptics:debug using context provider: ace-context
2021-11-23T06:51:44.395Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:51:44.560Z appoptics:patching patched crypto 
2021-11-23T06:51:44.583Z appoptics:patching patched https 
2021-11-23T06:51:44.584Z appoptics:patching patched http 
2021-11-23T06:51:44.643Z appoptics:patching patched zlib 
2021-11-23T06:51:44.696Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:51:44.697Z appoptics:patching patched fs 
2021-11-23T06:51:44.794Z appoptics:patching patched express 4.3.0
2021-11-23T06:51:44.802Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:51:44.812Z appoptics:debug starting runtimeMetrics


  probes.express 4.3.0
    ✓ UDP might lose a message
2021-11-23T06:51:44.853Z appoptics:patching patched raw-body 2.4.0
(node:2766) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (257ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1089 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (2 low, 23 moderate, 10 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:51:53.614Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:51:53.615Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:51:53.619Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:51:53.620Z appoptics:debug using context provider: ace-context
2021-11-23T06:51:53.700Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:51:53.868Z appoptics:patching patched crypto 
2021-11-23T06:51:53.892Z appoptics:patching patched https 
2021-11-23T06:51:53.892Z appoptics:patching patched http 
2021-11-23T06:51:53.951Z appoptics:patching patched zlib 
2021-11-23T06:51:54.009Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:51:54.009Z appoptics:patching patched fs 
2021-11-23T06:51:54.126Z appoptics:patching patched express 4.3.1
2021-11-23T06:51:54.136Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:51:54.146Z appoptics:debug starting runtimeMetrics


  probes.express 4.3.1
    ✓ UDP might lose a message
2021-11-23T06:51:54.191Z appoptics:patching patched raw-body 2.4.0
(node:2789) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (273ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1089 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (2 low, 23 moderate, 10 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:52:02.467Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:52:02.467Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:52:02.467Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:52:02.468Z appoptics:debug using context provider: ace-context
2021-11-23T06:52:02.554Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:52:02.749Z appoptics:patching patched crypto 
2021-11-23T06:52:02.771Z appoptics:patching patched https 
2021-11-23T06:52:02.772Z appoptics:patching patched http 
2021-11-23T06:52:02.839Z appoptics:patching patched zlib 
2021-11-23T06:52:02.929Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:52:02.929Z appoptics:patching patched fs 
2021-11-23T06:52:03.106Z appoptics:patching patched express 4.3.2
2021-11-23T06:52:03.115Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:52:03.125Z appoptics:debug starting runtimeMetrics


  probes.express 4.3.2
    ✓ UDP might lose a message
2021-11-23T06:52:03.204Z appoptics:patching patched raw-body 2.4.0
(node:2812) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (334ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

added 1 package, changed 6 packages, and audited 1090 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (2 low, 23 moderate, 10 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:52:11.773Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:52:11.774Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:52:11.774Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:52:11.775Z appoptics:debug using context provider: ace-context
2021-11-23T06:52:11.846Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:52:12.008Z appoptics:patching patched crypto 
2021-11-23T06:52:12.031Z appoptics:patching patched https 
2021-11-23T06:52:12.032Z appoptics:patching patched http 
2021-11-23T06:52:12.088Z appoptics:patching patched zlib 
2021-11-23T06:52:12.145Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:52:12.146Z appoptics:patching patched fs 
2021-11-23T06:52:12.259Z appoptics:patching patched express 4.4.0
2021-11-23T06:52:12.267Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:52:12.275Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.0
    ✓ UDP might lose a message
2021-11-23T06:52:12.318Z appoptics:patching patched raw-body 2.4.0
(node:2835) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (273ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 4 packages, and audited 1090 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (2 low, 23 moderate, 10 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:52:20.805Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:52:20.806Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:52:20.806Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:52:20.807Z appoptics:debug using context provider: ace-context
2021-11-23T06:52:20.878Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:52:21.061Z appoptics:patching patched crypto 
2021-11-23T06:52:21.089Z appoptics:patching patched https 
2021-11-23T06:52:21.090Z appoptics:patching patched http 
2021-11-23T06:52:21.158Z appoptics:patching patched zlib 
2021-11-23T06:52:21.218Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:52:21.218Z appoptics:patching patched fs 
2021-11-23T06:52:21.349Z appoptics:patching patched express 4.4.1
2021-11-23T06:52:21.363Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:52:21.375Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.1
    ✓ UDP might lose a message
2021-11-23T06:52:21.419Z appoptics:patching patched raw-body 2.4.0
(node:2858) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (284ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

added 5 packages, changed 9 packages, and audited 1095 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:52:29.985Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:52:29.986Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:52:29.986Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:52:29.987Z appoptics:debug using context provider: ace-context
2021-11-23T06:52:30.067Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:52:30.267Z appoptics:patching patched crypto 
2021-11-23T06:52:30.290Z appoptics:patching patched https 
2021-11-23T06:52:30.291Z appoptics:patching patched http 
2021-11-23T06:52:30.348Z appoptics:patching patched zlib 
2021-11-23T06:52:30.404Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:52:30.405Z appoptics:patching patched fs 
2021-11-23T06:52:30.562Z appoptics:patching patched express 4.4.2
2021-11-23T06:52:30.573Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:52:30.582Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.2
    ✓ UDP might lose a message
2021-11-23T06:52:30.627Z appoptics:patching patched raw-body 2.4.0
(node:2881) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (270ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

added 1 package, changed 8 packages, and audited 1096 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:52:38.456Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:52:38.457Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:52:38.457Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:52:38.458Z appoptics:debug using context provider: ace-context
2021-11-23T06:52:38.539Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:52:38.711Z appoptics:patching patched crypto 
2021-11-23T06:52:38.735Z appoptics:patching patched https 
2021-11-23T06:52:38.736Z appoptics:patching patched http 
2021-11-23T06:52:38.788Z appoptics:patching patched zlib 
2021-11-23T06:52:38.843Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:52:38.843Z appoptics:patching patched fs 
2021-11-23T06:52:38.951Z appoptics:patching patched express 4.4.3
2021-11-23T06:52:38.960Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:52:38.969Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.3
    ✓ UDP might lose a message
2021-11-23T06:52:39.008Z appoptics:patching patched raw-body 2.4.0
(node:2904) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (255ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

added 6 packages, removed 1 package, changed 6 packages, and audited 1101 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:52:47.823Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:52:47.825Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:52:47.825Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:52:47.826Z appoptics:debug using context provider: ace-context
2021-11-23T06:52:47.901Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:52:48.056Z appoptics:patching patched crypto 
2021-11-23T06:52:48.078Z appoptics:patching patched https 
2021-11-23T06:52:48.078Z appoptics:patching patched http 
2021-11-23T06:52:48.130Z appoptics:patching patched zlib 
2021-11-23T06:52:48.184Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:52:48.185Z appoptics:patching patched fs 
2021-11-23T06:52:48.306Z appoptics:patching patched express 4.4.4
2021-11-23T06:52:48.314Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:52:48.324Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.4
    ✓ UDP might lose a message
2021-11-23T06:52:48.364Z appoptics:patching patched raw-body 2.4.0
(node:2927) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (272ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 2 packages, and audited 1101 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 21 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:52:57.326Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:52:57.327Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:52:57.327Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:52:57.328Z appoptics:debug using context provider: ace-context
2021-11-23T06:52:57.403Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:52:57.576Z appoptics:patching patched crypto 
2021-11-23T06:52:57.597Z appoptics:patching patched https 
2021-11-23T06:52:57.598Z appoptics:patching patched http 
2021-11-23T06:52:57.653Z appoptics:patching patched zlib 
2021-11-23T06:52:57.711Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:52:57.712Z appoptics:patching patched fs 
2021-11-23T06:52:57.887Z appoptics:patching patched express 4.4.5
2021-11-23T06:52:57.895Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:52:57.905Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.5
    ✓ UDP might lose a message
2021-11-23T06:52:57.943Z appoptics:patching patched raw-body 2.4.0
(node:2950) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (271ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

added 11 packages, removed 1 package, changed 5 packages, and audited 1111 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (2 low, 21 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:53:06.390Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:53:06.391Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:53:06.391Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:53:06.392Z appoptics:debug using context provider: ace-context
2021-11-23T06:53:06.556Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:53:06.862Z appoptics:patching patched crypto 
2021-11-23T06:53:06.895Z appoptics:patching patched https 
2021-11-23T06:53:06.896Z appoptics:patching patched http 
2021-11-23T06:53:06.963Z appoptics:patching patched zlib 
2021-11-23T06:53:07.023Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:53:07.023Z appoptics:patching patched fs 
2021-11-23T06:53:07.281Z appoptics:patching patched express 4.5.0
2021-11-23T06:53:07.309Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:53:07.323Z appoptics:debug starting runtimeMetrics


  probes.express 4.5.0
    ✓ UDP might lose a message
2021-11-23T06:53:07.400Z appoptics:patching patched raw-body 2.4.0
(node:2973) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (67ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (346ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1111 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (2 low, 21 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:53:15.265Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:53:15.265Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:53:15.265Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:53:15.266Z appoptics:debug using context provider: ace-context
2021-11-23T06:53:15.342Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:53:15.510Z appoptics:patching patched crypto 
2021-11-23T06:53:15.530Z appoptics:patching patched https 
2021-11-23T06:53:15.531Z appoptics:patching patched http 
2021-11-23T06:53:15.590Z appoptics:patching patched zlib 
2021-11-23T06:53:15.645Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:53:15.646Z appoptics:patching patched fs 
2021-11-23T06:53:15.776Z appoptics:patching patched express 4.5.1
2021-11-23T06:53:15.786Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:53:15.795Z appoptics:debug starting runtimeMetrics


  probes.express 4.5.1
    ✓ UDP might lose a message
2021-11-23T06:53:15.836Z appoptics:patching patched raw-body 2.4.0
(node:2996) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (261ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

added 1 package, removed 6 packages, changed 9 packages, and audited 1106 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (2 low, 21 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:53:24.810Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:53:24.810Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:53:24.810Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:53:24.811Z appoptics:debug using context provider: ace-context
2021-11-23T06:53:24.890Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:53:25.050Z appoptics:patching patched crypto 
2021-11-23T06:53:25.073Z appoptics:patching patched https 
2021-11-23T06:53:25.074Z appoptics:patching patched http 
2021-11-23T06:53:25.125Z appoptics:patching patched zlib 
2021-11-23T06:53:25.180Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:53:25.180Z appoptics:patching patched fs 
2021-11-23T06:53:25.337Z appoptics:patching patched express 4.6.0
2021-11-23T06:53:25.343Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:53:25.351Z appoptics:debug starting runtimeMetrics


  probes.express 4.6.0
    ✓ UDP might lose a message
2021-11-23T06:53:25.396Z appoptics:patching patched raw-body 2.4.0
(node:3019) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (69ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (271ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1106 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (2 low, 21 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:53:34.197Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:53:34.197Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:53:34.197Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:53:34.198Z appoptics:debug using context provider: ace-context
2021-11-23T06:53:34.274Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:53:34.445Z appoptics:patching patched crypto 
2021-11-23T06:53:34.465Z appoptics:patching patched https 
2021-11-23T06:53:34.465Z appoptics:patching patched http 
2021-11-23T06:53:34.522Z appoptics:patching patched zlib 
2021-11-23T06:53:34.580Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:53:34.580Z appoptics:patching patched fs 
2021-11-23T06:53:34.717Z appoptics:patching patched express 4.6.1
2021-11-23T06:53:34.726Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:53:34.737Z appoptics:debug starting runtimeMetrics


  probes.express 4.6.1
    ✓ UDP might lose a message
2021-11-23T06:53:34.778Z appoptics:patching patched raw-body 2.4.0
(node:3042) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (269ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

added 5 packages, changed 10 packages, and audited 1111 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (2 low, 21 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:53:43.012Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:53:43.013Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:53:43.013Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:53:43.013Z appoptics:debug using context provider: ace-context
2021-11-23T06:53:43.086Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:53:43.260Z appoptics:patching patched crypto 
2021-11-23T06:53:43.284Z appoptics:patching patched https 
2021-11-23T06:53:43.285Z appoptics:patching patched http 
2021-11-23T06:53:43.340Z appoptics:patching patched zlib 
2021-11-23T06:53:43.402Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:53:43.403Z appoptics:patching patched fs 
2021-11-23T06:53:43.556Z appoptics:patching patched express 4.7.0
2021-11-23T06:53:43.564Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:53:43.574Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.0
    ✓ UDP might lose a message
2021-11-23T06:53:43.620Z appoptics:patching patched raw-body 2.4.0
(node:3065) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (320ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 4 packages, and audited 1111 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (2 low, 21 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:53:52.357Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:53:52.358Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:53:52.358Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:53:52.358Z appoptics:debug using context provider: ace-context
2021-11-23T06:53:52.427Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:53:52.590Z appoptics:patching patched crypto 
2021-11-23T06:53:52.611Z appoptics:patching patched https 
2021-11-23T06:53:52.612Z appoptics:patching patched http 
2021-11-23T06:53:52.663Z appoptics:patching patched zlib 
2021-11-23T06:53:52.720Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:53:52.721Z appoptics:patching patched fs 
2021-11-23T06:53:52.860Z appoptics:patching patched express 4.7.1
2021-11-23T06:53:52.868Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:53:52.877Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.1
    ✓ UDP might lose a message
2021-11-23T06:53:52.927Z appoptics:patching patched raw-body 2.4.0
(node:3088) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (67ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (268ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 4 packages, and audited 1111 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (2 low, 21 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:54:01.691Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:54:01.692Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:54:01.692Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:54:01.693Z appoptics:debug using context provider: ace-context
2021-11-23T06:54:01.781Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:54:02.014Z appoptics:patching patched crypto 
2021-11-23T06:54:02.041Z appoptics:patching patched https 
2021-11-23T06:54:02.042Z appoptics:patching patched http 
2021-11-23T06:54:02.120Z appoptics:patching patched zlib 
2021-11-23T06:54:02.181Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:54:02.182Z appoptics:patching patched fs 
2021-11-23T06:54:02.320Z appoptics:patching patched express 4.7.2
2021-11-23T06:54:02.328Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:54:02.337Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.2
    ✓ UDP might lose a message
2021-11-23T06:54:02.379Z appoptics:patching patched raw-body 2.4.0
(node:3111) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (263ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 2 packages, and audited 1111 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (2 low, 21 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:54:10.790Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:54:10.791Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:54:10.791Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:54:10.792Z appoptics:debug using context provider: ace-context
2021-11-23T06:54:10.901Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:54:11.166Z appoptics:patching patched crypto 
2021-11-23T06:54:11.206Z appoptics:patching patched https 
2021-11-23T06:54:11.207Z appoptics:patching patched http 
2021-11-23T06:54:11.298Z appoptics:patching patched zlib 
2021-11-23T06:54:11.378Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:54:11.378Z appoptics:patching patched fs 
2021-11-23T06:54:11.510Z appoptics:patching patched express 4.7.3
2021-11-23T06:54:11.518Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:54:11.528Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.3
    ✓ UDP might lose a message
2021-11-23T06:54:11.568Z appoptics:patching patched raw-body 2.4.0
(node:3134) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (288ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

removed 5 packages, changed 2 packages, and audited 1106 packages in 17s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (2 low, 21 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:54:28.958Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:54:28.959Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:54:28.959Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:54:28.959Z appoptics:debug using context provider: ace-context
2021-11-23T06:54:29.035Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:54:29.211Z appoptics:patching patched crypto 
2021-11-23T06:54:29.232Z appoptics:patching patched https 
2021-11-23T06:54:29.233Z appoptics:patching patched http 
2021-11-23T06:54:29.292Z appoptics:patching patched zlib 
2021-11-23T06:54:29.344Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:54:29.344Z appoptics:patching patched fs 
2021-11-23T06:54:29.496Z appoptics:patching patched express 4.7.4
2021-11-23T06:54:29.504Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:54:29.515Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.4
    ✓ UDP might lose a message
2021-11-23T06:54:29.566Z appoptics:patching patched raw-body 2.4.0
(node:3157) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (285ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

added 9 packages, changed 4 packages, and audited 1115 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:54:38.858Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:54:38.859Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:54:38.859Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:54:38.860Z appoptics:debug using context provider: ace-context
2021-11-23T06:54:38.934Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:54:39.100Z appoptics:patching patched crypto 
2021-11-23T06:54:39.120Z appoptics:patching patched https 
2021-11-23T06:54:39.121Z appoptics:patching patched http 
2021-11-23T06:54:39.168Z appoptics:patching patched zlib 
2021-11-23T06:54:39.216Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:54:39.217Z appoptics:patching patched fs 
2021-11-23T06:54:39.350Z appoptics:patching patched express 4.8.0
2021-11-23T06:54:39.359Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:54:39.367Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.0
    ✓ UDP might lose a message
2021-11-23T06:54:39.403Z appoptics:patching patched raw-body 2.4.0
(node:3180) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (307ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 2 packages, and audited 1115 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:54:47.270Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:54:47.270Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:54:47.270Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:54:47.271Z appoptics:debug using context provider: ace-context
2021-11-23T06:54:47.360Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:54:47.551Z appoptics:patching patched crypto 
2021-11-23T06:54:47.574Z appoptics:patching patched https 
2021-11-23T06:54:47.575Z appoptics:patching patched http 
2021-11-23T06:54:47.635Z appoptics:patching patched zlib 
2021-11-23T06:54:47.703Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:54:47.704Z appoptics:patching patched fs 
2021-11-23T06:54:47.858Z appoptics:patching patched express 4.8.1
2021-11-23T06:54:47.865Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:54:47.874Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.1
    ✓ UDP might lose a message
2021-11-23T06:54:47.918Z appoptics:patching patched raw-body 2.4.0
(node:3203) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (294ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 2 packages, and audited 1115 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:54:56.202Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:54:56.202Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:54:56.203Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:54:56.203Z appoptics:debug using context provider: ace-context
2021-11-23T06:54:56.279Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:54:56.452Z appoptics:patching patched crypto 
2021-11-23T06:54:56.484Z appoptics:patching patched https 
2021-11-23T06:54:56.485Z appoptics:patching patched http 
2021-11-23T06:54:56.536Z appoptics:patching patched zlib 
2021-11-23T06:54:56.589Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:54:56.590Z appoptics:patching patched fs 
2021-11-23T06:54:56.749Z appoptics:patching patched express 4.8.2
2021-11-23T06:54:56.756Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:54:56.764Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.2
    ✓ UDP might lose a message
2021-11-23T06:54:56.808Z appoptics:patching patched raw-body 2.4.0
(node:3226) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (272ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

removed 3 packages, changed 3 packages, and audited 1112 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:55:05.577Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:55:05.578Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:55:05.578Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:55:05.579Z appoptics:debug using context provider: ace-context
2021-11-23T06:55:05.653Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:55:05.820Z appoptics:patching patched crypto 
2021-11-23T06:55:05.842Z appoptics:patching patched https 
2021-11-23T06:55:05.842Z appoptics:patching patched http 
2021-11-23T06:55:05.904Z appoptics:patching patched zlib 
2021-11-23T06:55:05.959Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:55:05.959Z appoptics:patching patched fs 
2021-11-23T06:55:06.104Z appoptics:patching patched express 4.8.3
2021-11-23T06:55:06.111Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:55:06.120Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.3
    ✓ UDP might lose a message
2021-11-23T06:55:06.162Z appoptics:patching patched raw-body 2.4.0
(node:3249) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (262ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

added 1 package, changed 3 packages, and audited 1113 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:55:15.121Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:55:15.122Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:55:15.122Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:55:15.123Z appoptics:debug using context provider: ace-context
2021-11-23T06:55:15.209Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:55:15.399Z appoptics:patching patched crypto 
2021-11-23T06:55:15.421Z appoptics:patching patched https 
2021-11-23T06:55:15.422Z appoptics:patching patched http 
2021-11-23T06:55:15.477Z appoptics:patching patched zlib 
2021-11-23T06:55:15.529Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:55:15.530Z appoptics:patching patched fs 
2021-11-23T06:55:15.663Z appoptics:patching patched express 4.8.4
2021-11-23T06:55:15.670Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:55:15.679Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.4
    ✓ UDP might lose a message
2021-11-23T06:55:15.720Z appoptics:patching patched raw-body 2.4.0
(node:3272) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (265ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

added 3 packages, removed 3 packages, changed 2 packages, and audited 1113 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:55:23.951Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:55:23.951Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:55:23.951Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:55:23.952Z appoptics:debug using context provider: ace-context
2021-11-23T06:55:24.026Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:55:24.205Z appoptics:patching patched crypto 
2021-11-23T06:55:24.227Z appoptics:patching patched https 
2021-11-23T06:55:24.227Z appoptics:patching patched http 
2021-11-23T06:55:24.284Z appoptics:patching patched zlib 
2021-11-23T06:55:24.339Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:55:24.340Z appoptics:patching patched fs 
2021-11-23T06:55:24.482Z appoptics:patching patched express 4.8.5
2021-11-23T06:55:24.489Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:55:24.498Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.5
    ✓ UDP might lose a message
2021-11-23T06:55:24.538Z appoptics:patching patched raw-body 2.4.0
(node:3295) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (271ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 2 packages, and audited 1113 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:55:33.025Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:55:33.026Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:55:33.026Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:55:33.027Z appoptics:debug using context provider: ace-context
2021-11-23T06:55:33.101Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:55:33.269Z appoptics:patching patched crypto 
2021-11-23T06:55:33.289Z appoptics:patching patched https 
2021-11-23T06:55:33.290Z appoptics:patching patched http 
2021-11-23T06:55:33.348Z appoptics:patching patched zlib 
2021-11-23T06:55:33.405Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:55:33.405Z appoptics:patching patched fs 
2021-11-23T06:55:33.540Z appoptics:patching patched express 4.8.6
2021-11-23T06:55:33.549Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:55:33.556Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.6
    ✓ UDP might lose a message
2021-11-23T06:55:33.607Z appoptics:patching patched raw-body 2.4.0
(node:3318) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (307ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 2 packages, and audited 1113 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:55:42.627Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:55:42.628Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:55:42.628Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:55:42.629Z appoptics:debug using context provider: ace-context
2021-11-23T06:55:42.710Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:55:42.875Z appoptics:patching patched crypto 
2021-11-23T06:55:42.895Z appoptics:patching patched https 
2021-11-23T06:55:42.896Z appoptics:patching patched http 
2021-11-23T06:55:42.945Z appoptics:patching patched zlib 
2021-11-23T06:55:43.007Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:55:43.008Z appoptics:patching patched fs 
2021-11-23T06:55:43.138Z appoptics:patching patched express 4.8.7
2021-11-23T06:55:43.147Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:55:43.156Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.7
    ✓ UDP might lose a message
2021-11-23T06:55:43.200Z appoptics:patching patched raw-body 2.4.0
(node:3341) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (271ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

removed 8 packages, changed 2 packages, and audited 1105 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:55:51.308Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:55:51.309Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:55:51.309Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:55:51.310Z appoptics:debug using context provider: ace-context
2021-11-23T06:55:51.403Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:55:51.607Z appoptics:patching patched crypto 
2021-11-23T06:55:51.630Z appoptics:patching patched https 
2021-11-23T06:55:51.631Z appoptics:patching patched http 
2021-11-23T06:55:51.691Z appoptics:patching patched zlib 
2021-11-23T06:55:51.754Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:55:51.755Z appoptics:patching patched fs 
2021-11-23T06:55:51.933Z appoptics:patching patched express 4.8.8
2021-11-23T06:55:51.941Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:55:51.950Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.8
    ✓ UDP might lose a message
2021-11-23T06:55:51.995Z appoptics:patching patched raw-body 2.4.0
(node:3364) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (118ms)
    ✓ should forward controller/action for POST (38ms)
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (60ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (474ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

added 14 packages, removed 1 package, changed 18 packages, and audited 1118 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:56:00.928Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:56:00.929Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:56:00.929Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:56:00.930Z appoptics:debug using context provider: ace-context
2021-11-23T06:56:01.002Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:56:01.180Z appoptics:patching patched crypto 
2021-11-23T06:56:01.202Z appoptics:patching patched https 
2021-11-23T06:56:01.203Z appoptics:patching patched http 
2021-11-23T06:56:01.255Z appoptics:patching patched zlib 
2021-11-23T06:56:01.327Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:56:01.327Z appoptics:patching patched fs 
2021-11-23T06:56:01.482Z appoptics:patching patched express 4.9.0
2021-11-23T06:56:01.490Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:56:01.498Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.0
    ✓ UDP might lose a message
2021-11-23T06:56:01.538Z appoptics:patching patched raw-body 2.4.0
(node:3387) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (259ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

removed 1 package, changed 4 packages, and audited 1117 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:56:10.688Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:56:10.689Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:56:10.689Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:56:10.690Z appoptics:debug using context provider: ace-context
2021-11-23T06:56:10.766Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:56:10.927Z appoptics:patching patched crypto 
2021-11-23T06:56:10.946Z appoptics:patching patched https 
2021-11-23T06:56:10.946Z appoptics:patching patched http 
2021-11-23T06:56:10.996Z appoptics:patching patched zlib 
2021-11-23T06:56:11.053Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:56:11.053Z appoptics:patching patched fs 
2021-11-23T06:56:11.197Z appoptics:patching patched express 4.9.1
2021-11-23T06:56:11.204Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:56:11.214Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.1
    ✓ UDP might lose a message
2021-11-23T06:56:11.256Z appoptics:patching patched raw-body 2.4.0
(node:3410) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (271ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1117 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:56:20.179Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:56:20.180Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:56:20.180Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:56:20.181Z appoptics:debug using context provider: ace-context
2021-11-23T06:56:20.288Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:56:20.488Z appoptics:patching patched crypto 
2021-11-23T06:56:20.509Z appoptics:patching patched https 
2021-11-23T06:56:20.510Z appoptics:patching patched http 
2021-11-23T06:56:20.564Z appoptics:patching patched zlib 
2021-11-23T06:56:20.617Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:56:20.618Z appoptics:patching patched fs 
2021-11-23T06:56:20.769Z appoptics:patching patched express 4.9.2
2021-11-23T06:56:20.776Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:56:20.784Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.2
    ✓ UDP might lose a message
2021-11-23T06:56:20.819Z appoptics:patching patched raw-body 2.4.0
(node:3433) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (265ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

added 1 package, changed 3 packages, and audited 1118 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:56:28.774Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:56:28.776Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:56:28.776Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:56:28.776Z appoptics:debug using context provider: ace-context
2021-11-23T06:56:28.851Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:56:29.033Z appoptics:patching patched crypto 
2021-11-23T06:56:29.055Z appoptics:patching patched https 
2021-11-23T06:56:29.056Z appoptics:patching patched http 
2021-11-23T06:56:29.116Z appoptics:patching patched zlib 
2021-11-23T06:56:29.168Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:56:29.169Z appoptics:patching patched fs 
2021-11-23T06:56:29.356Z appoptics:patching patched express 4.9.3
2021-11-23T06:56:29.365Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:56:29.374Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.3
    ✓ UDP might lose a message
2021-11-23T06:56:29.423Z appoptics:patching patched raw-body 2.4.0
(node:3456) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (367ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 2 packages, and audited 1118 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:56:37.849Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:56:37.850Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:56:37.850Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:56:37.850Z appoptics:debug using context provider: ace-context
2021-11-23T06:56:37.935Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:56:38.131Z appoptics:patching patched crypto 
2021-11-23T06:56:38.153Z appoptics:patching patched https 
2021-11-23T06:56:38.154Z appoptics:patching patched http 
2021-11-23T06:56:38.218Z appoptics:patching patched zlib 
2021-11-23T06:56:38.274Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:56:38.275Z appoptics:patching patched fs 
2021-11-23T06:56:38.460Z appoptics:patching patched express 4.9.4
2021-11-23T06:56:38.467Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:56:38.476Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.4
    ✓ UDP might lose a message
2021-11-23T06:56:38.522Z appoptics:patching patched raw-body 2.4.0
(node:3479) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (276ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

removed 9 packages, changed 3 packages, and audited 1109 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:56:47.432Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:56:47.433Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:56:47.433Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:56:47.434Z appoptics:debug using context provider: ace-context
2021-11-23T06:56:47.506Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:56:47.665Z appoptics:patching patched crypto 
2021-11-23T06:56:47.688Z appoptics:patching patched https 
2021-11-23T06:56:47.689Z appoptics:patching patched http 
2021-11-23T06:56:47.746Z appoptics:patching patched zlib 
2021-11-23T06:56:47.801Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:56:47.802Z appoptics:patching patched fs 
2021-11-23T06:56:47.922Z appoptics:patching patched express 4.9.5
2021-11-23T06:56:47.929Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:56:47.936Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.5
    ✓ UDP might lose a message
2021-11-23T06:56:47.974Z appoptics:patching patched raw-body 2.4.0
(node:3502) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (266ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1109 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:56:56.898Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:56:56.899Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:56:56.899Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:56:56.900Z appoptics:debug using context provider: ace-context
2021-11-23T06:56:56.969Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:56:57.135Z appoptics:patching patched crypto 
2021-11-23T06:56:57.157Z appoptics:patching patched https 
2021-11-23T06:56:57.158Z appoptics:patching patched http 
2021-11-23T06:56:57.216Z appoptics:patching patched zlib 
2021-11-23T06:56:57.273Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:56:57.273Z appoptics:patching patched fs 
2021-11-23T06:56:57.410Z appoptics:patching patched express 4.9.6
2021-11-23T06:56:57.417Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:56:57.427Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.6
    ✓ UDP might lose a message
2021-11-23T06:56:57.470Z appoptics:patching patched raw-body 2.4.0
(node:3525) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (269ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1109 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:57:05.584Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:57:05.585Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:57:05.585Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:57:05.586Z appoptics:debug using context provider: ace-context
2021-11-23T06:57:05.664Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:57:05.828Z appoptics:patching patched crypto 
2021-11-23T06:57:05.861Z appoptics:patching patched https 
2021-11-23T06:57:05.861Z appoptics:patching patched http 
2021-11-23T06:57:05.916Z appoptics:patching patched zlib 
2021-11-23T06:57:05.975Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:57:05.976Z appoptics:patching patched fs 
2021-11-23T06:57:06.111Z appoptics:patching patched express 4.9.7
2021-11-23T06:57:06.117Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:57:06.126Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.7
    ✓ UDP might lose a message
2021-11-23T06:57:06.170Z appoptics:patching patched raw-body 2.4.0
(node:3548) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (275ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1109 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:57:15.048Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:57:15.049Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:57:15.049Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:57:15.050Z appoptics:debug using context provider: ace-context
2021-11-23T06:57:15.127Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:57:15.304Z appoptics:patching patched crypto 
2021-11-23T06:57:15.336Z appoptics:patching patched https 
2021-11-23T06:57:15.336Z appoptics:patching patched http 
2021-11-23T06:57:15.394Z appoptics:patching patched zlib 
2021-11-23T06:57:15.451Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:57:15.451Z appoptics:patching patched fs 
2021-11-23T06:57:15.597Z appoptics:patching patched express 4.9.8
2021-11-23T06:57:15.603Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:57:15.613Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.8
    ✓ UDP might lose a message
2021-11-23T06:57:15.655Z appoptics:patching patched raw-body 2.4.0
(node:3571) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (261ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

added 5 packages, removed 1 package, changed 17 packages, and audited 1113 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:57:24.537Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:57:24.538Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:57:24.538Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:57:24.538Z appoptics:debug using context provider: ace-context
2021-11-23T06:57:24.609Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:57:24.779Z appoptics:patching patched crypto 
2021-11-23T06:57:24.800Z appoptics:patching patched https 
2021-11-23T06:57:24.800Z appoptics:patching patched http 
2021-11-23T06:57:24.855Z appoptics:patching patched zlib 
2021-11-23T06:57:24.917Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:57:24.918Z appoptics:patching patched fs 
2021-11-23T06:57:25.050Z appoptics:patching patched express 4.10.0
2021-11-23T06:57:25.059Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:57:25.067Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.0
    ✓ UDP might lose a message
2021-11-23T06:57:25.110Z appoptics:patching patched raw-body 2.4.0
(node:3594) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (265ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 2 packages, and audited 1113 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:57:32.903Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:57:32.904Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:57:32.904Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:57:32.904Z appoptics:debug using context provider: ace-context
2021-11-23T06:57:33.101Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:57:33.425Z appoptics:patching patched crypto 
2021-11-23T06:57:33.464Z appoptics:patching patched https 
2021-11-23T06:57:33.465Z appoptics:patching patched http 
2021-11-23T06:57:33.568Z appoptics:patching patched zlib 
2021-11-23T06:57:33.676Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:57:33.676Z appoptics:patching patched fs 
2021-11-23T06:57:33.947Z appoptics:patching patched express 4.10.1
2021-11-23T06:57:33.975Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:57:33.988Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.1
    ✓ UDP might lose a message
2021-11-23T06:57:34.045Z appoptics:patching patched raw-body 2.4.0
(node:3617) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (78ms)
    ✓ should forward controller/action for POST (43ms)
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (396ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1113 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:57:42.163Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:57:42.163Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:57:42.163Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:57:42.164Z appoptics:debug using context provider: ace-context
2021-11-23T06:57:42.235Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:57:42.398Z appoptics:patching patched crypto 
2021-11-23T06:57:42.420Z appoptics:patching patched https 
2021-11-23T06:57:42.421Z appoptics:patching patched http 
2021-11-23T06:57:42.476Z appoptics:patching patched zlib 
2021-11-23T06:57:42.535Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:57:42.535Z appoptics:patching patched fs 
2021-11-23T06:57:42.677Z appoptics:patching patched express 4.10.2
2021-11-23T06:57:42.685Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:57:42.694Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.2
    ✓ UDP might lose a message
2021-11-23T06:57:42.737Z appoptics:patching patched raw-body 2.4.0
(node:3640) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (270ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 2 packages, and audited 1113 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:57:51.550Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:57:51.551Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:57:51.551Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:57:51.552Z appoptics:debug using context provider: ace-context
2021-11-23T06:57:51.620Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:57:51.782Z appoptics:patching patched crypto 
2021-11-23T06:57:51.807Z appoptics:patching patched https 
2021-11-23T06:57:51.808Z appoptics:patching patched http 
2021-11-23T06:57:51.863Z appoptics:patching patched zlib 
2021-11-23T06:57:51.921Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:57:51.922Z appoptics:patching patched fs 
2021-11-23T06:57:52.070Z appoptics:patching patched express 4.10.3
2021-11-23T06:57:52.076Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:57:52.085Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.3
    ✓ UDP might lose a message
2021-11-23T06:57:52.127Z appoptics:patching patched raw-body 2.4.0
(node:3663) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (258ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1113 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:58:00.967Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:58:00.968Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:58:00.968Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:58:00.969Z appoptics:debug using context provider: ace-context
2021-11-23T06:58:01.045Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:58:01.219Z appoptics:patching patched crypto 
2021-11-23T06:58:01.241Z appoptics:patching patched https 
2021-11-23T06:58:01.242Z appoptics:patching patched http 
2021-11-23T06:58:01.299Z appoptics:patching patched zlib 
2021-11-23T06:58:01.353Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:58:01.354Z appoptics:patching patched fs 
2021-11-23T06:58:01.492Z appoptics:patching patched express 4.10.4
2021-11-23T06:58:01.499Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:58:01.507Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.4
    ✓ UDP might lose a message
2021-11-23T06:58:01.546Z appoptics:patching patched raw-body 2.4.0
(node:3686) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (260ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1113 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:58:09.495Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:58:09.496Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:58:09.496Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:58:09.497Z appoptics:debug using context provider: ace-context
2021-11-23T06:58:09.577Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:58:09.760Z appoptics:patching patched crypto 
2021-11-23T06:58:09.785Z appoptics:patching patched https 
2021-11-23T06:58:09.786Z appoptics:patching patched http 
2021-11-23T06:58:09.849Z appoptics:patching patched zlib 
2021-11-23T06:58:09.917Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:58:09.917Z appoptics:patching patched fs 
2021-11-23T06:58:10.107Z appoptics:patching patched express 4.10.5
2021-11-23T06:58:10.116Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:58:10.123Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.5
    ✓ UDP might lose a message
2021-11-23T06:58:10.167Z appoptics:patching patched raw-body 2.4.0
(node:3709) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (262ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1113 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:58:18.676Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:58:18.677Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:58:18.677Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:58:18.678Z appoptics:debug using context provider: ace-context
2021-11-23T06:58:18.753Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:58:18.930Z appoptics:patching patched crypto 
2021-11-23T06:58:18.950Z appoptics:patching patched https 
2021-11-23T06:58:18.951Z appoptics:patching patched http 
2021-11-23T06:58:18.996Z appoptics:patching patched zlib 
2021-11-23T06:58:19.048Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:58:19.049Z appoptics:patching patched fs 
2021-11-23T06:58:19.179Z appoptics:patching patched express 4.10.6
2021-11-23T06:58:19.187Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:58:19.196Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.6
    ✓ UDP might lose a message
2021-11-23T06:58:19.238Z appoptics:patching patched raw-body 2.4.0
(node:3732) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (268ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 5 packages, and audited 1113 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:58:27.786Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:58:27.786Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:58:27.786Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:58:27.787Z appoptics:debug using context provider: ace-context
2021-11-23T06:58:27.865Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:58:28.034Z appoptics:patching patched crypto 
2021-11-23T06:58:28.057Z appoptics:patching patched https 
2021-11-23T06:58:28.057Z appoptics:patching patched http 
2021-11-23T06:58:28.111Z appoptics:patching patched zlib 
2021-11-23T06:58:28.164Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:58:28.164Z appoptics:patching patched fs 
2021-11-23T06:58:28.296Z appoptics:patching patched express 4.10.7
2021-11-23T06:58:28.305Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:58:28.313Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.7
    ✓ UDP might lose a message
2021-11-23T06:58:28.352Z appoptics:patching patched raw-body 2.4.0
(node:3755) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (267ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1113 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:58:36.171Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:58:36.172Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:58:36.172Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:58:36.173Z appoptics:debug using context provider: ace-context
2021-11-23T06:58:36.261Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:58:36.442Z appoptics:patching patched crypto 
2021-11-23T06:58:36.464Z appoptics:patching patched https 
2021-11-23T06:58:36.465Z appoptics:patching patched http 
2021-11-23T06:58:36.552Z appoptics:patching patched zlib 
2021-11-23T06:58:36.652Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:58:36.652Z appoptics:patching patched fs 
2021-11-23T06:58:36.871Z appoptics:patching patched express 4.10.8
2021-11-23T06:58:36.878Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:58:36.887Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.8
    ✓ UDP might lose a message
2021-11-23T06:58:36.926Z appoptics:patching patched raw-body 2.4.0
(node:3778) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (300ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

added 10 packages, removed 8 packages, changed 8 packages, and audited 1115 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:58:45.506Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:58:45.507Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:58:45.507Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:58:45.507Z appoptics:debug using context provider: ace-context
2021-11-23T06:58:45.583Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:58:45.749Z appoptics:patching patched crypto 
2021-11-23T06:58:45.771Z appoptics:patching patched https 
2021-11-23T06:58:45.772Z appoptics:patching patched http 
2021-11-23T06:58:45.826Z appoptics:patching patched zlib 
2021-11-23T06:58:45.877Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:58:45.877Z appoptics:patching patched fs 
2021-11-23T06:58:46.011Z appoptics:patching patched express 4.11.0
2021-11-23T06:58:46.020Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:58:46.029Z appoptics:debug starting runtimeMetrics


  probes.express 4.11.0
    ✓ UDP might lose a message
2021-11-23T06:58:46.075Z appoptics:patching patched raw-body 2.4.0
(node:3801) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (273ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

removed 8 packages, changed 2 packages, and audited 1107 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:58:54.957Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:58:54.958Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:58:54.958Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:58:54.959Z appoptics:debug using context provider: ace-context
2021-11-23T06:58:55.038Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:58:55.220Z appoptics:patching patched crypto 
2021-11-23T06:58:55.244Z appoptics:patching patched https 
2021-11-23T06:58:55.245Z appoptics:patching patched http 
2021-11-23T06:58:55.304Z appoptics:patching patched zlib 
2021-11-23T06:58:55.363Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:58:55.364Z appoptics:patching patched fs 
2021-11-23T06:58:55.501Z appoptics:patching patched express 4.11.1
2021-11-23T06:58:55.508Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:58:55.517Z appoptics:debug starting runtimeMetrics


  probes.express 4.11.1
    ✓ UDP might lose a message
2021-11-23T06:58:55.567Z appoptics:patching patched raw-body 2.4.0
(node:3824) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (301ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1107 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:59:04.457Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:59:04.458Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:59:04.458Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:59:04.459Z appoptics:debug using context provider: ace-context
2021-11-23T06:59:04.531Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:59:04.695Z appoptics:patching patched crypto 
2021-11-23T06:59:04.717Z appoptics:patching patched https 
2021-11-23T06:59:04.717Z appoptics:patching patched http 
2021-11-23T06:59:04.781Z appoptics:patching patched zlib 
2021-11-23T06:59:04.863Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:59:04.864Z appoptics:patching patched fs 
2021-11-23T06:59:05.020Z appoptics:patching patched express 4.11.2
2021-11-23T06:59:05.027Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:59:05.037Z appoptics:debug starting runtimeMetrics


  probes.express 4.11.2
    ✓ UDP might lose a message
2021-11-23T06:59:05.083Z appoptics:patching patched raw-body 2.4.0
(node:3847) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (281ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

added 9 packages, removed 3 packages, changed 5 packages, and audited 1113 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:59:12.942Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:59:12.943Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:59:12.943Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:59:12.944Z appoptics:debug using context provider: ace-context
2021-11-23T06:59:13.029Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:59:13.227Z appoptics:patching patched crypto 
2021-11-23T06:59:13.249Z appoptics:patching patched https 
2021-11-23T06:59:13.249Z appoptics:patching patched http 
2021-11-23T06:59:13.303Z appoptics:patching patched zlib 
2021-11-23T06:59:13.351Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:59:13.352Z appoptics:patching patched fs 
2021-11-23T06:59:13.490Z appoptics:patching patched express 4.12.0
2021-11-23T06:59:13.499Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:59:13.507Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.0
    ✓ UDP might lose a message
2021-11-23T06:59:13.558Z appoptics:patching patched raw-body 2.4.0
(node:3870) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (74ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (308ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 2 packages, and audited 1113 packages in 17s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:59:31.057Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:59:31.058Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:59:31.058Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:59:31.059Z appoptics:debug using context provider: ace-context
2021-11-23T06:59:31.135Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:59:31.326Z appoptics:patching patched crypto 
2021-11-23T06:59:31.353Z appoptics:patching patched https 
2021-11-23T06:59:31.353Z appoptics:patching patched http 
2021-11-23T06:59:31.409Z appoptics:patching patched zlib 
2021-11-23T06:59:31.462Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:59:31.463Z appoptics:patching patched fs 
2021-11-23T06:59:31.620Z appoptics:patching patched express 4.12.1
2021-11-23T06:59:31.628Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:59:31.636Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.1
    ✓ UDP might lose a message
2021-11-23T06:59:31.685Z appoptics:patching patched raw-body 2.4.0
(node:3893) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (270ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1113 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:59:40.460Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:59:40.461Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:59:40.461Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:59:40.462Z appoptics:debug using context provider: ace-context
2021-11-23T06:59:40.551Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:59:40.740Z appoptics:patching patched crypto 
2021-11-23T06:59:40.766Z appoptics:patching patched https 
2021-11-23T06:59:40.767Z appoptics:patching patched http 
2021-11-23T06:59:40.841Z appoptics:patching patched zlib 
2021-11-23T06:59:40.906Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:59:40.906Z appoptics:patching patched fs 
2021-11-23T06:59:41.099Z appoptics:patching patched express 4.12.2
2021-11-23T06:59:41.108Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:59:41.120Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.2
    ✓ UDP might lose a message
2021-11-23T06:59:41.181Z appoptics:patching patched raw-body 2.4.0
(node:3916) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (309ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 5 packages, and audited 1113 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

37 vulnerabilities (1 low, 22 moderate, 12 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:59:49.282Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:59:49.283Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:59:49.283Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:59:49.284Z appoptics:debug using context provider: ace-context
2021-11-23T06:59:49.357Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:59:49.539Z appoptics:patching patched crypto 
2021-11-23T06:59:49.563Z appoptics:patching patched https 
2021-11-23T06:59:49.564Z appoptics:patching patched http 
2021-11-23T06:59:49.624Z appoptics:patching patched zlib 
2021-11-23T06:59:49.682Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:59:49.683Z appoptics:patching patched fs 
2021-11-23T06:59:49.829Z appoptics:patching patched express 4.12.3
2021-11-23T06:59:49.838Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:59:49.848Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.3
    ✓ UDP might lose a message
2021-11-23T06:59:49.895Z appoptics:patching patched raw-body 2.4.0
(node:3939) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (284ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

removed 9 packages, changed 12 packages, and audited 1104 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 22 moderate, 10 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:59:58.917Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:59:58.918Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:59:58.918Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:59:58.919Z appoptics:debug using context provider: ace-context
2021-11-23T06:59:58.989Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:59:59.150Z appoptics:patching patched crypto 
2021-11-23T06:59:59.171Z appoptics:patching patched https 
2021-11-23T06:59:59.173Z appoptics:patching patched http 
2021-11-23T06:59:59.236Z appoptics:patching patched zlib 
2021-11-23T06:59:59.293Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:59:59.293Z appoptics:patching patched fs 
2021-11-23T06:59:59.429Z appoptics:patching patched express 4.12.4
2021-11-23T06:59:59.437Z appoptics:patching patched morgan 1.10.0
2021-11-23T06:59:59.445Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.4
    ✓ UDP might lose a message
2021-11-23T06:59:59.490Z appoptics:patching patched raw-body 2.4.0
(node:3962) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (281ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

added 10 packages, removed 7 packages, changed 10 packages, and audited 1107 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 22 moderate, 10 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T07:00:08.335Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T07:00:08.335Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T07:00:08.335Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T07:00:08.336Z appoptics:debug using context provider: ace-context
2021-11-23T07:00:08.439Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T07:00:08.620Z appoptics:patching patched crypto 
2021-11-23T07:00:08.649Z appoptics:patching patched https 
2021-11-23T07:00:08.650Z appoptics:patching patched http 
2021-11-23T07:00:08.719Z appoptics:patching patched zlib 
2021-11-23T07:00:08.794Z appoptics:patching fs.realpath - adding native method
2021-11-23T07:00:08.795Z appoptics:patching patched fs 
2021-11-23T07:00:08.955Z appoptics:patching patched express 4.13.0
2021-11-23T07:00:08.962Z appoptics:patching patched morgan 1.10.0
2021-11-23T07:00:08.972Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.0
    ✓ UDP might lose a message
2021-11-23T07:00:09.014Z appoptics:patching patched raw-body 2.4.0
(node:3985) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (303ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 2 packages, and audited 1107 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 22 moderate, 10 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T07:00:16.693Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T07:00:16.694Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T07:00:16.694Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T07:00:16.695Z appoptics:debug using context provider: ace-context
2021-11-23T07:00:16.777Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T07:00:16.961Z appoptics:patching patched crypto 
2021-11-23T07:00:16.998Z appoptics:patching patched https 
2021-11-23T07:00:16.999Z appoptics:patching patched http 
2021-11-23T07:00:17.091Z appoptics:patching patched zlib 
2021-11-23T07:00:17.170Z appoptics:patching fs.realpath - adding native method
2021-11-23T07:00:17.170Z appoptics:patching patched fs 
2021-11-23T07:00:17.376Z appoptics:patching patched express 4.13.1
2021-11-23T07:00:17.387Z appoptics:patching patched morgan 1.10.0
2021-11-23T07:00:17.394Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.1
    ✓ UDP might lose a message
2021-11-23T07:00:17.438Z appoptics:patching patched raw-body 2.4.0
(node:4008) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (42ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (298ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 3 packages, and audited 1107 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 22 moderate, 10 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T07:00:25.746Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T07:00:25.747Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T07:00:25.748Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T07:00:25.748Z appoptics:debug using context provider: ace-context
2021-11-23T07:00:25.847Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T07:00:26.008Z appoptics:patching patched crypto 
2021-11-23T07:00:26.029Z appoptics:patching patched https 
2021-11-23T07:00:26.030Z appoptics:patching patched http 
2021-11-23T07:00:26.085Z appoptics:patching patched zlib 
2021-11-23T07:00:26.138Z appoptics:patching fs.realpath - adding native method
2021-11-23T07:00:26.139Z appoptics:patching patched fs 
2021-11-23T07:00:26.275Z appoptics:patching patched express 4.13.2
2021-11-23T07:00:26.281Z appoptics:patching patched morgan 1.10.0
2021-11-23T07:00:26.289Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.2
    ✓ UDP might lose a message
2021-11-23T07:00:26.329Z appoptics:patching patched raw-body 2.4.0
(node:4031) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (293ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1107 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 22 moderate, 10 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T07:00:35.434Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T07:00:35.435Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T07:00:35.435Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T07:00:35.436Z appoptics:debug using context provider: ace-context
2021-11-23T07:00:35.509Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T07:00:35.681Z appoptics:patching patched crypto 
2021-11-23T07:00:35.703Z appoptics:patching patched https 
2021-11-23T07:00:35.704Z appoptics:patching patched http 
2021-11-23T07:00:35.757Z appoptics:patching patched zlib 
2021-11-23T07:00:35.815Z appoptics:patching fs.realpath - adding native method
2021-11-23T07:00:35.815Z appoptics:patching patched fs 
2021-11-23T07:00:35.988Z appoptics:patching patched express 4.13.3
2021-11-23T07:00:35.994Z appoptics:patching patched morgan 1.10.0
2021-11-23T07:00:36.002Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.3
    ✓ UDP might lose a message
2021-11-23T07:00:36.047Z appoptics:patching patched raw-body 2.4.0
(node:4054) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (285ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

removed 6 packages, changed 8 packages, and audited 1101 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 22 moderate, 10 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T07:00:45.278Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T07:00:45.278Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T07:00:45.279Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T07:00:45.279Z appoptics:debug using context provider: ace-context
2021-11-23T07:00:45.434Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T07:00:45.620Z appoptics:patching patched crypto 
2021-11-23T07:00:45.642Z appoptics:patching patched https 
2021-11-23T07:00:45.642Z appoptics:patching patched http 
2021-11-23T07:00:45.696Z appoptics:patching patched zlib 
2021-11-23T07:00:45.747Z appoptics:patching fs.realpath - adding native method
2021-11-23T07:00:45.747Z appoptics:patching patched fs 
2021-11-23T07:00:45.892Z appoptics:patching patched express 4.13.4
2021-11-23T07:00:45.898Z appoptics:patching patched morgan 1.10.0
2021-11-23T07:00:45.905Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.4
    ✓ UDP might lose a message
2021-11-23T07:00:45.968Z appoptics:patching patched raw-body 2.4.0
(node:4077) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (74ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (299ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

added 10 packages, removed 8 packages, changed 19 packages, and audited 1103 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

34 vulnerabilities (2 low, 22 moderate, 8 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T07:00:54.274Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T07:00:54.275Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T07:00:54.275Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T07:00:54.276Z appoptics:debug using context provider: ace-context
2021-11-23T07:00:54.375Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T07:00:54.754Z appoptics:patching patched crypto 
2021-11-23T07:00:54.781Z appoptics:patching patched https 
2021-11-23T07:00:54.782Z appoptics:patching patched http 
2021-11-23T07:00:54.850Z appoptics:patching patched zlib 
2021-11-23T07:00:54.920Z appoptics:patching fs.realpath - adding native method
2021-11-23T07:00:54.921Z appoptics:patching patched fs 
2021-11-23T07:00:55.063Z appoptics:patching patched express 4.14.0
2021-11-23T07:00:55.071Z appoptics:patching patched morgan 1.10.0
2021-11-23T07:00:55.078Z appoptics:debug starting runtimeMetrics


  probes.express 4.14.0
    ✓ UDP might lose a message
2021-11-23T07:00:55.119Z appoptics:patching patched raw-body 2.4.0
(node:4100) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (274ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

added 1 package, removed 10 packages, changed 6 packages, and audited 1094 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

34 vulnerabilities (2 low, 22 moderate, 8 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T07:01:03.853Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T07:01:03.853Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T07:01:03.853Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T07:01:03.854Z appoptics:debug using context provider: ace-context
2021-11-23T07:01:03.929Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T07:01:04.101Z appoptics:patching patched crypto 
2021-11-23T07:01:04.127Z appoptics:patching patched https 
2021-11-23T07:01:04.128Z appoptics:patching patched http 
2021-11-23T07:01:04.180Z appoptics:patching patched zlib 
2021-11-23T07:01:04.234Z appoptics:patching fs.realpath - adding native method
2021-11-23T07:01:04.235Z appoptics:patching patched fs 
2021-11-23T07:01:04.362Z appoptics:patching patched express 4.14.1
2021-11-23T07:01:04.369Z appoptics:patching patched morgan 1.10.0
2021-11-23T07:01:04.376Z appoptics:debug starting runtimeMetrics


  probes.express 4.14.1
    ✓ UDP might lose a message
2021-11-23T07:01:04.416Z appoptics:patching patched raw-body 2.4.0
(node:4123) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (276ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

added 2 packages, removed 4 packages, changed 14 packages, and audited 1092 packages in 9s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (1 low, 22 moderate, 8 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T07:01:13.874Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T07:01:13.875Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T07:01:13.875Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T07:01:13.876Z appoptics:debug using context provider: ace-context
2021-11-23T07:01:13.952Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T07:01:14.134Z appoptics:patching patched crypto 
2021-11-23T07:01:14.156Z appoptics:patching patched https 
2021-11-23T07:01:14.156Z appoptics:patching patched http 
2021-11-23T07:01:14.209Z appoptics:patching patched zlib 
2021-11-23T07:01:14.263Z appoptics:patching fs.realpath - adding native method
2021-11-23T07:01:14.264Z appoptics:patching patched fs 
2021-11-23T07:01:14.392Z appoptics:patching patched express 4.15.0
2021-11-23T07:01:14.396Z appoptics:patching patched morgan 1.10.0
2021-11-23T07:01:14.402Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.0
    ✓ UDP might lose a message
2021-11-23T07:01:14.449Z appoptics:patching patched raw-body 2.4.0
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (276ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 4 packages, and audited 1092 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (1 low, 22 moderate, 8 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T07:01:22.880Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T07:01:22.881Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T07:01:22.882Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T07:01:22.882Z appoptics:debug using context provider: ace-context
2021-11-23T07:01:22.980Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T07:01:23.266Z appoptics:patching patched crypto 
2021-11-23T07:01:23.318Z appoptics:patching patched https 
2021-11-23T07:01:23.318Z appoptics:patching patched http 
2021-11-23T07:01:23.409Z appoptics:patching patched zlib 
2021-11-23T07:01:23.487Z appoptics:patching fs.realpath - adding native method
2021-11-23T07:01:23.488Z appoptics:patching patched fs 
2021-11-23T07:01:23.671Z appoptics:patching patched express 4.15.1
2021-11-23T07:01:23.678Z appoptics:patching patched morgan 1.10.0
2021-11-23T07:01:23.685Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.1
    ✓ UDP might lose a message
2021-11-23T07:01:23.726Z appoptics:patching patched raw-body 2.4.0
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (262ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 2 packages, and audited 1092 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (1 low, 22 moderate, 7 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T07:01:31.543Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T07:01:31.544Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T07:01:31.544Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T07:01:31.544Z appoptics:debug using context provider: ace-context
2021-11-23T07:01:31.616Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T07:01:31.768Z appoptics:patching patched crypto 
2021-11-23T07:01:31.787Z appoptics:patching patched https 
2021-11-23T07:01:31.788Z appoptics:patching patched http 
2021-11-23T07:01:31.837Z appoptics:patching patched zlib 
2021-11-23T07:01:31.890Z appoptics:patching fs.realpath - adding native method
2021-11-23T07:01:31.890Z appoptics:patching patched fs 
2021-11-23T07:01:32.025Z appoptics:patching patched express 4.15.2
2021-11-23T07:01:32.030Z appoptics:patching patched morgan 1.10.0
2021-11-23T07:01:32.037Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.2
    ✓ UDP might lose a message
2021-11-23T07:01:32.077Z appoptics:patching patched raw-body 2.4.0
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (260ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

removed 2 packages, changed 6 packages, and audited 1090 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (1 low, 22 moderate, 7 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T07:01:41.115Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T07:01:41.116Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T07:01:41.116Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T07:01:41.117Z appoptics:debug using context provider: ace-context
2021-11-23T07:01:41.190Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T07:01:41.363Z appoptics:patching patched crypto 
2021-11-23T07:01:41.386Z appoptics:patching patched https 
2021-11-23T07:01:41.386Z appoptics:patching patched http 
2021-11-23T07:01:41.441Z appoptics:patching patched zlib 
2021-11-23T07:01:41.501Z appoptics:patching fs.realpath - adding native method
2021-11-23T07:01:41.501Z appoptics:patching patched fs 
2021-11-23T07:01:41.641Z appoptics:patching patched express 4.15.3
2021-11-23T07:01:41.645Z appoptics:patching patched morgan 1.10.0
2021-11-23T07:01:41.652Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.3
    ✓ UDP might lose a message
2021-11-23T07:01:41.694Z appoptics:patching patched raw-body 2.4.0
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (285ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 7 packages, and audited 1090 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (1 low, 22 moderate, 7 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T07:01:50.556Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T07:01:50.557Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T07:01:50.557Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T07:01:50.558Z appoptics:debug using context provider: ace-context
2021-11-23T07:01:50.633Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T07:01:50.801Z appoptics:patching patched crypto 
2021-11-23T07:01:50.822Z appoptics:patching patched https 
2021-11-23T07:01:50.823Z appoptics:patching patched http 
2021-11-23T07:01:50.880Z appoptics:patching patched zlib 
2021-11-23T07:01:50.941Z appoptics:patching fs.realpath - adding native method
2021-11-23T07:01:50.941Z appoptics:patching patched fs 
2021-11-23T07:01:51.066Z appoptics:patching patched express 4.15.4
2021-11-23T07:01:51.071Z appoptics:patching patched morgan 1.10.0
2021-11-23T07:01:51.079Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.4
    ✓ UDP might lose a message
2021-11-23T07:01:51.125Z appoptics:patching patched raw-body 2.4.0
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (284ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

removed 4 packages, changed 5 packages, and audited 1086 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

30 vulnerabilities (24 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T07:01:58.753Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T07:01:58.754Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T07:01:58.754Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T07:01:58.755Z appoptics:debug using context provider: ace-context
2021-11-23T07:01:58.848Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T07:01:59.020Z appoptics:patching patched crypto 
2021-11-23T07:01:59.046Z appoptics:patching patched https 
2021-11-23T07:01:59.047Z appoptics:patching patched http 
2021-11-23T07:01:59.135Z appoptics:patching patched zlib 
2021-11-23T07:01:59.236Z appoptics:patching fs.realpath - adding native method
2021-11-23T07:01:59.237Z appoptics:patching patched fs 
2021-11-23T07:01:59.395Z appoptics:patching patched express 4.15.5
2021-11-23T07:01:59.400Z appoptics:patching patched morgan 1.10.0
2021-11-23T07:01:59.406Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.5
    ✓ UDP might lose a message
2021-11-23T07:01:59.462Z appoptics:patching patched raw-body 2.4.0
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (317ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

added 11 packages, removed 2 packages, changed 11 packages, and audited 1095 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T07:02:08.544Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T07:02:08.545Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T07:02:08.545Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T07:02:08.547Z appoptics:debug using context provider: ace-context
2021-11-23T07:02:08.617Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T07:02:08.798Z appoptics:patching patched crypto 
2021-11-23T07:02:08.820Z appoptics:patching patched https 
2021-11-23T07:02:08.820Z appoptics:patching patched http 
2021-11-23T07:02:08.876Z appoptics:patching patched zlib 
2021-11-23T07:02:08.932Z appoptics:patching fs.realpath - adding native method
2021-11-23T07:02:08.933Z appoptics:patching patched fs 
2021-11-23T07:02:09.074Z appoptics:patching patched raw-body 2.3.2
2021-11-23T07:02:09.079Z appoptics:patching patched express 4.16.0
2021-11-23T07:02:09.084Z appoptics:patching patched morgan 1.10.0
2021-11-23T07:02:09.090Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.0
    ✓ UDP might lose a message
2021-11-23T07:02:09.133Z appoptics:patching patched raw-body 2.4.0
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (281ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 4 packages, and audited 1095 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T07:02:18.143Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T07:02:18.144Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T07:02:18.144Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T07:02:18.145Z appoptics:debug using context provider: ace-context
2021-11-23T07:02:18.220Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T07:02:18.389Z appoptics:patching patched crypto 
2021-11-23T07:02:18.411Z appoptics:patching patched https 
2021-11-23T07:02:18.412Z appoptics:patching patched http 
2021-11-23T07:02:18.464Z appoptics:patching patched zlib 
2021-11-23T07:02:18.546Z appoptics:patching fs.realpath - adding native method
2021-11-23T07:02:18.546Z appoptics:patching patched fs 
2021-11-23T07:02:18.702Z appoptics:patching patched raw-body 2.3.2
2021-11-23T07:02:18.707Z appoptics:patching patched express 4.16.1
2021-11-23T07:02:18.713Z appoptics:patching patched morgan 1.10.0
2021-11-23T07:02:18.720Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.1
    ✓ UDP might lose a message
2021-11-23T07:02:18.759Z appoptics:patching patched raw-body 2.4.0
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (247ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1095 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T07:02:27.018Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T07:02:27.018Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T07:02:27.019Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T07:02:27.020Z appoptics:debug using context provider: ace-context
2021-11-23T07:02:27.124Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T07:02:27.406Z appoptics:patching patched crypto 
2021-11-23T07:02:27.425Z appoptics:patching patched https 
2021-11-23T07:02:27.425Z appoptics:patching patched http 
2021-11-23T07:02:27.479Z appoptics:patching patched zlib 
2021-11-23T07:02:27.533Z appoptics:patching fs.realpath - adding native method
2021-11-23T07:02:27.533Z appoptics:patching patched fs 
2021-11-23T07:02:27.665Z appoptics:patching patched raw-body 2.3.2
2021-11-23T07:02:27.671Z appoptics:patching patched express 4.16.2
2021-11-23T07:02:27.675Z appoptics:patching patched morgan 1.10.0
2021-11-23T07:02:27.682Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.2
    ✓ UDP might lose a message
2021-11-23T07:02:27.719Z appoptics:patching patched raw-body 2.4.0
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (271ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

removed 7 packages, changed 6 packages, and audited 1088 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T07:02:35.765Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T07:02:35.766Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T07:02:35.766Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T07:02:35.767Z appoptics:debug using context provider: ace-context
2021-11-23T07:02:35.837Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T07:02:36.020Z appoptics:patching patched crypto 
2021-11-23T07:02:36.042Z appoptics:patching patched https 
2021-11-23T07:02:36.043Z appoptics:patching patched http 
2021-11-23T07:02:36.094Z appoptics:patching patched zlib 
2021-11-23T07:02:36.146Z appoptics:patching fs.realpath - adding native method
2021-11-23T07:02:36.147Z appoptics:patching patched fs 
2021-11-23T07:02:36.284Z appoptics:patching patched raw-body 2.3.2
2021-11-23T07:02:36.290Z appoptics:patching patched express 4.16.3
2021-11-23T07:02:36.295Z appoptics:patching patched morgan 1.10.0
2021-11-23T07:02:36.302Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.3
    ✓ UDP might lose a message
2021-11-23T07:02:36.367Z appoptics:patching patched raw-body 2.4.0
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (284ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

removed 3 packages, changed 6 packages, and audited 1085 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T07:02:45.001Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T07:02:45.003Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T07:02:45.003Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T07:02:45.004Z appoptics:debug using context provider: ace-context
2021-11-23T07:02:45.080Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T07:02:45.252Z appoptics:patching patched crypto 
2021-11-23T07:02:45.273Z appoptics:patching patched https 
2021-11-23T07:02:45.274Z appoptics:patching patched http 
2021-11-23T07:02:45.329Z appoptics:patching patched zlib 
2021-11-23T07:02:45.403Z appoptics:patching fs.realpath - adding native method
2021-11-23T07:02:45.404Z appoptics:patching patched fs 
2021-11-23T07:02:45.565Z appoptics:patching patched raw-body 2.3.3
2021-11-23T07:02:45.572Z appoptics:patching patched express 4.16.4
2021-11-23T07:02:45.577Z appoptics:patching patched morgan 1.10.0
2021-11-23T07:02:45.583Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.4
    ✓ UDP might lose a message
2021-11-23T07:02:45.625Z appoptics:patching patched raw-body 2.4.0
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (73ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (390ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

added 8 packages, removed 15 packages, changed 9 packages, and audited 1078 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T07:02:54.951Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T07:02:54.952Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T07:02:54.952Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T07:02:54.952Z appoptics:debug using context provider: ace-context
2021-11-23T07:02:55.033Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T07:02:55.211Z appoptics:patching patched crypto 
2021-11-23T07:02:55.234Z appoptics:patching patched https 
2021-11-23T07:02:55.235Z appoptics:patching patched http 
2021-11-23T07:02:55.289Z appoptics:patching patched zlib 
2021-11-23T07:02:55.350Z appoptics:patching fs.realpath - adding native method
2021-11-23T07:02:55.351Z appoptics:patching patched fs 
2021-11-23T07:02:55.495Z appoptics:patching patched raw-body 2.4.0
2021-11-23T07:02:55.502Z appoptics:patching patched express 4.17.0
2021-11-23T07:02:55.506Z appoptics:patching patched morgan 1.10.0
2021-11-23T07:02:55.512Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.0
    ✓ UDP might lose a message
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (271ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T07:03:03.564Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T07:03:03.565Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T07:03:03.565Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T07:03:03.566Z appoptics:debug using context provider: ace-context
2021-11-23T07:03:03.670Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T07:03:03.867Z appoptics:patching patched crypto 
2021-11-23T07:03:03.893Z appoptics:patching patched https 
2021-11-23T07:03:03.893Z appoptics:patching patched http 
2021-11-23T07:03:03.960Z appoptics:patching patched zlib 
2021-11-23T07:03:04.024Z appoptics:patching fs.realpath - adding native method
2021-11-23T07:03:04.025Z appoptics:patching patched fs 
2021-11-23T07:03:04.208Z appoptics:patching patched raw-body 2.4.0
2021-11-23T07:03:04.218Z appoptics:patching patched express 4.17.1
2021-11-23T07:03:04.239Z appoptics:patching patched morgan 1.10.0
2021-11-23T07:03:04.245Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.1
    ✓ UDP might lose a message
    ✓ should forward controller/action for GET
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (295ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

up to date, audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
