npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated topo@3.0.3: This module has moved and is now available at @hapi/topo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated boom@7.3.0: This module has moved and is now available at @hapi/boom. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated topo@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@4.3.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@14.3.1: This module has moved and is now available at @hapi/joi. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@10.6.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@10.6.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@10.6.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@7.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hapi@13.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

added 60 packages, removed 28 packages, changed 6 packages, and audited 976 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (7 low, 10 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated boom@4.3.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@10.6.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vision@4.1.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hapi@13.5.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

removed 23 packages, changed 6 packages, and audited 953 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:10:44.012Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:10:44.012Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:10:44.012Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:10:44.013Z appoptics:debug using context provider: ace-context
2021-08-24T05:10:44.054Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:10:44.095Z appoptics:patching patched crypto 
2021-08-24T05:10:44.115Z appoptics:patching patched https 
2021-08-24T05:10:44.116Z appoptics:patching patched http 
2021-08-24T05:10:44.157Z appoptics:patching patched zlib 
2021-08-24T05:10:44.197Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:10:44.198Z appoptics:patching patched fs 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:52:25)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hapi@13.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

added 22 packages, changed 2 packages, and audited 975 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

30 vulnerabilities (7 low, 9 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:10:49.536Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:10:49.537Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:10:49.537Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:10:49.538Z appoptics:debug using context provider: ace-context
2021-08-24T05:10:49.611Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:10:49.664Z appoptics:patching patched crypto 
2021-08-24T05:10:49.685Z appoptics:patching patched https 
2021-08-24T05:10:49.686Z appoptics:patching patched http 
2021-08-24T05:10:49.730Z appoptics:patching patched zlib 
2021-08-24T05:10:49.776Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:10:49.777Z appoptics:patching patched fs 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@13.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 975 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

30 vulnerabilities (7 low, 9 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:10:55.676Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:10:55.676Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:10:55.677Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:10:55.677Z appoptics:debug using context provider: ace-context
2021-08-24T05:10:55.717Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:10:55.757Z appoptics:patching patched crypto 
2021-08-24T05:10:55.775Z appoptics:patching patched https 
2021-08-24T05:10:55.776Z appoptics:patching patched http 
2021-08-24T05:10:55.826Z appoptics:patching patched zlib 
2021-08-24T05:10:55.871Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:10:55.871Z appoptics:patching patched fs 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@13.2.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 975 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

30 vulnerabilities (7 low, 9 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:01.600Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:01.600Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:01.600Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:01.601Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:01.641Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:01.681Z appoptics:patching patched crypto 
2021-08-24T05:11:01.701Z appoptics:patching patched https 
2021-08-24T05:11:01.701Z appoptics:patching patched http 
2021-08-24T05:11:01.743Z appoptics:patching patched zlib 
2021-08-24T05:11:01.785Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:01.785Z appoptics:patching patched fs 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@13.2.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 975 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

30 vulnerabilities (7 low, 9 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:07.072Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:07.072Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:07.072Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:07.073Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:07.113Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:07.152Z appoptics:patching patched crypto 
2021-08-24T05:11:07.172Z appoptics:patching patched https 
2021-08-24T05:11:07.173Z appoptics:patching patched http 
2021-08-24T05:11:07.213Z appoptics:patching patched zlib 
2021-08-24T05:11:07.255Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:07.255Z appoptics:patching patched fs 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@13.3.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 975 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

30 vulnerabilities (7 low, 9 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:12.335Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:12.336Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:12.336Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:12.337Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:12.377Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:12.417Z appoptics:patching patched crypto 
2021-08-24T05:11:12.437Z appoptics:patching patched https 
2021-08-24T05:11:12.437Z appoptics:patching patched http 
2021-08-24T05:11:12.478Z appoptics:patching patched zlib 
2021-08-24T05:11:12.520Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:12.521Z appoptics:patching patched fs 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hapi@13.4.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

removed 22 packages, changed 2 packages, and audited 953 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:18.543Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:18.543Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:18.543Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:18.544Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:18.586Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:18.627Z appoptics:patching patched crypto 
2021-08-24T05:11:18.646Z appoptics:patching patched https 
2021-08-24T05:11:18.646Z appoptics:patching patched http 
2021-08-24T05:11:18.687Z appoptics:patching patched zlib 
2021-08-24T05:11:18.728Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:18.728Z appoptics:patching patched fs 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@13.4.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 953 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:24.256Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:24.257Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:24.257Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:24.258Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:24.298Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:24.337Z appoptics:patching patched crypto 
2021-08-24T05:11:24.355Z appoptics:patching patched https 
2021-08-24T05:11:24.356Z appoptics:patching patched http 
2021-08-24T05:11:24.396Z appoptics:patching patched zlib 
2021-08-24T05:11:24.438Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:24.438Z appoptics:patching patched fs 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@13.4.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 953 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:30.549Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:30.550Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:30.550Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:30.551Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:30.602Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:30.645Z appoptics:patching patched crypto 
2021-08-24T05:11:30.665Z appoptics:patching patched https 
2021-08-24T05:11:30.666Z appoptics:patching patched http 
2021-08-24T05:11:30.707Z appoptics:patching patched zlib 
2021-08-24T05:11:30.750Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:30.750Z appoptics:patching patched fs 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@13.5.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 953 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:36.296Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:36.297Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:36.297Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:36.297Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:36.337Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:36.377Z appoptics:patching patched crypto 
2021-08-24T05:11:36.396Z appoptics:patching patched https 
2021-08-24T05:11:36.396Z appoptics:patching patched http 
2021-08-24T05:11:36.437Z appoptics:patching patched zlib 
2021-08-24T05:11:36.479Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:36.479Z appoptics:patching patched fs 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:52:25)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@13.5.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 953 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:41.852Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:41.852Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:41.852Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:41.853Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:41.893Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:41.932Z appoptics:patching patched crypto 
2021-08-24T05:11:41.952Z appoptics:patching patched https 
2021-08-24T05:11:41.952Z appoptics:patching patched http 
2021-08-24T05:11:41.993Z appoptics:patching patched zlib 
2021-08-24T05:11:42.034Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:42.034Z appoptics:patching patched fs 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:52:25)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hapi@14.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

removed 1 package, changed 2 packages, and audited 952 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:46.920Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:46.921Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:46.921Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:46.922Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:46.972Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:47.019Z appoptics:patching patched crypto 
2021-08-24T05:11:47.038Z appoptics:patching patched https 
2021-08-24T05:11:47.038Z appoptics:patching patched http 
2021-08-24T05:11:47.079Z appoptics:patching patched zlib 
2021-08-24T05:11:47.120Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:47.120Z appoptics:patching patched fs 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:52:25)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@14.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 952 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:52.591Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:52.591Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:52.591Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:52.592Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:52.632Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:52.672Z appoptics:patching patched crypto 
2021-08-24T05:11:52.692Z appoptics:patching patched https 
2021-08-24T05:11:52.692Z appoptics:patching patched http 
2021-08-24T05:11:52.733Z appoptics:patching patched zlib 
2021-08-24T05:11:52.775Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:52.775Z appoptics:patching patched fs 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:52:25)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@14.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 952 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:57.687Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:57.688Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:57.688Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:57.689Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:57.728Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:57.768Z appoptics:patching patched crypto 
2021-08-24T05:11:57.789Z appoptics:patching patched https 
2021-08-24T05:11:57.789Z appoptics:patching patched http 
2021-08-24T05:11:57.830Z appoptics:patching patched zlib 
2021-08-24T05:11:57.871Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:57.871Z appoptics:patching patched fs 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:52:25)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@4.3.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@10.6.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hapi@15.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

added 6 packages, removed 4 packages, changed 3 packages, and audited 954 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2021-08-24T05:12:02.710Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:02.711Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:02.711Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:02.712Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:02.759Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:02.808Z appoptics:patching patched crypto 
2021-08-24T05:12:02.830Z appoptics:patching patched https 
2021-08-24T05:12:02.830Z appoptics:patching patched http 
2021-08-24T05:12:02.874Z appoptics:patching patched zlib 
2021-08-24T05:12:02.916Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:02.917Z appoptics:patching patched fs 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:54:25)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:17:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:11:20)
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@15.0.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 954 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2021-08-24T05:12:08.262Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:08.262Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:08.262Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:08.263Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:08.303Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:08.343Z appoptics:patching patched crypto 
2021-08-24T05:12:08.362Z appoptics:patching patched https 
2021-08-24T05:12:08.362Z appoptics:patching patched http 
2021-08-24T05:12:08.403Z appoptics:patching patched zlib 
2021-08-24T05:12:08.445Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:08.445Z appoptics:patching patched fs 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:54:25)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:17:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:11:20)
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@15.0.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 954 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2021-08-24T05:12:13.647Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:13.648Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:13.648Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:13.649Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:13.688Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:13.728Z appoptics:patching patched crypto 
2021-08-24T05:12:13.747Z appoptics:patching patched https 
2021-08-24T05:12:13.747Z appoptics:patching patched http 
2021-08-24T05:12:13.788Z appoptics:patching patched zlib 
2021-08-24T05:12:13.829Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:13.829Z appoptics:patching patched fs 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:54:25)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:17:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:11:20)
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@15.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 954 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2021-08-24T05:12:19.995Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:19.996Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:19.996Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:19.997Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:20.038Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:20.078Z appoptics:patching patched crypto 
2021-08-24T05:12:20.099Z appoptics:patching patched https 
2021-08-24T05:12:20.099Z appoptics:patching patched http 
2021-08-24T05:12:20.139Z appoptics:patching patched zlib 
2021-08-24T05:12:20.181Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:20.182Z appoptics:patching patched fs 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:54:25)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:17:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:11:20)
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@15.1.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 954 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2021-08-24T05:12:24.950Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:24.951Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:24.951Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:24.952Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:24.992Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:25.032Z appoptics:patching patched crypto 
2021-08-24T05:12:25.052Z appoptics:patching patched https 
2021-08-24T05:12:25.052Z appoptics:patching patched http 
2021-08-24T05:12:25.095Z appoptics:patching patched zlib 
2021-08-24T05:12:25.136Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:25.136Z appoptics:patching patched fs 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:54:25)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:17:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:11:20)
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@15.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 954 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2021-08-24T05:12:30.780Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:30.780Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:30.780Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:30.781Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:30.821Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:30.862Z appoptics:patching patched crypto 
2021-08-24T05:12:30.882Z appoptics:patching patched https 
2021-08-24T05:12:30.882Z appoptics:patching patched http 
2021-08-24T05:12:30.925Z appoptics:patching patched zlib 
2021-08-24T05:12:30.966Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:30.967Z appoptics:patching patched fs 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:54:25)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:17:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:58:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:11:20)
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@10.6.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hapi@16.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

added 1 package, removed 5 packages, changed 3 packages, and audited 950 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2021-08-24T05:12:36.015Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:36.015Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:36.015Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:36.016Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:36.056Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:36.097Z appoptics:patching patched crypto 
2021-08-24T05:12:36.117Z appoptics:patching patched https 
2021-08-24T05:12:36.117Z appoptics:patching patched http 
2021-08-24T05:12:36.158Z appoptics:patching patched zlib 
2021-08-24T05:12:36.200Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:36.200Z appoptics:patching patched fs 
2021-08-24T05:12:36.348Z appoptics:patching patched hapi 16.0.0
2021-08-24T05:12:36.353Z appoptics:patching vision instrumentation not active before v5
2021-08-24T05:12:36.353Z appoptics:patching patched vision 4.1.1
2021-08-24T05:12:36.356Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.0.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (44ms)
    1) should forward controller/action data from post request
2021-08-24T05:12:36.510Z appoptics:debug http: ule hapi:exit 2b-a9133ca8702e4d8ceb0b8c6345b9f22d3255a0cc-83f580271c470fc2-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should skip when disabled
    4) should trace render span with template extension
2021-08-24T05:12:40.543Z appoptics:debug http: ule nodejs:entry 2b-c66e2b44dd245474e76abd358f5cd3bd4baf79e7-fdd28a94dd3aea70-01
    ✓ should trace render span without template extension


  4 passing (4s)
  4 failing

  1) probes.hapi 16.0.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '83F580271C470FC2',
  HTTPMethod: 'POST',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1227,
  Timestamp_u: 1629781956506624,
  'X-Trace': '2BA9133CA8702E4D8CEB0B8C6345B9F22D3255A0CCEFC08DD6F0ADA35301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.hapi 16.0.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.hapi 16.0.0 vision 4.1.1
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  4) probes.hapi 16.0.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: 'FDD28A94DD3AEA70',
  HTTPMethod: 'GET',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1227,
  Timestamp_u: 1629781960541862,
  'X-Trace': '2BC66E2B44DD245474E76ABD358F5CD3BD4BAF79E735848EF1240B187401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@16.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 950 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2021-08-24T05:12:45.044Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:45.045Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:45.045Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:45.045Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:45.087Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:45.127Z appoptics:patching patched crypto 
2021-08-24T05:12:45.146Z appoptics:patching patched https 
2021-08-24T05:12:45.147Z appoptics:patching patched http 
2021-08-24T05:12:45.188Z appoptics:patching patched zlib 
2021-08-24T05:12:45.229Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:45.229Z appoptics:patching patched fs 
2021-08-24T05:12:45.375Z appoptics:patching patched hapi 16.0.1
2021-08-24T05:12:45.379Z appoptics:patching vision instrumentation not active before v5
2021-08-24T05:12:45.379Z appoptics:patching patched vision 4.1.1
2021-08-24T05:12:45.382Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.0.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (50ms)
    1) should forward controller/action data from post request
2021-08-24T05:12:45.530Z appoptics:debug http: ule hapi:exit 2b-af06f52d52e1052a1fe608803025a16312fbf639-22f7f27ff258347f-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should skip when disabled
    4) should trace render span with template extension
2021-08-24T05:12:49.572Z appoptics:debug http: ule nodejs:entry 2b-acc0386fed1619d8c339cee3e6b4da06143c919d-aa22536c41cd872f-01
    5) should trace render span without template extension


  3 passing (4s)
  5 failing

  1) probes.hapi 16.0.1 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '22F7F27FF258347F',
  HTTPMethod: 'POST',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1250,
  Timestamp_u: 1629781965527117,
  'X-Trace': '2BAF06F52D52E1052A1FE608803025A16312FBF6390278D567262DBA1201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.hapi 16.0.1 vision 4.1.1
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.hapi 16.0.1 vision 4.1.1
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  4) probes.hapi 16.0.1 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: 'AA22536C41CD872F',
  HTTPMethod: 'GET',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1250,
  Timestamp_u: 1629781969570301,
  'X-Trace': '2BACC0386FED1619D8C339CEE3E6B4DA06143C919D9EBBD24F3F9098F601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.hapi 16.0.1 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Edge: 'ED696ABEA7AFE5FB',
  Hostname: 'f43511ee638d',
  Label: 'exit',
  Layer: 'hapi-render',
  TID: 1250,
  Timestamp_u: 1629781969582764,
  'X-Trace': '2BACC0386FED1619D8C339CEE3E6B4DA06143C919D2A52BBA50CBD638101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi-render')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@16.0.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 950 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2021-08-24T05:12:55.127Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:55.128Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:55.128Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:55.128Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:55.168Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:55.208Z appoptics:patching patched crypto 
2021-08-24T05:12:55.228Z appoptics:patching patched https 
2021-08-24T05:12:55.229Z appoptics:patching patched http 
2021-08-24T05:12:55.270Z appoptics:patching patched zlib 
2021-08-24T05:12:55.311Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:55.312Z appoptics:patching patched fs 
2021-08-24T05:12:55.464Z appoptics:patching patched hapi 16.0.2
2021-08-24T05:12:55.468Z appoptics:patching vision instrumentation not active before v5
2021-08-24T05:12:55.468Z appoptics:patching patched vision 4.1.1
2021-08-24T05:12:55.472Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.0.2 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (45ms)
    1) should forward controller/action data from post request
2021-08-24T05:12:55.621Z appoptics:debug http: ule hapi:exit 2b-0c7912ccf701d14d2a498dd7acbcc10da5f85cbd-2eb791899ca518f6-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should skip when disabled
    4) should trace render span with template extension
2021-08-24T05:12:59.655Z appoptics:debug http: ule nodejs:entry 2b-3851d827f0b5e8024d28deae9f98e16c2c62e41c-004cab97cd6e1d04-01
    ✓ should trace render span without template extension


  4 passing (4s)
  4 failing

  1) probes.hapi 16.0.2 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '2EB791899CA518F6',
  HTTPMethod: 'POST',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1273,
  Timestamp_u: 1629781975617799,
  'X-Trace': '2B0C7912CCF701D14D2A498DD7ACBCC10DA5F85CBDB7FB67DD991AF5B301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.hapi 16.0.2 vision 4.1.1
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.hapi 16.0.2 vision 4.1.1
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  4) probes.hapi 16.0.2 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '004CAB97CD6E1D04',
  HTTPMethod: 'GET',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1273,
  Timestamp_u: 1629781979653626,
  'X-Trace': '2B3851D827F0B5E8024D28DEAE9F98E16C2C62E41CAFE86ED951BDADA301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@16.0.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 950 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2021-08-24T05:13:04.594Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:13:04.595Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:13:04.595Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:13:04.596Z appoptics:debug using context provider: ace-context
2021-08-24T05:13:04.635Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:13:04.675Z appoptics:patching patched crypto 
2021-08-24T05:13:04.694Z appoptics:patching patched https 
2021-08-24T05:13:04.694Z appoptics:patching patched http 
2021-08-24T05:13:04.735Z appoptics:patching patched zlib 
2021-08-24T05:13:04.777Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:13:04.777Z appoptics:patching patched fs 
2021-08-24T05:13:04.928Z appoptics:patching patched hapi 16.0.3
2021-08-24T05:13:04.932Z appoptics:patching vision instrumentation not active before v5
2021-08-24T05:13:04.932Z appoptics:patching patched vision 4.1.1
2021-08-24T05:13:04.936Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.0.3 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (44ms)
    1) should forward controller/action data from post request
2021-08-24T05:13:05.085Z appoptics:debug http: ule hapi:exit 2b-2cb3f3e32bfde39ea30a8285f77af8e8d77f0a71-b7b4e67d44fb614b-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should skip when disabled
    4) should trace render span with template extension
2021-08-24T05:13:09.121Z appoptics:debug http: ule nodejs:entry 2b-57600d086c174d16224ebb7c486c339cd4dc27b6-6f28dd0b8feb09ed-01
    5) should trace render span without template extension


  3 passing (4s)
  5 failing

  1) probes.hapi 16.0.3 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: 'B7B4E67D44FB614B',
  HTTPMethod: 'POST',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1296,
  Timestamp_u: 1629781985081759,
  'X-Trace': '2B2CB3F3E32BFDE39EA30A8285F77AF8E8D77F0A71674386973C3C131A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.hapi 16.0.3 vision 4.1.1
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.hapi 16.0.3 vision 4.1.1
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  4) probes.hapi 16.0.3 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '6F28DD0B8FEB09ED',
  HTTPMethod: 'GET',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1296,
  Timestamp_u: 1629781989119315,
  'X-Trace': '2B57600D086C174D16224EBB7C486C339CD4DC27B68D7408AAE155152A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.hapi 16.0.3 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Edge: '6AEFDB5E7D729301',
  Hostname: 'f43511ee638d',
  Label: 'exit',
  Layer: 'hapi-render',
  TID: 1296,
  Timestamp_u: 1629781989132557,
  'X-Trace': '2B57600D086C174D16224EBB7C486C339CD4DC27B6489DE849F640E73001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi-render')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@16.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 950 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2021-08-24T05:13:13.754Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:13:13.754Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:13:13.754Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:13:13.755Z appoptics:debug using context provider: ace-context
2021-08-24T05:13:13.796Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:13:13.836Z appoptics:patching patched crypto 
2021-08-24T05:13:13.855Z appoptics:patching patched https 
2021-08-24T05:13:13.855Z appoptics:patching patched http 
2021-08-24T05:13:13.896Z appoptics:patching patched zlib 
2021-08-24T05:13:13.937Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:13:13.937Z appoptics:patching patched fs 
2021-08-24T05:13:14.088Z appoptics:patching patched hapi 16.1.0
2021-08-24T05:13:14.092Z appoptics:patching vision instrumentation not active before v5
2021-08-24T05:13:14.092Z appoptics:patching patched vision 4.1.1
2021-08-24T05:13:14.096Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.1.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (49ms)
    1) should forward controller/action data from post request
2021-08-24T05:13:14.262Z appoptics:debug http: ule hapi:exit 2b-3d8ef3804449c2ac750f348a76ce1ddb7dcd75db-661a994a92977976-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should skip when disabled
    4) should trace render span with template extension
2021-08-24T05:13:18.297Z appoptics:debug http: ule nodejs:entry 2b-04babe58b0b590aa9748be0f82bf0bd1455a027f-d2624dccf3402772-01
    ✓ should trace render span without template extension


  4 passing (4s)
  4 failing

  1) probes.hapi 16.1.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '661A994A92977976',
  HTTPMethod: 'POST',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1319,
  Timestamp_u: 1629781994258284,
  'X-Trace': '2B3D8EF3804449C2AC750F348A76CE1DDB7DCD75DB805D0B9E6AF9111801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.hapi 16.1.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.hapi 16.1.0 vision 4.1.1
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  4) probes.hapi 16.1.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: 'D2624DCCF3402772',
  HTTPMethod: 'GET',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1319,
  Timestamp_u: 1629781998295681,
  'X-Trace': '2B04BABE58B0B590AA9748BE0F82BF0BD1455A027FF1443F1ED1D25C5101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@16.1.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 950 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:13:23.171Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:13:23.171Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:13:23.171Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:13:23.172Z appoptics:debug using context provider: ace-context
2021-08-24T05:13:23.212Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:13:23.252Z appoptics:patching patched crypto 
2021-08-24T05:13:23.272Z appoptics:patching patched https 
2021-08-24T05:13:23.273Z appoptics:patching patched http 
2021-08-24T05:13:23.313Z appoptics:patching patched zlib 
2021-08-24T05:13:23.355Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:13:23.355Z appoptics:patching patched fs 
2021-08-24T05:13:23.504Z appoptics:patching patched hapi 16.1.1
2021-08-24T05:13:23.508Z appoptics:patching vision instrumentation not active before v5
2021-08-24T05:13:23.508Z appoptics:patching patched vision 4.1.1
2021-08-24T05:13:23.512Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.1.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (44ms)
    1) should forward controller/action data from post request
2021-08-24T05:13:23.663Z appoptics:debug http: ule hapi:exit 2b-13ad58c29fe3e16db41706fb4318f1eaadb66b0a-8206e935a51e48d7-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should skip when disabled
    4) should trace render span with template extension
2021-08-24T05:13:27.708Z appoptics:debug http: ule nodejs:entry 2b-9df3ae929213319bf8a37ce8a1115c4f9f5f4082-da2724560c8ca7b3-01
    ✓ should trace render span without template extension


  4 passing (4s)
  4 failing

  1) probes.hapi 16.1.1 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '8206E935A51E48D7',
  HTTPMethod: 'POST',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1342,
  Timestamp_u: 1629782003659679,
  'X-Trace': '2B13AD58C29FE3E16DB41706FB4318F1EAADB66B0A4B9644593B668F4001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.hapi 16.1.1 vision 4.1.1
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.hapi 16.1.1 vision 4.1.1
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  4) probes.hapi 16.1.1 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: 'DA2724560C8CA7B3',
  HTTPMethod: 'GET',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1342,
  Timestamp_u: 1629782007706114,
  'X-Trace': '2B9DF3AE929213319BF8A37CE8A1115C4F9F5F4082FF6A1283BE2E7CF601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated boom@4.3.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hapi@16.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

added 1 package, removed 12 packages, changed 2 packages, and audited 939 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:13:32.851Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:13:32.852Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:13:32.852Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:13:32.853Z appoptics:debug using context provider: ace-context
2021-08-24T05:13:32.893Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:13:32.932Z appoptics:patching patched crypto 
2021-08-24T05:13:32.951Z appoptics:patching patched https 
2021-08-24T05:13:32.952Z appoptics:patching patched http 
2021-08-24T05:13:32.993Z appoptics:patching patched zlib 
2021-08-24T05:13:33.034Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:13:33.035Z appoptics:patching patched fs 
2021-08-24T05:13:33.177Z appoptics:patching patched hapi 16.2.0
2021-08-24T05:13:33.182Z appoptics:patching vision instrumentation not active before v5
2021-08-24T05:13:33.182Z appoptics:patching patched vision 4.1.1
2021-08-24T05:13:33.185Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.2.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (51ms)
    1) should forward controller/action data from post request
2021-08-24T05:13:33.336Z appoptics:debug http: ule hapi:exit 2b-cc06e7e14567b05404011cf8d96fbda985021df7-444a260d5a34b899-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should skip when disabled
    4) should trace render span with template extension
2021-08-24T05:13:37.391Z appoptics:debug http: ule nodejs:entry 2b-c695420061acc962a14bcb2da90a5efade80fd8c-fb98373aaf7af837-01
    5) should trace render span without template extension


  3 passing (4s)
  5 failing

  1) probes.hapi 16.2.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '444A260D5A34B899',
  HTTPMethod: 'POST',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1365,
  Timestamp_u: 1629782013332367,
  'X-Trace': '2BCC06E7E14567B05404011CF8D96FBDA985021DF7CB9AAEB298A9DCDD01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.hapi 16.2.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.hapi 16.2.0 vision 4.1.1
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  4) probes.hapi 16.2.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: 'FB98373AAF7AF837',
  HTTPMethod: 'GET',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1365,
  Timestamp_u: 1629782017388627,
  'X-Trace': '2BC695420061ACC962A14BCB2DA90A5EFADE80FD8C73291CD8B5C98B9401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.hapi 16.2.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Edge: '915CFFE5AB1AFBEA',
  Hostname: 'f43511ee638d',
  Label: 'entry',
  Layer: 'hapi-render',
  TID: 1365,
  TemplateFile: 'hello.ejs',
  TemplateLanguage: 'ejs',
  Timestamp_u: 1629782017393575,
  'X-Trace': '2BC695420061ACC962A14BCB2DA90A5EFADE80FD8CA3CD0821F4BB5EE801',
  _V: '1'
} to have property TemplateFile of 'hello' (got 'hello.ejs')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:241:23
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@16.3.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 939 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:13:42.341Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:13:42.342Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:13:42.342Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:13:42.343Z appoptics:debug using context provider: ace-context
2021-08-24T05:13:42.384Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:13:42.427Z appoptics:patching patched crypto 
2021-08-24T05:13:42.448Z appoptics:patching patched https 
2021-08-24T05:13:42.449Z appoptics:patching patched http 
2021-08-24T05:13:42.489Z appoptics:patching patched zlib 
2021-08-24T05:13:42.532Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:13:42.532Z appoptics:patching patched fs 
2021-08-24T05:13:42.675Z appoptics:patching patched hapi 16.3.0
2021-08-24T05:13:42.680Z appoptics:patching vision instrumentation not active before v5
2021-08-24T05:13:42.680Z appoptics:patching patched vision 4.1.1
2021-08-24T05:13:42.684Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.3.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (51ms)
    1) should forward controller/action data from post request
2021-08-24T05:13:42.834Z appoptics:debug http: ule hapi:exit 2b-92b9168466ad906a7a2ac97e72c9674fe27f78e1-e77ae5cf7a8d7304-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should skip when disabled
    4) should trace render span with template extension
2021-08-24T05:13:46.875Z appoptics:debug http: ule nodejs:entry 2b-b569ea22ae4fd0926cb4266db7f6856e9554c389-83d477dfaf55b36f-01
    ✓ should trace render span without template extension


  4 passing (4s)
  4 failing

  1) probes.hapi 16.3.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: 'E77AE5CF7A8D7304',
  HTTPMethod: 'POST',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1388,
  Timestamp_u: 1629782022831253,
  'X-Trace': '2B92B9168466AD906A7A2AC97E72C9674FE27F78E17D5939282D56200601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.hapi 16.3.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.hapi 16.3.0 vision 4.1.1
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  4) probes.hapi 16.3.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '83D477DFAF55B36F',
  HTTPMethod: 'GET',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1388,
  Timestamp_u: 1629782026872982,
  'X-Trace': '2BB569EA22AE4FD0926CB4266DB7F6856E9554C389EF153FCEB3C83E4501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@16.3.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 939 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:13:52.197Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:13:52.197Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:13:52.197Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:13:52.198Z appoptics:debug using context provider: ace-context
2021-08-24T05:13:52.239Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:13:52.279Z appoptics:patching patched crypto 
2021-08-24T05:13:52.298Z appoptics:patching patched https 
2021-08-24T05:13:52.298Z appoptics:patching patched http 
2021-08-24T05:13:52.348Z appoptics:patching patched zlib 
2021-08-24T05:13:52.392Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:13:52.393Z appoptics:patching patched fs 
2021-08-24T05:13:52.592Z appoptics:patching patched hapi 16.3.1
2021-08-24T05:13:52.596Z appoptics:patching vision instrumentation not active before v5
2021-08-24T05:13:52.596Z appoptics:patching patched vision 4.1.1
2021-08-24T05:13:52.600Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.3.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (54ms)
    1) should forward controller/action data from post request
2021-08-24T05:13:52.756Z appoptics:debug http: ule hapi:exit 2b-5ba10b6bd717cfa6b218d5852a43733bd94d178f-a534efa341eaa0b1-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should skip when disabled
    4) should trace render span with template extension
2021-08-24T05:13:56.794Z appoptics:debug http: ule nodejs:entry 2b-e5be6cbb85d2084569437b6ff7c7b5ba71a2fba4-6430b96313421f9e-01
    5) should trace render span without template extension


  3 passing (4s)
  5 failing

  1) probes.hapi 16.3.1 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: 'A534EFA341EAA0B1',
  HTTPMethod: 'POST',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1411,
  Timestamp_u: 1629782032751970,
  'X-Trace': '2B5BA10B6BD717CFA6B218D5852A43733BD94D178F5FC3DAF6E8A3356701',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.hapi 16.3.1 vision 4.1.1
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.hapi 16.3.1 vision 4.1.1
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  4) probes.hapi 16.3.1 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '6430B96313421F9E',
  HTTPMethod: 'GET',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1411,
  Timestamp_u: 1629782036792290,
  'X-Trace': '2BE5BE6CBB85D2084569437B6FF7C7B5BA71A2FBA4633F41D86658433201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.hapi 16.3.1 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Edge: '06AA34939BEC2BF8',
  Hostname: 'f43511ee638d',
  Label: 'exit',
  Layer: 'hapi-render',
  TID: 1411,
  Timestamp_u: 1629782036803085,
  'X-Trace': '2BE5BE6CBB85D2084569437B6FF7C7B5BA71A2FBA4126E963D350CF89001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi-render')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@16.4.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 939 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:14:02.052Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:14:02.053Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:14:02.053Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:14:02.054Z appoptics:debug using context provider: ace-context
2021-08-24T05:14:02.093Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:14:02.133Z appoptics:patching patched crypto 
2021-08-24T05:14:02.153Z appoptics:patching patched https 
2021-08-24T05:14:02.153Z appoptics:patching patched http 
2021-08-24T05:14:02.194Z appoptics:patching patched zlib 
2021-08-24T05:14:02.236Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:14:02.236Z appoptics:patching patched fs 
2021-08-24T05:14:02.377Z appoptics:patching patched hapi 16.4.0
2021-08-24T05:14:02.382Z appoptics:patching vision instrumentation not active before v5
2021-08-24T05:14:02.382Z appoptics:patching patched vision 4.1.1
2021-08-24T05:14:02.386Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.4.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (52ms)
    1) should forward controller/action data from post request
2021-08-24T05:14:02.537Z appoptics:debug http: ule hapi:exit 2b-0a809ce5fcb100cbc437f22c00b10dfca64d9d5b-6726f2a1527fa514-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should skip when disabled
    4) should trace render span with template extension
2021-08-24T05:14:06.577Z appoptics:debug http: ule nodejs:entry 2b-fb886dd492b0cb9e7c28a87a0b1ca2e9997aec40-625faee584bc30a6-01
    ✓ should trace render span without template extension


  4 passing (4s)
  4 failing

  1) probes.hapi 16.4.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '6726F2A1527FA514',
  HTTPMethod: 'POST',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1434,
  Timestamp_u: 1629782042533327,
  'X-Trace': '2B0A809CE5FCB100CBC437F22C00B10DFCA64D9D5B065D1A054F21B31901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.hapi 16.4.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.hapi 16.4.0 vision 4.1.1
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  4) probes.hapi 16.4.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '625FAEE584BC30A6',
  HTTPMethod: 'GET',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1434,
  Timestamp_u: 1629782046575838,
  'X-Trace': '2BFB886DD492B0CB9E7C28A87A0B1CA2E9997AEC403CD9D8007E6280A501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated statehood@5.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.2.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated items@2.1.1: This module has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version of hapi to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.1.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@10.5.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hapi@16.4.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

removed 3 packages, changed 9 packages, and audited 936 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 9 moderate, 11 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:14:11.538Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:14:11.539Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:14:11.539Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:14:11.539Z appoptics:debug using context provider: ace-context
2021-08-24T05:14:11.581Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:14:11.625Z appoptics:patching patched crypto 
2021-08-24T05:14:11.645Z appoptics:patching patched https 
2021-08-24T05:14:11.646Z appoptics:patching patched http 
2021-08-24T05:14:11.687Z appoptics:patching patched zlib 
2021-08-24T05:14:11.729Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:14:11.729Z appoptics:patching patched fs 
2021-08-24T05:14:11.848Z appoptics:patching patched hapi 16.4.1
2021-08-24T05:14:11.857Z appoptics:patching vision instrumentation not active before v5
2021-08-24T05:14:11.857Z appoptics:patching patched vision 4.1.1
2021-08-24T05:14:11.861Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.4.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (53ms)
    1) should forward controller/action data from post request
2021-08-24T05:14:12.027Z appoptics:debug http: ule hapi:exit 2b-1b4fb0f54d8b51ceaabda46861982fb0c3e824a2-84316de49ca883a7-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should skip when disabled
    4) should trace render span with template extension
2021-08-24T05:14:16.058Z appoptics:debug http: ule nodejs:entry 2b-839fe23d305cd27d713cd002955d00fd16b197db-1bdfed81f8a03ac1-01
    5) should trace render span without template extension


  3 passing (4s)
  5 failing

  1) probes.hapi 16.4.1 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '84316DE49CA883A7',
  HTTPMethod: 'POST',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1457,
  Timestamp_u: 1629782052020606,
  'X-Trace': '2B1B4FB0F54D8B51CEAABDA46861982FB0C3E824A2592D50B2EE52C0E101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.hapi 16.4.1 vision 4.1.1
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.hapi 16.4.1 vision 4.1.1
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  4) probes.hapi 16.4.1 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '1BDFED81F8A03AC1',
  HTTPMethod: 'GET',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1457,
  Timestamp_u: 1629782056056900,
  'X-Trace': '2B839FE23D305CD27D713CD002955D00FD16B197DBCDFB219DDB72C42E01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.hapi 16.4.1 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Edge: '921E39F7B613C6DE',
  Hostname: 'f43511ee638d',
  Label: 'exit',
  Layer: 'hapi-render',
  TID: 1457,
  Timestamp_u: 1629782056070208,
  'X-Trace': '2B839FE23D305CD27D713CD002955D00FD16B197DBA7AFB8ECDF49DDA501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi-render')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated items@2.1.2: This module has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version of hapi to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@10.6.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hapi@16.4.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

added 3 packages, changed 9 packages, and audited 939 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:14:20.692Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:14:20.692Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:14:20.692Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:14:20.693Z appoptics:debug using context provider: ace-context
2021-08-24T05:14:20.742Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:14:20.781Z appoptics:patching patched crypto 
2021-08-24T05:14:20.801Z appoptics:patching patched https 
2021-08-24T05:14:20.801Z appoptics:patching patched http 
2021-08-24T05:14:20.841Z appoptics:patching patched zlib 
2021-08-24T05:14:20.882Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:14:20.883Z appoptics:patching patched fs 
2021-08-24T05:14:21.047Z appoptics:patching patched hapi 16.4.2
2021-08-24T05:14:21.051Z appoptics:patching vision instrumentation not active before v5
2021-08-24T05:14:21.051Z appoptics:patching patched vision 4.1.1
2021-08-24T05:14:21.055Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.4.2 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (51ms)
    1) should forward controller/action data from post request
2021-08-24T05:14:21.215Z appoptics:debug http: ule hapi:exit 2b-25522b1c4db42c7865198d9c6469bac4cd0479ef-ad29016a38e8d1c8-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should skip when disabled
    4) should trace render span with template extension
2021-08-24T05:14:25.252Z appoptics:debug http: ule nodejs:entry 2b-83b42b49dc8cf85f9e729967efc0e1a30fbcdaef-f6882387f446df35-01
    5) should trace render span without template extension


  3 passing (4s)
  5 failing

  1) probes.hapi 16.4.2 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: 'AD29016A38E8D1C8',
  HTTPMethod: 'POST',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1480,
  Timestamp_u: 1629782061211882,
  'X-Trace': '2B25522B1C4DB42C7865198D9C6469BAC4CD0479EFFB26F3639EC483C801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.hapi 16.4.2 vision 4.1.1
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.hapi 16.4.2 vision 4.1.1
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  4) probes.hapi 16.4.2 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: 'F6882387F446DF35',
  HTTPMethod: 'GET',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1480,
  Timestamp_u: 1629782065250294,
  'X-Trace': '2B83B42B49DC8CF85F9E729967EFC0E1A30FBCDAEF900125A7BC9B680101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.hapi 16.4.2 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Edge: '8C8713506AEB3F98',
  Hostname: 'f43511ee638d',
  Label: 'exit',
  Layer: 'hapi-render',
  TID: 1480,
  Timestamp_u: 1629782065261022,
  'X-Trace': '2B83B42B49DC8CF85F9E729967EFC0E1A30FBCDAEF8447CB3E39E7C25B01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi-render')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@16.4.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 939 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:14:29.810Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:14:29.810Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:14:29.810Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:14:29.811Z appoptics:debug using context provider: ace-context
2021-08-24T05:14:29.851Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:14:29.891Z appoptics:patching patched crypto 
2021-08-24T05:14:29.910Z appoptics:patching patched https 
2021-08-24T05:14:29.910Z appoptics:patching patched http 
2021-08-24T05:14:29.952Z appoptics:patching patched zlib 
2021-08-24T05:14:29.992Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:14:29.992Z appoptics:patching patched fs 
2021-08-24T05:14:30.136Z appoptics:patching patched hapi 16.4.3
2021-08-24T05:14:30.141Z appoptics:patching vision instrumentation not active before v5
2021-08-24T05:14:30.141Z appoptics:patching patched vision 4.1.1
2021-08-24T05:14:30.144Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.4.3 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (50ms)
    1) should forward controller/action data from post request
2021-08-24T05:14:30.296Z appoptics:debug http: ule hapi:exit 2b-12482721fa72f290d66335310849859a0e7258b3-cc766296d91ab354-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should skip when disabled
    4) should trace render span with template extension
2021-08-24T05:14:34.332Z appoptics:debug http: ule nodejs:entry 2b-74ed64f60b1463a9ab3dcab9f4b184704278f779-2baee4e3fbfb16f2-01
    ✓ should trace render span without template extension


  4 passing (4s)
  4 failing

  1) probes.hapi 16.4.3 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: 'CC766296D91AB354',
  HTTPMethod: 'POST',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1503,
  Timestamp_u: 1629782070292207,
  'X-Trace': '2B12482721FA72F290D66335310849859A0E7258B317E7D40B8549BFFE01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.hapi 16.4.3 vision 4.1.1
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.hapi 16.4.3 vision 4.1.1
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  4) probes.hapi 16.4.3 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '2BAEE4E3FBFB16F2',
  HTTPMethod: 'GET',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1503,
  Timestamp_u: 1629782074330447,
  'X-Trace': '2B74ED64F60B1463A9AB3DCAB9F4B184704278F779EEA53B6F9193039901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hapi@16.5.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 2 packages, and audited 939 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:14:40.081Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:14:40.081Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:14:40.081Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:14:40.082Z appoptics:debug using context provider: ace-context
2021-08-24T05:14:40.122Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:14:40.162Z appoptics:patching patched crypto 
2021-08-24T05:14:40.181Z appoptics:patching patched https 
2021-08-24T05:14:40.182Z appoptics:patching patched http 
2021-08-24T05:14:40.223Z appoptics:patching patched zlib 
2021-08-24T05:14:40.264Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:14:40.265Z appoptics:patching patched fs 
2021-08-24T05:14:40.405Z appoptics:patching patched hapi 16.5.0
2021-08-24T05:14:40.410Z appoptics:patching vision instrumentation not active before v5
2021-08-24T05:14:40.410Z appoptics:patching patched vision 4.1.1
2021-08-24T05:14:40.413Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.5.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (50ms)
    1) should forward controller/action data from post request
2021-08-24T05:14:40.562Z appoptics:debug http: ule hapi:exit 2b-4625260e3cba9e4d95c0421823579e68eea59855-2986529588ec66c2-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should skip when disabled
    4) should trace render span with template extension
2021-08-24T05:14:44.602Z appoptics:debug http: ule nodejs:entry 2b-87ecad22da4633f4131764d80e654b09e7b5eda3-37389cfd1af06250-01
    5) should trace render span without template extension


  3 passing (4s)
  5 failing

  1) probes.hapi 16.5.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '2986529588EC66C2',
  HTTPMethod: 'POST',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1526,
  Timestamp_u: 1629782080559164,
  'X-Trace': '2B4625260E3CBA9E4D95C0421823579E68EEA59855DF2C9161EC54725001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.hapi 16.5.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.hapi 16.5.0 vision 4.1.1
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  4) probes.hapi 16.5.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '37389CFD1AF06250',
  HTTPMethod: 'GET',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1526,
  Timestamp_u: 1629782084600488,
  'X-Trace': '2B87ECAD22DA4633F4131764D80E654B09E7B5EDA37BADCE3708AB2D7701',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.hapi 16.5.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Edge: '8F66EFF65E605A8C',
  Hostname: 'f43511ee638d',
  Label: 'exit',
  Layer: 'hapi-render',
  TID: 1526,
  Timestamp_u: 1629782084611284,
  'X-Trace': '2B87ECAD22DA4633F4131764D80E654B09E7B5EDA3267E6C5D4671D18F01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi-render')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@16.5.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 939 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:14:49.936Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:14:49.937Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:14:49.937Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:14:49.938Z appoptics:debug using context provider: ace-context
2021-08-24T05:14:49.978Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:14:50.018Z appoptics:patching patched crypto 
2021-08-24T05:14:50.040Z appoptics:patching patched https 
2021-08-24T05:14:50.041Z appoptics:patching patched http 
2021-08-24T05:14:50.082Z appoptics:patching patched zlib 
2021-08-24T05:14:50.124Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:14:50.125Z appoptics:patching patched fs 
2021-08-24T05:14:50.270Z appoptics:patching patched hapi 16.5.1
2021-08-24T05:14:50.274Z appoptics:patching vision instrumentation not active before v5
2021-08-24T05:14:50.274Z appoptics:patching patched vision 4.1.1
2021-08-24T05:14:50.278Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.5.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (50ms)
    1) should forward controller/action data from post request
2021-08-24T05:14:50.430Z appoptics:debug http: ule hapi:exit 2b-045a88fc1bcf92c090cb1b55f213feabc33c2358-a0084667756fa65e-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should skip when disabled
    4) should trace render span with template extension
2021-08-24T05:14:54.466Z appoptics:debug http: ule nodejs:entry 2b-30635dc1e75a261865a3394da0838a2d12cafdd4-39fdb9b7cfb79a14-01
    ✓ should trace render span without template extension


  4 passing (4s)
  4 failing

  1) probes.hapi 16.5.1 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: 'A0084667756FA65E',
  HTTPMethod: 'POST',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1549,
  Timestamp_u: 1629782090426458,
  'X-Trace': '2B045A88FC1BCF92C090CB1B55F213FEABC33C2358B4FC330E29F4FC7101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.hapi 16.5.1 vision 4.1.1
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.hapi 16.5.1 vision 4.1.1
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  4) probes.hapi 16.5.1 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '39FDB9B7CFB79A14',
  HTTPMethod: 'GET',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1549,
  Timestamp_u: 1629782094464325,
  'X-Trace': '2B30635DC1E75A261865A3394DA0838A2D12CAFDD4A51A86ECACA5B34801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@16.5.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 939 packages in 19s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:15:14.181Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:15:14.181Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:15:14.181Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:15:14.182Z appoptics:debug using context provider: ace-context
2021-08-24T05:15:14.222Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:15:14.261Z appoptics:patching patched crypto 
2021-08-24T05:15:14.281Z appoptics:patching patched https 
2021-08-24T05:15:14.281Z appoptics:patching patched http 
2021-08-24T05:15:14.321Z appoptics:patching patched zlib 
2021-08-24T05:15:14.361Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:15:14.362Z appoptics:patching patched fs 
2021-08-24T05:15:14.504Z appoptics:patching patched hapi 16.5.2
2021-08-24T05:15:14.509Z appoptics:patching vision instrumentation not active before v5
2021-08-24T05:15:14.509Z appoptics:patching patched vision 4.1.1
2021-08-24T05:15:14.513Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.5.2 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (49ms)
    1) should forward controller/action data from post request
2021-08-24T05:15:14.663Z appoptics:debug http: ule hapi:exit 2b-443e464be1bc8862999f4365cfb2f8118c6fb911-159ec698cc6bf065-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should skip when disabled
    4) should trace render span with template extension
2021-08-24T05:15:18.703Z appoptics:debug http: ule nodejs:entry 2b-a352ecb225695e287bf4b131cabd7d1d91f39afb-2d203cce7a676b24-01
    ✓ should trace render span without template extension


  4 passing (4s)
  4 failing

  1) probes.hapi 16.5.2 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '159EC698CC6BF065',
  HTTPMethod: 'POST',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1572,
  Timestamp_u: 1629782114659539,
  'X-Trace': '2B443E464BE1BC8862999F4365CFB2F8118C6FB911654E48094E80DF2601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.hapi 16.5.2 vision 4.1.1
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.hapi 16.5.2 vision 4.1.1
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  4) probes.hapi 16.5.2 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '2D203CCE7A676B24',
  HTTPMethod: 'GET',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1572,
  Timestamp_u: 1629782118701149,
  'X-Trace': '2BA352ECB225695E287BF4B131CABD7D1D91F39AFBE71C836406AE830201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@16.6.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 939 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:15:23.845Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:15:23.845Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:15:23.845Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:15:23.846Z appoptics:debug using context provider: ace-context
2021-08-24T05:15:23.886Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:15:23.924Z appoptics:patching patched crypto 
2021-08-24T05:15:23.943Z appoptics:patching patched https 
2021-08-24T05:15:23.943Z appoptics:patching patched http 
2021-08-24T05:15:23.982Z appoptics:patching patched zlib 
2021-08-24T05:15:24.021Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:15:24.022Z appoptics:patching patched fs 
2021-08-24T05:15:24.161Z appoptics:patching patched hapi 16.6.0
2021-08-24T05:15:24.166Z appoptics:patching vision instrumentation not active before v5
2021-08-24T05:15:24.166Z appoptics:patching patched vision 4.1.1
2021-08-24T05:15:24.169Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (50ms)
    1) should forward controller/action data from post request
2021-08-24T05:15:24.317Z appoptics:debug http: ule hapi:exit 2b-370535975bf2233914268d141ec8fbc176ab179d-5062f7c412fc2ed2-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should skip when disabled
    4) should trace render span with template extension
2021-08-24T05:15:28.349Z appoptics:debug http: ule nodejs:entry 2b-8d703230d9790b2ab95bda9e6fac82c9bbd92458-de6ac24490963919-01
    ✓ should trace render span without template extension


  4 passing (4s)
  4 failing

  1) probes.hapi 16.6.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '5062F7C412FC2ED2',
  HTTPMethod: 'POST',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1595,
  Timestamp_u: 1629782124313920,
  'X-Trace': '2B370535975BF2233914268D141EC8FBC176AB179D96F44D1289AF40AF01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.hapi 16.6.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.hapi 16.6.0 vision 4.1.1
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  4) probes.hapi 16.6.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: 'DE6AC24490963919',
  HTTPMethod: 'GET',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1595,
  Timestamp_u: 1629782128347560,
  'X-Trace': '2B8D703230D9790B2AB95BDA9E6FAC82C9BBD92458320C19C69E2C6E4C01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated joi@10.6.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@10.6.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@10.6.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@10.6.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@10.6.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hapi@16.6.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

added 10 packages, removed 1 package, changed 3 packages, and audited 948 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:15:33.692Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:15:33.693Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:15:33.693Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:15:33.694Z appoptics:debug using context provider: ace-context
2021-08-24T05:15:33.761Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:15:33.811Z appoptics:patching patched crypto 
2021-08-24T05:15:33.833Z appoptics:patching patched https 
2021-08-24T05:15:33.833Z appoptics:patching patched http 
2021-08-24T05:15:33.877Z appoptics:patching patched zlib 
2021-08-24T05:15:33.923Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:15:33.923Z appoptics:patching patched fs 
2021-08-24T05:15:34.175Z appoptics:patching patched hapi 16.6.1
2021-08-24T05:15:34.203Z appoptics:patching vision instrumentation not active before v5
2021-08-24T05:15:34.203Z appoptics:patching patched vision 4.1.1
2021-08-24T05:15:34.207Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (48ms)
    1) should forward controller/action data from post request
2021-08-24T05:15:34.388Z appoptics:debug http: ule hapi:exit 2b-b00052e37ea7589125ecd5f1e239f6c317edd962-545a7fe6bf80f696-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should skip when disabled
    4) should trace render span with template extension
2021-08-24T05:15:38.455Z appoptics:debug http: ule nodejs:entry 2b-60017133ef591d2d069c06c3a3b38dd48b836645-70d5cd9446f83175-01
    5) should trace render span without template extension


  3 passing (4s)
  5 failing

  1) probes.hapi 16.6.1 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '545A7FE6BF80F696',
  HTTPMethod: 'POST',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1618,
  Timestamp_u: 1629782134384710,
  'X-Trace': '2BB00052E37EA7589125ECD5F1E239F6C317EDD962A8C2D64CE392B1A801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.hapi 16.6.1 vision 4.1.1
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.hapi 16.6.1 vision 4.1.1
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  4) probes.hapi 16.6.1 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '70D5CD9446F83175',
  HTTPMethod: 'GET',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1618,
  Timestamp_u: 1629782138453757,
  'X-Trace': '2B60017133EF591D2D069C06C3A3B38DD48B836645A160D2D620A17D3401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.hapi 16.6.1 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Edge: '5400D123A7BB7A34',
  Hostname: 'f43511ee638d',
  Label: 'exit',
  Layer: 'hapi-render',
  TID: 1618,
  Timestamp_u: 1629782138464967,
  'X-Trace': '2B60017133EF591D2D069C06C3A3B38DD48B8366454CACBA8FFD60B6D101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi-render')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@16.6.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 948 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:15:44.539Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:15:44.540Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:15:44.540Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:15:44.541Z appoptics:debug using context provider: ace-context
2021-08-24T05:15:44.579Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:15:44.618Z appoptics:patching patched crypto 
2021-08-24T05:15:44.638Z appoptics:patching patched https 
2021-08-24T05:15:44.638Z appoptics:patching patched http 
2021-08-24T05:15:44.677Z appoptics:patching patched zlib 
2021-08-24T05:15:44.718Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:15:44.718Z appoptics:patching patched fs 
2021-08-24T05:15:44.929Z appoptics:patching patched hapi 16.6.2
2021-08-24T05:15:44.959Z appoptics:patching vision instrumentation not active before v5
2021-08-24T05:15:44.960Z appoptics:patching patched vision 4.1.1
2021-08-24T05:15:44.963Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.2 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (50ms)
    1) should forward controller/action data from post request
2021-08-24T05:15:45.156Z appoptics:debug http: ule hapi:exit 2b-faa63312ff4c0747f3cf654ad2024e03a2608385-d4dbb7dbef19e29e-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should skip when disabled
    4) should trace render span with template extension
2021-08-24T05:15:49.214Z appoptics:debug http: ule nodejs:entry 2b-1b81fe1ceafefd624450e72e625f3140d6336538-85596c4f2d9996f3-01
    5) should trace render span without template extension


  3 passing (4s)
  5 failing

  1) probes.hapi 16.6.2 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: 'D4DBB7DBEF19E29E',
  HTTPMethod: 'POST',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1641,
  Timestamp_u: 1629782145152548,
  'X-Trace': '2BFAA63312FF4C0747F3CF654AD2024E03A26083855420D5F37BEE909D01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.hapi 16.6.2 vision 4.1.1
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.hapi 16.6.2 vision 4.1.1
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  4) probes.hapi 16.6.2 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '85596C4F2D9996F3',
  HTTPMethod: 'GET',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1641,
  Timestamp_u: 1629782149211911,
  'X-Trace': '2B1B81FE1CEAFEFD624450E72E625F3140D6336538D2148EA914AFBBA701',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.hapi 16.6.2 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Edge: '341E927D977BABA8',
  Hostname: 'f43511ee638d',
  Label: 'exit',
  Layer: 'hapi-render',
  TID: 1641,
  Timestamp_u: 1629782149227733,
  'X-Trace': '2B1B81FE1CEAFEFD624450E72E625F3140D6336538BCE017C6DC8CE08601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi-render')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@16.6.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 948 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:15:53.960Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:15:53.961Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:15:53.961Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:15:53.962Z appoptics:debug using context provider: ace-context
2021-08-24T05:15:54.002Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:15:54.044Z appoptics:patching patched crypto 
2021-08-24T05:15:54.062Z appoptics:patching patched https 
2021-08-24T05:15:54.063Z appoptics:patching patched http 
2021-08-24T05:15:54.102Z appoptics:patching patched zlib 
2021-08-24T05:15:54.142Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:15:54.142Z appoptics:patching patched fs 
2021-08-24T05:15:54.339Z appoptics:patching patched hapi 16.6.3
2021-08-24T05:15:54.360Z appoptics:patching vision instrumentation not active before v5
2021-08-24T05:15:54.360Z appoptics:patching patched vision 4.1.1
2021-08-24T05:15:54.364Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.3 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (46ms)
    1) should forward controller/action data from post request
2021-08-24T05:15:54.516Z appoptics:debug http: ule hapi:exit 2b-b26f82c2821cb35e9812802f1415db0ea72da56a-21d78aa5d224b3c6-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should skip when disabled
    4) should trace render span with template extension
2021-08-24T05:15:58.582Z appoptics:debug http: ule nodejs:entry 2b-ad487b90e262b78c4f41f4c0c476e3cdaed0971c-9a4ce57370312cfc-01
    5) should trace render span without template extension


  3 passing (4s)
  5 failing

  1) probes.hapi 16.6.3 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '21D78AA5D224B3C6',
  HTTPMethod: 'POST',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1664,
  Timestamp_u: 1629782154512879,
  'X-Trace': '2BB26F82C2821CB35E9812802F1415DB0EA72DA56A398E98E1F33FE00F01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.hapi 16.6.3 vision 4.1.1
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.hapi 16.6.3 vision 4.1.1
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  4) probes.hapi 16.6.3 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '9A4CE57370312CFC',
  HTTPMethod: 'GET',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1664,
  Timestamp_u: 1629782158580493,
  'X-Trace': '2BAD487B90E262B78C4F41F4C0C476E3CDAED0971CD4E028A92589268C01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.hapi 16.6.3 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Edge: 'F2DC8B2E69AAE023',
  Hostname: 'f43511ee638d',
  Label: 'exit',
  Layer: 'hapi-render',
  TID: 1664,
  Timestamp_u: 1629782158593505,
  'X-Trace': '2BAD487B90E262B78C4F41F4C0C476E3CDAED0971C5A33F0CD2E1EC98201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi-render')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@16.6.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 948 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:16:03.395Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:16:03.395Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:16:03.395Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:16:03.396Z appoptics:debug using context provider: ace-context
2021-08-24T05:16:03.435Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:16:03.474Z appoptics:patching patched crypto 
2021-08-24T05:16:03.493Z appoptics:patching patched https 
2021-08-24T05:16:03.493Z appoptics:patching patched http 
2021-08-24T05:16:03.533Z appoptics:patching patched zlib 
2021-08-24T05:16:03.573Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:16:03.573Z appoptics:patching patched fs 
2021-08-24T05:16:03.773Z appoptics:patching patched hapi 16.6.4
2021-08-24T05:16:03.793Z appoptics:patching vision instrumentation not active before v5
2021-08-24T05:16:03.793Z appoptics:patching patched vision 4.1.1
2021-08-24T05:16:03.797Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.4 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (46ms)
    1) should forward controller/action data from post request
2021-08-24T05:16:03.950Z appoptics:debug http: ule hapi:exit 2b-872e2d3b8c2f5f2df577899da4090b8b1a59351a-bdddaeb9af366a9c-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should skip when disabled (38ms)
    4) should trace render span with template extension
2021-08-24T05:16:08.074Z appoptics:debug http: ule nodejs:entry 2b-338573d90d8652655d3f7825b9cb796536a8f614-e14dea577d923744-01
    5) should trace render span without template extension


  3 passing (4s)
  5 failing

  1) probes.hapi 16.6.4 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: 'BDDDAEB9AF366A9C',
  HTTPMethod: 'POST',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1687,
  Timestamp_u: 1629782163946312,
  'X-Trace': '2B872E2D3B8C2F5F2DF577899DA4090B8B1A59351A9E3269F9AC3C1BDA01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.hapi 16.6.4 vision 4.1.1
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.hapi 16.6.4 vision 4.1.1
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  4) probes.hapi 16.6.4 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: 'E14DEA577D923744',
  HTTPMethod: 'GET',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1687,
  Timestamp_u: 1629782168072276,
  'X-Trace': '2B338573D90D8652655D3F7825B9CB796536A8F614D883F1F5E745FD4401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.hapi 16.6.4 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Edge: 'F2AE5C1AEADB0E10',
  Hostname: 'f43511ee638d',
  Label: 'exit',
  Layer: 'hapi-render',
  TID: 1687,
  Timestamp_u: 1629782168085751,
  'X-Trace': '2B338573D90D8652655D3F7825B9CB796536A8F614A2BCAE93DD21C27501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi-render')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@16.6.5: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 948 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:16:12.806Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:16:12.807Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:16:12.807Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:16:12.807Z appoptics:debug using context provider: ace-context
2021-08-24T05:16:12.847Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:16:12.886Z appoptics:patching patched crypto 
2021-08-24T05:16:12.905Z appoptics:patching patched https 
2021-08-24T05:16:12.905Z appoptics:patching patched http 
2021-08-24T05:16:12.944Z appoptics:patching patched zlib 
2021-08-24T05:16:12.985Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:16:12.985Z appoptics:patching patched fs 
2021-08-24T05:16:13.183Z appoptics:patching patched hapi 16.6.5
2021-08-24T05:16:13.204Z appoptics:patching vision instrumentation not active before v5
2021-08-24T05:16:13.204Z appoptics:patching patched vision 4.1.1
2021-08-24T05:16:13.208Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.5 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (46ms)
    1) should forward controller/action data from post request
2021-08-24T05:16:13.361Z appoptics:debug http: ule hapi:exit 2b-2ec95186de4008a1c1bc5df22e79473f5cbc71de-4a85adefee2280dd-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should skip when disabled
    4) should trace render span with template extension
2021-08-24T05:16:17.425Z appoptics:debug http: ule nodejs:entry 2b-5ffd069ea4cfcf45befb03505bd7d90cead845e8-d6a3213b20f1d68e-01
    5) should trace render span without template extension


  3 passing (4s)
  5 failing

  1) probes.hapi 16.6.5 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '4A85ADEFEE2280DD',
  HTTPMethod: 'POST',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1710,
  Timestamp_u: 1629782173358118,
  'X-Trace': '2B2EC95186DE4008A1C1BC5DF22E79473F5CBC71DEC81A24FAAF36957A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.hapi 16.6.5 vision 4.1.1
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.hapi 16.6.5 vision 4.1.1
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  4) probes.hapi 16.6.5 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: 'D6A3213B20F1D68E',
  HTTPMethod: 'GET',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1710,
  Timestamp_u: 1629782177423611,
  'X-Trace': '2B5FFD069EA4CFCF45BEFB03505BD7D90CEAD845E81083A5DA4BCF558801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.hapi 16.6.5 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Edge: '22C7D6933034B65D',
  Hostname: 'f43511ee638d',
  Label: 'exit',
  Layer: 'hapi-render',
  TID: 1710,
  Timestamp_u: 1629782177436635,
  'X-Trace': '2B5FFD069EA4CFCF45BEFB03505BD7D90CEAD845E80DD9F7F0B01AC22401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi-render')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated somever@1.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hapi@16.7.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

added 1 package, changed 1 package, and audited 949 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (7 low, 8 moderate, 13 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:16:22.467Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:16:22.468Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:16:22.468Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:16:22.469Z appoptics:debug using context provider: ace-context
2021-08-24T05:16:22.509Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:16:22.548Z appoptics:patching patched crypto 
2021-08-24T05:16:22.568Z appoptics:patching patched https 
2021-08-24T05:16:22.569Z appoptics:patching patched http 
2021-08-24T05:16:22.615Z appoptics:patching patched zlib 
2021-08-24T05:16:22.659Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:16:22.659Z appoptics:patching patched fs 
2021-08-24T05:16:23.021Z appoptics:patching patched hapi 16.7.0
2021-08-24T05:16:23.041Z appoptics:patching vision instrumentation not active before v5
2021-08-24T05:16:23.041Z appoptics:patching patched vision 4.1.1
2021-08-24T05:16:23.045Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.7.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (47ms)
    1) should forward controller/action data from post request
2021-08-24T05:16:23.222Z appoptics:debug http: ule hapi:exit 2b-17af79cdaa78af109b17284918c110b9641b393e-b97f69d6fd1ccba6-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should skip when disabled
    4) should trace render span with template extension
2021-08-24T05:16:27.285Z appoptics:debug http: ule nodejs:entry 2b-aa597234cff875e8af29bc20dc11d65bbcdfdb68-77210f5b1746c765-01
    5) should trace render span without template extension


  3 passing (4s)
  5 failing

  1) probes.hapi 16.7.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: 'B97F69D6FD1CCBA6',
  HTTPMethod: 'POST',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1733,
  Timestamp_u: 1629782183218480,
  'X-Trace': '2B17AF79CDAA78AF109B17284918C110B9641B393E23297378F354901601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.hapi 16.7.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.hapi 16.7.0 vision 4.1.1
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  4) probes.hapi 16.7.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:303:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat Request.start (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:751:32)\nat Request.end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:1505:10)\nat end (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:564:14)\nat Immediate._onImmediate (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/request/request.js:578:7)\nat processImmediate (node:internal/timers:464:21)\nat process.topLevelDomainCallback (node:domain:152:15)\nat process.callbackTrampoline (node:internal/async_hooks:128:24)',
  Edge: '77210F5B1746C765',
  HTTPMethod: 'GET',
  Hostname: 'f43511ee638d',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost/hello/world',
  Spec: 'rsc',
  TID: 1733,
  Timestamp_u: 1629782187283039,
  'X-Trace': '2BAA597234CFF875E8AF29BC20DC11D65BBCDFDB68AB967F7B22E380AF01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.hapi 16.7.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Edge: 'F2BDA02521C901F5',
  Hostname: 'f43511ee638d',
  Label: 'exit',
  Layer: 'hapi-render',
  TID: 1733,
  Timestamp_u: 1629782187294256,
  'X-Trace': '2BAA597234CFF875E8AF29BC20DC11D65BBCDFDB689C25A3D3F98017CC01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi-render')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at EventEmitter.emit (node:domain:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at Socket.emit (node:domain:475:12)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated topo@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated topo@3.0.3: This module has moved and is now available at @hapi/topo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@7.3.0: This module has moved and is now available at @hapi/boom. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@14.3.1: This module has moved and is now available at @hapi/joi. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@14.3.1: This module has moved and is now available at @hapi/joi. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@14.3.1: This module has moved and is now available at @hapi/joi. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@14.3.1: This module has moved and is now available at @hapi/joi. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@14.3.1: This module has moved and is now available at @hapi/joi. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hapi@17.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).

added 25 packages, removed 5 packages, changed 29 packages, and audited 969 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.8.5: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vision@5.4.4: This module has moved and is now available at @hapi/vision. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@14.3.1: This module has moved and is now available at @hapi/joi. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.

added 29 packages, removed 53 packages, changed 4 packages, and audited 945 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:16:37.486Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:16:37.487Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:16:37.487Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:16:37.488Z appoptics:debug using context provider: ace-context
2021-08-24T05:16:37.527Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:16:37.566Z appoptics:patching patched crypto 
2021-08-24T05:16:37.585Z appoptics:patching patched https 
2021-08-24T05:16:37.585Z appoptics:patching patched http 
2021-08-24T05:16:37.624Z appoptics:patching patched zlib 
2021-08-24T05:16:37.664Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:16:37.665Z appoptics:patching patched fs 
2021-08-24T05:16:37.724Z appoptics:debug starting runtimeMetrics


  0 passing (0ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@14.3.1: This module has moved and is now available at @hapi/joi. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@14.3.1: This module has moved and is now available at @hapi/joi. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@14.3.1: This module has moved and is now available at @hapi/joi. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@14.3.1: This module has moved and is now available at @hapi/joi. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@14.3.1: This module has moved and is now available at @hapi/joi. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@14.3.1: This module has moved and is now available at @hapi/joi. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hapi@17.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

added 50 packages, removed 29 packages, changed 3 packages, and audited 966 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:16:42.842Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:16:42.842Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:16:42.842Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:16:42.843Z appoptics:debug using context provider: ace-context
2021-08-24T05:16:42.884Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:16:42.953Z appoptics:patching patched crypto 
2021-08-24T05:16:42.975Z appoptics:patching patched https 
2021-08-24T05:16:42.975Z appoptics:patching patched http 
2021-08-24T05:16:43.020Z appoptics:patching patched zlib 
2021-08-24T05:16:43.073Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:16:43.073Z appoptics:patching patched fs 
2021-08-24T05:16:43.205Z appoptics:debug starting runtimeMetrics


  0 passing (0ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.0.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 966 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:16:48.346Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:16:48.346Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:16:48.347Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:16:48.347Z appoptics:debug using context provider: ace-context
2021-08-24T05:16:48.386Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:16:48.425Z appoptics:patching patched crypto 
2021-08-24T05:16:48.445Z appoptics:patching patched https 
2021-08-24T05:16:48.445Z appoptics:patching patched http 
2021-08-24T05:16:48.486Z appoptics:patching patched zlib 
2021-08-24T05:16:48.526Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:16:48.527Z appoptics:patching patched fs 
2021-08-24T05:16:48.586Z appoptics:debug starting runtimeMetrics


  0 passing (1ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 966 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:16:53.156Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:16:53.157Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:16:53.157Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:16:53.157Z appoptics:debug using context provider: ace-context
2021-08-24T05:16:53.197Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:16:53.236Z appoptics:patching patched crypto 
2021-08-24T05:16:53.260Z appoptics:patching patched https 
2021-08-24T05:16:53.260Z appoptics:patching patched http 
2021-08-24T05:16:53.309Z appoptics:patching patched zlib 
2021-08-24T05:16:53.351Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:16:53.351Z appoptics:patching patched fs 
2021-08-24T05:16:53.413Z appoptics:debug starting runtimeMetrics


  0 passing (0ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.1.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 966 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:16:58.803Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:16:58.803Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:16:58.803Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:16:58.804Z appoptics:debug using context provider: ace-context
2021-08-24T05:16:58.843Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:16:58.881Z appoptics:patching patched crypto 
2021-08-24T05:16:58.900Z appoptics:patching patched https 
2021-08-24T05:16:58.901Z appoptics:patching patched http 
2021-08-24T05:16:58.939Z appoptics:patching patched zlib 
2021-08-24T05:16:58.979Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:16:58.979Z appoptics:patching patched fs 
2021-08-24T05:16:59.039Z appoptics:debug starting runtimeMetrics


  0 passing (1ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 966 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:17:04.058Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:17:04.058Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:17:04.058Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:17:04.059Z appoptics:debug using context provider: ace-context
2021-08-24T05:17:04.099Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:17:04.138Z appoptics:patching patched crypto 
2021-08-24T05:17:04.157Z appoptics:patching patched https 
2021-08-24T05:17:04.158Z appoptics:patching patched http 
2021-08-24T05:17:04.198Z appoptics:patching patched zlib 
2021-08-24T05:17:04.239Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:17:04.239Z appoptics:patching patched fs 
2021-08-24T05:17:04.303Z appoptics:debug starting runtimeMetrics


  0 passing (1ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.2.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 966 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:17:10.008Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:17:10.008Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:17:10.009Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:17:10.009Z appoptics:debug using context provider: ace-context
2021-08-24T05:17:10.055Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:17:10.096Z appoptics:patching patched crypto 
2021-08-24T05:17:10.116Z appoptics:patching patched https 
2021-08-24T05:17:10.116Z appoptics:patching patched http 
2021-08-24T05:17:10.157Z appoptics:patching patched zlib 
2021-08-24T05:17:10.199Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:17:10.199Z appoptics:patching patched fs 
2021-08-24T05:17:10.262Z appoptics:debug starting runtimeMetrics


  0 passing (0ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.2.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 966 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:17:14.978Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:17:14.979Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:17:14.979Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:17:14.980Z appoptics:debug using context provider: ace-context
2021-08-24T05:17:15.022Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:17:15.064Z appoptics:patching patched crypto 
2021-08-24T05:17:15.084Z appoptics:patching patched https 
2021-08-24T05:17:15.084Z appoptics:patching patched http 
2021-08-24T05:17:15.124Z appoptics:patching patched zlib 
2021-08-24T05:17:15.165Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:17:15.166Z appoptics:patching patched fs 
2021-08-24T05:17:15.236Z appoptics:debug starting runtimeMetrics


  0 passing (0ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.2.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 966 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:17:20.388Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:17:20.389Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:17:20.389Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:17:20.389Z appoptics:debug using context provider: ace-context
2021-08-24T05:17:20.430Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:17:20.473Z appoptics:patching patched crypto 
2021-08-24T05:17:20.494Z appoptics:patching patched https 
2021-08-24T05:17:20.494Z appoptics:patching patched http 
2021-08-24T05:17:20.538Z appoptics:patching patched zlib 
2021-08-24T05:17:20.584Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:17:20.584Z appoptics:patching patched fs 
2021-08-24T05:17:20.664Z appoptics:debug starting runtimeMetrics


  0 passing (1ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.3.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 966 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:17:25.712Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:17:25.713Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:17:25.713Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:17:25.714Z appoptics:debug using context provider: ace-context
2021-08-24T05:17:25.756Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:17:25.796Z appoptics:patching patched crypto 
2021-08-24T05:17:25.816Z appoptics:patching patched https 
2021-08-24T05:17:25.816Z appoptics:patching patched http 
2021-08-24T05:17:25.857Z appoptics:patching patched zlib 
2021-08-24T05:17:25.898Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:17:25.898Z appoptics:patching patched fs 
2021-08-24T05:17:25.961Z appoptics:debug starting runtimeMetrics


  0 passing (0ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.3.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 966 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:17:31.228Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:17:31.228Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:17:31.229Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:17:31.229Z appoptics:debug using context provider: ace-context
2021-08-24T05:17:31.272Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:17:31.312Z appoptics:patching patched crypto 
2021-08-24T05:17:31.335Z appoptics:patching patched https 
2021-08-24T05:17:31.336Z appoptics:patching patched http 
2021-08-24T05:17:31.378Z appoptics:patching patched zlib 
2021-08-24T05:17:31.421Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:17:31.422Z appoptics:patching patched fs 
2021-08-24T05:17:31.491Z appoptics:debug starting runtimeMetrics


  0 passing (0ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.4.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 966 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:17:36.664Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:17:36.665Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:17:36.665Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:17:36.666Z appoptics:debug using context provider: ace-context
2021-08-24T05:17:36.705Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:17:36.745Z appoptics:patching patched crypto 
2021-08-24T05:17:36.765Z appoptics:patching patched https 
2021-08-24T05:17:36.765Z appoptics:patching patched http 
2021-08-24T05:17:36.806Z appoptics:patching patched zlib 
2021-08-24T05:17:36.848Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:17:36.848Z appoptics:patching patched fs 
2021-08-24T05:17:36.908Z appoptics:debug starting runtimeMetrics


  0 passing (0ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.5.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 966 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:17:41.721Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:17:41.722Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:17:41.722Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:17:41.723Z appoptics:debug using context provider: ace-context
2021-08-24T05:17:41.763Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:17:41.802Z appoptics:patching patched crypto 
2021-08-24T05:17:41.822Z appoptics:patching patched https 
2021-08-24T05:17:41.823Z appoptics:patching patched http 
2021-08-24T05:17:41.864Z appoptics:patching patched zlib 
2021-08-24T05:17:41.906Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:17:41.906Z appoptics:patching patched fs 
2021-08-24T05:17:41.967Z appoptics:debug starting runtimeMetrics


  0 passing (0ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.5.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 966 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:17:47.276Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:17:47.276Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:17:47.276Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:17:47.277Z appoptics:debug using context provider: ace-context
2021-08-24T05:17:47.317Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:17:47.357Z appoptics:patching patched crypto 
2021-08-24T05:17:47.376Z appoptics:patching patched https 
2021-08-24T05:17:47.377Z appoptics:patching patched http 
2021-08-24T05:17:47.417Z appoptics:patching patched zlib 
2021-08-24T05:17:47.459Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:17:47.459Z appoptics:patching patched fs 
2021-08-24T05:17:47.520Z appoptics:debug starting runtimeMetrics


  0 passing (1ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.5.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 966 packages in 7s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:17:54.622Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:17:54.623Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:17:54.623Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:17:54.624Z appoptics:debug using context provider: ace-context
2021-08-24T05:17:54.664Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:17:54.703Z appoptics:patching patched crypto 
2021-08-24T05:17:54.724Z appoptics:patching patched https 
2021-08-24T05:17:54.724Z appoptics:patching patched http 
2021-08-24T05:17:54.767Z appoptics:patching patched zlib 
2021-08-24T05:17:54.808Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:17:54.808Z appoptics:patching patched fs 
2021-08-24T05:17:54.870Z appoptics:debug starting runtimeMetrics


  0 passing (0ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.5.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 966 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:18:00.027Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:18:00.028Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:18:00.028Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:18:00.029Z appoptics:debug using context provider: ace-context
2021-08-24T05:18:00.069Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:18:00.109Z appoptics:patching patched crypto 
2021-08-24T05:18:00.129Z appoptics:patching patched https 
2021-08-24T05:18:00.129Z appoptics:patching patched http 
2021-08-24T05:18:00.169Z appoptics:patching patched zlib 
2021-08-24T05:18:00.218Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:18:00.218Z appoptics:patching patched fs 
2021-08-24T05:18:00.299Z appoptics:debug starting runtimeMetrics


  0 passing (0ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.5.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 966 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:18:05.098Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:18:05.099Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:18:05.099Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:18:05.099Z appoptics:debug using context provider: ace-context
2021-08-24T05:18:05.139Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:18:05.179Z appoptics:patching patched crypto 
2021-08-24T05:18:05.199Z appoptics:patching patched https 
2021-08-24T05:18:05.199Z appoptics:patching patched http 
2021-08-24T05:18:05.239Z appoptics:patching patched zlib 
2021-08-24T05:18:05.281Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:18:05.281Z appoptics:patching patched fs 
2021-08-24T05:18:05.346Z appoptics:debug starting runtimeMetrics


  0 passing (0ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.5.5: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 966 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:18:10.394Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:18:10.394Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:18:10.394Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:18:10.395Z appoptics:debug using context provider: ace-context
2021-08-24T05:18:10.435Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:18:10.474Z appoptics:patching patched crypto 
2021-08-24T05:18:10.493Z appoptics:patching patched https 
2021-08-24T05:18:10.493Z appoptics:patching patched http 
2021-08-24T05:18:10.535Z appoptics:patching patched zlib 
2021-08-24T05:18:10.582Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:18:10.583Z appoptics:patching patched fs 
2021-08-24T05:18:10.656Z appoptics:debug starting runtimeMetrics


  0 passing (1ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.6.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 966 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:18:15.557Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:18:15.558Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:18:15.558Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:18:15.559Z appoptics:debug using context provider: ace-context
2021-08-24T05:18:15.598Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:18:15.638Z appoptics:patching patched crypto 
2021-08-24T05:18:15.658Z appoptics:patching patched https 
2021-08-24T05:18:15.658Z appoptics:patching patched http 
2021-08-24T05:18:15.700Z appoptics:patching patched zlib 
2021-08-24T05:18:15.750Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:18:15.750Z appoptics:patching patched fs 
2021-08-24T05:18:15.815Z appoptics:debug starting runtimeMetrics


  0 passing (1ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@14.3.1: This module has moved and is now available at @hapi/joi. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hapi@17.6.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

removed 27 packages, changed 3 packages, and audited 939 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:18:21.162Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:18:21.162Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:18:21.162Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:18:21.163Z appoptics:debug using context provider: ace-context
2021-08-24T05:18:21.206Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:18:21.246Z appoptics:patching patched crypto 
2021-08-24T05:18:21.266Z appoptics:patching patched https 
2021-08-24T05:18:21.266Z appoptics:patching patched http 
2021-08-24T05:18:21.307Z appoptics:patching patched zlib 
2021-08-24T05:18:21.348Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:18:21.349Z appoptics:patching patched fs 
2021-08-24T05:18:21.413Z appoptics:debug starting runtimeMetrics


  0 passing (0ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.6.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

added 27 packages, removed 23 packages, changed 1 package, and audited 943 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:18:27.422Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:18:27.422Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:18:27.422Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:18:27.423Z appoptics:debug using context provider: ace-context
2021-08-24T05:18:27.462Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:18:27.502Z appoptics:patching patched crypto 
2021-08-24T05:18:27.522Z appoptics:patching patched https 
2021-08-24T05:18:27.523Z appoptics:patching patched http 
2021-08-24T05:18:27.563Z appoptics:patching patched zlib 
2021-08-24T05:18:27.605Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:18:27.605Z appoptics:patching patched fs 
2021-08-24T05:18:27.667Z appoptics:debug starting runtimeMetrics


  0 passing (1ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.6.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 2 packages, and audited 943 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:18:33.142Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:18:33.142Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:18:33.143Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:18:33.143Z appoptics:debug using context provider: ace-context
2021-08-24T05:18:33.184Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:18:33.231Z appoptics:patching patched crypto 
2021-08-24T05:18:33.254Z appoptics:patching patched https 
2021-08-24T05:18:33.255Z appoptics:patching patched http 
2021-08-24T05:18:33.302Z appoptics:patching patched zlib 
2021-08-24T05:18:33.344Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:18:33.345Z appoptics:patching patched fs 
2021-08-24T05:18:33.425Z appoptics:debug starting runtimeMetrics


  0 passing (0ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.6.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 26 packages, and audited 943 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:18:38.663Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:18:38.664Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:18:38.664Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:18:38.665Z appoptics:debug using context provider: ace-context
2021-08-24T05:18:38.704Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:18:38.744Z appoptics:patching patched crypto 
2021-08-24T05:18:38.763Z appoptics:patching patched https 
2021-08-24T05:18:38.763Z appoptics:patching patched http 
2021-08-24T05:18:38.804Z appoptics:patching patched zlib 
2021-08-24T05:18:38.845Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:18:38.845Z appoptics:patching patched fs 
2021-08-24T05:18:38.908Z appoptics:debug starting runtimeMetrics


  0 passing (0ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.7.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

added 1 package, changed 1 package, and audited 944 packages in 8s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:18:47.659Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:18:47.660Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:18:47.660Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:18:47.661Z appoptics:debug using context provider: ace-context
2021-08-24T05:18:47.701Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:18:47.741Z appoptics:patching patched crypto 
2021-08-24T05:18:47.760Z appoptics:patching patched https 
2021-08-24T05:18:47.760Z appoptics:patching patched http 
2021-08-24T05:18:47.801Z appoptics:patching patched zlib 
2021-08-24T05:18:47.842Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:18:47.842Z appoptics:patching patched fs 
2021-08-24T05:18:47.905Z appoptics:debug starting runtimeMetrics


  0 passing (0ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.8.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:18:53.019Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:18:53.019Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:18:53.019Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:18:53.020Z appoptics:debug using context provider: ace-context
2021-08-24T05:18:53.060Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:18:53.100Z appoptics:patching patched crypto 
2021-08-24T05:18:53.120Z appoptics:patching patched https 
2021-08-24T05:18:53.121Z appoptics:patching patched http 
2021-08-24T05:18:53.162Z appoptics:patching patched zlib 
2021-08-24T05:18:53.204Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:18:53.204Z appoptics:patching patched fs 
2021-08-24T05:18:53.266Z appoptics:debug starting runtimeMetrics


  0 passing (1ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.8.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:18:58.859Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:18:58.860Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:18:58.860Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:18:58.861Z appoptics:debug using context provider: ace-context
2021-08-24T05:18:58.900Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:18:58.940Z appoptics:patching patched crypto 
2021-08-24T05:18:58.959Z appoptics:patching patched https 
2021-08-24T05:18:58.960Z appoptics:patching patched http 
2021-08-24T05:18:59.000Z appoptics:patching patched zlib 
2021-08-24T05:18:59.042Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:18:59.042Z appoptics:patching patched fs 
2021-08-24T05:18:59.105Z appoptics:debug starting runtimeMetrics


  0 passing (0ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.8.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN tarball tarball data for bourne@https://registry.npmjs.org/bounce/-/bounce-1.2.2.tgz (sha512-938G7p21n3x3FiGnZcoN8Spv7EHOgFRnUStCby2/2fYnkY+fFU5TobsN4xCo5kW/jniYJP8KWjBFTzM4oq+ewg==) seems to be corrupted. Trying again.
npm WARN tarball tarball data for bourne@https://registry.npmjs.org/bounce/-/bounce-1.2.2.tgz (sha512-938G7p21n3x3FiGnZcoN8Spv7EHOgFRnUStCby2/2fYnkY+fFU5TobsN4xCo5kW/jniYJP8KWjBFTzM4oq+ewg==) seems to be corrupted. Trying again.

changed 3 packages, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:19:04.866Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:19:04.867Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:19:04.867Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:19:04.868Z appoptics:debug using context provider: ace-context
2021-08-24T05:19:04.908Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:19:04.947Z appoptics:patching patched crypto 
2021-08-24T05:19:04.968Z appoptics:patching patched https 
2021-08-24T05:19:04.968Z appoptics:patching patched http 
2021-08-24T05:19:05.009Z appoptics:patching patched zlib 
2021-08-24T05:19:05.051Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:19:05.051Z appoptics:patching patched fs 
2021-08-24T05:19:05.112Z appoptics:debug starting runtimeMetrics


  0 passing (0ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.8.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

added 1 package, changed 1 package, and audited 945 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:19:10.861Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:19:10.862Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:19:10.862Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:19:10.863Z appoptics:debug using context provider: ace-context
2021-08-24T05:19:10.902Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:19:10.942Z appoptics:patching patched crypto 
2021-08-24T05:19:10.962Z appoptics:patching patched https 
2021-08-24T05:19:10.963Z appoptics:patching patched http 
2021-08-24T05:19:11.004Z appoptics:patching patched zlib 
2021-08-24T05:19:11.045Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:19:11.045Z appoptics:patching patched fs 
2021-08-24T05:19:11.106Z appoptics:debug starting runtimeMetrics


  0 passing (1ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.8.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 2 packages, and audited 945 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:19:15.789Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:19:15.790Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:19:15.790Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:19:15.791Z appoptics:debug using context provider: ace-context
2021-08-24T05:19:15.830Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:19:15.870Z appoptics:patching patched crypto 
2021-08-24T05:19:15.889Z appoptics:patching patched https 
2021-08-24T05:19:15.890Z appoptics:patching patched http 
2021-08-24T05:19:15.930Z appoptics:patching patched zlib 
2021-08-24T05:19:15.972Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:19:15.972Z appoptics:patching patched fs 
2021-08-24T05:19:16.033Z appoptics:debug starting runtimeMetrics


  0 passing (0ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@17.8.5: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 945 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:19:21.244Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:19:21.245Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:19:21.245Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:19:21.249Z appoptics:debug using context provider: ace-context
2021-08-24T05:19:21.308Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:19:21.348Z appoptics:patching patched crypto 
2021-08-24T05:19:21.367Z appoptics:patching patched https 
2021-08-24T05:19:21.367Z appoptics:patching patched http 
2021-08-24T05:19:21.408Z appoptics:patching patched zlib 
2021-08-24T05:19:21.450Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:19:21.450Z appoptics:patching patched fs 
2021-08-24T05:19:21.513Z appoptics:debug starting runtimeMetrics


  0 passing (0ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@18.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

removed 2 packages, changed 12 packages, and audited 943 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:19:26.170Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:19:26.170Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:19:26.170Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:19:26.171Z appoptics:debug using context provider: ace-context
2021-08-24T05:19:26.211Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:19:26.251Z appoptics:patching patched crypto 
2021-08-24T05:19:26.271Z appoptics:patching patched https 
2021-08-24T05:19:26.271Z appoptics:patching patched http 
2021-08-24T05:19:26.312Z appoptics:patching patched zlib 
2021-08-24T05:19:26.353Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:19:26.354Z appoptics:patching patched fs 
2021-08-24T05:19:26.415Z appoptics:debug starting runtimeMetrics


  0 passing (0ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@18.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

added 1 package, changed 3 packages, and audited 944 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:19:31.128Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:19:31.129Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:19:31.129Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:19:31.130Z appoptics:debug using context provider: ace-context
2021-08-24T05:19:31.173Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:19:31.213Z appoptics:patching patched crypto 
2021-08-24T05:19:31.232Z appoptics:patching patched https 
2021-08-24T05:19:31.233Z appoptics:patching patched http 
2021-08-24T05:19:31.274Z appoptics:patching patched zlib 
2021-08-24T05:19:31.320Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:19:31.320Z appoptics:patching patched fs 
2021-08-24T05:19:31.424Z appoptics:debug starting runtimeMetrics


  0 passing (1ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated hapi@18.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 2 packages, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:19:36.658Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:19:36.658Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:19:36.658Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:19:36.659Z appoptics:debug using context provider: ace-context
2021-08-24T05:19:36.699Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:19:36.738Z appoptics:patching patched crypto 
2021-08-24T05:19:36.757Z appoptics:patching patched https 
2021-08-24T05:19:36.758Z appoptics:patching patched http 
2021-08-24T05:19:36.804Z appoptics:patching patched zlib 
2021-08-24T05:19:36.847Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:19:36.848Z appoptics:patching patched fs 
2021-08-24T05:19:36.914Z appoptics:debug starting runtimeMetrics


  0 passing (0ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

up to date, audited 944 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
