npm WARN notsup Unsupported engine for amqplib@0.2.0: wanted: {"node":"0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.2.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.2.0
added 1 package from 3 contributors, removed 6 packages, updated 3 packages and audited 1105 packages in 6.079s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-13T19:03:18.136Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:03:18.138Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:03:18.138Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:03:18.139Z appoptics:debug using context provider: ace-context
2021-09-13T19:03:18.246Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:03:18.316Z appoptics:patching patched crypto 
2021-09-13T19:03:18.427Z appoptics:patching patched https 
2021-09-13T19:03:18.427Z appoptics:patching patched http 
2021-09-13T19:03:18.525Z appoptics:patching patched amqplib 0.2.0
2021-09-13T19:03:18.529Z appoptics:patching patched amqplib/callback_api 
2021-09-13T19:03:18.533Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.2.0
    ✓ UDP might lose a message
    promises
      1) "before all" hook for "should report send and consume in existing trace"
      2) "after all" hook for "should include SourceTrace in consume external to traced publish"
    callbacks
      3) "before all" hook for "should report send and consume in existing trace"
      4) "after all" hook for "should include SourceTrace in consume external to traced publish"


  1 passing (4s)
  4 failing

  1) probes.amqplib 0.2.0
       promises
         "before all" hook for "should report send and consume in existing trace":
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/amqplib.test.js)
  

  2) probes.amqplib 0.2.0
       promises
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     TypeError: Cannot read property 'close' of undefined
      at Context.<anonymous> (test/probes/amqplib.test.js:181:23)

  3) probes.amqplib 0.2.0
       callbacks
         "before all" hook for "should report send and consume in existing trace":
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/amqplib.test.js)
  

  4) probes.amqplib 0.2.0
       callbacks
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     TypeError: Cannot read property 'close' of undefined
      at Context.<anonymous> (test/probes/amqplib.test.js:211:23)



npm WARN notsup Unsupported engine for amqplib@0.2.1: wanted: {"node":"0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.2.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.2.1
updated 2 packages and audited 1105 packages in 5.437s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-13T19:03:29.546Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:03:29.548Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:03:29.548Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:03:29.549Z appoptics:debug using context provider: ace-context
2021-09-13T19:03:29.645Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:03:29.750Z appoptics:patching patched crypto 
2021-09-13T19:03:29.784Z appoptics:patching patched https 
2021-09-13T19:03:29.784Z appoptics:patching patched http 
2021-09-13T19:03:29.853Z appoptics:patching patched amqplib 0.2.1
2021-09-13T19:03:29.856Z appoptics:patching patched amqplib/callback_api 
2021-09-13T19:03:29.865Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.2.1
    ✓ UDP might lose a message
    promises
(node:517) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (47ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (173ms)

npm WARN notsup Unsupported engine for amqplib@0.3.0: wanted: {"node":"0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.3.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.3.0
updated 1 package and audited 1105 packages in 6.371s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-13T19:03:37.955Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:03:37.957Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:03:37.957Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:03:37.957Z appoptics:debug using context provider: ace-context
2021-09-13T19:03:38.037Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:03:38.094Z appoptics:patching patched crypto 
2021-09-13T19:03:38.126Z appoptics:patching patched https 
2021-09-13T19:03:38.126Z appoptics:patching patched http 
2021-09-13T19:03:38.193Z appoptics:patching patched amqplib 0.3.0
2021-09-13T19:03:38.196Z appoptics:patching patched amqplib/callback_api 
2021-09-13T19:03:38.201Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.3.0
    ✓ UDP might lose a message
    promises
(node:540) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (48ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (190ms)

npm WARN notsup Unsupported engine for amqplib@0.3.1: wanted: {"node":"0.8 || 0.9 || 0.10 || 0.11 || 0.12 || 1.0 || 1.1"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.3.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.3.1
updated 2 packages and audited 1105 packages in 6.66s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-13T19:03:46.543Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:03:46.545Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:03:46.545Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:03:46.545Z appoptics:debug using context provider: ace-context
2021-09-13T19:03:46.653Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:03:46.724Z appoptics:patching patched crypto 
2021-09-13T19:03:46.758Z appoptics:patching patched https 
2021-09-13T19:03:46.758Z appoptics:patching patched http 
2021-09-13T19:03:46.830Z appoptics:patching patched amqplib 0.3.1
2021-09-13T19:03:46.832Z appoptics:patching patched amqplib/callback_api 
2021-09-13T19:03:46.835Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.3.1
    ✓ UDP might lose a message
    promises
(node:563) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace (59ms)
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (48ms)


  7 passing (237ms)

npm WARN notsup Unsupported engine for amqplib@0.3.2: wanted: {"node":">=0.8 <0.13 || ^1"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.3.2
updated 1 package and audited 1105 packages in 5.211s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-13T19:03:53.765Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:03:53.767Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:03:53.767Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:03:53.768Z appoptics:debug using context provider: ace-context
2021-09-13T19:03:53.847Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:03:53.897Z appoptics:patching patched crypto 
2021-09-13T19:03:53.927Z appoptics:patching patched https 
2021-09-13T19:03:53.927Z appoptics:patching patched http 
2021-09-13T19:03:53.989Z appoptics:patching patched amqplib 0.3.2
2021-09-13T19:03:53.992Z appoptics:patching patched amqplib/callback_api 
2021-09-13T19:03:53.995Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.3.2
    ✓ UDP might lose a message
    promises
(node:586) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace (58ms)
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (47ms)


  7 passing (247ms)

npm WARN notsup Unsupported engine for amqplib@0.4.0: wanted: {"node":">=0.8 <4 || ^4"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.4.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.4.0
updated 1 package and audited 1105 packages in 6.72s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-13T19:04:02.547Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:02.549Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:02.549Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:02.550Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:02.620Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:02.672Z appoptics:patching patched crypto 
2021-09-13T19:04:02.717Z appoptics:patching patched https 
2021-09-13T19:04:02.717Z appoptics:patching patched http 
2021-09-13T19:04:02.786Z appoptics:patching patched amqplib 0.4.0
2021-09-13T19:04:02.788Z appoptics:patching patched amqplib/callback_api 
2021-09-13T19:04:02.791Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.4.0
    ✓ UDP might lose a message
    promises
(node:609) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace (59ms)
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (53ms)
      1) "after all" hook for "should include SourceTrace in consume external to traced publish"
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish
      2) "after all" hook for "should include SourceTrace in consume external to traced publish"


  7 passing (200ms)
  2 failing

  1) probes.amqplib 0.4.0
       promises
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     Error: done() invoked with non-Error: Closed by client
      at Connection.C.toClosed (node_modules/amqplib/lib/connection.js:411:8)
      at Connection.accept (node_modules/amqplib/lib/connection.js:378:12)
      at Socket.go (node_modules/amqplib/lib/connection.js:474:48)
      at emitReadable_ (_stream_readable.js:555:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.amqplib 0.4.0
       callbacks
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     Error: done() invoked with non-Error: Closed by client
      at Connection.C.toClosed (node_modules/amqplib/lib/connection.js:411:8)
      at Connection.accept (node_modules/amqplib/lib/connection.js:378:12)
      at Socket.go (node_modules/amqplib/lib/connection.js:474:48)
      at emitReadable_ (_stream_readable.js:555:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)



npm WARN notsup Unsupported engine for amqplib@0.4.1: wanted: {"node":">=0.8 <5 || ^5"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.4.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.4.1
updated 1 package and audited 1105 packages in 5.91s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-13T19:04:10.591Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:10.593Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:10.593Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:10.594Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:10.705Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:10.758Z appoptics:patching patched crypto 
2021-09-13T19:04:10.789Z appoptics:patching patched https 
2021-09-13T19:04:10.789Z appoptics:patching patched http 
2021-09-13T19:04:10.855Z appoptics:patching patched amqplib 0.4.1
2021-09-13T19:04:10.857Z appoptics:patching patched amqplib/callback_api 
2021-09-13T19:04:10.861Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.4.1
    ✓ UDP might lose a message
    promises
(node:632) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (53ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (48ms)


  7 passing (200ms)

npm WARN notsup Unsupported engine for amqplib@0.4.2: wanted: {"node":">=0.8 <6 || ^6"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.4.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.4.2
updated 1 package and audited 1105 packages in 5.625s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-13T19:04:18.216Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:18.218Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:18.218Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:18.219Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:18.312Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:18.373Z appoptics:patching patched crypto 
2021-09-13T19:04:18.411Z appoptics:patching patched https 
2021-09-13T19:04:18.411Z appoptics:patching patched http 
2021-09-13T19:04:18.489Z appoptics:patching patched amqplib 0.4.2
2021-09-13T19:04:18.491Z appoptics:patching patched amqplib/callback_api 
2021-09-13T19:04:18.494Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.4.2
    ✓ UDP might lose a message
    promises
(node:655) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace (57ms)
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (231ms)

npm WARN notsup Unsupported engine for amqplib@0.5.1: wanted: {"node":">=0.8 <6 || ^6"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.5.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.1
removed 1 package, updated 1 package and audited 1105 packages in 6.14s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-13T19:04:26.267Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:26.269Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:26.269Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:26.271Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:26.340Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:26.392Z appoptics:patching patched crypto 
2021-09-13T19:04:26.425Z appoptics:patching patched https 
2021-09-13T19:04:26.425Z appoptics:patching patched http 
2021-09-13T19:04:26.548Z appoptics:patching patched bluebird 3.7.2
2021-09-13T19:04:26.551Z appoptics:patching patched amqplib 0.5.1
2021-09-13T19:04:26.554Z appoptics:patching patched amqplib/callback_api 
2021-09-13T19:04:26.557Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.1
    ✓ UDP might lose a message
    promises
(node:678) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace (58ms)
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (240ms)

npm WARN notsup Unsupported engine for amqplib@0.5.2: wanted: {"node":">=0.8 <=9"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.5.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.2
updated 1 package and audited 1105 packages in 5.684s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-13T19:04:34.192Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:34.193Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:34.193Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:34.194Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:34.311Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:34.395Z appoptics:patching patched crypto 
2021-09-13T19:04:34.439Z appoptics:patching patched https 
2021-09-13T19:04:34.439Z appoptics:patching patched http 
2021-09-13T19:04:34.542Z appoptics:patching patched bluebird 3.7.2
2021-09-13T19:04:34.544Z appoptics:patching patched amqplib 0.5.2
2021-09-13T19:04:34.547Z appoptics:patching patched amqplib/callback_api 
2021-09-13T19:04:34.551Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.2
    ✓ UDP might lose a message
    promises
(node:701) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace (62ms)
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (49ms)
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (274ms)

npm WARN notsup Unsupported engine for amqplib@0.5.3: wanted: {"node":">=0.8 <=9"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.5.3
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.3
added 5 packages from 4 contributors, updated 3 packages and audited 1110 packages in 5.6s

72 packages are looking for funding
  run `npm fund` for details

found 26 vulnerabilities (5 low, 5 moderate, 14 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-13T19:04:42.147Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:42.149Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:42.149Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:42.149Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:42.228Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:42.291Z appoptics:patching patched crypto 
2021-09-13T19:04:42.325Z appoptics:patching patched https 
2021-09-13T19:04:42.325Z appoptics:patching patched http 
2021-09-13T19:04:42.425Z appoptics:patching patched bluebird 3.7.2
2021-09-13T19:04:42.428Z appoptics:patching patched amqplib 0.5.3
2021-09-13T19:04:42.430Z appoptics:patching patched amqplib/callback_api 
2021-09-13T19:04:42.433Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.3
    ✓ UDP might lose a message
    promises
(node:724) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (46ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (236ms)

npm WARN deprecated amqplib@0.5.4: See github.com/squaremo/amqp.node/issues/534
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.4
updated 1 package and audited 1110 packages in 6.121s

72 packages are looking for funding
  run `npm fund` for details

found 26 vulnerabilities (5 low, 5 moderate, 14 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-13T19:04:50.308Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:50.310Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:50.311Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:50.312Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:50.395Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:50.449Z appoptics:patching patched crypto 
2021-09-13T19:04:50.483Z appoptics:patching patched https 
2021-09-13T19:04:50.483Z appoptics:patching patched http 

Error: Cannot find module './defs'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connection.js:7:12)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connect.js:11:18)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/channel_api.js:1:19)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.5
updated 1 package and audited 1110 packages in 5.319s

72 packages are looking for funding
  run `npm fund` for details

found 26 vulnerabilities (5 low, 5 moderate, 14 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-13T19:04:57.233Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:57.235Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:57.235Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:57.236Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:57.316Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:57.381Z appoptics:patching patched crypto 
2021-09-13T19:04:57.422Z appoptics:patching patched https 
2021-09-13T19:04:57.422Z appoptics:patching patched http 
2021-09-13T19:04:57.521Z appoptics:patching patched bluebird 3.7.2
2021-09-13T19:04:57.524Z appoptics:patching patched amqplib 0.5.5
2021-09-13T19:04:57.527Z appoptics:patching patched amqplib/callback_api 
2021-09-13T19:04:57.530Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.5
    ✓ UDP might lose a message
    promises
(node:766) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace (63ms)
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (48ms)
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (257ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.6
updated 1 package and audited 1110 packages in 6.517s

72 packages are looking for funding
  run `npm fund` for details

found 26 vulnerabilities (5 low, 5 moderate, 14 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-13T19:05:05.877Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:05.879Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:05.880Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:05.880Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:05.958Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:06.018Z appoptics:patching patched crypto 
2021-09-13T19:05:06.058Z appoptics:patching patched https 
2021-09-13T19:05:06.058Z appoptics:patching patched http 
2021-09-13T19:05:06.150Z appoptics:patching patched bluebird 3.7.2
2021-09-13T19:05:06.153Z appoptics:patching patched amqplib 0.5.6
2021-09-13T19:05:06.155Z appoptics:patching patched amqplib/callback_api 
2021-09-13T19:05:06.159Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.6
    ✓ UDP might lose a message
    promises
(node:789) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace (59ms)
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (47ms)
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (300ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.6.0
updated 1 package and audited 1110 packages in 6.232s

72 packages are looking for funding
  run `npm fund` for details

found 26 vulnerabilities (5 low, 5 moderate, 14 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-13T19:05:14.498Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:14.500Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:14.500Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:14.500Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:14.572Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:14.624Z appoptics:patching patched crypto 
2021-09-13T19:05:14.656Z appoptics:patching patched https 
2021-09-13T19:05:14.657Z appoptics:patching patched http 
2021-09-13T19:05:14.737Z appoptics:patching patched bluebird 3.7.2
2021-09-13T19:05:14.740Z appoptics:patching patched amqplib 0.6.0
2021-09-13T19:05:14.742Z appoptics:patching patched amqplib/callback_api 
2021-09-13T19:05:14.746Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.6.0
    ✓ UDP might lose a message
    promises
(node:812) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace (61ms)
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (217ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.7.0
updated 1 package and audited 1110 packages in 5.261s

72 packages are looking for funding
  run `npm fund` for details

found 26 vulnerabilities (5 low, 5 moderate, 14 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-13T19:05:21.735Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:21.737Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:21.737Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:21.738Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:21.808Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:21.862Z appoptics:patching patched crypto 
2021-09-13T19:05:21.893Z appoptics:patching patched https 
2021-09-13T19:05:21.893Z appoptics:patching patched http 
2021-09-13T19:05:21.977Z appoptics:patching patched bluebird 3.7.2
2021-09-13T19:05:21.980Z appoptics:patching patched amqplib 0.7.0
2021-09-13T19:05:21.983Z appoptics:patching patched amqplib/callback_api 
2021-09-13T19:05:21.987Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.7.0
    ✓ UDP might lose a message
    promises
(node:835) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (48ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (219ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.7.1
added 1 package from 1 contributor, updated 2 packages and audited 1111 packages in 6.87s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-13T19:05:30.533Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:30.535Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:30.535Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:30.535Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:30.609Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:30.661Z appoptics:patching patched crypto 
2021-09-13T19:05:30.693Z appoptics:patching patched https 
2021-09-13T19:05:30.693Z appoptics:patching patched http 
2021-09-13T19:05:30.778Z appoptics:patching patched bluebird 3.7.2
2021-09-13T19:05:30.781Z appoptics:patching patched amqplib 0.7.1
2021-09-13T19:05:30.785Z appoptics:patching patched amqplib/callback_api 
2021-09-13T19:05:30.789Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.7.1
    ✓ UDP might lose a message
    promises
(node:858) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (47ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (180ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.8.0
updated 1 package and audited 1111 packages in 5.929s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-13T19:05:38.536Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:38.538Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:38.538Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:38.539Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:38.630Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:38.709Z appoptics:patching patched crypto 
2021-09-13T19:05:38.766Z appoptics:patching patched https 
2021-09-13T19:05:38.766Z appoptics:patching patched http 
2021-09-13T19:05:38.908Z appoptics:patching patched bluebird 3.7.2
2021-09-13T19:05:38.913Z appoptics:patching patched amqplib 0.8.0
2021-09-13T19:05:38.916Z appoptics:patching patched amqplib/callback_api 
2021-09-13T19:05:38.919Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.8.0
    ✓ UDP might lose a message
    promises
(node:881) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (47ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (210ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.8.0
updated 1 package and audited 1111 packages in 5.261s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
