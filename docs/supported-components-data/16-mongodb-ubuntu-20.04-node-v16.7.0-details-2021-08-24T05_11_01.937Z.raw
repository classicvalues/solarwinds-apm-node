npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

added 7 packages, removed 3 packages, changed 5 packages, and audited 948 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:07.648Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:07.648Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:07.648Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:07.649Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:07.725Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:07.793Z appoptics:patching patched crypto 
2021-08-24T05:11:07.825Z appoptics:patching patched https 
2021-08-24T05:11:07.825Z appoptics:patching patched http 
2021-08-24T05:11:07.888Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:07.891Z appoptics:patching patched fs 
2021-08-24T05:11:07.915Z appoptics:patching patched zlib 
2021-08-24T05:11:08.040Z appoptics:patching patched mongodb 3.3.0
2021-08-24T05:11:08.049Z appoptics:debug starting runtimeMetrics
(node:831) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:831) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:831) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:831) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.3.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:831) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:831) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:831) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group (39ms)
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group (54ms)
        ✓ should map_reduce


  35 passing (633ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 948 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:13.975Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:13.976Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:13.976Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:13.977Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:14.041Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:14.086Z appoptics:patching patched crypto 
2021-08-24T05:11:14.109Z appoptics:patching patched https 
2021-08-24T05:11:14.110Z appoptics:patching patched http 
2021-08-24T05:11:14.152Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:14.152Z appoptics:patching patched fs 
2021-08-24T05:11:14.169Z appoptics:patching patched zlib 
2021-08-24T05:11:14.269Z appoptics:patching patched mongodb 3.3.1
2021-08-24T05:11:14.274Z appoptics:debug starting runtimeMetrics
(node:854) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:854) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:854) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:854) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.3.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:854) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:854) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:854) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (336ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 948 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:20.422Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:20.423Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:20.423Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:20.427Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:20.502Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:20.550Z appoptics:patching patched crypto 
2021-08-24T05:11:20.575Z appoptics:patching patched https 
2021-08-24T05:11:20.575Z appoptics:patching patched http 
2021-08-24T05:11:20.643Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:20.648Z appoptics:patching patched fs 
2021-08-24T05:11:20.665Z appoptics:patching patched zlib 
2021-08-24T05:11:20.792Z appoptics:patching patched mongodb 3.3.2
2021-08-24T05:11:20.798Z appoptics:debug starting runtimeMetrics
(node:877) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:877) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:877) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:877) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.3.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (56ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:877) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:877) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:877) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (484ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 948 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:26.433Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:26.433Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:26.433Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:26.434Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:26.499Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:26.544Z appoptics:patching patched crypto 
2021-08-24T05:11:26.567Z appoptics:patching patched https 
2021-08-24T05:11:26.568Z appoptics:patching patched http 
2021-08-24T05:11:26.610Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:26.610Z appoptics:patching patched fs 
2021-08-24T05:11:26.628Z appoptics:patching patched zlib 
2021-08-24T05:11:26.729Z appoptics:patching patched mongodb 3.3.3
2021-08-24T05:11:26.734Z appoptics:debug starting runtimeMetrics
(node:900) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:900) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:900) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:900) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.3.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:900) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:900) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:900) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (440ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 948 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:32.952Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:32.953Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:32.953Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:32.953Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:33.016Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:33.061Z appoptics:patching patched crypto 
2021-08-24T05:11:33.083Z appoptics:patching patched https 
2021-08-24T05:11:33.084Z appoptics:patching patched http 
2021-08-24T05:11:33.124Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:33.124Z appoptics:patching patched fs 
2021-08-24T05:11:33.142Z appoptics:patching patched zlib 
2021-08-24T05:11:33.264Z appoptics:patching patched mongodb 3.3.4
2021-08-24T05:11:33.271Z appoptics:debug starting runtimeMetrics
(node:923) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:923) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:923) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:923) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.3.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (56ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:923) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:923) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:923) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (396ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 948 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:38.896Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:38.897Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:38.897Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:38.898Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:38.960Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:39.006Z appoptics:patching patched crypto 
2021-08-24T05:11:39.028Z appoptics:patching patched https 
2021-08-24T05:11:39.029Z appoptics:patching patched http 
2021-08-24T05:11:39.070Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:39.071Z appoptics:patching patched fs 
2021-08-24T05:11:39.088Z appoptics:patching patched zlib 
2021-08-24T05:11:39.202Z appoptics:patching patched mongodb 3.3.5
2021-08-24T05:11:39.210Z appoptics:debug starting runtimeMetrics
(node:946) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:946) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:946) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:946) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.3.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (60ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:946) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:946) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:946) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (420ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 948 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:45.537Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:45.538Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:45.538Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:45.539Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:45.636Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:45.702Z appoptics:patching patched crypto 
2021-08-24T05:11:45.728Z appoptics:patching patched https 
2021-08-24T05:11:45.728Z appoptics:patching patched http 
2021-08-24T05:11:45.771Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:45.771Z appoptics:patching patched fs 
2021-08-24T05:11:45.786Z appoptics:patching patched zlib 
2021-08-24T05:11:45.885Z appoptics:patching patched mongodb 3.4.0
2021-08-24T05:11:45.891Z appoptics:debug starting runtimeMetrics
(node:969) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:969) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:969) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:969) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.4.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:969) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:969) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:969) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (251ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 948 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:51.333Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:51.334Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:51.334Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:51.335Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:51.398Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:51.441Z appoptics:patching patched crypto 
2021-08-24T05:11:51.464Z appoptics:patching patched https 
2021-08-24T05:11:51.464Z appoptics:patching patched http 
2021-08-24T05:11:51.508Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:51.508Z appoptics:patching patched fs 
2021-08-24T05:11:51.523Z appoptics:patching patched zlib 
2021-08-24T05:11:51.631Z appoptics:patching patched mongodb 3.4.1
2021-08-24T05:11:51.636Z appoptics:debug starting runtimeMetrics
(node:992) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:992) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:992) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:992) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.4.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (55ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:992) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:992) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:992) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (276ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

added 1 package, removed 6 packages, changed 4 packages, and audited 943 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:57.802Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:57.803Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:57.803Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:57.820Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:57.902Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:57.949Z appoptics:patching patched crypto 
2021-08-24T05:11:57.997Z appoptics:patching patched https 
2021-08-24T05:11:57.997Z appoptics:patching patched http 
2021-08-24T05:11:58.051Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:58.052Z appoptics:patching patched fs 
2021-08-24T05:11:58.069Z appoptics:patching patched zlib 
2021-08-24T05:11:58.221Z appoptics:patching patched mongodb 3.5.0
2021-08-24T05:11:58.227Z appoptics:debug starting runtimeMetrics
(node:1015) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1015) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:1015) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:1015) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (76ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1015) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:1015) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1015) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (313ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 943 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:12:03.579Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:03.579Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:03.579Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:03.580Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:03.643Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:03.687Z appoptics:patching patched crypto 
2021-08-24T05:12:03.709Z appoptics:patching patched https 
2021-08-24T05:12:03.709Z appoptics:patching patched http 
2021-08-24T05:12:03.749Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:03.750Z appoptics:patching patched fs 
2021-08-24T05:12:03.767Z appoptics:patching patched zlib 
2021-08-24T05:12:03.879Z appoptics:patching patched mongodb 3.5.1
2021-08-24T05:12:03.885Z appoptics:debug starting runtimeMetrics
(node:1038) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1038) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:1038) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:1038) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (52ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1038) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:1038) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1038) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (269ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 943 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:12:09.988Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:09.989Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:09.989Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:09.990Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:10.067Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:10.117Z appoptics:patching patched crypto 
2021-08-24T05:12:10.145Z appoptics:patching patched https 
2021-08-24T05:12:10.145Z appoptics:patching patched http 
2021-08-24T05:12:10.201Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:10.202Z appoptics:patching patched fs 
2021-08-24T05:12:10.218Z appoptics:patching patched zlib 
2021-08-24T05:12:10.351Z appoptics:patching patched mongodb 3.5.2
2021-08-24T05:12:10.357Z appoptics:debug starting runtimeMetrics
(node:1061) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1061) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:1061) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:1061) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (57ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1061) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:1061) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1061) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (329ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 943 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:12:15.655Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:15.656Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:15.656Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:15.657Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:15.720Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:15.765Z appoptics:patching patched crypto 
2021-08-24T05:12:15.787Z appoptics:patching patched https 
2021-08-24T05:12:15.787Z appoptics:patching patched http 
2021-08-24T05:12:15.832Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:15.832Z appoptics:patching patched fs 
2021-08-24T05:12:15.847Z appoptics:patching patched zlib 
2021-08-24T05:12:15.960Z appoptics:patching patched mongodb 3.5.3
2021-08-24T05:12:15.966Z appoptics:debug starting runtimeMetrics
(node:1084) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1084) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:1084) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:1084) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (80ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1084) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:1084) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1084) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (295ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 943 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:12:22.266Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:22.266Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:22.266Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:22.267Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:22.342Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:22.387Z appoptics:patching patched crypto 
2021-08-24T05:12:22.408Z appoptics:patching patched https 
2021-08-24T05:12:22.409Z appoptics:patching patched http 
2021-08-24T05:12:22.450Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:22.450Z appoptics:patching patched fs 
2021-08-24T05:12:22.470Z appoptics:patching patched zlib 
2021-08-24T05:12:22.606Z appoptics:patching patched mongodb 3.5.4
2021-08-24T05:12:22.622Z appoptics:debug starting runtimeMetrics
(node:1107) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1107) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:1107) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:1107) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (77ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1107) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:1107) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1107) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (346ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 943 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:12:28.033Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:28.033Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:28.033Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:28.034Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:28.132Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:28.186Z appoptics:patching patched crypto 
2021-08-24T05:12:28.210Z appoptics:patching patched https 
2021-08-24T05:12:28.211Z appoptics:patching patched http 
2021-08-24T05:12:28.252Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:28.252Z appoptics:patching patched fs 
2021-08-24T05:12:28.270Z appoptics:patching patched zlib 
2021-08-24T05:12:28.403Z appoptics:patching patched mongodb 3.5.5
2021-08-24T05:12:28.409Z appoptics:debug starting runtimeMetrics
(node:1130) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1130) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:1130) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:1130) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (58ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1130) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:1130) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1130) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (300ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 943 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:12:34.130Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:34.131Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:34.131Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:34.132Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:34.207Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:34.256Z appoptics:patching patched crypto 
2021-08-24T05:12:34.280Z appoptics:patching patched https 
2021-08-24T05:12:34.280Z appoptics:patching patched http 
2021-08-24T05:12:34.334Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:34.335Z appoptics:patching patched fs 
2021-08-24T05:12:34.355Z appoptics:patching patched zlib 
2021-08-24T05:12:34.496Z appoptics:patching patched mongodb 3.5.6
2021-08-24T05:12:34.502Z appoptics:debug starting runtimeMetrics
(node:1153) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1153) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:1153) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:1153) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (53ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1153) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:1153) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1153) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (332ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 943 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:12:40.335Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:40.336Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:40.336Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:40.336Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:40.410Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:40.455Z appoptics:patching patched crypto 
2021-08-24T05:12:40.476Z appoptics:patching patched https 
2021-08-24T05:12:40.477Z appoptics:patching patched http 
2021-08-24T05:12:40.521Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:40.521Z appoptics:patching patched fs 
2021-08-24T05:12:40.536Z appoptics:patching patched zlib 
2021-08-24T05:12:40.648Z appoptics:patching patched mongodb 3.5.7
2021-08-24T05:12:40.654Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1176) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1176) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1176) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (260ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 943 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:12:46.385Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:46.385Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:46.385Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:46.386Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:46.460Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:46.509Z appoptics:patching patched crypto 
2021-08-24T05:12:46.535Z appoptics:patching patched https 
2021-08-24T05:12:46.536Z appoptics:patching patched http 
2021-08-24T05:12:46.587Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:46.587Z appoptics:patching patched fs 
2021-08-24T05:12:46.604Z appoptics:patching patched zlib 
2021-08-24T05:12:46.758Z appoptics:patching patched mongodb 3.5.8
2021-08-24T05:12:46.771Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (65ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1199) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1199) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1199) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (305ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 943 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:12:52.571Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:52.572Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:52.572Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:52.573Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:52.635Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:52.679Z appoptics:patching patched crypto 
2021-08-24T05:12:52.701Z appoptics:patching patched https 
2021-08-24T05:12:52.701Z appoptics:patching patched http 
2021-08-24T05:12:52.746Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:52.746Z appoptics:patching patched fs 
2021-08-24T05:12:52.763Z appoptics:patching patched zlib 
2021-08-24T05:12:52.870Z appoptics:patching patched mongodb 3.5.9
2021-08-24T05:12:52.876Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (64ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1222) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1222) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1222) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (336ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 943 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:12:58.646Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:58.647Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:58.647Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:58.652Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:58.826Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:58.912Z appoptics:patching patched crypto 
2021-08-24T05:12:58.951Z appoptics:patching patched https 
2021-08-24T05:12:58.951Z appoptics:patching patched http 
2021-08-24T05:12:59.018Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:59.019Z appoptics:patching patched fs 
2021-08-24T05:12:59.039Z appoptics:patching patched zlib 
2021-08-24T05:12:59.218Z appoptics:patching patched mongodb 3.5.10
2021-08-24T05:12:59.227Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (76ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1245) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1245) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1245) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (314ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 943 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:13:04.777Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:13:04.777Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:13:04.777Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:13:04.778Z appoptics:debug using context provider: ace-context
2021-08-24T05:13:04.840Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:13:04.884Z appoptics:patching patched crypto 
2021-08-24T05:13:04.906Z appoptics:patching patched https 
2021-08-24T05:13:04.906Z appoptics:patching patched http 
2021-08-24T05:13:04.945Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:13:04.948Z appoptics:patching patched fs 
2021-08-24T05:13:04.967Z appoptics:patching patched zlib 
2021-08-24T05:13:05.075Z appoptics:patching patched mongodb 3.5.11
2021-08-24T05:13:05.081Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (56ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1268) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1268) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1268) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (273ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 943 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:13:11.120Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:13:11.121Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:13:11.121Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:13:11.122Z appoptics:debug using context provider: ace-context
2021-08-24T05:13:11.196Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:13:11.248Z appoptics:patching patched crypto 
2021-08-24T05:13:11.277Z appoptics:patching patched https 
2021-08-24T05:13:11.278Z appoptics:patching patched http 
2021-08-24T05:13:11.333Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:13:11.333Z appoptics:patching patched fs 
2021-08-24T05:13:11.352Z appoptics:patching patched zlib 
2021-08-24T05:13:11.506Z appoptics:patching patched mongodb 3.6.0
2021-08-24T05:13:11.512Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (53ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1291) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1291) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1291) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1291) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (278ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 943 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:13:16.952Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:13:16.953Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:13:16.953Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:13:16.954Z appoptics:debug using context provider: ace-context
2021-08-24T05:13:17.016Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:13:17.060Z appoptics:patching patched crypto 
2021-08-24T05:13:17.082Z appoptics:patching patched https 
2021-08-24T05:13:17.082Z appoptics:patching patched http 
2021-08-24T05:13:17.124Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:13:17.128Z appoptics:patching patched fs 
2021-08-24T05:13:17.144Z appoptics:patching patched zlib 
2021-08-24T05:13:17.256Z appoptics:patching patched mongodb 3.6.1
2021-08-24T05:13:17.262Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (63ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1314) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1314) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1314) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1314) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (294ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 943 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:13:23.361Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:13:23.362Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:13:23.362Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:13:23.362Z appoptics:debug using context provider: ace-context
2021-08-24T05:13:23.527Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:13:23.657Z appoptics:patching patched crypto 
2021-08-24T05:13:23.713Z appoptics:patching patched https 
2021-08-24T05:13:23.714Z appoptics:patching patched http 
2021-08-24T05:13:23.812Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:13:23.816Z appoptics:patching patched fs 
2021-08-24T05:13:23.834Z appoptics:patching patched zlib 
2021-08-24T05:13:23.973Z appoptics:patching patched mongodb 3.6.2
2021-08-24T05:13:23.979Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (71ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1337) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1337) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1337) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1337) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (306ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 943 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:13:29.386Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:13:29.387Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:13:29.387Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:13:29.388Z appoptics:debug using context provider: ace-context
2021-08-24T05:13:29.464Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:13:29.510Z appoptics:patching patched crypto 
2021-08-24T05:13:29.532Z appoptics:patching patched https 
2021-08-24T05:13:29.532Z appoptics:patching patched http 
2021-08-24T05:13:29.572Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:13:29.576Z appoptics:patching patched fs 
2021-08-24T05:13:29.595Z appoptics:patching patched zlib 
2021-08-24T05:13:29.698Z appoptics:patching patched mongodb 3.6.3
2021-08-24T05:13:29.704Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1360) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1360) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1360) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1360) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (257ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 943 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:13:35.867Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:13:35.868Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:13:35.868Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:13:35.869Z appoptics:debug using context provider: ace-context
2021-08-24T05:13:35.943Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:13:35.991Z appoptics:patching patched crypto 
2021-08-24T05:13:36.019Z appoptics:patching patched https 
2021-08-24T05:13:36.020Z appoptics:patching patched http 
2021-08-24T05:13:36.070Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:13:36.074Z appoptics:patching patched fs 
2021-08-24T05:13:36.092Z appoptics:patching patched zlib 
2021-08-24T05:13:36.242Z appoptics:patching patched mongodb 3.6.4
2021-08-24T05:13:36.251Z appoptics:debug starting runtimeMetrics
(node:1383) Warning: Accessing non-existent property 'MongoError' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (76ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1383) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:1383) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1383) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1383) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (340ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 943 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:13:41.890Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:13:41.891Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:13:41.891Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:13:41.892Z appoptics:debug using context provider: ace-context
2021-08-24T05:13:41.952Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:13:41.997Z appoptics:patching patched crypto 
2021-08-24T05:13:42.020Z appoptics:patching patched https 
2021-08-24T05:13:42.021Z appoptics:patching patched http 
2021-08-24T05:13:42.063Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:13:42.065Z appoptics:patching patched fs 
2021-08-24T05:13:42.081Z appoptics:patching patched zlib 
2021-08-24T05:13:42.190Z appoptics:patching patched mongodb 3.6.5
2021-08-24T05:13:42.195Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1406) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1406) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1406) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1406) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (264ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

added 2 packages, changed 2 packages, and audited 945 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:13:48.205Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:13:48.206Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:13:48.206Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:13:48.207Z appoptics:debug using context provider: ace-context
2021-08-24T05:13:48.270Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:13:48.324Z appoptics:patching patched crypto 
2021-08-24T05:13:48.352Z appoptics:patching patched https 
2021-08-24T05:13:48.352Z appoptics:patching patched http 
2021-08-24T05:13:48.425Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:13:48.426Z appoptics:patching patched fs 
2021-08-24T05:13:48.445Z appoptics:patching patched zlib 
2021-08-24T05:13:48.591Z appoptics:patching patched mongodb 3.6.6
2021-08-24T05:13:48.600Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (81ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1429) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1429) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1429) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1429) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (298ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 945 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:13:54.393Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:13:54.393Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:13:54.393Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:13:54.394Z appoptics:debug using context provider: ace-context
2021-08-24T05:13:54.456Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:13:54.500Z appoptics:patching patched crypto 
2021-08-24T05:13:54.521Z appoptics:patching patched https 
2021-08-24T05:13:54.522Z appoptics:patching patched http 
2021-08-24T05:13:54.561Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:13:54.561Z appoptics:patching patched fs 
2021-08-24T05:13:54.578Z appoptics:patching patched zlib 
2021-08-24T05:13:54.686Z appoptics:patching patched mongodb 3.6.7
2021-08-24T05:13:54.691Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (44ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1452) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1452) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1452) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1452) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (272ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 945 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:14:00.813Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:14:00.813Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:14:00.814Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:14:00.814Z appoptics:debug using context provider: ace-context
2021-08-24T05:14:00.911Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:14:01.004Z appoptics:patching patched crypto 
2021-08-24T05:14:01.069Z appoptics:patching patched https 
2021-08-24T05:14:01.070Z appoptics:patching patched http 
2021-08-24T05:14:01.125Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:14:01.127Z appoptics:patching patched fs 
2021-08-24T05:14:01.142Z appoptics:patching patched zlib 
2021-08-24T05:14:01.253Z appoptics:patching patched mongodb 3.6.8
2021-08-24T05:14:01.258Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (51ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1475) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1475) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1475) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1475) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (273ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 945 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:14:06.459Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:14:06.459Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:14:06.459Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:14:06.460Z appoptics:debug using context provider: ace-context
2021-08-24T05:14:06.523Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:14:06.568Z appoptics:patching patched crypto 
2021-08-24T05:14:06.591Z appoptics:patching patched https 
2021-08-24T05:14:06.591Z appoptics:patching patched http 
2021-08-24T05:14:06.634Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:14:06.634Z appoptics:patching patched fs 
2021-08-24T05:14:06.651Z appoptics:patching patched zlib 
2021-08-24T05:14:06.759Z appoptics:patching patched mongodb 3.6.9
2021-08-24T05:14:06.765Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (80ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1498) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1498) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1498) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1498) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (297ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 945 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:14:13.065Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:14:13.066Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:14:13.066Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:14:13.067Z appoptics:debug using context provider: ace-context
2021-08-24T05:14:13.138Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:14:13.206Z appoptics:patching patched crypto 
2021-08-24T05:14:13.243Z appoptics:patching patched https 
2021-08-24T05:14:13.244Z appoptics:patching patched http 
2021-08-24T05:14:13.290Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:14:13.291Z appoptics:patching patched fs 
2021-08-24T05:14:13.307Z appoptics:patching patched zlib 
2021-08-24T05:14:13.417Z appoptics:patching patched mongodb 3.6.10
2021-08-24T05:14:13.422Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1521) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1521) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1521) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1521) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (259ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

removed 1 package, changed 1 package, and audited 944 packages in 4s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:14:18.625Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:14:18.626Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:14:18.626Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:14:18.629Z appoptics:debug using context provider: ace-context
2021-08-24T05:14:18.703Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:14:18.751Z appoptics:patching patched crypto 
2021-08-24T05:14:18.776Z appoptics:patching patched https 
2021-08-24T05:14:18.776Z appoptics:patching patched http 
2021-08-24T05:14:18.827Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:14:18.828Z appoptics:patching patched fs 
2021-08-24T05:14:18.843Z appoptics:patching patched zlib 
2021-08-24T05:14:18.972Z appoptics:patching patched mongodb 3.6.11
2021-08-24T05:14:18.978Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (51ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1544) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1544) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1544) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1544) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (304ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

added 13 packages, removed 4 packages, changed 5 packages, and audited 953 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:14:25.354Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:14:25.356Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:14:25.356Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:14:25.357Z appoptics:debug using context provider: ace-context
2021-08-24T05:14:25.444Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:14:25.494Z appoptics:patching patched crypto 
2021-08-24T05:14:25.516Z appoptics:patching patched https 
2021-08-24T05:14:25.517Z appoptics:patching patched http 
2021-08-24T05:14:25.588Z appoptics:patching patched zlib 
2021-08-24T05:14:25.591Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:14:25.591Z appoptics:patching patched fs 
2021-08-24T05:14:25.677Z appoptics:patching probes.mongodb "topologies/server.js" not found
2021-08-24T05:14:25.677Z appoptics:patching probes.mongodb "Server.prototype" not found
2021-08-24T05:14:25.677Z appoptics:patching probes.mongodb "topologies/replset.js" not found
2021-08-24T05:14:25.677Z appoptics:patching probes.mongodb "ReplSet.prototype" not found
2021-08-24T05:14:25.677Z appoptics:patching probes.mongodb "topologies/mongos.js" not found
2021-08-24T05:14:25.677Z appoptics:patching probes.mongodb "Mongos.prototype" not found
2021-08-24T05:14:25.677Z appoptics:patching probes.mongodb "Cursor.prototype" not found
2021-08-24T05:14:25.677Z appoptics:patching patched mongodb 4.0.0
2021-08-24T05:14:25.684Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 4.0.0
    2.6
      1) "before all" hook in "2.6"
    3.0
      2) "before all" hook in "3.0"


  1 passing (17ms)
  2 failing

  1) probes.mongodb 4.0.0
       2.6
         "before all" hook in "2.6":
     TypeError: mongodb.Server is not a constructor
      at Context.<anonymous> (test/probes/mongodb.test.js:208:18)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb 4.0.0
       3.0
         "before all" hook in "3.0":
     TypeError: mongodb.Server is not a constructor
      at Context.<anonymous> (test/probes/mongodb.test.js:208:18)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 953 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:14:31.168Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:14:31.169Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:14:31.169Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:14:31.169Z appoptics:debug using context provider: ace-context
2021-08-24T05:14:31.232Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:14:31.276Z appoptics:patching patched crypto 
2021-08-24T05:14:31.299Z appoptics:patching patched https 
2021-08-24T05:14:31.299Z appoptics:patching patched http 
2021-08-24T05:14:31.389Z appoptics:patching patched zlib 
2021-08-24T05:14:31.395Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:14:31.395Z appoptics:patching patched fs 
2021-08-24T05:14:31.523Z appoptics:patching probes.mongodb "topologies/server.js" not found
2021-08-24T05:14:31.523Z appoptics:patching probes.mongodb "Server.prototype" not found
2021-08-24T05:14:31.523Z appoptics:patching probes.mongodb "topologies/replset.js" not found
2021-08-24T05:14:31.523Z appoptics:patching probes.mongodb "ReplSet.prototype" not found
2021-08-24T05:14:31.523Z appoptics:patching probes.mongodb "topologies/mongos.js" not found
2021-08-24T05:14:31.523Z appoptics:patching probes.mongodb "Mongos.prototype" not found
2021-08-24T05:14:31.523Z appoptics:patching probes.mongodb "Cursor.prototype" not found
2021-08-24T05:14:31.523Z appoptics:patching patched mongodb 4.0.1
2021-08-24T05:14:31.530Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 4.0.1
    2.6
      1) "before all" hook in "2.6"
    3.0
      2) "before all" hook in "3.0"


  1 passing (17ms)
  2 failing

  1) probes.mongodb 4.0.1
       2.6
         "before all" hook in "2.6":
     TypeError: mongodb.Server is not a constructor
      at Context.<anonymous> (test/probes/mongodb.test.js:208:18)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb 4.0.1
       3.0
         "before all" hook in "3.0":
     TypeError: mongodb.Server is not a constructor
      at Context.<anonymous> (test/probes/mongodb.test.js:208:18)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 953 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:14:37.038Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:14:37.039Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:14:37.039Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:14:37.039Z appoptics:debug using context provider: ace-context
2021-08-24T05:14:37.104Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:14:37.153Z appoptics:patching patched crypto 
2021-08-24T05:14:37.186Z appoptics:patching patched https 
2021-08-24T05:14:37.186Z appoptics:patching patched http 
2021-08-24T05:14:37.235Z appoptics:patching patched zlib 
2021-08-24T05:14:37.247Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:14:37.247Z appoptics:patching patched fs 
2021-08-24T05:14:37.390Z appoptics:patching probes.mongodb "topologies/server.js" not found
2021-08-24T05:14:37.390Z appoptics:patching probes.mongodb "Server.prototype" not found
2021-08-24T05:14:37.391Z appoptics:patching probes.mongodb "topologies/replset.js" not found
2021-08-24T05:14:37.391Z appoptics:patching probes.mongodb "ReplSet.prototype" not found
2021-08-24T05:14:37.391Z appoptics:patching probes.mongodb "topologies/mongos.js" not found
2021-08-24T05:14:37.391Z appoptics:patching probes.mongodb "Mongos.prototype" not found
2021-08-24T05:14:37.391Z appoptics:patching probes.mongodb "Cursor.prototype" not found
2021-08-24T05:14:37.391Z appoptics:patching patched mongodb 4.1.0
2021-08-24T05:14:37.420Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 4.1.0
    2.6
      1) "before all" hook in "2.6"
    3.0
      2) "before all" hook in "3.0"


  1 passing (18ms)
  2 failing

  1) probes.mongodb 4.1.0
       2.6
         "before all" hook in "2.6":
     TypeError: mongodb.Server is not a constructor
      at Context.<anonymous> (test/probes/mongodb.test.js:208:18)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb 4.1.0
       3.0
         "before all" hook in "3.0":
     TypeError: mongodb.Server is not a constructor
      at Context.<anonymous> (test/probes/mongodb.test.js:208:18)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

added 4 packages, removed 13 packages, changed 5 packages, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
