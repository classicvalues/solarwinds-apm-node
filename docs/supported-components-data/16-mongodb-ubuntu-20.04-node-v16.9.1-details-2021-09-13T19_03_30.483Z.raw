
added 5 packages, removed 4 packages, changed 5 packages, and audited 1110 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:03:38.952Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:03:38.953Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:03:38.953Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:03:38.954Z appoptics:debug using context provider: ace-context
2021-09-13T19:03:39.028Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:03:39.083Z appoptics:patching patched crypto 
2021-09-13T19:03:39.109Z appoptics:patching patched https 
2021-09-13T19:03:39.110Z appoptics:patching patched http 
2021-09-13T19:03:39.159Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:03:39.159Z appoptics:patching patched fs 
2021-09-13T19:03:39.180Z appoptics:patching patched zlib 
2021-09-13T19:03:39.307Z appoptics:patching patched mongodb 3.3.0
2021-09-13T19:03:39.314Z appoptics:debug starting runtimeMetrics
(node:839) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:839) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:839) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:839) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.3.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (53ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:839) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:839) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:839) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group (75ms)
        ✓ should map_reduce (72ms)
    3.0
      databases
        ✓ should drop (56ms)
      collections
        ✓ should create (213ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group (58ms)
        ✓ should map_reduce


  35 passing (946ms)


changed 1 package, and audited 1110 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:03:48.195Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:03:48.196Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:03:48.196Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:03:48.197Z appoptics:debug using context provider: ace-context
2021-09-13T19:03:48.287Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:03:48.343Z appoptics:patching patched crypto 
2021-09-13T19:03:48.375Z appoptics:patching patched https 
2021-09-13T19:03:48.376Z appoptics:patching patched http 
2021-09-13T19:03:48.433Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:03:48.437Z appoptics:patching patched fs 
2021-09-13T19:03:48.454Z appoptics:patching patched zlib 
2021-09-13T19:03:48.611Z appoptics:patching patched mongodb 3.3.1
2021-09-13T19:03:48.628Z appoptics:debug starting runtimeMetrics
(node:862) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:862) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:862) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:862) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.3.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:862) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:862) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:862) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (560ms)


changed 1 package, and audited 1110 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:03:57.046Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:03:57.047Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:03:57.047Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:03:57.048Z appoptics:debug using context provider: ace-context
2021-09-13T19:03:57.135Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:03:57.190Z appoptics:patching patched crypto 
2021-09-13T19:03:57.223Z appoptics:patching patched https 
2021-09-13T19:03:57.223Z appoptics:patching patched http 
2021-09-13T19:03:57.274Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:03:57.275Z appoptics:patching patched fs 
2021-09-13T19:03:57.291Z appoptics:patching patched zlib 
2021-09-13T19:03:57.411Z appoptics:patching patched mongodb 3.3.2
2021-09-13T19:03:57.418Z appoptics:debug starting runtimeMetrics
(node:885) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:885) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:885) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:885) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.3.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (51ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:885) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:885) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:885) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (401ms)


changed 1 package, and audited 1110 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:06.104Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:06.105Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:06.105Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:06.106Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:06.179Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:06.230Z appoptics:patching patched crypto 
2021-09-13T19:04:06.257Z appoptics:patching patched https 
2021-09-13T19:04:06.258Z appoptics:patching patched http 
2021-09-13T19:04:06.307Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:04:06.309Z appoptics:patching patched fs 
2021-09-13T19:04:06.326Z appoptics:patching patched zlib 
2021-09-13T19:04:06.444Z appoptics:patching patched mongodb 3.3.3
2021-09-13T19:04:06.452Z appoptics:debug starting runtimeMetrics
(node:908) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:908) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:908) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:908) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.3.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:908) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:908) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:908) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (386ms)


changed 1 package, and audited 1110 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:15.290Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:15.291Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:15.291Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:15.292Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:15.367Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:15.420Z appoptics:patching patched crypto 
2021-09-13T19:04:15.445Z appoptics:patching patched https 
2021-09-13T19:04:15.446Z appoptics:patching patched http 
2021-09-13T19:04:15.495Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:04:15.495Z appoptics:patching patched fs 
2021-09-13T19:04:15.513Z appoptics:patching patched zlib 
2021-09-13T19:04:15.629Z appoptics:patching patched mongodb 3.3.4
2021-09-13T19:04:15.636Z appoptics:debug starting runtimeMetrics
(node:931) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:931) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:931) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:931) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.3.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (71ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:931) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:931) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:931) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (429ms)


changed 1 package, and audited 1110 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:23.941Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:23.942Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:23.942Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:23.943Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:24.019Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:24.071Z appoptics:patching patched crypto 
2021-09-13T19:04:24.096Z appoptics:patching patched https 
2021-09-13T19:04:24.097Z appoptics:patching patched http 
2021-09-13T19:04:24.144Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:04:24.144Z appoptics:patching patched fs 
2021-09-13T19:04:24.167Z appoptics:patching patched zlib 
2021-09-13T19:04:24.286Z appoptics:patching patched mongodb 3.3.5
2021-09-13T19:04:24.293Z appoptics:debug starting runtimeMetrics
(node:954) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:954) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:954) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:954) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.3.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (83ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:954) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:954) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:954) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (466ms)


changed 1 package, and audited 1110 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:33.014Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:33.015Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:33.015Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:33.016Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:33.093Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:33.142Z appoptics:patching patched crypto 
2021-09-13T19:04:33.169Z appoptics:patching patched https 
2021-09-13T19:04:33.170Z appoptics:patching patched http 
2021-09-13T19:04:33.218Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:04:33.220Z appoptics:patching patched fs 
2021-09-13T19:04:33.238Z appoptics:patching patched zlib 
2021-09-13T19:04:33.354Z appoptics:patching patched mongodb 3.4.0
2021-09-13T19:04:33.361Z appoptics:debug starting runtimeMetrics
(node:977) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:977) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:977) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:977) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.4.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (66ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:977) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:977) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:977) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (397ms)


changed 1 package, and audited 1110 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:42.049Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:42.050Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:42.050Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:42.051Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:42.122Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:42.173Z appoptics:patching patched crypto 
2021-09-13T19:04:42.198Z appoptics:patching patched https 
2021-09-13T19:04:42.198Z appoptics:patching patched http 
2021-09-13T19:04:42.244Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:04:42.247Z appoptics:patching patched fs 
2021-09-13T19:04:42.267Z appoptics:patching patched zlib 
2021-09-13T19:04:42.381Z appoptics:patching patched mongodb 3.4.1
2021-09-13T19:04:42.389Z appoptics:debug starting runtimeMetrics
(node:1000) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1000) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:1000) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:1000) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.4.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (85ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1000) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:1000) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1000) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (386ms)


added 2 packages, removed 5 packages, changed 4 packages, and audited 1107 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:50.665Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:50.666Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:50.666Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:50.667Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:50.754Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:50.808Z appoptics:patching patched crypto 
2021-09-13T19:04:50.837Z appoptics:patching patched https 
2021-09-13T19:04:50.837Z appoptics:patching patched http 
2021-09-13T19:04:50.888Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:04:50.892Z appoptics:patching patched fs 
2021-09-13T19:04:50.909Z appoptics:patching patched zlib 
2021-09-13T19:04:51.134Z appoptics:patching patched mongodb 3.5.0
2021-09-13T19:04:51.142Z appoptics:debug starting runtimeMetrics
(node:1023) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1023) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:1023) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:1023) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (85ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1023) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:1023) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1023) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (538ms)


changed 1 package, and audited 1107 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:00.360Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:00.361Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:00.361Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:00.361Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:00.436Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:00.486Z appoptics:patching patched crypto 
2021-09-13T19:05:00.511Z appoptics:patching patched https 
2021-09-13T19:05:00.512Z appoptics:patching patched http 
2021-09-13T19:05:00.560Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:05:00.562Z appoptics:patching patched fs 
2021-09-13T19:05:00.579Z appoptics:patching patched zlib 
2021-09-13T19:05:00.711Z appoptics:patching patched mongodb 3.5.1
2021-09-13T19:05:00.719Z appoptics:debug starting runtimeMetrics
(node:1046) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1046) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:1046) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:1046) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (54ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1046) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:1046) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1046) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (312ms)


changed 1 package, and audited 1107 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:09.771Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:09.771Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:09.772Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:09.772Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:09.847Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:09.898Z appoptics:patching patched crypto 
2021-09-13T19:05:09.924Z appoptics:patching patched https 
2021-09-13T19:05:09.925Z appoptics:patching patched http 
2021-09-13T19:05:09.976Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:05:09.976Z appoptics:patching patched fs 
2021-09-13T19:05:09.994Z appoptics:patching patched zlib 
2021-09-13T19:05:10.125Z appoptics:patching patched mongodb 3.5.2
2021-09-13T19:05:10.132Z appoptics:debug starting runtimeMetrics
(node:1069) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1069) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:1069) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:1069) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1069) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:1069) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1069) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (284ms)


changed 1 package, and audited 1107 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:18.835Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:18.836Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:18.836Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:18.837Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:18.912Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:18.962Z appoptics:patching patched crypto 
2021-09-13T19:05:18.989Z appoptics:patching patched https 
2021-09-13T19:05:18.989Z appoptics:patching patched http 
2021-09-13T19:05:19.044Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:05:19.046Z appoptics:patching patched fs 
2021-09-13T19:05:19.064Z appoptics:patching patched zlib 
2021-09-13T19:05:19.244Z appoptics:patching patched mongodb 3.5.3
2021-09-13T19:05:19.251Z appoptics:debug starting runtimeMetrics
(node:1092) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1092) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:1092) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:1092) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (60ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1092) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:1092) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1092) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (314ms)


changed 1 package, and audited 1107 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:27.469Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:27.470Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:27.470Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:27.471Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:27.545Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:27.596Z appoptics:patching patched crypto 
2021-09-13T19:05:27.622Z appoptics:patching patched https 
2021-09-13T19:05:27.623Z appoptics:patching patched http 
2021-09-13T19:05:27.673Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:05:27.673Z appoptics:patching patched fs 
2021-09-13T19:05:27.691Z appoptics:patching patched zlib 
2021-09-13T19:05:27.842Z appoptics:patching patched mongodb 3.5.4
2021-09-13T19:05:27.849Z appoptics:debug starting runtimeMetrics
(node:1115) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1115) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:1115) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:1115) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (72ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1115) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:1115) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1115) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (433ms)


changed 1 package, and audited 1107 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:36.610Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:36.611Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:36.611Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:36.612Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:36.697Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:36.754Z appoptics:patching patched crypto 
2021-09-13T19:05:36.782Z appoptics:patching patched https 
2021-09-13T19:05:36.783Z appoptics:patching patched http 
2021-09-13T19:05:36.840Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:05:36.843Z appoptics:patching patched fs 
2021-09-13T19:05:36.861Z appoptics:patching patched zlib 
2021-09-13T19:05:37.008Z appoptics:patching patched mongodb 3.5.5
2021-09-13T19:05:37.015Z appoptics:debug starting runtimeMetrics
(node:1138) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1138) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:1138) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:1138) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (62ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1138) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:1138) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1138) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (312ms)


changed 1 package, and audited 1107 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:45.518Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:45.519Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:45.519Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:45.520Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:45.591Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:45.643Z appoptics:patching patched crypto 
2021-09-13T19:05:45.667Z appoptics:patching patched https 
2021-09-13T19:05:45.668Z appoptics:patching patched http 
2021-09-13T19:05:45.718Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:05:45.720Z appoptics:patching patched fs 
2021-09-13T19:05:45.737Z appoptics:patching patched zlib 
2021-09-13T19:05:45.870Z appoptics:patching patched mongodb 3.5.6
2021-09-13T19:05:45.877Z appoptics:debug starting runtimeMetrics
(node:1161) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1161) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:1161) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:1161) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (47ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1161) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:1161) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1161) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (297ms)


changed 1 package, and audited 1107 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:54.140Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:54.141Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:54.141Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:54.142Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:54.228Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:54.282Z appoptics:patching patched crypto 
2021-09-13T19:05:54.309Z appoptics:patching patched https 
2021-09-13T19:05:54.310Z appoptics:patching patched http 
2021-09-13T19:05:54.360Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:05:54.364Z appoptics:patching patched fs 
2021-09-13T19:05:54.382Z appoptics:patching patched zlib 
2021-09-13T19:05:54.531Z appoptics:patching patched mongodb 3.5.7
2021-09-13T19:05:54.538Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (80ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1184) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1184) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1184) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (389ms)


changed 1 package, and audited 1107 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:03.098Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:03.099Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:03.099Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:03.100Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:03.185Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:03.233Z appoptics:patching patched crypto 
2021-09-13T19:06:03.258Z appoptics:patching patched https 
2021-09-13T19:06:03.259Z appoptics:patching patched http 
2021-09-13T19:06:03.304Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:06:03.307Z appoptics:patching patched fs 
2021-09-13T19:06:03.327Z appoptics:patching patched zlib 
2021-09-13T19:06:03.453Z appoptics:patching patched mongodb 3.5.8
2021-09-13T19:06:03.460Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (71ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1207) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1207) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1207) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (330ms)


changed 1 package, and audited 1107 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:11.993Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:11.994Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:11.994Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:11.995Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:12.069Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:12.121Z appoptics:patching patched crypto 
2021-09-13T19:06:12.146Z appoptics:patching patched https 
2021-09-13T19:06:12.147Z appoptics:patching patched http 
2021-09-13T19:06:12.194Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:06:12.194Z appoptics:patching patched fs 
2021-09-13T19:06:12.217Z appoptics:patching patched zlib 
2021-09-13T19:06:12.340Z appoptics:patching patched mongodb 3.5.9
2021-09-13T19:06:12.348Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (79ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1230) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1230) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1230) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (345ms)


changed 1 package, and audited 1107 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:21.394Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:21.395Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:21.395Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:21.395Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:21.469Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:21.522Z appoptics:patching patched crypto 
2021-09-13T19:06:21.547Z appoptics:patching patched https 
2021-09-13T19:06:21.548Z appoptics:patching patched http 
2021-09-13T19:06:21.593Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:06:21.596Z appoptics:patching patched fs 
2021-09-13T19:06:21.619Z appoptics:patching patched zlib 
2021-09-13T19:06:21.744Z appoptics:patching patched mongodb 3.5.10
2021-09-13T19:06:21.751Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (52ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1253) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1253) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1253) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (328ms)


changed 1 package, and audited 1107 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:29.647Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:29.648Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:29.648Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:29.649Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:29.722Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:29.773Z appoptics:patching patched crypto 
2021-09-13T19:06:29.798Z appoptics:patching patched https 
2021-09-13T19:06:29.799Z appoptics:patching patched http 
2021-09-13T19:06:29.851Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:06:29.851Z appoptics:patching patched fs 
2021-09-13T19:06:29.871Z appoptics:patching patched zlib 
2021-09-13T19:06:30.000Z appoptics:patching patched mongodb 3.5.11
2021-09-13T19:06:30.006Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (76ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1276) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1276) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1276) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (335ms)


changed 1 package, and audited 1107 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:39.116Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:39.117Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:39.117Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:39.117Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:39.188Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:39.238Z appoptics:patching patched crypto 
2021-09-13T19:06:39.263Z appoptics:patching patched https 
2021-09-13T19:06:39.263Z appoptics:patching patched http 
2021-09-13T19:06:39.308Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:06:39.309Z appoptics:patching patched fs 
2021-09-13T19:06:39.330Z appoptics:patching patched zlib 
2021-09-13T19:06:39.455Z appoptics:patching patched mongodb 3.6.0
2021-09-13T19:06:39.462Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (64ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1299) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1299) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1299) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1299) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (308ms)


changed 1 package, and audited 1107 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:47.995Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:47.996Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:47.996Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:47.997Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:48.076Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:48.129Z appoptics:patching patched crypto 
2021-09-13T19:06:48.154Z appoptics:patching patched https 
2021-09-13T19:06:48.155Z appoptics:patching patched http 
2021-09-13T19:06:48.203Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:06:48.204Z appoptics:patching patched fs 
2021-09-13T19:06:48.226Z appoptics:patching patched zlib 
2021-09-13T19:06:48.356Z appoptics:patching patched mongodb 3.6.1
2021-09-13T19:06:48.363Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (55ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1322) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1322) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1322) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1322) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (318ms)


changed 1 package, and audited 1107 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:56.359Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:56.360Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:56.360Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:56.361Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:56.534Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:56.651Z appoptics:patching patched crypto 
2021-09-13T19:06:56.700Z appoptics:patching patched https 
2021-09-13T19:06:56.704Z appoptics:patching patched http 
2021-09-13T19:06:56.767Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:06:56.768Z appoptics:patching patched fs 
2021-09-13T19:06:56.788Z appoptics:patching patched zlib 
2021-09-13T19:06:56.934Z appoptics:patching patched mongodb 3.6.2
2021-09-13T19:06:56.942Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (53ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1345) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1345) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1345) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1345) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (343ms)


changed 1 package, and audited 1107 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:07:05.022Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:07:05.023Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:07:05.023Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:07:05.024Z appoptics:debug using context provider: ace-context
2021-09-13T19:07:05.109Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:07:05.166Z appoptics:patching patched crypto 
2021-09-13T19:07:05.194Z appoptics:patching patched https 
2021-09-13T19:07:05.195Z appoptics:patching patched http 
2021-09-13T19:07:05.252Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:07:05.252Z appoptics:patching patched fs 
2021-09-13T19:07:05.274Z appoptics:patching patched zlib 
2021-09-13T19:07:05.437Z appoptics:patching patched mongodb 3.6.3
2021-09-13T19:07:05.444Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1368) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1368) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1368) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1368) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (323ms)


changed 1 package, and audited 1107 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:07:13.913Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:07:13.914Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:07:13.914Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:07:13.915Z appoptics:debug using context provider: ace-context
2021-09-13T19:07:13.992Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:07:14.042Z appoptics:patching patched crypto 
2021-09-13T19:07:14.067Z appoptics:patching patched https 
2021-09-13T19:07:14.068Z appoptics:patching patched http 
2021-09-13T19:07:14.118Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:07:14.118Z appoptics:patching patched fs 
2021-09-13T19:07:14.142Z appoptics:patching patched zlib 
2021-09-13T19:07:14.273Z appoptics:patching patched mongodb 3.6.4
2021-09-13T19:07:14.281Z appoptics:debug starting runtimeMetrics
(node:1391) Warning: Accessing non-existent property 'MongoError' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1391) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:1391) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1391) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1391) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (335ms)


changed 1 package, and audited 1107 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:07:22.707Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:07:22.709Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:07:22.710Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:07:22.710Z appoptics:debug using context provider: ace-context
2021-09-13T19:07:22.810Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:07:22.878Z appoptics:patching patched crypto 
2021-09-13T19:07:22.906Z appoptics:patching patched https 
2021-09-13T19:07:22.907Z appoptics:patching patched http 
2021-09-13T19:07:22.956Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:07:22.960Z appoptics:patching patched fs 
2021-09-13T19:07:22.980Z appoptics:patching patched zlib 
2021-09-13T19:07:23.134Z appoptics:patching patched mongodb 3.6.5
2021-09-13T19:07:23.142Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (44ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1414) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1414) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1414) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1414) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (418ms)


added 2 packages, changed 2 packages, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:07:31.368Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:07:31.369Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:07:31.369Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:07:31.369Z appoptics:debug using context provider: ace-context
2021-09-13T19:07:31.442Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:07:31.491Z appoptics:patching patched crypto 
2021-09-13T19:07:31.515Z appoptics:patching patched https 
2021-09-13T19:07:31.516Z appoptics:patching patched http 
2021-09-13T19:07:31.562Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:07:31.563Z appoptics:patching patched fs 
2021-09-13T19:07:31.598Z appoptics:patching patched zlib 
2021-09-13T19:07:31.736Z appoptics:patching patched mongodb 3.6.6
2021-09-13T19:07:31.743Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (52ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1437) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1437) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1437) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1437) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (307ms)


changed 1 package, and audited 1109 packages in 15s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:07:47.971Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:07:47.972Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:07:47.972Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:07:47.973Z appoptics:debug using context provider: ace-context
2021-09-13T19:07:48.054Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:07:48.106Z appoptics:patching patched crypto 
2021-09-13T19:07:48.139Z appoptics:patching patched https 
2021-09-13T19:07:48.139Z appoptics:patching patched http 
2021-09-13T19:07:48.197Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:07:48.198Z appoptics:patching patched fs 
2021-09-13T19:07:48.217Z appoptics:patching patched zlib 
2021-09-13T19:07:48.346Z appoptics:patching patched mongodb 3.6.7
2021-09-13T19:07:48.353Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1460) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1460) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1460) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1460) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (307ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:07:56.360Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:07:56.361Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:07:56.361Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:07:56.362Z appoptics:debug using context provider: ace-context
2021-09-13T19:07:56.431Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:07:56.482Z appoptics:patching patched crypto 
2021-09-13T19:07:56.506Z appoptics:patching patched https 
2021-09-13T19:07:56.507Z appoptics:patching patched http 
2021-09-13T19:07:56.557Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:07:56.558Z appoptics:patching patched fs 
2021-09-13T19:07:56.575Z appoptics:patching patched zlib 
2021-09-13T19:07:56.698Z appoptics:patching patched mongodb 3.6.8
2021-09-13T19:07:56.705Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1483) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1483) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1483) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1483) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (278ms)


changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:05.641Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:05.641Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:05.641Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:05.642Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:05.715Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:05.767Z appoptics:patching patched crypto 
2021-09-13T19:08:05.794Z appoptics:patching patched https 
2021-09-13T19:08:05.794Z appoptics:patching patched http 
2021-09-13T19:08:05.840Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:05.840Z appoptics:patching patched fs 
2021-09-13T19:08:05.860Z appoptics:patching patched zlib 
2021-09-13T19:08:05.986Z appoptics:patching patched mongodb 3.6.9
2021-09-13T19:08:05.993Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1506) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1506) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1506) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1506) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (285ms)


changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:14.830Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:14.831Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:14.831Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:14.831Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:14.905Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:14.962Z appoptics:patching patched crypto 
2021-09-13T19:08:14.988Z appoptics:patching patched https 
2021-09-13T19:08:14.989Z appoptics:patching patched http 
2021-09-13T19:08:15.037Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:15.037Z appoptics:patching patched fs 
2021-09-13T19:08:15.057Z appoptics:patching patched zlib 
2021-09-13T19:08:15.185Z appoptics:patching patched mongodb 3.6.10
2021-09-13T19:08:15.192Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (83ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1529) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1529) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1529) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1529) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (332ms)


removed 1 package, changed 1 package, and audited 1108 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:23.030Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:23.031Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:23.031Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:23.032Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:23.142Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:23.196Z appoptics:patching patched crypto 
2021-09-13T19:08:23.221Z appoptics:patching patched https 
2021-09-13T19:08:23.222Z appoptics:patching patched http 
2021-09-13T19:08:23.297Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:23.299Z appoptics:patching patched fs 
2021-09-13T19:08:23.334Z appoptics:patching patched zlib 
2021-09-13T19:08:23.598Z appoptics:patching patched mongodb 3.6.11
2021-09-13T19:08:23.605Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (59ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1552) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1552) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1552) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1552) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (428ms)


added 1 package, changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:32.015Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:32.016Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:32.016Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:32.017Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:32.092Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:32.144Z appoptics:patching patched crypto 
2021-09-13T19:08:32.170Z appoptics:patching patched https 
2021-09-13T19:08:32.170Z appoptics:patching patched http 
2021-09-13T19:08:32.224Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:32.225Z appoptics:patching patched fs 
2021-09-13T19:08:32.241Z appoptics:patching patched zlib 
2021-09-13T19:08:32.367Z appoptics:patching patched mongodb 3.6.12
2021-09-13T19:08:32.374Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.12
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (51ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1575) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1575) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1575) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1575) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (321ms)


changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:41.012Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:41.013Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:41.013Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:41.013Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:41.088Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:41.144Z appoptics:patching patched crypto 
2021-09-13T19:08:41.170Z appoptics:patching patched https 
2021-09-13T19:08:41.171Z appoptics:patching patched http 
2021-09-13T19:08:41.224Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:41.225Z appoptics:patching patched fs 
2021-09-13T19:08:41.242Z appoptics:patching patched zlib 
2021-09-13T19:08:41.366Z appoptics:patching patched mongodb 3.7.0
2021-09-13T19:08:41.373Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.7.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1598) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1598) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1598) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1598) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (292ms)


added 11 packages, removed 5 packages, changed 5 packages, and audited 1115 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:50.007Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:50.008Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:50.008Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:50.009Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:50.135Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:50.212Z appoptics:patching patched crypto 
2021-09-13T19:08:50.240Z appoptics:patching patched https 
2021-09-13T19:08:50.241Z appoptics:patching patched http 
2021-09-13T19:08:50.330Z appoptics:patching patched zlib 
2021-09-13T19:08:50.333Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:50.334Z appoptics:patching patched fs 
2021-09-13T19:08:50.457Z appoptics:patching probes.mongodb "topologies/server.js" not found
2021-09-13T19:08:50.457Z appoptics:patching probes.mongodb "Server.prototype" not found
2021-09-13T19:08:50.457Z appoptics:patching probes.mongodb "topologies/replset.js" not found
2021-09-13T19:08:50.457Z appoptics:patching probes.mongodb "ReplSet.prototype" not found
2021-09-13T19:08:50.457Z appoptics:patching probes.mongodb "topologies/mongos.js" not found
2021-09-13T19:08:50.457Z appoptics:patching probes.mongodb "Mongos.prototype" not found
2021-09-13T19:08:50.457Z appoptics:patching probes.mongodb "Cursor.prototype" not found
2021-09-13T19:08:50.458Z appoptics:patching patched mongodb 4.0.0
2021-09-13T19:08:50.466Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 4.0.0
    2.6
      1) "before all" hook in "2.6"
    3.0
      2) "before all" hook in "3.0"


  1 passing (23ms)
  2 failing

  1) probes.mongodb 4.0.0
       2.6
         "before all" hook in "2.6":
     TypeError: mongodb.Server is not a constructor
      at Context.<anonymous> (test/probes/mongodb.test.js:205:18)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb 4.0.0
       3.0
         "before all" hook in "3.0":
     TypeError: mongodb.Server is not a constructor
      at Context.<anonymous> (test/probes/mongodb.test.js:205:18)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1115 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:58.488Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:58.489Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:58.489Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:58.490Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:58.562Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:58.612Z appoptics:patching patched crypto 
2021-09-13T19:08:58.637Z appoptics:patching patched https 
2021-09-13T19:08:58.637Z appoptics:patching patched http 
2021-09-13T19:08:58.729Z appoptics:patching patched zlib 
2021-09-13T19:08:58.732Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:58.733Z appoptics:patching patched fs 
2021-09-13T19:08:58.863Z appoptics:patching probes.mongodb "topologies/server.js" not found
2021-09-13T19:08:58.863Z appoptics:patching probes.mongodb "Server.prototype" not found
2021-09-13T19:08:58.863Z appoptics:patching probes.mongodb "topologies/replset.js" not found
2021-09-13T19:08:58.863Z appoptics:patching probes.mongodb "ReplSet.prototype" not found
2021-09-13T19:08:58.864Z appoptics:patching probes.mongodb "topologies/mongos.js" not found
2021-09-13T19:08:58.864Z appoptics:patching probes.mongodb "Mongos.prototype" not found
2021-09-13T19:08:58.864Z appoptics:patching probes.mongodb "Cursor.prototype" not found
2021-09-13T19:08:58.864Z appoptics:patching patched mongodb 4.0.1
2021-09-13T19:08:58.913Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 4.0.1
    2.6
      1) "before all" hook in "2.6"
    3.0
      2) "before all" hook in "3.0"


  1 passing (21ms)
  2 failing

  1) probes.mongodb 4.0.1
       2.6
         "before all" hook in "2.6":
     TypeError: mongodb.Server is not a constructor
      at Context.<anonymous> (test/probes/mongodb.test.js:205:18)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb 4.0.1
       3.0
         "before all" hook in "3.0":
     TypeError: mongodb.Server is not a constructor
      at Context.<anonymous> (test/probes/mongodb.test.js:205:18)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1115 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:09:07.600Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:09:07.601Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:09:07.601Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:09:07.602Z appoptics:debug using context provider: ace-context
2021-09-13T19:09:07.708Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:09:07.758Z appoptics:patching patched crypto 
2021-09-13T19:09:07.785Z appoptics:patching patched https 
2021-09-13T19:09:07.786Z appoptics:patching patched http 
2021-09-13T19:09:07.834Z appoptics:patching patched zlib 
2021-09-13T19:09:07.840Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:09:07.843Z appoptics:patching patched fs 
2021-09-13T19:09:07.984Z appoptics:patching probes.mongodb "topologies/server.js" not found
2021-09-13T19:09:07.984Z appoptics:patching probes.mongodb "Server.prototype" not found
2021-09-13T19:09:07.985Z appoptics:patching probes.mongodb "topologies/replset.js" not found
2021-09-13T19:09:07.985Z appoptics:patching probes.mongodb "ReplSet.prototype" not found
2021-09-13T19:09:07.985Z appoptics:patching probes.mongodb "topologies/mongos.js" not found
2021-09-13T19:09:07.985Z appoptics:patching probes.mongodb "Mongos.prototype" not found
2021-09-13T19:09:07.985Z appoptics:patching probes.mongodb "Cursor.prototype" not found
2021-09-13T19:09:07.985Z appoptics:patching patched mongodb 4.1.0
2021-09-13T19:09:08.006Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 4.1.0
    2.6
      1) "before all" hook in "2.6"
    3.0
      2) "before all" hook in "3.0"


  1 passing (20ms)
  2 failing

  1) probes.mongodb 4.1.0
       2.6
         "before all" hook in "2.6":
     TypeError: mongodb.Server is not a constructor
      at Context.<anonymous> (test/probes/mongodb.test.js:205:18)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb 4.1.0
       3.0
         "before all" hook in "3.0":
     TypeError: mongodb.Server is not a constructor
      at Context.<anonymous> (test/probes/mongodb.test.js:205:18)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)




changed 3 packages, and audited 1115 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:09:16.552Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:09:16.553Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:09:16.553Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:09:16.554Z appoptics:debug using context provider: ace-context
2021-09-13T19:09:16.627Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:09:16.678Z appoptics:patching patched crypto 
2021-09-13T19:09:16.703Z appoptics:patching patched https 
2021-09-13T19:09:16.704Z appoptics:patching patched http 
2021-09-13T19:09:16.757Z appoptics:patching patched zlib 
2021-09-13T19:09:16.760Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:09:16.760Z appoptics:patching patched fs 
2021-09-13T19:09:16.850Z appoptics:patching probes.mongodb "topologies/server.js" not found
2021-09-13T19:09:16.850Z appoptics:patching probes.mongodb "Server.prototype" not found
2021-09-13T19:09:16.851Z appoptics:patching probes.mongodb "topologies/replset.js" not found
2021-09-13T19:09:16.851Z appoptics:patching probes.mongodb "ReplSet.prototype" not found
2021-09-13T19:09:16.851Z appoptics:patching probes.mongodb "topologies/mongos.js" not found
2021-09-13T19:09:16.851Z appoptics:patching probes.mongodb "Mongos.prototype" not found
2021-09-13T19:09:16.851Z appoptics:patching probes.mongodb "Cursor.prototype" not found
2021-09-13T19:09:16.851Z appoptics:patching patched mongodb 4.1.1
2021-09-13T19:09:16.859Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 4.1.1
    2.6
      1) "before all" hook in "2.6"
    3.0
      2) "before all" hook in "3.0"


  1 passing (20ms)
  2 failing

  1) probes.mongodb 4.1.1
       2.6
         "before all" hook in "2.6":
     TypeError: mongodb.Server is not a constructor
      at Context.<anonymous> (test/probes/mongodb.test.js:205:18)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb 4.1.1
       3.0
         "before all" hook in "3.0":
     TypeError: mongodb.Server is not a constructor
      at Context.<anonymous> (test/probes/mongodb.test.js:205:18)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)




added 5 packages, removed 11 packages, changed 5 packages, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
