npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.3.0
added 16 packages from 6 contributors, removed 5 packages, updated 2 packages and audited 1096 packages in 6.655s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:33:25.777Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:33:25.777Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:33:25.777Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:33:25.778Z appoptics:debug using context provider: ace-context
2021-11-23T06:33:25.850Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:33:25.983Z appoptics:patching patched crypto 
2021-11-23T06:33:26.064Z appoptics:patching patched https 
2021-11-23T06:33:26.064Z appoptics:patching patched http 
2021-11-23T06:33:26.100Z appoptics:patching patched pino 2.3.0
2021-11-23T06:33:26.104Z appoptics:debug starting runtimeMetrics


  pino v2.3.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.4.0
updated 1 package and audited 1096 packages in 7.988s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:33:35.228Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:33:35.229Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:33:35.229Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:33:35.229Z appoptics:debug using context provider: ace-context
2021-11-23T06:33:35.296Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:33:35.436Z appoptics:patching patched crypto 
2021-11-23T06:33:35.454Z appoptics:patching patched https 
2021-11-23T06:33:35.454Z appoptics:patching patched http 
2021-11-23T06:33:35.492Z appoptics:patching patched pino 2.4.0
2021-11-23T06:33:35.495Z appoptics:debug starting runtimeMetrics


  pino v2.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (181ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.4.1
updated 1 package and audited 1096 packages in 5.044s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:33:41.662Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:33:41.663Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:33:41.663Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:33:41.663Z appoptics:debug using context provider: ace-context
2021-11-23T06:33:41.729Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:33:41.864Z appoptics:patching patched crypto 
2021-11-23T06:33:41.882Z appoptics:patching patched https 
2021-11-23T06:33:41.882Z appoptics:patching patched http 
2021-11-23T06:33:41.922Z appoptics:patching patched pino 2.4.1
2021-11-23T06:33:41.925Z appoptics:debug starting runtimeMetrics


  pino v2.4.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.4.2
updated 1 package and audited 1096 packages in 5.853s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:33:48.988Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:33:48.988Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:33:48.988Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:33:48.989Z appoptics:debug using context provider: ace-context
2021-11-23T06:33:49.053Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:33:49.211Z appoptics:patching patched crypto 
2021-11-23T06:33:49.228Z appoptics:patching patched https 
2021-11-23T06:33:49.228Z appoptics:patching patched http 
2021-11-23T06:33:49.270Z appoptics:patching patched pino 2.4.2
2021-11-23T06:33:49.273Z appoptics:debug starting runtimeMetrics


  pino v2.4.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (191ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.4.3
updated 1 package and audited 1096 packages in 4.896s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:33:55.351Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:33:55.352Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:33:55.352Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:33:55.352Z appoptics:debug using context provider: ace-context
2021-11-23T06:33:55.429Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:33:55.591Z appoptics:patching patched crypto 
2021-11-23T06:33:55.608Z appoptics:patching patched https 
2021-11-23T06:33:55.609Z appoptics:patching patched http 
2021-11-23T06:33:55.679Z appoptics:patching patched pino 2.4.3
2021-11-23T06:33:55.682Z appoptics:debug starting runtimeMetrics


  pino v2.4.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.4.4
updated 1 package and audited 1096 packages in 5.672s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:34:02.514Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:02.515Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:02.515Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:02.516Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:02.582Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:02.712Z appoptics:patching patched crypto 
2021-11-23T06:34:02.730Z appoptics:patching patched https 
2021-11-23T06:34:02.731Z appoptics:patching patched http 
2021-11-23T06:34:02.769Z appoptics:patching patched pino 2.4.4
2021-11-23T06:34:02.772Z appoptics:debug starting runtimeMetrics


  pino v2.4.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.5.0
updated 1 package and audited 1096 packages in 5.03s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:34:09.169Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:09.170Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:09.170Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:09.170Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:09.318Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:09.619Z appoptics:patching patched crypto 
2021-11-23T06:34:09.666Z appoptics:patching patched https 
2021-11-23T06:34:09.666Z appoptics:patching patched http 
2021-11-23T06:34:09.719Z appoptics:patching patched pino 2.5.0
2021-11-23T06:34:09.723Z appoptics:debug starting runtimeMetrics


  pino v2.5.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.6.0
updated 1 package and audited 1096 packages in 4.898s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:34:15.765Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:15.766Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:15.766Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:15.766Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:15.832Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:15.973Z appoptics:patching patched crypto 
2021-11-23T06:34:16.009Z appoptics:patching patched https 
2021-11-23T06:34:16.009Z appoptics:patching patched http 
2021-11-23T06:34:16.044Z appoptics:patching patched pino 2.6.0
2021-11-23T06:34:16.047Z appoptics:debug starting runtimeMetrics


  pino v2.6.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.6.1
updated 1 package and audited 1096 packages in 5.473s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:34:22.809Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:22.809Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:22.810Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:22.810Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:22.869Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:23.001Z appoptics:patching patched crypto 
2021-11-23T06:34:23.018Z appoptics:patching patched https 
2021-11-23T06:34:23.018Z appoptics:patching patched http 
2021-11-23T06:34:23.057Z appoptics:patching patched pino 2.6.1
2021-11-23T06:34:23.060Z appoptics:debug starting runtimeMetrics


  pino v2.6.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.7.0
updated 1 package and audited 1096 packages in 4.906s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:34:29.202Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:29.202Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:29.203Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:29.203Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:29.268Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:29.411Z appoptics:patching patched crypto 
2021-11-23T06:34:29.428Z appoptics:patching patched https 
2021-11-23T06:34:29.428Z appoptics:patching patched http 
2021-11-23T06:34:29.476Z appoptics:patching patched pino 2.7.0
2021-11-23T06:34:29.479Z appoptics:debug starting runtimeMetrics


  pino v2.7.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.7.1
updated 1 package and audited 1096 packages in 5.273s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:34:35.902Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:35.902Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:35.902Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:35.903Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:35.968Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:36.105Z appoptics:patching patched crypto 
2021-11-23T06:34:36.124Z appoptics:patching patched https 
2021-11-23T06:34:36.125Z appoptics:patching patched http 
2021-11-23T06:34:36.196Z appoptics:patching patched pino 2.7.1
2021-11-23T06:34:36.200Z appoptics:debug starting runtimeMetrics


  pino v2.7.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.7.2
updated 1 package and audited 1096 packages in 5.054s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:34:42.300Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:42.300Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:42.300Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:42.301Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:42.363Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:42.505Z appoptics:patching patched crypto 
2021-11-23T06:34:42.522Z appoptics:patching patched https 
2021-11-23T06:34:42.523Z appoptics:patching patched http 
2021-11-23T06:34:42.563Z appoptics:patching patched pino 2.7.2
2021-11-23T06:34:42.566Z appoptics:debug starting runtimeMetrics


  pino v2.7.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.7.3
updated 1 package and audited 1096 packages in 5.328s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:34:48.981Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:48.982Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:48.982Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:48.982Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:49.047Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:49.205Z appoptics:patching patched crypto 
2021-11-23T06:34:49.224Z appoptics:patching patched https 
2021-11-23T06:34:49.224Z appoptics:patching patched http 
2021-11-23T06:34:49.263Z appoptics:patching patched pino 2.7.3
2021-11-23T06:34:49.267Z appoptics:debug starting runtimeMetrics


  pino v2.7.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.7.4
updated 1 package and audited 1096 packages in 5.264s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:34:55.705Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:55.705Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:55.705Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:55.706Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:55.768Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:55.898Z appoptics:patching patched crypto 
2021-11-23T06:34:55.923Z appoptics:patching patched https 
2021-11-23T06:34:55.924Z appoptics:patching patched http 
2021-11-23T06:34:55.959Z appoptics:patching patched pino 2.7.4
2021-11-23T06:34:55.962Z appoptics:debug starting runtimeMetrics


  pino v2.7.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.7.5
updated 1 package and audited 1096 packages in 5.432s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:02.536Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:02.537Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:02.537Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:02.538Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:02.604Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:02.739Z appoptics:patching patched crypto 
2021-11-23T06:35:02.757Z appoptics:patching patched https 
2021-11-23T06:35:02.757Z appoptics:patching patched http 
2021-11-23T06:35:02.797Z appoptics:patching patched pino 2.7.5
2021-11-23T06:35:02.801Z appoptics:debug starting runtimeMetrics


  pino v2.7.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.8.0
updated 1 package and audited 1096 packages in 4.98s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:08.910Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:08.910Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:08.910Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:08.911Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:08.979Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:09.137Z appoptics:patching patched crypto 
2021-11-23T06:35:09.154Z appoptics:patching patched https 
2021-11-23T06:35:09.154Z appoptics:patching patched http 
2021-11-23T06:35:09.224Z appoptics:patching patched pino 2.8.0
2021-11-23T06:35:09.228Z appoptics:debug starting runtimeMetrics


  pino v2.8.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (101ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.8.1
updated 1 package and audited 1096 packages in 5.391s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:15.961Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:15.962Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:15.962Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:15.962Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:16.025Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:16.153Z appoptics:patching patched crypto 
2021-11-23T06:35:16.170Z appoptics:patching patched https 
2021-11-23T06:35:16.171Z appoptics:patching patched http 
2021-11-23T06:35:16.214Z appoptics:patching patched pino 2.8.1
2021-11-23T06:35:16.218Z appoptics:debug starting runtimeMetrics


  pino v2.8.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.8.2
updated 1 package and audited 1096 packages in 5.738s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:23.298Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:23.298Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:23.298Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:23.299Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:23.377Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:23.533Z appoptics:patching patched crypto 
2021-11-23T06:35:23.584Z appoptics:patching patched https 
2021-11-23T06:35:23.584Z appoptics:patching patched http 
2021-11-23T06:35:23.633Z appoptics:patching patched pino 2.8.2
2021-11-23T06:35:23.637Z appoptics:debug starting runtimeMetrics


  pino v2.8.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (187ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.8.3
updated 1 package and audited 1096 packages in 4.701s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:29.458Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:29.459Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:29.459Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:29.460Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:29.523Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:29.654Z appoptics:patching patched crypto 
2021-11-23T06:35:29.671Z appoptics:patching patched https 
2021-11-23T06:35:29.671Z appoptics:patching patched http 
2021-11-23T06:35:29.731Z appoptics:patching patched pino 2.8.3
2021-11-23T06:35:29.734Z appoptics:debug starting runtimeMetrics


  pino v2.8.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (189ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.9.0
updated 1 package and audited 1096 packages in 5.903s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:36.782Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:36.783Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:36.783Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:36.784Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:36.847Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:36.980Z appoptics:patching patched crypto 
2021-11-23T06:35:36.997Z appoptics:patching patched https 
2021-11-23T06:35:36.997Z appoptics:patching patched http 
2021-11-23T06:35:37.046Z appoptics:patching patched pino 2.9.0
2021-11-23T06:35:37.049Z appoptics:debug starting runtimeMetrics


  pino v2.9.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.10.0
updated 1 package and audited 1096 packages in 4.802s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:42.968Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:42.968Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:42.968Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:42.969Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:43.032Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:43.162Z appoptics:patching patched crypto 
2021-11-23T06:35:43.178Z appoptics:patching patched https 
2021-11-23T06:35:43.178Z appoptics:patching patched http 
2021-11-23T06:35:43.228Z appoptics:patching patched pino 2.10.0
2021-11-23T06:35:43.231Z appoptics:debug starting runtimeMetrics


  pino v2.10.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.10.1
updated 1 package and audited 1096 packages in 5.662s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:50.034Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:50.034Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:50.034Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:50.035Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:50.109Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:50.245Z appoptics:patching patched crypto 
2021-11-23T06:35:50.262Z appoptics:patching patched https 
2021-11-23T06:35:50.262Z appoptics:patching patched http 
2021-11-23T06:35:50.307Z appoptics:patching patched pino 2.10.1
2021-11-23T06:35:50.311Z appoptics:debug starting runtimeMetrics


  pino v2.10.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.11.0
updated 1 package and audited 1096 packages in 4.684s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:56.166Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:56.167Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:56.167Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:56.167Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:56.231Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:56.374Z appoptics:patching patched crypto 
2021-11-23T06:35:56.392Z appoptics:patching patched https 
2021-11-23T06:35:56.392Z appoptics:patching patched http 
2021-11-23T06:35:56.446Z appoptics:patching patched pino 2.11.0
2021-11-23T06:35:56.452Z appoptics:debug starting runtimeMetrics


  pino v2.11.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.12.0
updated 1 package and audited 1096 packages in 5.573s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:03.203Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:03.203Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:03.203Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:03.204Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:03.267Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:03.395Z appoptics:patching patched crypto 
2021-11-23T06:36:03.411Z appoptics:patching patched https 
2021-11-23T06:36:03.411Z appoptics:patching patched http 
2021-11-23T06:36:03.456Z appoptics:patching patched pino 2.12.0
2021-11-23T06:36:03.459Z appoptics:debug starting runtimeMetrics


  pino v2.12.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.12.1
updated 1 package and audited 1096 packages in 4.895s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:09.440Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:09.441Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:09.441Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:09.442Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:09.505Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:09.658Z appoptics:patching patched crypto 
2021-11-23T06:36:09.691Z appoptics:patching patched https 
2021-11-23T06:36:09.692Z appoptics:patching patched http 
2021-11-23T06:36:09.741Z appoptics:patching patched pino 2.12.1
2021-11-23T06:36:09.745Z appoptics:debug starting runtimeMetrics


  pino v2.12.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.12.2
updated 1 package and audited 1096 packages in 5.533s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:16.525Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:16.526Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:16.526Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:16.526Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:16.590Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:16.730Z appoptics:patching patched crypto 
2021-11-23T06:36:16.747Z appoptics:patching patched https 
2021-11-23T06:36:16.747Z appoptics:patching patched http 
2021-11-23T06:36:16.801Z appoptics:patching patched pino 2.12.2
2021-11-23T06:36:16.805Z appoptics:debug starting runtimeMetrics


  pino v2.12.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.12.3
updated 1 package and audited 1096 packages in 5.082s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:23.133Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:23.134Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:23.134Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:23.134Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:23.213Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:23.360Z appoptics:patching patched crypto 
2021-11-23T06:36:23.397Z appoptics:patching patched https 
2021-11-23T06:36:23.397Z appoptics:patching patched http 
2021-11-23T06:36:23.470Z appoptics:patching patched pino 2.12.3
2021-11-23T06:36:23.474Z appoptics:debug starting runtimeMetrics


  pino v2.12.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (189ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.12.4
updated 1 package and audited 1096 packages in 4.986s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:29.702Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:29.703Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:29.703Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:29.704Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:29.777Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:29.911Z appoptics:patching patched crypto 
2021-11-23T06:36:29.928Z appoptics:patching patched https 
2021-11-23T06:36:29.929Z appoptics:patching patched http 
2021-11-23T06:36:29.972Z appoptics:patching patched pino 2.12.4
2021-11-23T06:36:29.976Z appoptics:debug starting runtimeMetrics


  pino v2.12.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.13.0
updated 1 package and audited 1096 packages in 5.324s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:36.424Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:36.425Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:36.425Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:36.426Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:36.497Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:36.646Z appoptics:patching patched crypto 
2021-11-23T06:36:36.674Z appoptics:patching patched https 
2021-11-23T06:36:36.674Z appoptics:patching patched http 
2021-11-23T06:36:36.715Z appoptics:patching patched pino 2.13.0
2021-11-23T06:36:36.718Z appoptics:debug starting runtimeMetrics


  pino v2.13.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.13.2
updated 1 package and audited 1096 packages in 5.108s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:42.946Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:42.946Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:42.946Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:42.947Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:43.018Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:43.148Z appoptics:patching patched crypto 
2021-11-23T06:36:43.169Z appoptics:patching patched https 
2021-11-23T06:36:43.169Z appoptics:patching patched http 
2021-11-23T06:36:43.213Z appoptics:patching patched pino 2.13.2
2021-11-23T06:36:43.216Z appoptics:debug starting runtimeMetrics


  pino v2.13.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.14.0
updated 1 package and audited 1096 packages in 5.152s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:49.449Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:49.450Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:49.450Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:49.451Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:49.512Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:49.644Z appoptics:patching patched crypto 
2021-11-23T06:36:49.660Z appoptics:patching patched https 
2021-11-23T06:36:49.660Z appoptics:patching patched http 
2021-11-23T06:36:49.704Z appoptics:patching patched pino 2.14.0
2021-11-23T06:36:49.707Z appoptics:debug starting runtimeMetrics


  pino v2.14.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.15.0
updated 1 package and audited 1096 packages in 6.676s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:57.547Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:57.548Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:57.548Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:57.549Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:57.620Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:57.750Z appoptics:patching patched crypto 
2021-11-23T06:36:57.766Z appoptics:patching patched https 
2021-11-23T06:36:57.766Z appoptics:patching patched http 
2021-11-23T06:36:57.823Z appoptics:patching patched pino 2.15.0
2021-11-23T06:36:57.827Z appoptics:debug starting runtimeMetrics


  pino v2.15.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.16.0
added 1 package from 1 contributor, removed 1 package, updated 1 package and audited 1096 packages in 5.056s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:04.016Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:04.017Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:04.017Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:04.017Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:04.081Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:04.212Z appoptics:patching patched crypto 
2021-11-23T06:37:04.228Z appoptics:patching patched https 
2021-11-23T06:37:04.229Z appoptics:patching patched http 
2021-11-23T06:37:04.249Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:04.249Z appoptics:patching patched fs 
2021-11-23T06:37:04.279Z appoptics:patching patched pino 2.16.0
2021-11-23T06:37:04.282Z appoptics:debug starting runtimeMetrics


  pino v2.16.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.0
added 1 package from 1 contributor, removed 1 package, updated 1 package and audited 1096 packages in 4.671s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:10.124Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:10.125Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:10.125Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:10.125Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:10.205Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:10.363Z appoptics:patching patched crypto 
2021-11-23T06:37:10.381Z appoptics:patching patched https 
2021-11-23T06:37:10.381Z appoptics:patching patched http 
2021-11-23T06:37:10.430Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:10.430Z appoptics:patching patched fs 
2021-11-23T06:37:10.451Z appoptics:patching patched pino 3.0.0
2021-11-23T06:37:10.455Z appoptics:debug starting runtimeMetrics


  pino v3.0.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.1
added 1 package from 1 contributor, removed 1 package, updated 1 package and audited 1096 packages in 5.534s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:17.185Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:17.186Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:17.186Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:17.186Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:17.251Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:17.382Z appoptics:patching patched crypto 
2021-11-23T06:37:17.398Z appoptics:patching patched https 
2021-11-23T06:37:17.398Z appoptics:patching patched http 
2021-11-23T06:37:17.420Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:17.421Z appoptics:patching patched fs 
2021-11-23T06:37:17.443Z appoptics:patching patched pino 3.0.1
2021-11-23T06:37:17.446Z appoptics:debug starting runtimeMetrics


  pino v3.0.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.2
updated 1 package and audited 1096 packages in 5.82s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:24.655Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:24.656Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:24.656Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:24.657Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:24.719Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:24.845Z appoptics:patching patched crypto 
2021-11-23T06:37:24.861Z appoptics:patching patched https 
2021-11-23T06:37:24.861Z appoptics:patching patched http 
2021-11-23T06:37:24.893Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:24.893Z appoptics:patching patched fs 
2021-11-23T06:37:24.907Z appoptics:patching patched pino 3.0.2
2021-11-23T06:37:24.911Z appoptics:debug starting runtimeMetrics


  pino v3.0.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.3
updated 1 package and audited 1096 packages in 4.819s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:30.808Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:30.808Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:30.808Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:30.809Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:30.871Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:31.036Z appoptics:patching patched crypto 
2021-11-23T06:37:31.053Z appoptics:patching patched https 
2021-11-23T06:37:31.053Z appoptics:patching patched http 
2021-11-23T06:37:31.074Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:31.074Z appoptics:patching patched fs 
2021-11-23T06:37:31.093Z appoptics:patching patched pino 3.0.3
2021-11-23T06:37:31.097Z appoptics:debug starting runtimeMetrics


  pino v3.0.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.4
updated 1 package and audited 1096 packages in 5.546s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:37.741Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:37.741Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:37.741Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:37.742Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:37.804Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:37.964Z appoptics:patching patched crypto 
2021-11-23T06:37:37.997Z appoptics:patching patched https 
2021-11-23T06:37:37.997Z appoptics:patching patched http 
2021-11-23T06:37:38.040Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:38.041Z appoptics:patching patched fs 
2021-11-23T06:37:38.057Z appoptics:patching patched pino 3.0.4
2021-11-23T06:37:38.060Z appoptics:debug starting runtimeMetrics


  pino v3.0.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.5
updated 1 package and audited 1096 packages in 4.468s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:43.648Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:43.649Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:43.649Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:43.649Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:43.711Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:43.838Z appoptics:patching patched crypto 
2021-11-23T06:37:43.855Z appoptics:patching patched https 
2021-11-23T06:37:43.855Z appoptics:patching patched http 
2021-11-23T06:37:43.880Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:43.880Z appoptics:patching patched fs 
2021-11-23T06:37:43.895Z appoptics:patching patched pino 3.0.5
2021-11-23T06:37:43.898Z appoptics:debug starting runtimeMetrics


  pino v3.0.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (101ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.6
updated 1 package and audited 1096 packages in 5.151s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:50.114Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:50.115Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:50.115Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:50.115Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:50.176Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:50.305Z appoptics:patching patched crypto 
2021-11-23T06:37:50.321Z appoptics:patching patched https 
2021-11-23T06:37:50.321Z appoptics:patching patched http 
2021-11-23T06:37:50.355Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:50.355Z appoptics:patching patched fs 
2021-11-23T06:37:50.370Z appoptics:patching patched pino 3.0.6
2021-11-23T06:37:50.373Z appoptics:debug starting runtimeMetrics


  pino v3.0.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (101ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (162ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.7
updated 1 package and audited 1096 packages in 5.67s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:57.270Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:57.270Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:57.270Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:57.271Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:57.350Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:57.506Z appoptics:patching patched crypto 
2021-11-23T06:37:57.545Z appoptics:patching patched https 
2021-11-23T06:37:57.545Z appoptics:patching patched http 
2021-11-23T06:37:57.576Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:57.576Z appoptics:patching patched fs 
2021-11-23T06:37:57.592Z appoptics:patching patched pino 3.0.7
2021-11-23T06:37:57.595Z appoptics:debug starting runtimeMetrics


  pino v3.0.7
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.1.0
updated 1 package and audited 1096 packages in 5.124s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:03.942Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:03.943Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:03.943Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:03.943Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:04.010Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:04.143Z appoptics:patching patched crypto 
2021-11-23T06:38:04.159Z appoptics:patching patched https 
2021-11-23T06:38:04.159Z appoptics:patching patched http 
2021-11-23T06:38:04.189Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:04.189Z appoptics:patching patched fs 
2021-11-23T06:38:04.217Z appoptics:patching patched pino 3.1.0
2021-11-23T06:38:04.221Z appoptics:debug starting runtimeMetrics


  pino v3.1.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.1.1
updated 1 package and audited 1096 packages in 5.209s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:10.482Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:10.483Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:10.483Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:10.484Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:10.555Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:10.693Z appoptics:patching patched crypto 
2021-11-23T06:38:10.711Z appoptics:patching patched https 
2021-11-23T06:38:10.711Z appoptics:patching patched http 
2021-11-23T06:38:10.751Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:10.751Z appoptics:patching patched fs 
2021-11-23T06:38:10.767Z appoptics:patching patched pino 3.1.1
2021-11-23T06:38:10.770Z appoptics:debug starting runtimeMetrics


  pino v3.1.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (168ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.1.2
updated 1 package and audited 1096 packages in 5.423s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:17.437Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:17.438Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:17.438Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:17.438Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:17.504Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:17.637Z appoptics:patching patched crypto 
2021-11-23T06:38:17.656Z appoptics:patching patched https 
2021-11-23T06:38:17.656Z appoptics:patching patched http 
2021-11-23T06:38:17.680Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:17.681Z appoptics:patching patched fs 
2021-11-23T06:38:17.695Z appoptics:patching patched pino 3.1.2
2021-11-23T06:38:17.699Z appoptics:debug starting runtimeMetrics


  pino v3.1.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.1.3
updated 1 package and audited 1096 packages in 5.295s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:24.344Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:24.344Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:24.344Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:24.345Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:24.424Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:24.619Z appoptics:patching patched crypto 
2021-11-23T06:38:24.639Z appoptics:patching patched https 
2021-11-23T06:38:24.639Z appoptics:patching patched http 
2021-11-23T06:38:24.698Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:24.698Z appoptics:patching patched fs 
2021-11-23T06:38:24.723Z appoptics:patching patched pino 3.1.3
2021-11-23T06:38:24.728Z appoptics:debug starting runtimeMetrics


  pino v3.1.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.2.0
updated 1 package and audited 1096 packages in 4.622s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:30.564Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:30.565Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:30.565Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:30.565Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:30.627Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:30.756Z appoptics:patching patched crypto 
2021-11-23T06:38:30.772Z appoptics:patching patched https 
2021-11-23T06:38:30.772Z appoptics:patching patched http 
2021-11-23T06:38:30.791Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:30.792Z appoptics:patching patched fs 
2021-11-23T06:38:30.814Z appoptics:patching patched pino 3.2.0
2021-11-23T06:38:30.818Z appoptics:debug starting runtimeMetrics


  pino v3.2.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.3.0
updated 1 package and audited 1096 packages in 6.068s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:37.964Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:37.965Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:37.965Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:37.966Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:38.031Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:38.161Z appoptics:patching patched crypto 
2021-11-23T06:38:38.179Z appoptics:patching patched https 
2021-11-23T06:38:38.179Z appoptics:patching patched http 
2021-11-23T06:38:38.204Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:38.205Z appoptics:patching patched fs 

Error: Cannot find module './lib/events'
Require stack:
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/pino.js
- /__w/appoptics-apm-node/appoptics-apm-node/test/probes/pino.test.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/esm-utils.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/mocha.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/one-and-dones.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/options.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/bin/mocha
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:815:15)
    at Function.Module._load (internal/modules/cjs/loader.js:667:27)
    at Module.require (internal/modules/cjs/loader.js:887:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/pino.js:7:14)
    at Module._compile (internal/modules/cjs/loader.js:999:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)
    at Module.load (internal/modules/cjs/loader.js:863:32)
    at Function.Module._load (internal/modules/cjs/loader.js:708:14)
    at Module.require (internal/modules/cjs/loader.js:887:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/pino.test.js:11:14)
    at Module._compile (internal/modules/cjs/loader.js:999:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)
    at Module.load (internal/modules/cjs/loader.js:863:32)
    at Function.Module._load (internal/modules/cjs/loader.js:708:14)
    at Module.require (internal/modules/cjs/loader.js:887:19)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Object.exports.requireOrImport (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/esm-utils.js:42:12)
    at Object.exports.loadFilesAsync (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/esm-utils.js:55:34)
    at Mocha.loadFilesAsync (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/mocha.js:473:19)
    at singleRun (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/run-helpers.js:125:15)
    at exports.runMocha (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/run-helpers.js:190:10)
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.3.1
updated 1 package and audited 1096 packages in 4.954s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:44.159Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:44.159Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:44.160Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:44.160Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:44.231Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:44.368Z appoptics:patching patched crypto 
2021-11-23T06:38:44.388Z appoptics:patching patched https 
2021-11-23T06:38:44.388Z appoptics:patching patched http 
2021-11-23T06:38:44.412Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:44.412Z appoptics:patching patched fs 
2021-11-23T06:38:44.429Z appoptics:patching patched pino 3.3.1
2021-11-23T06:38:44.432Z appoptics:debug starting runtimeMetrics


  pino v3.3.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.3.2
updated 1 package and audited 1096 packages in 4.963s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:50.470Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:50.470Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:50.470Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:50.471Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:50.535Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:50.663Z appoptics:patching patched crypto 
2021-11-23T06:38:50.680Z appoptics:patching patched https 
2021-11-23T06:38:50.680Z appoptics:patching patched http 
2021-11-23T06:38:50.700Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:50.700Z appoptics:patching patched fs 
2021-11-23T06:38:50.723Z appoptics:patching patched pino 3.3.2
2021-11-23T06:38:50.726Z appoptics:debug starting runtimeMetrics


  pino v3.3.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.4.0
added 2 packages from 2 contributors, updated 1 package and audited 1098 packages in 5.179s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:56.982Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:56.982Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:56.982Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:56.983Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:57.047Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:57.178Z appoptics:patching patched crypto 
2021-11-23T06:38:57.195Z appoptics:patching patched https 
2021-11-23T06:38:57.195Z appoptics:patching patched http 
2021-11-23T06:38:57.220Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:57.220Z appoptics:patching patched fs 
2021-11-23T06:38:57.238Z appoptics:patching patched pino 3.4.0
2021-11-23T06:38:57.241Z appoptics:debug starting runtimeMetrics


  pino v3.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.0.0
updated 1 package and audited 1098 packages in 5.768s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:04.104Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:04.104Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:04.104Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:04.105Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:04.164Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:04.296Z appoptics:patching patched crypto 
2021-11-23T06:39:04.312Z appoptics:patching patched https 
2021-11-23T06:39:04.313Z appoptics:patching patched http 
2021-11-23T06:39:04.365Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:04.365Z appoptics:patching patched fs 
2021-11-23T06:39:04.382Z appoptics:patching patched pino 4.0.0
2021-11-23T06:39:04.389Z appoptics:debug starting runtimeMetrics


  pino v4.0.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (168ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.0.1
updated 1 package and audited 1098 packages in 5.483s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:10.979Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:10.979Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:10.979Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:10.980Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:11.051Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:11.214Z appoptics:patching patched crypto 
2021-11-23T06:39:11.231Z appoptics:patching patched https 
2021-11-23T06:39:11.231Z appoptics:patching patched http 
2021-11-23T06:39:11.277Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:11.278Z appoptics:patching patched fs 
2021-11-23T06:39:11.295Z appoptics:patching patched pino 4.0.1
2021-11-23T06:39:11.298Z appoptics:debug starting runtimeMetrics


  pino v4.0.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.0.2
updated 1 package and audited 1098 packages in 5.424s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:17.917Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:17.918Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:17.918Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:17.918Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:17.983Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:18.111Z appoptics:patching patched crypto 
2021-11-23T06:39:18.127Z appoptics:patching patched https 
2021-11-23T06:39:18.127Z appoptics:patching patched http 
2021-11-23T06:39:18.146Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:18.147Z appoptics:patching patched fs 
2021-11-23T06:39:18.167Z appoptics:patching patched pino 4.0.2
2021-11-23T06:39:18.172Z appoptics:debug starting runtimeMetrics


  pino v4.0.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.0.3
updated 1 package and audited 1098 packages in 4.725s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:24.254Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:24.255Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:24.255Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:24.256Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:24.377Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:24.664Z appoptics:patching patched crypto 
2021-11-23T06:39:24.690Z appoptics:patching patched https 
2021-11-23T06:39:24.691Z appoptics:patching patched http 
2021-11-23T06:39:24.785Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:24.785Z appoptics:patching patched fs 
2021-11-23T06:39:24.843Z appoptics:patching patched pino 4.0.3
2021-11-23T06:39:24.853Z appoptics:debug starting runtimeMetrics


  pino v4.0.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (197ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

npm ERR! code ENOENT
npm ERR! syscall chmod
npm ERR! path /__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/bin.js
npm ERR! errno -2
npm ERR! enoent ENOENT: no such file or directory, chmod '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/bin.js'
npm ERR! enoent This is related to npm not being able to find a file.
npm ERR! enoent 

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-11-23T06_39_29_959Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.1.1
added 8 packages from 5 contributors and audited 1098 packages in 4.669s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:35.768Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:35.769Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:35.769Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:35.770Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:35.885Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:36.118Z appoptics:patching patched crypto 
2021-11-23T06:39:36.142Z appoptics:patching patched https 
2021-11-23T06:39:36.143Z appoptics:patching patched http 
2021-11-23T06:39:36.178Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:36.178Z appoptics:patching patched fs 
2021-11-23T06:39:36.225Z appoptics:patching patched pino 4.1.1
2021-11-23T06:39:36.230Z appoptics:debug starting runtimeMetrics


  pino v4.1.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (210ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.1.2
updated 1 package and audited 1098 packages in 4.782s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:42.304Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:42.305Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:42.305Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:42.306Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:42.369Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:42.494Z appoptics:patching patched crypto 
2021-11-23T06:39:42.511Z appoptics:patching patched https 
2021-11-23T06:39:42.512Z appoptics:patching patched http 
2021-11-23T06:39:42.536Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:42.536Z appoptics:patching patched fs 
2021-11-23T06:39:42.554Z appoptics:patching patched pino 4.1.2
2021-11-23T06:39:42.557Z appoptics:debug starting runtimeMetrics


  pino v4.1.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.2.0
updated 1 package and audited 1098 packages in 4.941s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:48.695Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:48.696Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:48.696Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:48.697Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:48.767Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:48.925Z appoptics:patching patched crypto 
2021-11-23T06:39:48.942Z appoptics:patching patched https 
2021-11-23T06:39:48.943Z appoptics:patching patched http 
2021-11-23T06:39:48.993Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:48.994Z appoptics:patching patched fs 
2021-11-23T06:39:49.021Z appoptics:patching patched pino 4.2.0
2021-11-23T06:39:49.025Z appoptics:debug starting runtimeMetrics


  pino v4.2.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.2.1
updated 1 package and audited 1098 packages in 4.729s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:55.231Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:55.231Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:55.232Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:55.232Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:55.362Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:55.714Z appoptics:patching patched crypto 
2021-11-23T06:39:55.757Z appoptics:patching patched https 
2021-11-23T06:39:55.758Z appoptics:patching patched http 
2021-11-23T06:39:55.809Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:55.810Z appoptics:patching patched fs 
2021-11-23T06:39:55.865Z appoptics:patching patched pino 4.2.1
2021-11-23T06:39:55.875Z appoptics:debug starting runtimeMetrics


  pino v4.2.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (105ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (182ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.2.2
updated 1 package and audited 1098 packages in 5.062s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:40:02.149Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:02.149Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:02.150Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:02.150Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:02.211Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:02.328Z appoptics:patching patched crypto 
2021-11-23T06:40:02.343Z appoptics:patching patched https 
2021-11-23T06:40:02.343Z appoptics:patching patched http 
2021-11-23T06:40:02.360Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:02.361Z appoptics:patching patched fs 
2021-11-23T06:40:02.384Z appoptics:patching patched pino 4.2.2
2021-11-23T06:40:02.387Z appoptics:debug starting runtimeMetrics


  pino v4.2.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.2.3
updated 1 package and audited 1098 packages in 5.988s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:40:09.458Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:09.459Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:09.459Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:09.460Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:09.521Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:09.654Z appoptics:patching patched crypto 
2021-11-23T06:40:09.671Z appoptics:patching patched https 
2021-11-23T06:40:09.671Z appoptics:patching patched http 
2021-11-23T06:40:09.695Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:09.695Z appoptics:patching patched fs 
2021-11-23T06:40:09.712Z appoptics:patching patched pino 4.2.3
2021-11-23T06:40:09.716Z appoptics:debug starting runtimeMetrics


  pino v4.2.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.2.4
updated 1 package and audited 1098 packages in 5.248s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:40:16.096Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:16.097Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:16.097Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:16.097Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:16.164Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:16.296Z appoptics:patching patched crypto 
2021-11-23T06:40:16.314Z appoptics:patching patched https 
2021-11-23T06:40:16.314Z appoptics:patching patched http 
2021-11-23T06:40:16.338Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:16.339Z appoptics:patching patched fs 
2021-11-23T06:40:16.355Z appoptics:patching patched pino 4.2.4
2021-11-23T06:40:16.358Z appoptics:debug starting runtimeMetrics


  pino v4.2.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.3.0
updated 1 package and audited 1098 packages in 4.835s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:40:22.281Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:22.282Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:22.282Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:22.283Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:22.348Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:22.479Z appoptics:patching patched crypto 
2021-11-23T06:40:22.497Z appoptics:patching patched https 
2021-11-23T06:40:22.497Z appoptics:patching patched http 
2021-11-23T06:40:22.522Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:22.522Z appoptics:patching patched fs 
2021-11-23T06:40:22.540Z appoptics:patching patched pino 4.3.0
2021-11-23T06:40:22.544Z appoptics:debug starting runtimeMetrics


  pino v4.3.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (168ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.4.0
updated 1 package and audited 1098 packages in 5.234s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:40:28.881Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:28.882Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:28.882Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:28.882Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:28.942Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:29.113Z appoptics:patching patched crypto 
2021-11-23T06:40:29.128Z appoptics:patching patched https 
2021-11-23T06:40:29.128Z appoptics:patching patched http 
2021-11-23T06:40:29.161Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:29.161Z appoptics:patching patched fs 
2021-11-23T06:40:29.177Z appoptics:patching patched pino 4.4.0
2021-11-23T06:40:29.180Z appoptics:debug starting runtimeMetrics


  pino v4.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.5.0
updated 1 package and audited 1098 packages in 4.712s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:40:35.001Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:35.002Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:35.002Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:35.002Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:35.067Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:35.193Z appoptics:patching patched crypto 
2021-11-23T06:40:35.209Z appoptics:patching patched https 
2021-11-23T06:40:35.209Z appoptics:patching patched http 
2021-11-23T06:40:35.232Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:35.233Z appoptics:patching patched fs 
2021-11-23T06:40:35.255Z appoptics:patching patched pino 4.5.0
2021-11-23T06:40:35.258Z appoptics:debug starting runtimeMetrics


  pino v4.5.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.5.1
updated 1 package and audited 1098 packages in 5.553s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:40:42.113Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:42.113Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:42.113Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:42.114Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:42.178Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:42.307Z appoptics:patching patched crypto 
2021-11-23T06:40:42.324Z appoptics:patching patched https 
2021-11-23T06:40:42.324Z appoptics:patching patched http 
2021-11-23T06:40:42.343Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:42.343Z appoptics:patching patched fs 
2021-11-23T06:40:42.367Z appoptics:patching patched pino 4.5.1
2021-11-23T06:40:42.371Z appoptics:debug starting runtimeMetrics


  pino v4.5.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.5.2
updated 1 package and audited 1098 packages in 4.573s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:40:48.113Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:48.114Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:48.114Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:48.115Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:48.196Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:48.370Z appoptics:patching patched crypto 
2021-11-23T06:40:48.395Z appoptics:patching patched https 
2021-11-23T06:40:48.399Z appoptics:patching patched http 
2021-11-23T06:40:48.452Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:48.453Z appoptics:patching patched fs 
2021-11-23T06:40:48.476Z appoptics:patching patched pino 4.5.2
2021-11-23T06:40:48.479Z appoptics:debug starting runtimeMetrics


  pino v4.5.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (106ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (195ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.5.3
updated 1 package and audited 1098 packages in 5.012s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:40:54.745Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:54.746Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:54.746Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:54.746Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:54.814Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:54.944Z appoptics:patching patched crypto 
2021-11-23T06:40:54.961Z appoptics:patching patched https 
2021-11-23T06:40:54.961Z appoptics:patching patched http 
2021-11-23T06:40:54.981Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:54.981Z appoptics:patching patched fs 
2021-11-23T06:40:55.008Z appoptics:patching patched pino 4.5.3
2021-11-23T06:40:55.011Z appoptics:debug starting runtimeMetrics


  pino v4.5.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.5.4
updated 1 package and audited 1098 packages in 4.731s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:41:00.958Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:00.958Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:00.958Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:00.959Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:01.026Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:01.236Z appoptics:patching patched crypto 
2021-11-23T06:41:01.258Z appoptics:patching patched https 
2021-11-23T06:41:01.258Z appoptics:patching patched http 
2021-11-23T06:41:01.281Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:01.281Z appoptics:patching patched fs 
2021-11-23T06:41:01.330Z appoptics:patching patched pino 4.5.4
2021-11-23T06:41:01.335Z appoptics:debug starting runtimeMetrics


  pino v4.5.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.6.0
updated 1 package and audited 1098 packages in 4.952s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:41:07.454Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:07.455Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:07.455Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:07.456Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:07.520Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:07.649Z appoptics:patching patched crypto 
2021-11-23T06:41:07.666Z appoptics:patching patched https 
2021-11-23T06:41:07.667Z appoptics:patching patched http 
2021-11-23T06:41:07.691Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:07.692Z appoptics:patching patched fs 
2021-11-23T06:41:07.710Z appoptics:patching patched pino 4.6.0
2021-11-23T06:41:07.713Z appoptics:debug starting runtimeMetrics


  pino v4.6.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.7.0
removed 6 packages, updated 2 packages and audited 1092 packages in 5.1s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:41:14.437Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:14.437Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:14.438Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:14.438Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:14.512Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:14.649Z appoptics:patching patched crypto 
2021-11-23T06:41:14.666Z appoptics:patching patched https 
2021-11-23T06:41:14.667Z appoptics:patching patched http 
2021-11-23T06:41:14.689Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:14.689Z appoptics:patching patched fs 
2021-11-23T06:41:14.726Z appoptics:patching patched pino 4.7.0
2021-11-23T06:41:14.730Z appoptics:debug starting runtimeMetrics


  pino v4.7.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.7.1
updated 1 package and audited 1092 packages in 4.788s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:41:20.674Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:20.675Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:20.675Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:20.676Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:20.739Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:20.869Z appoptics:patching patched crypto 
2021-11-23T06:41:20.885Z appoptics:patching patched https 
2021-11-23T06:41:20.885Z appoptics:patching patched http 
2021-11-23T06:41:20.905Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:20.905Z appoptics:patching patched fs 
2021-11-23T06:41:20.933Z appoptics:patching patched pino 4.7.1
2021-11-23T06:41:20.936Z appoptics:debug starting runtimeMetrics


  pino v4.7.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.7.2
updated 1 package and audited 1092 packages in 5.621s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:41:27.662Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:27.663Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:27.663Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:27.663Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:27.727Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:27.854Z appoptics:patching patched crypto 
2021-11-23T06:41:27.871Z appoptics:patching patched https 
2021-11-23T06:41:27.871Z appoptics:patching patched http 
2021-11-23T06:41:27.890Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:27.890Z appoptics:patching patched fs 
2021-11-23T06:41:27.918Z appoptics:patching patched pino 4.7.2
2021-11-23T06:41:27.921Z appoptics:debug starting runtimeMetrics


  pino v4.7.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.7.3
updated 1 package and audited 1092 packages in 4.584s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:41:33.578Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:33.578Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:33.578Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:33.579Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:33.644Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:33.771Z appoptics:patching patched crypto 
2021-11-23T06:41:33.789Z appoptics:patching patched https 
2021-11-23T06:41:33.789Z appoptics:patching patched http 
2021-11-23T06:41:33.813Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:33.814Z appoptics:patching patched fs 
2021-11-23T06:41:33.834Z appoptics:patching patched pino 4.7.3
2021-11-23T06:41:33.837Z appoptics:debug starting runtimeMetrics


  pino v4.7.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.8.0
updated 1 package and audited 1092 packages in 5.592s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:41:40.791Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:40.791Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:40.791Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:40.792Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:40.856Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:40.988Z appoptics:patching patched crypto 
2021-11-23T06:41:41.003Z appoptics:patching patched https 
2021-11-23T06:41:41.004Z appoptics:patching patched http 
2021-11-23T06:41:41.041Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:41.041Z appoptics:patching patched fs 
2021-11-23T06:41:41.060Z appoptics:patching patched pino 4.8.0
2021-11-23T06:41:41.063Z appoptics:debug starting runtimeMetrics


  pino v4.8.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.8.1
updated 1 package and audited 1092 packages in 4.562s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:41:46.850Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:46.850Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:46.850Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:46.851Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:46.933Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:47.166Z appoptics:patching patched crypto 
2021-11-23T06:41:47.200Z appoptics:patching patched https 
2021-11-23T06:41:47.201Z appoptics:patching patched http 
2021-11-23T06:41:47.228Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:47.229Z appoptics:patching patched fs 
2021-11-23T06:41:47.252Z appoptics:patching patched pino 4.8.1
2021-11-23T06:41:47.256Z appoptics:debug starting runtimeMetrics


  pino v4.8.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.8.2
updated 1 package and audited 1092 packages in 5.108s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:41:53.469Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:53.470Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:53.470Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:53.470Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:53.536Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:53.666Z appoptics:patching patched crypto 
2021-11-23T06:41:53.682Z appoptics:patching patched https 
2021-11-23T06:41:53.683Z appoptics:patching patched http 
2021-11-23T06:41:53.702Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:53.702Z appoptics:patching patched fs 
2021-11-23T06:41:53.729Z appoptics:patching patched pino 4.8.2
2021-11-23T06:41:53.732Z appoptics:debug starting runtimeMetrics


  pino v4.8.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (168ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.9.0
updated 1 package and audited 1092 packages in 4.852s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:41:59.710Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:59.711Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:59.711Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:59.711Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:59.776Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:59.904Z appoptics:patching patched crypto 
2021-11-23T06:41:59.920Z appoptics:patching patched https 
2021-11-23T06:41:59.920Z appoptics:patching patched http 
2021-11-23T06:41:59.939Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:59.940Z appoptics:patching patched fs 
2021-11-23T06:41:59.967Z appoptics:patching patched pino 4.9.0
2021-11-23T06:41:59.970Z appoptics:debug starting runtimeMetrics


  pino v4.9.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.10.0
updated 1 package and audited 1092 packages in 5.239s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:42:06.279Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:06.280Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:06.280Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:06.281Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:06.343Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:06.470Z appoptics:patching patched crypto 
2021-11-23T06:42:06.486Z appoptics:patching patched https 
2021-11-23T06:42:06.486Z appoptics:patching patched http 
2021-11-23T06:42:06.505Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:06.505Z appoptics:patching patched fs 
2021-11-23T06:42:06.531Z appoptics:patching patched pino 4.10.0
2021-11-23T06:42:06.534Z appoptics:debug starting runtimeMetrics


  pino v4.10.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.10.1
updated 1 package and audited 1092 packages in 4.499s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:42:12.126Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:12.126Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:12.126Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:12.127Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:12.192Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:12.321Z appoptics:patching patched crypto 
2021-11-23T06:42:12.338Z appoptics:patching patched https 
2021-11-23T06:42:12.338Z appoptics:patching patched http 
2021-11-23T06:42:12.363Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:12.363Z appoptics:patching patched fs 
2021-11-23T06:42:12.395Z appoptics:patching patched pino 4.10.1
2021-11-23T06:42:12.399Z appoptics:debug starting runtimeMetrics


  pino v4.10.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.10.2
updated 1 package and audited 1092 packages in 5.176s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:42:18.686Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:18.687Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:18.687Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:18.687Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:18.766Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:18.894Z appoptics:patching patched crypto 
2021-11-23T06:42:18.928Z appoptics:patching patched https 
2021-11-23T06:42:18.928Z appoptics:patching patched http 
2021-11-23T06:42:18.954Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:18.954Z appoptics:patching patched fs 
2021-11-23T06:42:18.979Z appoptics:patching patched pino 4.10.2
2021-11-23T06:42:18.982Z appoptics:debug starting runtimeMetrics


  pino v4.10.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (101ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.10.3
updated 2 packages and audited 1092 packages in 4.886s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:42:25.123Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:25.123Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:25.123Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:25.124Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:25.204Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:25.359Z appoptics:patching patched crypto 
2021-11-23T06:42:25.377Z appoptics:patching patched https 
2021-11-23T06:42:25.377Z appoptics:patching patched http 
2021-11-23T06:42:25.426Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:25.427Z appoptics:patching patched fs 
2021-11-23T06:42:25.454Z appoptics:patching patched pino 4.10.3
2021-11-23T06:42:25.457Z appoptics:debug starting runtimeMetrics


  pino v4.10.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.10.4
updated 1 package and audited 1092 packages in 4.942s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:42:31.721Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:31.721Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:31.721Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:31.722Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:31.783Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:31.915Z appoptics:patching patched crypto 
2021-11-23T06:42:31.931Z appoptics:patching patched https 
2021-11-23T06:42:31.931Z appoptics:patching patched http 
2021-11-23T06:42:31.951Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:31.952Z appoptics:patching patched fs 
2021-11-23T06:42:31.980Z appoptics:patching patched pino 4.10.4
2021-11-23T06:42:31.983Z appoptics:debug starting runtimeMetrics


  pino v4.10.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.11.0
updated 1 package and audited 1092 packages in 4.95s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:42:38.192Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:38.193Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:38.193Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:38.194Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:38.285Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:38.461Z appoptics:patching patched crypto 
2021-11-23T06:42:38.511Z appoptics:patching patched https 
2021-11-23T06:42:38.511Z appoptics:patching patched http 
2021-11-23T06:42:38.532Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:38.532Z appoptics:patching patched fs 
2021-11-23T06:42:38.563Z appoptics:patching patched pino 4.11.0
2021-11-23T06:42:38.568Z appoptics:debug starting runtimeMetrics


  pino v4.11.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.12.0
added 1 package from 1 contributor, updated 1 package and audited 1093 packages in 4.584s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:42:44.206Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:44.207Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:44.207Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:44.207Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:44.272Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:44.407Z appoptics:patching patched crypto 
2021-11-23T06:42:44.425Z appoptics:patching patched https 
2021-11-23T06:42:44.425Z appoptics:patching patched http 
2021-11-23T06:42:44.450Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:44.451Z appoptics:patching patched fs 
2021-11-23T06:42:44.471Z appoptics:patching patched pino 4.12.0
2021-11-23T06:42:44.474Z appoptics:debug starting runtimeMetrics


  pino v4.12.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.13.0
updated 1 package and audited 1093 packages in 4.928s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:42:50.658Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:50.659Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:50.659Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:50.660Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:50.756Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:50.892Z appoptics:patching patched crypto 
2021-11-23T06:42:50.915Z appoptics:patching patched https 
2021-11-23T06:42:50.915Z appoptics:patching patched http 
2021-11-23T06:42:50.955Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:50.955Z appoptics:patching patched fs 
2021-11-23T06:42:50.979Z appoptics:patching patched pino 4.13.0
2021-11-23T06:42:50.983Z appoptics:debug starting runtimeMetrics


  pino v4.13.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.14.0
updated 2 packages and audited 1093 packages in 4.458s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:42:56.686Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:56.687Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:56.687Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:56.687Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:56.745Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:56.876Z appoptics:patching patched crypto 
2021-11-23T06:42:56.892Z appoptics:patching patched https 
2021-11-23T06:42:56.893Z appoptics:patching patched http 
2021-11-23T06:42:56.928Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:56.928Z appoptics:patching patched fs 
2021-11-23T06:42:56.950Z appoptics:patching patched pino 4.14.0
2021-11-23T06:42:56.953Z appoptics:debug starting runtimeMetrics


  pino v4.14.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.15.0
updated 1 package and audited 1093 packages in 5.69s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:43:03.840Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:03.840Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:03.840Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:03.841Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:03.904Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:04.033Z appoptics:patching patched crypto 
2021-11-23T06:43:04.049Z appoptics:patching patched https 
2021-11-23T06:43:04.049Z appoptics:patching patched http 
2021-11-23T06:43:04.075Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:04.076Z appoptics:patching patched fs 
2021-11-23T06:43:04.102Z appoptics:patching patched pino 4.15.0
2021-11-23T06:43:04.105Z appoptics:debug starting runtimeMetrics


  pino v4.15.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.15.1
updated 1 package and audited 1093 packages in 4.666s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:43:09.894Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:09.895Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:09.895Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:09.895Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:09.959Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:10.091Z appoptics:patching patched crypto 
2021-11-23T06:43:10.109Z appoptics:patching patched https 
2021-11-23T06:43:10.109Z appoptics:patching patched http 
2021-11-23T06:43:10.155Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:10.156Z appoptics:patching patched fs 
2021-11-23T06:43:10.179Z appoptics:patching patched pino 4.15.1
2021-11-23T06:43:10.182Z appoptics:debug starting runtimeMetrics


  pino v4.15.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.15.2
updated 1 package and audited 1093 packages in 6.254s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:43:18.112Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:18.112Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:18.112Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:18.113Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:18.171Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:18.304Z appoptics:patching patched crypto 
2021-11-23T06:43:18.320Z appoptics:patching patched https 
2021-11-23T06:43:18.320Z appoptics:patching patched http 
2021-11-23T06:43:18.340Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:18.341Z appoptics:patching patched fs 
2021-11-23T06:43:18.368Z appoptics:patching patched pino 4.15.2
2021-11-23T06:43:18.372Z appoptics:debug starting runtimeMetrics


  pino v4.15.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.15.3
updated 2 packages and audited 1093 packages in 4.763s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:43:24.234Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:24.235Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:24.235Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:24.235Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:24.300Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:24.427Z appoptics:patching patched crypto 
2021-11-23T06:43:24.445Z appoptics:patching patched https 
2021-11-23T06:43:24.445Z appoptics:patching patched http 
2021-11-23T06:43:24.470Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:24.470Z appoptics:patching patched fs 
2021-11-23T06:43:24.491Z appoptics:patching patched pino 4.15.3
2021-11-23T06:43:24.494Z appoptics:debug starting runtimeMetrics


  pino v4.15.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (168ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.15.4
updated 1 package and audited 1093 packages in 5.184s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:43:30.889Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:30.890Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:30.890Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:30.890Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:30.973Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:31.106Z appoptics:patching patched crypto 
2021-11-23T06:43:31.124Z appoptics:patching patched https 
2021-11-23T06:43:31.124Z appoptics:patching patched http 
2021-11-23T06:43:31.149Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:31.150Z appoptics:patching patched fs 
2021-11-23T06:43:31.170Z appoptics:patching patched pino 4.15.4
2021-11-23T06:43:31.173Z appoptics:debug starting runtimeMetrics


  pino v4.15.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.16.0
updated 1 package and audited 1093 packages in 4.671s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:43:37.028Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:37.029Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:37.029Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:37.029Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:37.092Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:37.225Z appoptics:patching patched crypto 
2021-11-23T06:43:37.241Z appoptics:patching patched https 
2021-11-23T06:43:37.241Z appoptics:patching patched http 
2021-11-23T06:43:37.263Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:37.263Z appoptics:patching patched fs 
2021-11-23T06:43:37.289Z appoptics:patching patched pino 4.16.0
2021-11-23T06:43:37.292Z appoptics:debug starting runtimeMetrics


  pino v4.16.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.16.1
updated 1 package and audited 1093 packages in 5.506s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:43:43.906Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:43.906Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:43.906Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:43.907Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:43.966Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:44.135Z appoptics:patching patched crypto 
2021-11-23T06:43:44.152Z appoptics:patching patched https 
2021-11-23T06:43:44.152Z appoptics:patching patched http 
2021-11-23T06:43:44.177Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:44.177Z appoptics:patching patched fs 
2021-11-23T06:43:44.198Z appoptics:patching patched pino 4.16.1
2021-11-23T06:43:44.201Z appoptics:debug starting runtimeMetrics


  pino v4.16.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.17.0
updated 1 package and audited 1093 packages in 4.747s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:43:50.093Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:50.093Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:50.094Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:50.094Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:50.159Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:50.311Z appoptics:patching patched crypto 
2021-11-23T06:43:50.328Z appoptics:patching patched https 
2021-11-23T06:43:50.329Z appoptics:patching patched http 
2021-11-23T06:43:50.352Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:50.352Z appoptics:patching patched fs 
2021-11-23T06:43:50.404Z appoptics:patching patched pino 4.17.0
2021-11-23T06:43:50.409Z appoptics:debug starting runtimeMetrics


  pino v4.17.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (188ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.17.1
updated 1 package and audited 1093 packages in 4.753s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:43:56.359Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:56.359Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:56.359Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:56.360Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:56.423Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:56.551Z appoptics:patching patched crypto 
2021-11-23T06:43:56.568Z appoptics:patching patched https 
2021-11-23T06:43:56.568Z appoptics:patching patched http 
2021-11-23T06:43:56.593Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:56.593Z appoptics:patching patched fs 
2021-11-23T06:43:56.614Z appoptics:patching patched pino 4.17.1
2021-11-23T06:43:56.617Z appoptics:debug starting runtimeMetrics


  pino v4.17.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.17.2
updated 1 package and audited 1093 packages in 4.674s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:44:02.697Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:02.698Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:02.698Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:02.699Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:02.776Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:02.929Z appoptics:patching patched crypto 
2021-11-23T06:44:02.947Z appoptics:patching patched https 
2021-11-23T06:44:02.947Z appoptics:patching patched http 
2021-11-23T06:44:02.996Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:02.996Z appoptics:patching patched fs 
2021-11-23T06:44:03.028Z appoptics:patching patched pino 4.17.2
2021-11-23T06:44:03.032Z appoptics:debug starting runtimeMetrics


  pino v4.17.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.17.3
updated 1 package and audited 1093 packages in 5.111s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:44:09.328Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:09.328Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:09.328Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:09.329Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:09.391Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:09.521Z appoptics:patching patched crypto 
2021-11-23T06:44:09.536Z appoptics:patching patched https 
2021-11-23T06:44:09.537Z appoptics:patching patched http 
2021-11-23T06:44:09.556Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:09.556Z appoptics:patching patched fs 
2021-11-23T06:44:09.581Z appoptics:patching patched pino 4.17.3
2021-11-23T06:44:09.584Z appoptics:debug starting runtimeMetrics


  pino v4.17.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.17.5
updated 1 package and audited 1093 packages in 4.853s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:44:15.772Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:15.772Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:15.772Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:15.773Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:15.893Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:16.174Z appoptics:patching patched crypto 
2021-11-23T06:44:16.192Z appoptics:patching patched https 
2021-11-23T06:44:16.192Z appoptics:patching patched http 
2021-11-23T06:44:16.218Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:16.218Z appoptics:patching patched fs 
2021-11-23T06:44:16.239Z appoptics:patching patched pino 4.17.5
2021-11-23T06:44:16.242Z appoptics:debug starting runtimeMetrics


  pino v4.17.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.17.6
updated 1 package and audited 1093 packages in 4.808s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:44:22.170Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:22.170Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:22.170Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:22.171Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:22.236Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:22.367Z appoptics:patching patched crypto 
2021-11-23T06:44:22.385Z appoptics:patching patched https 
2021-11-23T06:44:22.385Z appoptics:patching patched http 
2021-11-23T06:44:22.411Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:22.411Z appoptics:patching patched fs 
2021-11-23T06:44:22.432Z appoptics:patching patched pino 4.17.6
2021-11-23T06:44:22.435Z appoptics:debug starting runtimeMetrics


  pino v4.17.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.0.0
added 2 packages from 2 contributors, removed 8 packages, updated 3 packages and audited 1087 packages in 5.573s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:44:29.164Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:29.165Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:29.165Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:29.166Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:29.231Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:29.387Z appoptics:patching patched crypto 
2021-11-23T06:44:29.404Z appoptics:patching patched https 
2021-11-23T06:44:29.404Z appoptics:patching patched http 
2021-11-23T06:44:29.485Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:29.485Z appoptics:patching patched fs 
2021-11-23T06:44:29.514Z appoptics:patching patched pino 5.0.0
2021-11-23T06:44:29.519Z appoptics:debug starting runtimeMetrics


  pino v5.0.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.0.1
updated 2 packages and audited 1087 packages in 4.547s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:44:35.346Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:35.347Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:35.347Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:35.348Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:35.417Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:35.548Z appoptics:patching patched crypto 
2021-11-23T06:44:35.565Z appoptics:patching patched https 
2021-11-23T06:44:35.565Z appoptics:patching patched http 
2021-11-23T06:44:35.600Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:35.600Z appoptics:patching patched fs 
2021-11-23T06:44:35.609Z appoptics:patching patched pino 5.0.1
2021-11-23T06:44:35.613Z appoptics:debug starting runtimeMetrics


  pino v5.0.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.0.2
updated 1 package and audited 1087 packages in 5.444s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:44:42.152Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:42.153Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:42.153Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:42.153Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:42.220Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:42.387Z appoptics:patching patched crypto 
2021-11-23T06:44:42.404Z appoptics:patching patched https 
2021-11-23T06:44:42.405Z appoptics:patching patched http 
2021-11-23T06:44:42.430Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:42.430Z appoptics:patching patched fs 
2021-11-23T06:44:42.438Z appoptics:patching patched pino 5.0.2
2021-11-23T06:44:42.441Z appoptics:debug starting runtimeMetrics


  pino v5.0.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.0.3
updated 1 package and audited 1087 packages in 4.521s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:44:48.088Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:48.089Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:48.089Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:48.090Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:48.151Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:48.280Z appoptics:patching patched crypto 
2021-11-23T06:44:48.297Z appoptics:patching patched https 
2021-11-23T06:44:48.297Z appoptics:patching patched http 
2021-11-23T06:44:48.317Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:48.318Z appoptics:patching patched fs 
2021-11-23T06:44:48.328Z appoptics:patching patched pino 5.0.3
2021-11-23T06:44:48.341Z appoptics:debug starting runtimeMetrics


  pino v5.0.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (162ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.0.4
updated 1 package and audited 1087 packages in 5.597s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:44:55.076Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:55.076Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:55.076Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:55.077Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:55.147Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:55.277Z appoptics:patching patched crypto 
2021-11-23T06:44:55.294Z appoptics:patching patched https 
2021-11-23T06:44:55.294Z appoptics:patching patched http 
2021-11-23T06:44:55.314Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:55.315Z appoptics:patching patched fs 
2021-11-23T06:44:55.330Z appoptics:patching patched pino 5.0.4
2021-11-23T06:44:55.334Z appoptics:debug starting runtimeMetrics


  pino v5.0.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.0.5
updated 1 package and audited 1087 packages in 4.522s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:45:00.937Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:00.937Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:00.937Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:00.938Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:01.003Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:01.135Z appoptics:patching patched crypto 
2021-11-23T06:45:01.153Z appoptics:patching patched https 
2021-11-23T06:45:01.154Z appoptics:patching patched http 
2021-11-23T06:45:01.184Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:01.184Z appoptics:patching patched fs 
2021-11-23T06:45:01.194Z appoptics:patching patched pino 5.0.5
2021-11-23T06:45:01.197Z appoptics:debug starting runtimeMetrics


  pino v5.0.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.1.0
updated 1 package and audited 1087 packages in 5.271s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:45:07.569Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:07.570Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:07.570Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:07.571Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:07.636Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:07.764Z appoptics:patching patched crypto 
2021-11-23T06:45:07.780Z appoptics:patching patched https 
2021-11-23T06:45:07.780Z appoptics:patching patched http 
2021-11-23T06:45:07.800Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:07.801Z appoptics:patching patched fs 
2021-11-23T06:45:07.812Z appoptics:patching patched pino 5.1.0
2021-11-23T06:45:07.820Z appoptics:debug starting runtimeMetrics


  pino v5.1.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.1.1
updated 1 package and audited 1087 packages in 4.672s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:45:13.686Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:13.687Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:13.687Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:13.688Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:13.767Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:13.924Z appoptics:patching patched crypto 
2021-11-23T06:45:13.942Z appoptics:patching patched https 
2021-11-23T06:45:13.942Z appoptics:patching patched http 
2021-11-23T06:45:13.992Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:13.992Z appoptics:patching patched fs 
2021-11-23T06:45:14.015Z appoptics:patching patched pino 5.1.1
2021-11-23T06:45:14.018Z appoptics:debug starting runtimeMetrics


  pino v5.1.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (101ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.2.0
updated 1 package and audited 1087 packages in 5.532s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:45:20.712Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:20.713Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:20.713Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:20.713Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:20.772Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:20.905Z appoptics:patching patched crypto 
2021-11-23T06:45:20.923Z appoptics:patching patched https 
2021-11-23T06:45:20.923Z appoptics:patching patched http 
2021-11-23T06:45:20.948Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:20.948Z appoptics:patching patched fs 
2021-11-23T06:45:20.958Z appoptics:patching patched pino 5.2.0
2021-11-23T06:45:20.961Z appoptics:debug starting runtimeMetrics


  pino v5.2.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.3.0
updated 1 package and audited 1087 packages in 4.521s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:45:26.556Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:26.556Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:26.556Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:26.557Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:26.619Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:26.746Z appoptics:patching patched crypto 
2021-11-23T06:45:26.763Z appoptics:patching patched https 
2021-11-23T06:45:26.763Z appoptics:patching patched http 
2021-11-23T06:45:26.791Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:26.791Z appoptics:patching patched fs 
2021-11-23T06:45:26.800Z appoptics:patching patched pino 5.3.0
2021-11-23T06:45:26.804Z appoptics:debug starting runtimeMetrics


  pino v5.3.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.3.1
updated 1 package and audited 1087 packages in 5.416s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:45:33.365Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:33.365Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:33.365Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:33.366Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:33.432Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:33.565Z appoptics:patching patched crypto 
2021-11-23T06:45:33.581Z appoptics:patching patched https 
2021-11-23T06:45:33.581Z appoptics:patching patched http 
2021-11-23T06:45:33.618Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:33.619Z appoptics:patching patched fs 
2021-11-23T06:45:33.628Z appoptics:patching patched pino 5.3.1
2021-11-23T06:45:33.631Z appoptics:debug starting runtimeMetrics


  pino v5.3.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.4.0
updated 1 package and audited 1087 packages in 4.512s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:45:39.343Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:39.343Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:39.343Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:39.344Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:39.424Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:39.583Z appoptics:patching patched crypto 
2021-11-23T06:45:39.600Z appoptics:patching patched https 
2021-11-23T06:45:39.600Z appoptics:patching patched http 
2021-11-23T06:45:39.652Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:39.652Z appoptics:patching patched fs 
2021-11-23T06:45:39.674Z appoptics:patching patched pino 5.4.0
2021-11-23T06:45:39.678Z appoptics:debug starting runtimeMetrics


  pino v5.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (204ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.4.1
updated 1 package and audited 1087 packages in 4.713s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:45:45.602Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:45.603Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:45.603Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:45.604Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:45.668Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:45.841Z appoptics:patching patched crypto 
2021-11-23T06:45:45.879Z appoptics:patching patched https 
2021-11-23T06:45:45.880Z appoptics:patching patched http 
2021-11-23T06:45:45.914Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:45.914Z appoptics:patching patched fs 
2021-11-23T06:45:45.922Z appoptics:patching patched pino 5.4.1
2021-11-23T06:45:45.926Z appoptics:debug starting runtimeMetrics


  pino v5.4.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.5.0
updated 1 package and audited 1087 packages in 4.752s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:45:52.088Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:52.089Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:52.089Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:52.090Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:52.169Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:52.329Z appoptics:patching patched crypto 
2021-11-23T06:45:52.346Z appoptics:patching patched https 
2021-11-23T06:45:52.346Z appoptics:patching patched http 
2021-11-23T06:45:52.396Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:52.397Z appoptics:patching patched fs 
2021-11-23T06:45:52.418Z appoptics:patching patched pino 5.5.0
2021-11-23T06:45:52.422Z appoptics:debug starting runtimeMetrics


  pino v5.5.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.6.0
updated 1 package and audited 1087 packages in 4.699s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:45:58.285Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:58.286Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:58.286Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:58.286Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:58.352Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:58.481Z appoptics:patching patched crypto 
2021-11-23T06:45:58.498Z appoptics:patching patched https 
2021-11-23T06:45:58.498Z appoptics:patching patched http 
2021-11-23T06:45:58.518Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:58.518Z appoptics:patching patched fs 
2021-11-23T06:45:58.528Z appoptics:patching patched pino 5.6.0
2021-11-23T06:45:58.536Z appoptics:debug starting runtimeMetrics


  pino v5.6.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.6.1
updated 1 package and audited 1087 packages in 4.953s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:46:04.806Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:46:04.807Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:46:04.807Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:46:04.808Z appoptics:debug using context provider: ace-context
2021-11-23T06:46:04.906Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:46:05.037Z appoptics:patching patched crypto 
2021-11-23T06:46:05.054Z appoptics:patching patched https 
2021-11-23T06:46:05.055Z appoptics:patching patched http 
2021-11-23T06:46:05.079Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:46:05.080Z appoptics:patching patched fs 
2021-11-23T06:46:05.089Z appoptics:patching patched pino 5.6.1
2021-11-23T06:46:05.092Z appoptics:debug starting runtimeMetrics


  pino v5.6.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.6.2
updated 1 package and audited 1087 packages in 5.217s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:46:11.469Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:46:11.470Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:46:11.470Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:46:11.470Z appoptics:debug using context provider: ace-context
2021-11-23T06:46:11.535Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:46:11.664Z appoptics:patching patched crypto 
2021-11-23T06:46:11.681Z appoptics:patching patched https 
2021-11-23T06:46:11.681Z appoptics:patching patched http 
2021-11-23T06:46:11.702Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:46:11.702Z appoptics:patching patched fs 
2021-11-23T06:46:11.712Z appoptics:patching patched pino 5.6.2
2021-11-23T06:46:11.721Z appoptics:debug starting runtimeMetrics


  pino v5.6.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.6.3
updated 1 package and audited 1087 packages in 5.356s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:46:18.222Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:46:18.223Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:46:18.223Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:46:18.223Z appoptics:debug using context provider: ace-context
2021-11-23T06:46:18.288Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:46:18.429Z appoptics:patching patched crypto 
2021-11-23T06:46:18.449Z appoptics:patching patched https 
2021-11-23T06:46:18.450Z appoptics:patching patched http 
2021-11-23T06:46:18.503Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:46:18.503Z appoptics:patching patched fs 
2021-11-23T06:46:18.524Z appoptics:patching patched pino 5.6.3
2021-11-23T06:46:18.528Z appoptics:debug starting runtimeMetrics


  pino v5.6.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.6.4
updated 1 package and audited 1087 packages in 4.44s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:46:24.420Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:46:24.420Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:46:24.420Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:46:24.421Z appoptics:debug using context provider: ace-context
2021-11-23T06:46:24.488Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:46:24.618Z appoptics:patching patched crypto 
2021-11-23T06:46:24.636Z appoptics:patching patched https 
2021-11-23T06:46:24.636Z appoptics:patching patched http 
2021-11-23T06:46:24.661Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:46:24.662Z appoptics:patching patched fs 
2021-11-23T06:46:24.669Z appoptics:patching patched pino 5.6.4
2021-11-23T06:46:24.673Z appoptics:debug starting runtimeMetrics


  pino v5.6.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.7.0
updated 1 package and audited 1087 packages in 4.79s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:46:30.620Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:46:30.621Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:46:30.621Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:46:30.621Z appoptics:debug using context provider: ace-context
2021-11-23T06:46:30.678Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:46:30.790Z appoptics:patching patched crypto 
2021-11-23T06:46:30.805Z appoptics:patching patched https 
2021-11-23T06:46:30.805Z appoptics:patching patched http 
2021-11-23T06:46:30.838Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:46:30.838Z appoptics:patching patched fs 
2021-11-23T06:46:30.847Z appoptics:patching patched pino 5.7.0
2021-11-23T06:46:30.850Z appoptics:debug starting runtimeMetrics


  pino v5.7.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (161ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.8.0
updated 1 package and audited 1087 packages in 4.204s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:46:36.086Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:46:36.086Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:46:36.086Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:46:36.087Z appoptics:debug using context provider: ace-context
2021-11-23T06:46:36.152Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:46:36.285Z appoptics:patching patched crypto 
2021-11-23T06:46:36.302Z appoptics:patching patched https 
2021-11-23T06:46:36.302Z appoptics:patching patched http 
2021-11-23T06:46:36.343Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:46:36.343Z appoptics:patching patched fs 
2021-11-23T06:46:36.352Z appoptics:patching patched pino 5.8.0
2021-11-23T06:46:36.356Z appoptics:debug starting runtimeMetrics


  pino v5.8.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.8.1
updated 1 package and audited 1087 packages in 5.079s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:46:42.592Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:46:42.592Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:46:42.592Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:46:42.593Z appoptics:debug using context provider: ace-context
2021-11-23T06:46:42.655Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:46:42.783Z appoptics:patching patched crypto 
2021-11-23T06:46:42.802Z appoptics:patching patched https 
2021-11-23T06:46:42.802Z appoptics:patching patched http 
2021-11-23T06:46:42.831Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:46:42.832Z appoptics:patching patched fs 
2021-11-23T06:46:42.838Z appoptics:patching patched pino 5.8.1
2021-11-23T06:46:42.841Z appoptics:debug starting runtimeMetrics


  pino v5.8.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.9.0
updated 1 package and audited 1087 packages in 4.487s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:46:48.421Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:46:48.422Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:46:48.422Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:46:48.422Z appoptics:debug using context provider: ace-context
2021-11-23T06:46:48.486Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:46:48.611Z appoptics:patching patched crypto 
2021-11-23T06:46:48.632Z appoptics:patching patched https 
2021-11-23T06:46:48.633Z appoptics:patching patched http 
2021-11-23T06:46:48.660Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:46:48.660Z appoptics:patching patched fs 
2021-11-23T06:46:48.666Z appoptics:patching patched pino 5.9.0
2021-11-23T06:46:48.669Z appoptics:debug starting runtimeMetrics


  pino v5.9.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (101ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.1
added 1 package from 1 contributor, updated 2 packages and audited 1088 packages in 5.498s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:46:55.242Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:46:55.242Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:46:55.242Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:46:55.243Z appoptics:debug using context provider: ace-context
2021-11-23T06:46:55.308Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:46:55.439Z appoptics:patching patched crypto 
2021-11-23T06:46:55.455Z appoptics:patching patched https 
2021-11-23T06:46:55.456Z appoptics:patching patched http 
2021-11-23T06:46:55.480Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:46:55.481Z appoptics:patching patched fs 
2021-11-23T06:46:55.488Z appoptics:patching patched pino 5.10.1
2021-11-23T06:46:55.492Z appoptics:debug starting runtimeMetrics


  pino v5.10.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.2
updated 1 package and audited 1088 packages in 4.618s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:47:01.246Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:47:01.246Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:47:01.246Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:47:01.247Z appoptics:debug using context provider: ace-context
2021-11-23T06:47:01.312Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:47:01.438Z appoptics:patching patched crypto 
2021-11-23T06:47:01.455Z appoptics:patching patched https 
2021-11-23T06:47:01.455Z appoptics:patching patched http 
2021-11-23T06:47:01.479Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:47:01.479Z appoptics:patching patched fs 
2021-11-23T06:47:01.486Z appoptics:patching patched pino 5.10.2
2021-11-23T06:47:01.490Z appoptics:debug starting runtimeMetrics


  pino v5.10.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.3
updated 1 package and audited 1088 packages in 5.229s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:47:07.821Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:47:07.822Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:47:07.822Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:47:07.823Z appoptics:debug using context provider: ace-context
2021-11-23T06:47:07.909Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:47:08.043Z appoptics:patching patched crypto 
2021-11-23T06:47:08.059Z appoptics:patching patched https 
2021-11-23T06:47:08.059Z appoptics:patching patched http 
2021-11-23T06:47:08.098Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:47:08.098Z appoptics:patching patched fs 
2021-11-23T06:47:08.103Z appoptics:patching patched pino 5.10.3
2021-11-23T06:47:08.107Z appoptics:debug starting runtimeMetrics


  pino v5.10.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.4
updated 1 package and audited 1088 packages in 4.589s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:47:13.857Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:47:13.857Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:47:13.858Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:47:13.858Z appoptics:debug using context provider: ace-context
2021-11-23T06:47:13.928Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:47:14.073Z appoptics:patching patched crypto 
2021-11-23T06:47:14.090Z appoptics:patching patched https 
2021-11-23T06:47:14.090Z appoptics:patching patched http 
2021-11-23T06:47:14.143Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:47:14.143Z appoptics:patching patched fs 
2021-11-23T06:47:14.161Z appoptics:patching patched pino 5.10.4
2021-11-23T06:47:14.164Z appoptics:debug starting runtimeMetrics


  pino v5.10.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (168ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.5
removed 3 packages, updated 1 package and audited 1085 packages in 5.306s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:47:20.574Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:47:20.575Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:47:20.575Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:47:20.576Z appoptics:debug using context provider: ace-context
2021-11-23T06:47:20.635Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:47:20.770Z appoptics:patching patched crypto 
2021-11-23T06:47:20.788Z appoptics:patching patched https 
2021-11-23T06:47:20.788Z appoptics:patching patched http 
2021-11-23T06:47:20.817Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:47:20.818Z appoptics:patching patched fs 
2021-11-23T06:47:20.824Z appoptics:patching patched pino 5.10.5
2021-11-23T06:47:20.828Z appoptics:debug starting runtimeMetrics


  pino v5.10.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.6
updated 1 package and audited 1085 packages in 4.942s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:47:26.886Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:47:26.887Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:47:26.887Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:47:26.887Z appoptics:debug using context provider: ace-context
2021-11-23T06:47:26.950Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:47:27.081Z appoptics:patching patched crypto 
2021-11-23T06:47:27.098Z appoptics:patching patched https 
2021-11-23T06:47:27.098Z appoptics:patching patched http 
2021-11-23T06:47:27.127Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:47:27.127Z appoptics:patching patched fs 
2021-11-23T06:47:27.133Z appoptics:patching patched pino 5.10.6
2021-11-23T06:47:27.137Z appoptics:debug starting runtimeMetrics


  pino v5.10.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.7
updated 1 package and audited 1085 packages in 4.954s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:47:33.240Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:47:33.241Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:47:33.241Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:47:33.242Z appoptics:debug using context provider: ace-context
2021-11-23T06:47:33.306Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:47:33.435Z appoptics:patching patched crypto 
2021-11-23T06:47:33.452Z appoptics:patching patched https 
2021-11-23T06:47:33.452Z appoptics:patching patched http 
2021-11-23T06:47:33.476Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:47:33.476Z appoptics:patching patched fs 
2021-11-23T06:47:33.484Z appoptics:patching patched pino 5.10.7
2021-11-23T06:47:33.492Z appoptics:debug starting runtimeMetrics


  pino v5.10.7
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.8
updated 1 package and audited 1085 packages in 4.471s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:47:39.098Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:47:39.098Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:47:39.099Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:47:39.099Z appoptics:debug using context provider: ace-context
2021-11-23T06:47:39.164Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:47:39.300Z appoptics:patching patched crypto 
2021-11-23T06:47:39.319Z appoptics:patching patched https 
2021-11-23T06:47:39.319Z appoptics:patching patched http 
2021-11-23T06:47:39.345Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:47:39.346Z appoptics:patching patched fs 
2021-11-23T06:47:39.353Z appoptics:patching patched pino 5.10.8
2021-11-23T06:47:39.357Z appoptics:debug starting runtimeMetrics


  pino v5.10.8
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.9
updated 1 package and audited 1085 packages in 4.858s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:47:45.587Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:47:45.588Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:47:45.588Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:47:45.589Z appoptics:debug using context provider: ace-context
2021-11-23T06:47:45.642Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:47:45.829Z appoptics:patching patched crypto 
2021-11-23T06:47:45.867Z appoptics:patching patched https 
2021-11-23T06:47:45.867Z appoptics:patching patched http 
2021-11-23T06:47:45.899Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:47:45.900Z appoptics:patching patched fs 
2021-11-23T06:47:45.905Z appoptics:patching patched pino 5.10.9
2021-11-23T06:47:45.910Z appoptics:debug starting runtimeMetrics


  pino v5.10.9
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.10
updated 1 package and audited 1085 packages in 4.744s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:47:51.896Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:47:51.897Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:47:51.897Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:47:51.897Z appoptics:debug using context provider: ace-context
2021-11-23T06:47:51.963Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:47:52.097Z appoptics:patching patched crypto 
2021-11-23T06:47:52.114Z appoptics:patching patched https 
2021-11-23T06:47:52.114Z appoptics:patching patched http 
2021-11-23T06:47:52.145Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:47:52.145Z appoptics:patching patched fs 
2021-11-23T06:47:52.151Z appoptics:patching patched pino 5.10.10
2021-11-23T06:47:52.154Z appoptics:debug starting runtimeMetrics


  pino v5.10.10
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (101ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.11.0
updated 1 package and audited 1085 packages in 5.405s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:47:58.750Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:47:58.750Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:47:58.750Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:47:58.751Z appoptics:debug using context provider: ace-context
2021-11-23T06:47:58.816Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:47:58.944Z appoptics:patching patched crypto 
2021-11-23T06:47:58.961Z appoptics:patching patched https 
2021-11-23T06:47:58.961Z appoptics:patching patched http 
2021-11-23T06:47:58.990Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:47:58.991Z appoptics:patching patched fs 
2021-11-23T06:47:58.995Z appoptics:patching patched pino 5.11.0
2021-11-23T06:47:58.999Z appoptics:debug starting runtimeMetrics


  pino v5.11.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.11.1
updated 1 package and audited 1085 packages in 4.65s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:48:04.853Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:48:04.854Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:48:04.854Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:48:04.854Z appoptics:debug using context provider: ace-context
2021-11-23T06:48:04.933Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:48:05.091Z appoptics:patching patched crypto 
2021-11-23T06:48:05.109Z appoptics:patching patched https 
2021-11-23T06:48:05.109Z appoptics:patching patched http 
2021-11-23T06:48:05.163Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:48:05.164Z appoptics:patching patched fs 
2021-11-23T06:48:05.182Z appoptics:patching patched pino 5.11.1
2021-11-23T06:48:05.185Z appoptics:debug starting runtimeMetrics


  pino v5.11.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.11.2
updated 1 package and audited 1085 packages in 4.888s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:48:11.253Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:48:11.253Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:48:11.253Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:48:11.254Z appoptics:debug using context provider: ace-context
2021-11-23T06:48:11.318Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:48:11.447Z appoptics:patching patched crypto 
2021-11-23T06:48:11.464Z appoptics:patching patched https 
2021-11-23T06:48:11.464Z appoptics:patching patched http 
2021-11-23T06:48:11.488Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:48:11.489Z appoptics:patching patched fs 
2021-11-23T06:48:11.496Z appoptics:patching patched pino 5.11.2
2021-11-23T06:48:11.505Z appoptics:debug starting runtimeMetrics


  pino v5.11.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.11.3
updated 1 package and audited 1085 packages in 4.489s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:48:17.320Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:48:17.321Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:48:17.321Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:48:17.322Z appoptics:debug using context provider: ace-context
2021-11-23T06:48:17.404Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:48:17.583Z appoptics:patching patched crypto 
2021-11-23T06:48:17.620Z appoptics:patching patched https 
2021-11-23T06:48:17.620Z appoptics:patching patched http 
2021-11-23T06:48:17.662Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:48:17.662Z appoptics:patching patched fs 
2021-11-23T06:48:17.683Z appoptics:patching patched pino 5.11.3
2021-11-23T06:48:17.688Z appoptics:debug starting runtimeMetrics


  pino v5.11.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (187ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.0
updated 1 package and audited 1085 packages in 5.103s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:48:24.200Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:48:24.201Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:48:24.201Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:48:24.202Z appoptics:debug using context provider: ace-context
2021-11-23T06:48:24.263Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:48:24.392Z appoptics:patching patched crypto 
2021-11-23T06:48:24.415Z appoptics:patching patched https 
2021-11-23T06:48:24.425Z appoptics:patching patched http 
2021-11-23T06:48:24.455Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:48:24.455Z appoptics:patching patched fs 
2021-11-23T06:48:24.461Z appoptics:patching patched pino 5.12.0
2021-11-23T06:48:24.465Z appoptics:debug starting runtimeMetrics


  pino v5.12.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.1
updated 1 package and audited 1085 packages in 5.356s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:48:31.268Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:48:31.269Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:48:31.269Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:48:31.269Z appoptics:debug using context provider: ace-context
2021-11-23T06:48:31.333Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:48:31.465Z appoptics:patching patched crypto 
2021-11-23T06:48:31.481Z appoptics:patching patched https 
2021-11-23T06:48:31.481Z appoptics:patching patched http 
2021-11-23T06:48:31.510Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:48:31.511Z appoptics:patching patched fs 
2021-11-23T06:48:31.517Z appoptics:patching patched pino 5.12.1
2021-11-23T06:48:31.520Z appoptics:debug starting runtimeMetrics


  pino v5.12.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.2
updated 1 package and audited 1085 packages in 4.371s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:48:36.963Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:48:36.964Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:48:36.964Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:48:36.965Z appoptics:debug using context provider: ace-context
2021-11-23T06:48:37.028Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:48:37.164Z appoptics:patching patched crypto 
2021-11-23T06:48:37.180Z appoptics:patching patched https 
2021-11-23T06:48:37.180Z appoptics:patching patched http 
2021-11-23T06:48:37.218Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:48:37.218Z appoptics:patching patched fs 
2021-11-23T06:48:37.224Z appoptics:patching patched pino 5.12.2
2021-11-23T06:48:37.228Z appoptics:debug starting runtimeMetrics


  pino v5.12.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.3
updated 1 package and audited 1085 packages in 4.725s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:48:43.174Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:48:43.174Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:48:43.174Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:48:43.175Z appoptics:debug using context provider: ace-context
2021-11-23T06:48:43.240Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:48:43.366Z appoptics:patching patched crypto 
2021-11-23T06:48:43.382Z appoptics:patching patched https 
2021-11-23T06:48:43.382Z appoptics:patching patched http 
2021-11-23T06:48:43.406Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:48:43.407Z appoptics:patching patched fs 
2021-11-23T06:48:43.414Z appoptics:patching patched pino 5.12.3
2021-11-23T06:48:43.418Z appoptics:debug starting runtimeMetrics


  pino v5.12.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.4
updated 1 package and audited 1085 packages in 3.999s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:48:48.496Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:48:48.496Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:48:48.496Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:48:48.497Z appoptics:debug using context provider: ace-context
2021-11-23T06:48:48.559Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:48:48.685Z appoptics:patching patched crypto 
2021-11-23T06:48:48.702Z appoptics:patching patched https 
2021-11-23T06:48:48.702Z appoptics:patching patched http 
2021-11-23T06:48:48.730Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:48:48.730Z appoptics:patching patched fs 
2021-11-23T06:48:48.735Z appoptics:patching patched pino 5.12.4
2021-11-23T06:48:48.738Z appoptics:debug starting runtimeMetrics


  pino v5.12.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.5
updated 1 package and audited 1085 packages in 5.4s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:48:55.446Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:48:55.447Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:48:55.447Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:48:55.447Z appoptics:debug using context provider: ace-context
2021-11-23T06:48:55.510Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:48:55.637Z appoptics:patching patched crypto 
2021-11-23T06:48:55.654Z appoptics:patching patched https 
2021-11-23T06:48:55.654Z appoptics:patching patched http 
2021-11-23T06:48:55.681Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:48:55.682Z appoptics:patching patched fs 
2021-11-23T06:48:55.688Z appoptics:patching patched pino 5.12.5
2021-11-23T06:48:55.691Z appoptics:debug starting runtimeMetrics


  pino v5.12.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.6
updated 1 package and audited 1085 packages in 4.057s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:49:00.825Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:49:00.825Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:49:00.825Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:49:00.826Z appoptics:debug using context provider: ace-context
2021-11-23T06:49:00.889Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:49:01.017Z appoptics:patching patched crypto 
2021-11-23T06:49:01.033Z appoptics:patching patched https 
2021-11-23T06:49:01.034Z appoptics:patching patched http 
2021-11-23T06:49:01.058Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:49:01.058Z appoptics:patching patched fs 
2021-11-23T06:49:01.065Z appoptics:patching patched pino 5.12.6
2021-11-23T06:49:01.074Z appoptics:debug starting runtimeMetrics


  pino v5.12.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.0
updated 1 package and audited 1085 packages in 5.215s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:49:07.596Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:49:07.596Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:49:07.596Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:49:07.597Z appoptics:debug using context provider: ace-context
2021-11-23T06:49:07.659Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:49:07.786Z appoptics:patching patched crypto 
2021-11-23T06:49:07.802Z appoptics:patching patched https 
2021-11-23T06:49:07.803Z appoptics:patching patched http 
2021-11-23T06:49:07.827Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:49:07.827Z appoptics:patching patched fs 
2021-11-23T06:49:07.835Z appoptics:patching patched pino 5.13.0
2021-11-23T06:49:07.844Z appoptics:debug starting runtimeMetrics


  pino v5.13.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.1
updated 1 package and audited 1085 packages in 5.639s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:49:14.560Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:49:14.561Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:49:14.561Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:49:14.562Z appoptics:debug using context provider: ace-context
2021-11-23T06:49:14.623Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:49:14.747Z appoptics:patching patched crypto 
2021-11-23T06:49:14.764Z appoptics:patching patched https 
2021-11-23T06:49:14.765Z appoptics:patching patched http 
2021-11-23T06:49:14.793Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:49:14.793Z appoptics:patching patched fs 
2021-11-23T06:49:14.799Z appoptics:patching patched pino 5.13.1
2021-11-23T06:49:14.802Z appoptics:debug starting runtimeMetrics


  pino v5.13.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.2
updated 1 package and audited 1085 packages in 4.625s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:49:20.504Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:49:20.505Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:49:20.505Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:49:20.505Z appoptics:debug using context provider: ace-context
2021-11-23T06:49:20.568Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:49:20.698Z appoptics:patching patched crypto 
2021-11-23T06:49:20.721Z appoptics:patching patched https 
2021-11-23T06:49:20.721Z appoptics:patching patched http 
2021-11-23T06:49:20.749Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:49:20.749Z appoptics:patching patched fs 
2021-11-23T06:49:20.754Z appoptics:patching patched pino 5.13.2
2021-11-23T06:49:20.757Z appoptics:debug starting runtimeMetrics


  pino v5.13.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.3
updated 1 package and audited 1085 packages in 4.716s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:49:26.541Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:49:26.542Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:49:26.542Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:49:26.542Z appoptics:debug using context provider: ace-context
2021-11-23T06:49:26.602Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:49:26.733Z appoptics:patching patched crypto 
2021-11-23T06:49:26.749Z appoptics:patching patched https 
2021-11-23T06:49:26.749Z appoptics:patching patched http 
2021-11-23T06:49:26.773Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:49:26.773Z appoptics:patching patched fs 
2021-11-23T06:49:26.781Z appoptics:patching patched pino 5.13.3
2021-11-23T06:49:26.789Z appoptics:debug starting runtimeMetrics


  pino v5.13.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.4
updated 2 packages and audited 1085 packages in 4.785s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:49:32.647Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:49:32.647Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:49:32.648Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:49:32.648Z appoptics:debug using context provider: ace-context
2021-11-23T06:49:32.711Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:49:32.841Z appoptics:patching patched crypto 
2021-11-23T06:49:32.858Z appoptics:patching patched https 
2021-11-23T06:49:32.858Z appoptics:patching patched http 
2021-11-23T06:49:32.882Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:49:32.883Z appoptics:patching patched fs 
2021-11-23T06:49:32.890Z appoptics:patching patched pino 5.13.4
2021-11-23T06:49:32.894Z appoptics:debug starting runtimeMetrics


  pino v5.13.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (105ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.5
updated 1 package and audited 1085 packages in 4.365s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:49:38.341Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:49:38.342Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:49:38.342Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:49:38.342Z appoptics:debug using context provider: ace-context
2021-11-23T06:49:38.407Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:49:38.539Z appoptics:patching patched crypto 
2021-11-23T06:49:38.556Z appoptics:patching patched https 
2021-11-23T06:49:38.556Z appoptics:patching patched http 
2021-11-23T06:49:38.594Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:49:38.595Z appoptics:patching patched fs 
2021-11-23T06:49:38.601Z appoptics:patching patched pino 5.13.5
2021-11-23T06:49:38.605Z appoptics:debug starting runtimeMetrics


  pino v5.13.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.6
updated 1 package and audited 1085 packages in 5.668s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:49:45.361Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:49:45.362Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:49:45.362Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:49:45.363Z appoptics:debug using context provider: ace-context
2021-11-23T06:49:45.428Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:49:45.560Z appoptics:patching patched crypto 
2021-11-23T06:49:45.576Z appoptics:patching patched https 
2021-11-23T06:49:45.577Z appoptics:patching patched http 
2021-11-23T06:49:45.612Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:49:45.612Z appoptics:patching patched fs 
2021-11-23T06:49:45.618Z appoptics:patching patched pino 5.13.6
2021-11-23T06:49:45.622Z appoptics:debug starting runtimeMetrics


  pino v5.13.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.14.0
updated 1 package and audited 1085 packages in 4.173s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:49:50.933Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:49:50.933Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:49:50.933Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:49:50.934Z appoptics:debug using context provider: ace-context
2021-11-23T06:49:51.000Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:49:51.129Z appoptics:patching patched crypto 
2021-11-23T06:49:51.146Z appoptics:patching patched https 
2021-11-23T06:49:51.146Z appoptics:patching patched http 
2021-11-23T06:49:51.171Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:49:51.171Z appoptics:patching patched fs 
2021-11-23T06:49:51.179Z appoptics:patching patched pino 5.14.0
2021-11-23T06:49:51.187Z appoptics:debug starting runtimeMetrics


  pino v5.14.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.15.0
updated 1 package and audited 1085 packages in 4.77s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:49:57.085Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:49:57.085Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:49:57.085Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:49:57.086Z appoptics:debug using context provider: ace-context
2021-11-23T06:49:57.166Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:49:57.324Z appoptics:patching patched crypto 
2021-11-23T06:49:57.342Z appoptics:patching patched https 
2021-11-23T06:49:57.342Z appoptics:patching patched http 
2021-11-23T06:49:57.399Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:49:57.400Z appoptics:patching patched fs 
2021-11-23T06:49:57.418Z appoptics:patching patched pino 5.15.0
2021-11-23T06:49:57.422Z appoptics:debug starting runtimeMetrics


  pino v5.15.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.16.0
updated 1 package and audited 1085 packages in 4.172s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:50:02.719Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:50:02.719Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:50:02.719Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:50:02.720Z appoptics:debug using context provider: ace-context
2021-11-23T06:50:02.784Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:50:02.914Z appoptics:patching patched crypto 
2021-11-23T06:50:02.932Z appoptics:patching patched https 
2021-11-23T06:50:02.932Z appoptics:patching patched http 
2021-11-23T06:50:02.961Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:50:02.961Z appoptics:patching patched fs 
2021-11-23T06:50:02.967Z appoptics:patching patched pino 5.16.0
2021-11-23T06:50:02.971Z appoptics:debug starting runtimeMetrics


  pino v5.16.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.17.0
updated 1 package and audited 1085 packages in 4.888s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:50:08.988Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:50:08.989Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:50:08.989Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:50:08.989Z appoptics:debug using context provider: ace-context
2021-11-23T06:50:09.050Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:50:09.185Z appoptics:patching patched crypto 
2021-11-23T06:50:09.201Z appoptics:patching patched https 
2021-11-23T06:50:09.201Z appoptics:patching patched http 
2021-11-23T06:50:09.226Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:50:09.227Z appoptics:patching patched fs 
2021-11-23T06:50:09.236Z appoptics:patching patched pino 5.17.0
2021-11-23T06:50:09.240Z appoptics:debug starting runtimeMetrics


  pino v5.17.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.0.0
updated 3 packages and audited 1085 packages in 4.124s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:50:14.460Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:50:14.460Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:50:14.460Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:50:14.461Z appoptics:debug using context provider: ace-context
2021-11-23T06:50:14.561Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:50:14.689Z appoptics:patching patched crypto 
2021-11-23T06:50:14.704Z appoptics:patching patched https 
2021-11-23T06:50:14.705Z appoptics:patching patched http 
2021-11-23T06:50:14.744Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:50:14.744Z appoptics:patching patched fs 
2021-11-23T06:50:14.750Z appoptics:patching patched pino 6.0.0
2021-11-23T06:50:14.753Z appoptics:debug starting runtimeMetrics


  pino v6.0.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (171ms)
  14 failing

  1) pino v6.0.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4019
         "time": 1637650214776
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.0.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4019
         "time": 1637650214782
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.0.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4019
         "time": 1637650214784
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.0.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4019
         "time": 1637650214786
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.0.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4019
         "time": 1637650214789
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.0.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4019
         "time": 1637650214791
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.0.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4019
         "time": 1637650214792
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.0.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4019
         "time": 1637650214794
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.0.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4019
         "time": 1637650214795
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.0.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4019
         "time": 1637650214796
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.0.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4019
         "time": 1637650214797
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.0.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4019
         "time": 1637650214799
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.0.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4019
         "time": 1637650214902
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.0.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 6831830B62E26FA44B21D514D8B9D79616494549-1"
         "pid": 4019
         "time": 1637650214930
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.1.0
updated 1 package and audited 1085 packages in 5.652s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:50:21.502Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:50:21.502Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:50:21.502Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:50:21.503Z appoptics:debug using context provider: ace-context
2021-11-23T06:50:21.561Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:50:21.691Z appoptics:patching patched crypto 
2021-11-23T06:50:21.707Z appoptics:patching patched https 
2021-11-23T06:50:21.707Z appoptics:patching patched http 
2021-11-23T06:50:21.731Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:50:21.732Z appoptics:patching patched fs 
2021-11-23T06:50:21.739Z appoptics:patching patched pino 6.1.0
2021-11-23T06:50:21.748Z appoptics:debug starting runtimeMetrics


  pino v6.1.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (172ms)
  14 failing

  1) pino v6.1.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4042
         "time": 1637650221771
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.1.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4042
         "time": 1637650221777
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.1.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4042
         "time": 1637650221779
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.1.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4042
         "time": 1637650221781
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.1.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4042
         "time": 1637650221784
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.1.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4042
         "time": 1637650221786
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.1.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4042
         "time": 1637650221787
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.1.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4042
         "time": 1637650221788
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.1.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4042
         "time": 1637650221790
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.1.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4042
         "time": 1637650221791
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.1.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4042
         "time": 1637650221792
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.1.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4042
         "time": 1637650221793
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.1.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4042
         "time": 1637650221898
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.1.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 43E22F000DF2AB3291DB4B21C8F81CBC7712CF87-1"
         "pid": 4042
         "time": 1637650221926
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.1.1
updated 1 package and audited 1085 packages in 4.501s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:50:27.335Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:50:27.336Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:50:27.336Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:50:27.337Z appoptics:debug using context provider: ace-context
2021-11-23T06:50:27.395Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:50:27.528Z appoptics:patching patched crypto 
2021-11-23T06:50:27.545Z appoptics:patching patched https 
2021-11-23T06:50:27.546Z appoptics:patching patched http 
2021-11-23T06:50:27.574Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:50:27.575Z appoptics:patching patched fs 
2021-11-23T06:50:27.581Z appoptics:patching patched pino 6.1.1
2021-11-23T06:50:27.585Z appoptics:debug starting runtimeMetrics


  pino v6.1.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (172ms)
  14 failing

  1) pino v6.1.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4065
         "time": 1637650227608
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.1.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4065
         "time": 1637650227613
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.1.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4065
         "time": 1637650227616
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.1.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4065
         "time": 1637650227618
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.1.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4065
         "time": 1637650227620
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.1.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4065
         "time": 1637650227623
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.1.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4065
         "time": 1637650227624
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.1.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4065
         "time": 1637650227625
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.1.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4065
         "time": 1637650227627
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.1.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4065
         "time": 1637650227628
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.1.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4065
         "time": 1637650227629
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.1.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4065
         "time": 1637650227631
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.1.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4065
         "time": 1637650227735
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.1.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous F0345B6F98E1F23346B090CDA1580A9424C2BE14-1"
         "pid": 4065
         "time": 1637650227763
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.2.0
updated 1 package and audited 1085 packages in 5.066s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:50:33.743Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:50:33.744Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:50:33.744Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:50:33.744Z appoptics:debug using context provider: ace-context
2021-11-23T06:50:33.813Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:50:33.952Z appoptics:patching patched crypto 
2021-11-23T06:50:33.968Z appoptics:patching patched https 
2021-11-23T06:50:33.968Z appoptics:patching patched http 
2021-11-23T06:50:33.998Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:50:33.999Z appoptics:patching patched fs 
2021-11-23T06:50:34.006Z appoptics:patching patched pino 6.2.0
2021-11-23T06:50:34.009Z appoptics:debug starting runtimeMetrics


  pino v6.2.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (173ms)
  14 failing

  1) pino v6.2.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4088
         "time": 1637650234032
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.2.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4088
         "time": 1637650234038
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.2.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4088
         "time": 1637650234040
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.2.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4088
         "time": 1637650234043
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.2.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4088
         "time": 1637650234045
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.2.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4088
         "time": 1637650234047
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.2.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4088
         "time": 1637650234049
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.2.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4088
         "time": 1637650234050
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.2.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4088
         "time": 1637650234051
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.2.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4088
         "time": 1637650234053
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.2.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4088
         "time": 1637650234054
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.2.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4088
         "time": 1637650234055
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.2.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4088
         "time": 1637650234160
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.2.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 2414E165D359C6913C71F2B36791666E3AE46054-1"
         "pid": 4088
         "time": 1637650234188
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.2.1
updated 1 package and audited 1085 packages in 4.189s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:50:40.036Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:50:40.036Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:50:40.036Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:50:40.037Z appoptics:debug using context provider: ace-context
2021-11-23T06:50:40.100Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:50:40.261Z appoptics:patching patched crypto 
2021-11-23T06:50:40.278Z appoptics:patching patched https 
2021-11-23T06:50:40.279Z appoptics:patching patched http 
2021-11-23T06:50:40.304Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:50:40.304Z appoptics:patching patched fs 
2021-11-23T06:50:40.312Z appoptics:patching patched pino 6.2.1
2021-11-23T06:50:40.316Z appoptics:debug starting runtimeMetrics


  pino v6.2.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (175ms)
  14 failing

  1) pino v6.2.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4111
         "time": 1637650240348
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.2.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4111
         "time": 1637650240355
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.2.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4111
         "time": 1637650240357
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.2.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4111
         "time": 1637650240359
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.2.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4111
         "time": 1637650240362
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.2.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4111
         "time": 1637650240364
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.2.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4111
         "time": 1637650240366
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.2.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4111
         "time": 1637650240367
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.2.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4111
         "time": 1637650240368
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.2.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4111
         "time": 1637650240370
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.2.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4111
         "time": 1637650240371
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.2.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4111
         "time": 1637650240373
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.2.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4111
         "time": 1637650240477
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.2.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 2C9AB1F3E57EB9FB79448A12A64AC013F620BDFF-1"
         "pid": 4111
         "time": 1637650240505
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.3.0
updated 1 package and audited 1085 packages in 5.067s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:50:46.529Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:50:46.530Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:50:46.530Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:50:46.531Z appoptics:debug using context provider: ace-context
2021-11-23T06:50:46.593Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:50:46.726Z appoptics:patching patched crypto 
2021-11-23T06:50:46.742Z appoptics:patching patched https 
2021-11-23T06:50:46.742Z appoptics:patching patched http 
2021-11-23T06:50:46.781Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:50:46.781Z appoptics:patching patched fs 
2021-11-23T06:50:46.788Z appoptics:patching patched pino 6.3.0
2021-11-23T06:50:46.791Z appoptics:debug starting runtimeMetrics


  pino v6.3.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (171ms)
  14 failing

  1) pino v6.3.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4134
         "time": 1637650246814
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.3.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4134
         "time": 1637650246819
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.3.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4134
         "time": 1637650246822
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.3.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4134
         "time": 1637650246824
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.3.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4134
         "time": 1637650246827
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.3.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4134
         "time": 1637650246829
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.3.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4134
         "time": 1637650246830
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.3.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4134
         "time": 1637650246832
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.3.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4134
         "time": 1637650246833
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.3.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4134
         "time": 1637650246834
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.3.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4134
         "time": 1637650246835
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.3.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4134
         "time": 1637650246837
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.3.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4134
         "time": 1637650246940
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.3.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 7C306425C84E1D0921AB5203D40E04F1723DCC84-1"
         "pid": 4134
         "time": 1637650246968
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.3.1
updated 1 package and audited 1085 packages in 4.055s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:50:51.921Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:50:51.921Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:50:51.921Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:50:51.922Z appoptics:debug using context provider: ace-context
2021-11-23T06:50:52.011Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:50:52.166Z appoptics:patching patched crypto 
2021-11-23T06:50:52.184Z appoptics:patching patched https 
2021-11-23T06:50:52.184Z appoptics:patching patched http 
2021-11-23T06:50:52.228Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:50:52.229Z appoptics:patching patched fs 
2021-11-23T06:50:52.247Z appoptics:patching patched pino 6.3.1
2021-11-23T06:50:52.251Z appoptics:debug starting runtimeMetrics


  pino v6.3.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (174ms)
  14 failing

  1) pino v6.3.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4157
         "time": 1637650252275
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.3.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4157
         "time": 1637650252282
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.3.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4157
         "time": 1637650252284
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.3.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4157
         "time": 1637650252286
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.3.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4157
         "time": 1637650252289
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.3.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4157
         "time": 1637650252292
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.3.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4157
         "time": 1637650252293
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.3.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4157
         "time": 1637650252294
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.3.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4157
         "time": 1637650252296
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.3.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4157
         "time": 1637650252297
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.3.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4157
         "time": 1637650252298
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.3.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4157
         "time": 1637650252300
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.3.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4157
         "time": 1637650252403
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.3.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 03DA597366C6F93721252F790D9E29EB5F6364CF-1"
         "pid": 4157
         "time": 1637650252431
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.3.2
updated 1 package and audited 1085 packages in 4.728s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:50:58.132Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:50:58.132Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:50:58.133Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:50:58.133Z appoptics:debug using context provider: ace-context
2021-11-23T06:50:58.192Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:50:58.326Z appoptics:patching patched crypto 
2021-11-23T06:50:58.343Z appoptics:patching patched https 
2021-11-23T06:50:58.343Z appoptics:patching patched http 
2021-11-23T06:50:58.368Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:50:58.368Z appoptics:patching patched fs 
2021-11-23T06:50:58.376Z appoptics:patching patched pino 6.3.2
2021-11-23T06:50:58.384Z appoptics:debug starting runtimeMetrics


  pino v6.3.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (170ms)
  14 failing

  1) pino v6.3.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4180
         "time": 1637650258407
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.3.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4180
         "time": 1637650258413
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.3.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4180
         "time": 1637650258416
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.3.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4180
         "time": 1637650258418
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.3.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4180
         "time": 1637650258420
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.3.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4180
         "time": 1637650258422
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.3.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4180
         "time": 1637650258424
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.3.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4180
         "time": 1637650258425
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.3.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4180
         "time": 1637650258426
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.3.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4180
         "time": 1637650258428
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.3.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4180
         "time": 1637650258429
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.3.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4180
         "time": 1637650258430
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.3.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4180
         "time": 1637650258534
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.3.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 4E933F99879D3D360B800C2AF4486E7B4B7AA6E9-1"
         "pid": 4180
         "time": 1637650258561
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.4.0
updated 1 package and audited 1085 packages in 4.245s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:51:03.865Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:51:03.866Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:51:03.866Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:51:03.867Z appoptics:debug using context provider: ace-context
2021-11-23T06:51:03.930Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:51:04.056Z appoptics:patching patched crypto 
2021-11-23T06:51:04.073Z appoptics:patching patched https 
2021-11-23T06:51:04.073Z appoptics:patching patched http 
2021-11-23T06:51:04.098Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:51:04.098Z appoptics:patching patched fs 
2021-11-23T06:51:04.106Z appoptics:patching patched pino 6.4.0
2021-11-23T06:51:04.114Z appoptics:debug starting runtimeMetrics


  pino v6.4.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (182ms)
  14 failing

  1) pino v6.4.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4203
         "time": 1637650264142
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.4.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EF8F5F8FADB17489FCAE06D17A09902ACEF8B872-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4203
         "time": 1637650264150
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.4.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "11BD9A1DAD2C298F86A0A03CBA2BDACA6A794BEA-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4203
         "time": 1637650264153
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.4.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "123BFC40905F2269FDACDE8CB848F3E9B2084423-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4203
         "time": 1637650264155
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.4.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F8B2E16133A1FE078AECAE579C19E4FF4B7C03FE-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4203
         "time": 1637650264159
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.4.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4203
         "time": 1637650264161
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.4.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "AD7447B84017B3751841208494A95447621A4979-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4203
         "time": 1637650264163
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.4.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "253E77AD3BC2C86AD286B84B649A4955875D27D4-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4203
         "time": 1637650264164
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.4.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4203
         "time": 1637650264165
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.4.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A50A3074E2288B3C9E1CCB3CA249931C5472DB60-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4203
         "time": 1637650264166
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.4.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4203
         "time": 1637650264168
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.4.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "121D0ECC44D95099B276B33FB90EC9DE3E672C85-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4203
         "time": 1637650264169
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.4.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E1BA6744D2F1F0BC31345A88E5696397F162C61A-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4203
         "time": 1637650264273
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.4.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 1BF8410F48E01BC6BFA9278D50E13A7FB4B1F22B-1"
         "pid": 4203
         "time": 1637650264302
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.4.1
updated 1 package and audited 1085 packages in 4.615s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:51:10.208Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:51:10.210Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:51:10.210Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:51:10.212Z appoptics:debug using context provider: ace-context
2021-11-23T06:51:10.368Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:51:10.573Z appoptics:patching patched crypto 
2021-11-23T06:51:10.589Z appoptics:patching patched https 
2021-11-23T06:51:10.590Z appoptics:patching patched http 
2021-11-23T06:51:10.616Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:51:10.616Z appoptics:patching patched fs 
2021-11-23T06:51:10.627Z appoptics:patching patched pino 6.4.1
2021-11-23T06:51:10.631Z appoptics:debug starting runtimeMetrics


  pino v6.4.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (172ms)
  14 failing

  1) pino v6.4.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4226
         "time": 1637650270654
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.4.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "186458D58F4594CF43EAEF779228C6AAAB91B9A5-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4226
         "time": 1637650270660
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.4.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C2910023BF0F1D06C71A715F2C75D4FB6DFDA60F-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4226
         "time": 1637650270662
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.4.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0BFD1125C85132548F2556A8964EA2FCE260AEED-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4226
         "time": 1637650270665
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.4.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1298F974501C1FF301446F5072A6E5D1898EB23C-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4226
         "time": 1637650270667
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.4.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4226
         "time": 1637650270669
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.4.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "756F5395D46BA723A25B8C3AAA9AB53BA516F9F7-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4226
         "time": 1637650270670
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.4.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8A8DBD018F34E26E52151A1DE1AF313C0F3D8A55-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4226
         "time": 1637650270672
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.4.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4226
         "time": 1637650270673
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.4.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E4FD48EBC56A324E39677BCB32C4909270D850F2-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4226
         "time": 1637650270674
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.4.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4226
         "time": 1637650270675
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.4.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B137B6231F359D9F636DC47EF01FE43230E38182-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4226
         "time": 1637650270677
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.4.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C826DC6AC99C013C80C2078CD04B89949EC7F743-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4226
         "time": 1637650270781
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.4.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous B9EB44427DDC42036DDDA12CA1D082AF37EA4C3A-1"
         "pid": 4226
         "time": 1637650270809
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.5.0
updated 1 package and audited 1085 packages in 4.263s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:51:15.998Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:51:15.998Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:51:15.998Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:51:15.999Z appoptics:debug using context provider: ace-context
2021-11-23T06:51:16.082Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:51:16.251Z appoptics:patching patched crypto 
2021-11-23T06:51:16.267Z appoptics:patching patched https 
2021-11-23T06:51:16.268Z appoptics:patching patched http 
2021-11-23T06:51:16.311Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:51:16.311Z appoptics:patching patched fs 
2021-11-23T06:51:16.318Z appoptics:patching patched pino 6.5.0
2021-11-23T06:51:16.322Z appoptics:debug starting runtimeMetrics


  pino v6.5.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (178ms)
  14 failing

  1) pino v6.5.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4249
         "time": 1637650276353
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.5.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "22509434F22F920BFC3FB9A763052BDFEE1D5549-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4249
         "time": 1637650276360
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.5.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FE55A77FB54001C8EEEF4C059D537EDB1D774397-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4249
         "time": 1637650276362
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.5.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "BBC3BC2A232145B419780A1FE305BD2B2D8A2CC9-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4249
         "time": 1637650276365
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.5.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3648739F70816B564ABA1648DF24E8661298AB7B-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4249
         "time": 1637650276367
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.5.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4249
         "time": 1637650276369
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.5.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B97A8BE50EC964DEFFB652EDBBEAF719E024F17E-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4249
         "time": 1637650276371
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.5.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B8855C3AEAA1C6053CE6F82DE5F2F8AAC2036ED3-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4249
         "time": 1637650276372
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.5.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4249
         "time": 1637650276373
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.5.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D65128E25A690DF284871D31C80F50DD9F00D027-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4249
         "time": 1637650276374
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.5.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4249
         "time": 1637650276375
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.5.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7A40F7498660D6BFA4381749715102819E4EA6B8-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4249
         "time": 1637650276377
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.5.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "04E84AB48B697293374192227222FEA33971A53E-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4249
         "time": 1637650276482
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.5.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous F2D082DBCB064B8061A4BB5948C05BD2F04AAF92-1"
         "pid": 4249
         "time": 1637650276510
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.5.1
updated 1 package and audited 1085 packages in 4.718s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:51:22.145Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:51:22.146Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:51:22.146Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:51:22.147Z appoptics:debug using context provider: ace-context
2021-11-23T06:51:22.211Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:51:22.339Z appoptics:patching patched crypto 
2021-11-23T06:51:22.356Z appoptics:patching patched https 
2021-11-23T06:51:22.357Z appoptics:patching patched http 
2021-11-23T06:51:22.385Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:51:22.386Z appoptics:patching patched fs 
2021-11-23T06:51:22.392Z appoptics:patching patched pino 6.5.1
2021-11-23T06:51:22.396Z appoptics:debug starting runtimeMetrics


  pino v6.5.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (173ms)
  14 failing

  1) pino v6.5.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4272
         "time": 1637650282419
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.5.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FEDC2C72463F44158DD130A44AFEA8C67FBF568A-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4272
         "time": 1637650282425
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.5.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9F3FB49A56ECA3445D15F0CC123AE3C35CF0E025-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4272
         "time": 1637650282428
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.5.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "70C4147F7E34A709BF2D3B703856840BD5D974F8-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4272
         "time": 1637650282430
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.5.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DF2B176DE972D0CE83CBA2AE96BFC19B6DED6775-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4272
         "time": 1637650282432
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.5.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4272
         "time": 1637650282435
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.5.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2A5669F9C8F8CA542B053678C195F649750C89F8-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4272
         "time": 1637650282436
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.5.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6E18AD42981C0A1141D49497CC98E6D7E67CD9C4-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4272
         "time": 1637650282437
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.5.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4272
         "time": 1637650282439
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.5.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "BFB7403A27E617AB5ECBE9A1DEA9F5CA21E9ABF2-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4272
         "time": 1637650282440
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.5.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4272
         "time": 1637650282441
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.5.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A47EAB7E667BC05B05207926F934DF74FF311799-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4272
         "time": 1637650282443
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.5.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "48A801703B1234CC6C78174E6D4BD33C810B83F8-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4272
         "time": 1637650282547
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.5.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 0D5F707C13E3DA780CA34BE567DEE265531959D5-1"
         "pid": 4272
         "time": 1637650282575
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.6.0
updated 1 package and audited 1085 packages in 4.507s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:51:27.998Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:51:27.999Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:51:27.999Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:51:28.000Z appoptics:debug using context provider: ace-context
2021-11-23T06:51:28.064Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:51:28.193Z appoptics:patching patched crypto 
2021-11-23T06:51:28.210Z appoptics:patching patched https 
2021-11-23T06:51:28.211Z appoptics:patching patched http 
2021-11-23T06:51:28.239Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:51:28.239Z appoptics:patching patched fs 
2021-11-23T06:51:28.246Z appoptics:patching patched pino 6.6.0
2021-11-23T06:51:28.249Z appoptics:debug starting runtimeMetrics


  pino v6.6.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (175ms)
  14 failing

  1) pino v6.6.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4295
         "time": 1637650288272
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.6.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5E90B79363FC35AE52D2B04358F1F51867AF88E3-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4295
         "time": 1637650288280
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.6.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DF445EB7CBA36CB7388A7908DA16ED9A4F4084D8-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4295
         "time": 1637650288282
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.6.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4C5EC6B91FE9228E13F819A4C9DC59CAF303972B-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4295
         "time": 1637650288285
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.6.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "30D713F594932B7D98182AE90BE71BFD4F06EEAB-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4295
         "time": 1637650288287
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.6.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4295
         "time": 1637650288289
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.6.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CFFE67CD8FF388CA73161B4D6E36BB17210A9B9B-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4295
         "time": 1637650288290
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.6.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CCB2C4D1EFAAE0D227DA19CAA3212CF3E67CB4AE-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4295
         "time": 1637650288292
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.6.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4295
         "time": 1637650288293
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.6.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D04A785BF2ED303EA2B082A5426D80B7A63626C4-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4295
         "time": 1637650288294
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.6.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4295
         "time": 1637650288295
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.6.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "26BCF917D35605C04C2BD390DF2827D764E2C186-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4295
         "time": 1637650288297
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.6.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D01E9E981DB5899AFF9867EAB74652C35675AEB4-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4295
         "time": 1637650288401
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.6.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 7C0E3FEE3848E5A357E4DB4E02061AE92E6A12D2-1"
         "pid": 4295
         "time": 1637650288429
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.6.1
updated 1 package and audited 1085 packages in 4.465s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:51:34.046Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:51:34.047Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:51:34.047Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:51:34.047Z appoptics:debug using context provider: ace-context
2021-11-23T06:51:34.112Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:51:34.243Z appoptics:patching patched crypto 
2021-11-23T06:51:34.260Z appoptics:patching patched https 
2021-11-23T06:51:34.260Z appoptics:patching patched http 
2021-11-23T06:51:34.289Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:51:34.289Z appoptics:patching patched fs 
2021-11-23T06:51:34.295Z appoptics:patching patched pino 6.6.1
2021-11-23T06:51:34.298Z appoptics:debug starting runtimeMetrics


  pino v6.6.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (174ms)
  14 failing

  1) pino v6.6.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4318
         "time": 1637650294321
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.6.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6079DD2A5F24914176497A1B60E0C9DE15D565DA-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4318
         "time": 1637650294327
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.6.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "436C97C961188AC38792C477F0E974F04AC70B1E-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4318
         "time": 1637650294330
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.6.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D71C00F1DB2694D38E805AD1BAD751D42B29D53D-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4318
         "time": 1637650294332
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.6.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B9D7B4758AE2F3ED645234D9C0CFC12B51FF2AC6-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4318
         "time": 1637650294334
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.6.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4318
         "time": 1637650294336
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.6.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "472840E6ACF0B5538E4E4D48013071437AFF0D2E-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4318
         "time": 1637650294338
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.6.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6931B5DF637D276ED14A2F7FAA348128396B2CA3-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4318
         "time": 1637650294339
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.6.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4318
         "time": 1637650294340
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.6.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DE81B13109DEB1F4E1FE05042E41843F1D536FEB-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4318
         "time": 1637650294341
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.6.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4318
         "time": 1637650294342
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.6.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7ECB16669D22FAF72520155F4643E27D68F1E50B-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4318
         "time": 1637650294344
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.6.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F8B6F86668F5F98BF58D5B5C2CEBDA27FEF5F128-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4318
         "time": 1637650294448
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.6.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 35281C7E4BABF9E5E44765CFE6471ECDAE385CF4-1"
         "pid": 4318
         "time": 1637650294477
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.7.0
updated 2 packages and audited 1085 packages in 4.49s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:51:39.920Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:51:39.921Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:51:39.921Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:51:39.921Z appoptics:debug using context provider: ace-context
2021-11-23T06:51:39.985Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:51:40.113Z appoptics:patching patched crypto 
2021-11-23T06:51:40.129Z appoptics:patching patched https 
2021-11-23T06:51:40.130Z appoptics:patching patched http 
2021-11-23T06:51:40.163Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:51:40.163Z appoptics:patching patched fs 
2021-11-23T06:51:40.169Z appoptics:patching patched pino 6.7.0
2021-11-23T06:51:40.173Z appoptics:debug starting runtimeMetrics


  pino v6.7.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (173ms)
  14 failing

  1) pino v6.7.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4341
         "time": 1637650300196
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.7.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "907C72F7F8AD8164099391608765B6677A377A3E-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4341
         "time": 1637650300202
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.7.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2139C6E4ABC35A56D2616ADCCA2D76AA2823F065-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4341
         "time": 1637650300204
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.7.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0EE28F6C16F69DC8AD252B92F00EC27068D170BC-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4341
         "time": 1637650300207
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.7.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "367352FA664FFA29CDE34421E1751933D37009CB-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4341
         "time": 1637650300209
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.7.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4341
         "time": 1637650300211
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.7.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A27B7A3A55FE72A5FB105DFF6DE2220D155ABFBD-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4341
         "time": 1637650300213
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.7.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8F44A6ED16A05529CB3D6F1CAC383235A1DE116B-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4341
         "time": 1637650300214
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.7.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4341
         "time": 1637650300215
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.7.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2BE305084BB92E118F263442E5D96A1E437BC9BB-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4341
         "time": 1637650300216
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.7.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4341
         "time": 1637650300217
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.7.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9BB634438527F92C4AF0D6135F4BD30B87FE8228-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4341
         "time": 1637650300219
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.7.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F84F38D593E29651F11C5F039796DBC71098D96A-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4341
         "time": 1637650300323
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.7.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous B8ACA8B3E0D93952EA79BFF9EB7AEE596D89F4BA-1"
         "pid": 4341
         "time": 1637650300351
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.8.0
updated 1 package and audited 1085 packages in 4.605s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:51:46.082Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:51:46.082Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:51:46.082Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:51:46.083Z appoptics:debug using context provider: ace-context
2021-11-23T06:51:46.161Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:51:46.296Z appoptics:patching patched crypto 
2021-11-23T06:51:46.333Z appoptics:patching patched https 
2021-11-23T06:51:46.333Z appoptics:patching patched http 
2021-11-23T06:51:46.366Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:51:46.366Z appoptics:patching patched fs 
2021-11-23T06:51:46.381Z appoptics:patching patched pino 6.8.0
2021-11-23T06:51:46.389Z appoptics:debug starting runtimeMetrics


  pino v6.8.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (217ms)
  14 failing

  1) pino v6.8.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4364
         "time": 1637650306444
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.8.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "44515535A77080CCFD4C915BFE9A51F9B9FB8838-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4364
         "time": 1637650306450
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.8.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "201D5BA59C4F8F585F63B4632B621E9140951497-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4364
         "time": 1637650306453
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.8.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0F9B6A55F409C12DBD78C562B548AC7375A11C9C-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4364
         "time": 1637650306459
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.8.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "05C3E295A3C84D1F73420A92B19CABAE3DFD354F-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4364
         "time": 1637650306462
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.8.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4364
         "time": 1637650306467
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.8.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5D32BB340C08FA54B7681ECE647009A2A05D141A-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4364
         "time": 1637650306472
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.8.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E84ACE6374972EADC3A34B13740C278A6DE0205F-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4364
         "time": 1637650306474
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.8.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4364
         "time": 1637650306475
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.8.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D7A3F9E0B18AB7903E5184AF69D106F686943DCA-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4364
         "time": 1637650306480
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.8.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4364
         "time": 1637650306481
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.8.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "070BE8C8E07E697BCCD0EB18BB6B94C9CB20BF6B-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4364
         "time": 1637650306491
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.8.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3D5DB94CBBC90287B0B95E6098BC6A75AABEC169-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4364
         "time": 1637650306595
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.8.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 0544143167946875AF1EBC897FB44DA216EF7540-1"
         "pid": 4364
         "time": 1637650306623
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.9.0
updated 1 package and audited 1085 packages in 4.059s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:51:51.654Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:51:51.654Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:51:51.654Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:51:51.655Z appoptics:debug using context provider: ace-context
2021-11-23T06:51:51.719Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:51:51.852Z appoptics:patching patched crypto 
2021-11-23T06:51:51.874Z appoptics:patching patched https 
2021-11-23T06:51:51.874Z appoptics:patching patched http 
2021-11-23T06:51:51.907Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:51:51.907Z appoptics:patching patched fs 
2021-11-23T06:51:51.914Z appoptics:patching patched pino 6.9.0
2021-11-23T06:51:51.917Z appoptics:debug starting runtimeMetrics


  pino v6.9.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (174ms)
  14 failing

  1) pino v6.9.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4387
         "time": 1637650311945
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.9.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "42CFE4D015FE366C4AC193B2F7F54B3069AC081C-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4387
         "time": 1637650311951
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.9.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F70FCCB8E600105A0FB732C6F7B43F5B54B54DBD-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4387
         "time": 1637650311953
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.9.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E35BB47AAD1FE33052F8049ECC9E11A2DD64ABE8-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4387
         "time": 1637650311955
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.9.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6C0473BD427F8F43A2E7F66C17FA09675618CC3A-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4387
         "time": 1637650311957
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.9.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4387
         "time": 1637650311960
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.9.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "90BA4A8FD29F552B230F14B01F83DF8C3A48FE09-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4387
         "time": 1637650311962
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.9.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2B09A71B8ED66287A345765ADA65E0F1914ECAE3-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4387
         "time": 1637650311963
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.9.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4387
         "time": 1637650311964
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.9.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B4B6CB79FCED75CFEA050D484C246F566E3AE34B-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4387
         "time": 1637650311965
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.9.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4387
         "time": 1637650311966
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.9.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2E936E2ADA34E2B7B53579CC74E14E2BD47AC82A-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4387
         "time": 1637650311968
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.9.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B5A4C83DAA4D66E616529BED4F5B3D3332B7676A-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4387
         "time": 1637650312072
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.9.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 76F50F822FE194B17FE89D34AE24EB4FE859B551-1"
         "pid": 4387
         "time": 1637650312101
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.10.0
updated 2 packages and audited 1085 packages in 4.943s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:51:58.537Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:51:58.538Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:51:58.538Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:51:58.539Z appoptics:debug using context provider: ace-context
2021-11-23T06:51:58.604Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:51:58.730Z appoptics:patching patched crypto 
2021-11-23T06:51:58.746Z appoptics:patching patched https 
2021-11-23T06:51:58.746Z appoptics:patching patched http 
2021-11-23T06:51:58.771Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:51:58.771Z appoptics:patching patched fs 
2021-11-23T06:51:58.779Z appoptics:patching patched pino 6.10.0
2021-11-23T06:51:58.786Z appoptics:debug starting runtimeMetrics


  pino v6.10.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (171ms)
  14 failing

  1) pino v6.10.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4410
         "time": 1637650318808
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.10.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7A9904BAD519EBB6D81D5B6DF3C4CC228EE469E7-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4410
         "time": 1637650318814
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.10.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8F112C57B07904E79BA6C2FD67B5557F4E1F0164-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4410
         "time": 1637650318817
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.10.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "35DD861946B46EA4CCE06100150AC9A75CE6C149-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4410
         "time": 1637650318819
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.10.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9C51428A6F9B131D63FD26B68F2D8C49C96243BC-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4410
         "time": 1637650318821
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.10.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4410
         "time": 1637650318824
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.10.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B8B9E3869F2B5E6DD876FD47C565F7C5C4BFFC43-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4410
         "time": 1637650318825
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.10.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3026F400E7E9AAC350697A477CE70A17FF4CF11A-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4410
         "time": 1637650318826
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.10.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4410
         "time": 1637650318828
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.10.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E1F98F2A2FBFD2B5E6BF449AFA3B06781E02BC8C-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4410
         "time": 1637650318829
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.10.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4410
         "time": 1637650318830
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.10.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "75AD17A871CA0DCA72C6806FBB23444C6E822CF6-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4410
         "time": 1637650318831
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.10.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B71C604D842758585FE1D837CC518EA6E8166CE0-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4410
         "time": 1637650318935
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.10.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 164A80F64AEBE0B9B34983824DD20174282E85B1-1"
         "pid": 4410
         "time": 1637650318963
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.11.0
updated 1 package and audited 1085 packages in 4.106s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:52:03.995Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:52:03.996Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:52:03.996Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:52:03.997Z appoptics:debug using context provider: ace-context
2021-11-23T06:52:04.055Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:52:04.201Z appoptics:patching patched crypto 
2021-11-23T06:52:04.219Z appoptics:patching patched https 
2021-11-23T06:52:04.219Z appoptics:patching patched http 
2021-11-23T06:52:04.244Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:52:04.244Z appoptics:patching patched fs 
2021-11-23T06:52:04.257Z appoptics:patching patched pino 6.11.0
2021-11-23T06:52:04.267Z appoptics:debug starting runtimeMetrics


  pino v6.11.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (175ms)
  14 failing

  1) pino v6.11.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4433
         "time": 1637650324296
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.11.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B5B943A4D604E274048919A13313B468E7064231-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4433
         "time": 1637650324302
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.11.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3BD3E6EFFBED3500BFF6F594F6C19AAE8197ECB8-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4433
         "time": 1637650324305
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.11.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F7F44D8711EACC29F6BE033E53AF51F23F491189-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4433
         "time": 1637650324308
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.11.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4E1BF4BB5F9FC2C71F05EE1E1DDDE212AFD0C780-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4433
         "time": 1637650324312
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.11.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4433
         "time": 1637650324314
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.11.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "98E64C8A4975E202E4BC06CC32CE0089835483E8-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4433
         "time": 1637650324316
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.11.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D4C1E446F7D9FF65F7BE353DC6CB593784ED8FDA-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4433
         "time": 1637650324317
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.11.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4433
         "time": 1637650324318
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.11.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6132F1D359E728D7B6430CA3BE3E7188E5CDB45A-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4433
         "time": 1637650324319
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.11.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4433
         "time": 1637650324320
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.11.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7E01FB734A78DD14631E9CADBA7D5526E27C20A8-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4433
         "time": 1637650324322
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.11.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "AD5C35DDA1593CBDF62E85C2566A6320F4459D64-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4433
         "time": 1637650324426
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.11.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 5BB2ECD48382446D3A31D9A3F08656990B4E4BA4-1"
         "pid": 4433
         "time": 1637650324454
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.11.1
updated 1 package and audited 1085 packages in 4.353s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:52:10.033Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:52:10.033Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:52:10.033Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:52:10.034Z appoptics:debug using context provider: ace-context
2021-11-23T06:52:10.113Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:52:10.280Z appoptics:patching patched crypto 
2021-11-23T06:52:10.297Z appoptics:patching patched https 
2021-11-23T06:52:10.298Z appoptics:patching patched http 
2021-11-23T06:52:10.350Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:52:10.350Z appoptics:patching patched fs 
2021-11-23T06:52:10.369Z appoptics:patching patched pino 6.11.1
2021-11-23T06:52:10.373Z appoptics:debug starting runtimeMetrics


  pino v6.11.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (175ms)
  14 failing

  1) pino v6.11.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4456
         "time": 1637650330397
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.11.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1BE9D7C4AB62A1DD042F3E5391433637DF43B891-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4456
         "time": 1637650330403
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.11.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D753E25013737A1A644641465FEB0A749D9DF73A-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4456
         "time": 1637650330406
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.11.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EC7C011A34F77BFAD69ADF6683F2179BCCC60816-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4456
         "time": 1637650330408
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.11.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8625C540E5EC166D985E653198221F6FA70636FB-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4456
         "time": 1637650330410
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.11.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4456
         "time": 1637650330413
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.11.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "96B16DA45A8F9B244FABA498EF7E6CCB6EFD2C36-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4456
         "time": 1637650330414
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.11.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D2B45E5801A858F76FD0AB916426864F11A1A6E5-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4456
         "time": 1637650330416
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.11.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4456
         "time": 1637650330417
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.11.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5688FD20F734A284DF9EBE3C246B4AB19478912A-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4456
         "time": 1637650330418
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.11.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4456
         "time": 1637650330420
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.11.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7AE411C7372E717C2906CF52698DC778272C6476-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4456
         "time": 1637650330421
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.11.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3383554B8FE9D68B281456715EB69F61AB645373-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4456
         "time": 1637650330525
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.11.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 654F2225CBED2047AD06109E29F282A817181E34-1"
         "pid": 4456
         "time": 1637650330553
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.11.2
updated 2 packages and audited 1085 packages in 4.067s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:52:15.693Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:52:15.694Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:52:15.694Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:52:15.694Z appoptics:debug using context provider: ace-context
2021-11-23T06:52:15.756Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:52:15.885Z appoptics:patching patched crypto 
2021-11-23T06:52:15.904Z appoptics:patching patched https 
2021-11-23T06:52:15.904Z appoptics:patching patched http 
2021-11-23T06:52:15.934Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:52:15.934Z appoptics:patching patched fs 
2021-11-23T06:52:15.940Z appoptics:patching patched pino 6.11.2
2021-11-23T06:52:15.944Z appoptics:debug starting runtimeMetrics


  pino v6.11.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (172ms)
  14 failing

  1) pino v6.11.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4479
         "time": 1637650335967
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.11.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "69EDE6AEB644CB9C6D88CBB096AE66ACAA415533-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4479
         "time": 1637650335973
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.11.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "94C735CA220FB3FA63F38948AE091408105337E4-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4479
         "time": 1637650335975
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.11.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "00E5D41E4DDBDB8BB2BC0EB78855F88266E7C30F-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4479
         "time": 1637650335977
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.11.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3117E10E7C7C66545EC0EA4AD48DC059B0C734A7-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4479
         "time": 1637650335979
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.11.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4479
         "time": 1637650335981
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.11.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CBD8CB8A9BF188DAC8F4EFD3AED31ECDB6EEBCAE-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4479
         "time": 1637650335983
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.11.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CB84D39D94917B680F76C86758DF4421BC7ED2EF-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4479
         "time": 1637650335984
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.11.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4479
         "time": 1637650335985
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.11.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3396886C50495DD6C3880D3E24FAFC65A958BAC6-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4479
         "time": 1637650335986
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.11.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4479
         "time": 1637650335988
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.11.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "04A62DF76734035A7B4E18B71A979262C7ABC998-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4479
         "time": 1637650335989
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.11.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "57DCFE1BDE857F4A3ACFA6C4405827EC68834FE9-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4479
         "time": 1637650336093
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.11.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 1B5C74D6FE9EDE84CF9C10D0265C8B7D3D665130-1"
         "pid": 4479
         "time": 1637650336121
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.11.3
updated 2 packages and audited 1085 packages in 4.41s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:52:21.605Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:52:21.606Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:52:21.606Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:52:21.606Z appoptics:debug using context provider: ace-context
2021-11-23T06:52:21.685Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:52:21.841Z appoptics:patching patched crypto 
2021-11-23T06:52:21.858Z appoptics:patching patched https 
2021-11-23T06:52:21.859Z appoptics:patching patched http 
2021-11-23T06:52:21.912Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:52:21.912Z appoptics:patching patched fs 
2021-11-23T06:52:21.931Z appoptics:patching patched pino 6.11.3
2021-11-23T06:52:21.934Z appoptics:debug starting runtimeMetrics


  pino v6.11.3
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (185ms)
  14 failing

  1) pino v6.11.3
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4502
         "time": 1637650341969
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.11.3
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "477C009CA3FBD8FA0192548F7EA32715EB75CB12-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4502
         "time": 1637650341975
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.11.3
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "32D9318BC598B24DE7CDAD020D3D3FB3533E6C45-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4502
         "time": 1637650341978
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.11.3
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F9F44F9C463889DFAD2F74469CD3DA5FCB2ECEE6-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4502
         "time": 1637650341980
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.11.3
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DA41AC8ED70FC12BF57FDB0A2A9AF0A36E80C8A8-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4502
         "time": 1637650341982
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.11.3
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4502
         "time": 1637650341985
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.11.3
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CE9609342C0A14CF1029A5CFC8CB98FF3D60E5CF-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4502
         "time": 1637650341986
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.11.3
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "81D3ED001234D07F44AD8D73C5C933E84715429A-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4502
         "time": 1637650341988
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.11.3
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4502
         "time": 1637650341989
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.11.3
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A06AB27D000DF54B71ABADE46C514B46F1D04EA6-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4502
         "time": 1637650341990
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.11.3
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4502
         "time": 1637650341991
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.11.3
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "660905B3B030B4A5FAD12E779FF4DF991586B4E6-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4502
         "time": 1637650341993
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.11.3
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "28CBE0B126D7CC207EB027405D354A6D2B73C172-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4502
         "time": 1637650342097
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.11.3
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 26739249E89FEDAF1BACDA0D913F675090655331-1"
         "pid": 4502
         "time": 1637650342125
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.12.0
updated 1 package and audited 1085 packages in 4.363s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:52:27.648Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:52:27.648Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:52:27.648Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:52:27.649Z appoptics:debug using context provider: ace-context
2021-11-23T06:52:27.712Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:52:27.839Z appoptics:patching patched crypto 
2021-11-23T06:52:27.854Z appoptics:patching patched https 
2021-11-23T06:52:27.855Z appoptics:patching patched http 
2021-11-23T06:52:27.890Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:52:27.890Z appoptics:patching patched fs 
2021-11-23T06:52:27.897Z appoptics:patching patched pino 6.12.0
2021-11-23T06:52:27.900Z appoptics:debug starting runtimeMetrics


  pino v6.12.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (171ms)
  14 failing

  1) pino v6.12.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4525
         "time": 1637650347923
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.12.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "86F60EFBD2FE880F1FA2BECE5BCBCF463824A138-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4525
         "time": 1637650347928
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.12.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "528DDFCC33183C70183C8B537F5034A34A5FD10B-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4525
         "time": 1637650347931
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.12.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F31D55A970F59B44D795EABF4AB6755F565CDA41-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4525
         "time": 1637650347933
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.12.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CC7BC47AE13D11B3E0D256D4CB13C6917819C3EF-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4525
         "time": 1637650347935
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.12.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4525
         "time": 1637650347937
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.12.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D314FED34EDA7798F891243B642715ECA7D7EE0C-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4525
         "time": 1637650347939
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.12.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D716FB7EDE1869D33DF9E2169D7C5918B8CB1DC5-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4525
         "time": 1637650347940
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.12.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4525
         "time": 1637650347941
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.12.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "93603F0ED876ADD3019FCC7F32048472DADE6DED-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4525
         "time": 1637650347942
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.12.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4525
         "time": 1637650347943
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.12.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0BAEB036A23D2A17194B0496AB7CAF6132A061C8-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4525
         "time": 1637650347945
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.12.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B2B125E0A4C1F2B91036343219AD2A85FCB8440D-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4525
         "time": 1637650348049
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.12.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 0EF145FC08A14C5C6E99DBCA8BC10CAB6750DDA7-1"
         "pid": 4525
         "time": 1637650348077
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.13.0
updated 1 package and audited 1085 packages in 4.372s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:52:33.367Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:52:33.368Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:52:33.368Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:52:33.369Z appoptics:debug using context provider: ace-context
2021-11-23T06:52:33.439Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:52:33.575Z appoptics:patching patched crypto 
2021-11-23T06:52:33.590Z appoptics:patching patched https 
2021-11-23T06:52:33.591Z appoptics:patching patched http 
2021-11-23T06:52:33.640Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:52:33.641Z appoptics:patching patched fs 
2021-11-23T06:52:33.657Z appoptics:patching patched pino 6.13.0
2021-11-23T06:52:33.660Z appoptics:debug starting runtimeMetrics


  pino v6.13.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (169ms)
  14 failing

  1) pino v6.13.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4548
         "time": 1637650353685
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.13.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EFFB170346CD491AAA9775DD4C980846030D161D-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4548
         "time": 1637650353690
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.13.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6AD7372A3EAFA9BE5E3E93E4A2793A3529441B27-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4548
         "time": 1637650353692
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.13.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A9DD8148539067E052C748D1842FE77767ADF91C-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4548
         "time": 1637650353694
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.13.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8DB54A62DEECDB6660B9388C644AFB3B67CDCB1C-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4548
         "time": 1637650353696
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.13.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4548
         "time": 1637650353698
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.13.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "AEEFDCA29E2C2D2956672D42EDA18892CB696A0D-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4548
         "time": 1637650353700
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.13.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8A8006AA660372AC88CA18FC37B5083D96ACAB9E-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4548
         "time": 1637650353701
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.13.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4548
         "time": 1637650353702
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.13.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D12D6BBF8C763AC48025FEC9F73314EAD2B648EF-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4548
         "time": 1637650353703
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.13.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4548
         "time": 1637650353704
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.13.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B962A6E3482C0F02303993A72DAAC84DCA3C24B2-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4548
         "time": 1637650353706
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.13.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2EE9C29E436F5FA76D8494838ED56C5B14A9933E-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4548
         "time": 1637650353810
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.13.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous B9E6953AC64135F74E1C383B8D791792A631514D-1"
         "pid": 4548
         "time": 1637650353837
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.13.1
added 1 package from 1 contributor, updated 1 package and audited 1086 packages in 4.097s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:52:38.945Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:52:38.945Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:52:38.946Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:52:38.946Z appoptics:debug using context provider: ace-context
2021-11-23T06:52:39.012Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:52:39.140Z appoptics:patching patched crypto 
2021-11-23T06:52:39.156Z appoptics:patching patched https 
2021-11-23T06:52:39.157Z appoptics:patching patched http 
2021-11-23T06:52:39.181Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:52:39.181Z appoptics:patching patched fs 
2021-11-23T06:52:39.189Z appoptics:patching patched pino 6.13.1
2021-11-23T06:52:39.197Z appoptics:debug starting runtimeMetrics


  pino v6.13.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (171ms)
  14 failing

  1) pino v6.13.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4571
         "time": 1637650359219
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.13.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6AEDB7E87BC967B3B0CD1A06A5D6A3FA620A0272-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4571
         "time": 1637650359225
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.13.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5FECD242F6815B7F5C82616C320CC11297F39BE4-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4571
         "time": 1637650359227
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.13.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7FA9234C9EEEBD600541E397C15E6D6ECB5F1FC0-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4571
         "time": 1637650359230
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.13.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "51621C7B644CDAD1BC5748C6281704765AFA4E4D-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4571
         "time": 1637650359232
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.13.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4571
         "time": 1637650359234
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.13.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F2A63E6F95D7E5F7C7DF06444F57C65D6A42C59B-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4571
         "time": 1637650359236
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.13.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C883429A9C3137B401E77C01DA0307777354984A-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4571
         "time": 1637650359237
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.13.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4571
         "time": 1637650359238
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.13.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E3F7B4BA721D98A336A4177E00BAD3CA9227B04D-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4571
         "time": 1637650359239
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.13.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4571
         "time": 1637650359240
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.13.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D57BEF0C7A7182E5991CC684120A8B70D63D5E91-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4571
         "time": 1637650359242
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.13.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8DB3874F9BE6CD4455E1E6BF9F46DC8CDED9FBE9-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4571
         "time": 1637650359346
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.13.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous F0226D9053C3615D07803B4DF83DF654030C5185-1"
         "pid": 4571
         "time": 1637650359374
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.13.2
updated 1 package and audited 1086 packages in 4.368s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:52:44.729Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:52:44.732Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:52:44.732Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:52:44.733Z appoptics:debug using context provider: ace-context
2021-11-23T06:52:44.884Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:52:45.056Z appoptics:patching patched crypto 
2021-11-23T06:52:45.094Z appoptics:patching patched https 
2021-11-23T06:52:45.094Z appoptics:patching patched http 
2021-11-23T06:52:45.130Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:52:45.130Z appoptics:patching patched fs 
2021-11-23T06:52:45.149Z appoptics:patching patched pino 6.13.2
2021-11-23T06:52:45.153Z appoptics:debug starting runtimeMetrics


  pino v6.13.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (179ms)
  14 failing

  1) pino v6.13.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4594
         "time": 1637650365181
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.13.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DFA47F7D48DE4460200445A4F5DD5A847E873F3C-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4594
         "time": 1637650365187
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.13.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "88BFA801DF75F58A44395170D6C88EE1D75F6E67-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4594
         "time": 1637650365190
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.13.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "396589C815ED511B50F8355085B4708508F57053-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4594
         "time": 1637650365192
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.13.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D3754CC499398BF2AA583B333341EBCAAB54855E-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4594
         "time": 1637650365195
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.13.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4594
         "time": 1637650365197
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.13.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EF9D735230E1FBBC972EB4817336DC3377EFB176-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4594
         "time": 1637650365199
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.13.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2AE2E3B3104CB2159C06F65736F7B9B837510B79-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4594
         "time": 1637650365200
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.13.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4594
         "time": 1637650365201
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.13.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F18EC72FED42BCEB68F49074B61573A899A5171D-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4594
         "time": 1637650365202
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.13.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4594
         "time": 1637650365204
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.13.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3DFFB2FEC5DE75C6D7F08BB3DAE77F243D260278-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4594
         "time": 1637650365205
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.13.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "43FE0BD48B6F3E39B3F63B42815D4A2C44B636E6-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4594
         "time": 1637650365309
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.13.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 88AC1A8B5988CA2965653269518FE805FB6FDEBA-1"
         "pid": 4594
         "time": 1637650365337
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.13.3
updated 1 package and audited 1086 packages in 7.537s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:52:54.689Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:52:54.690Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:52:54.690Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:52:54.690Z appoptics:debug using context provider: ace-context
2021-11-23T06:52:54.758Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:52:55.031Z appoptics:patching patched crypto 
2021-11-23T06:52:55.049Z appoptics:patching patched https 
2021-11-23T06:52:55.049Z appoptics:patching patched http 
2021-11-23T06:52:55.118Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:52:55.119Z appoptics:patching patched fs 
2021-11-23T06:52:55.127Z appoptics:patching patched pino 6.13.3
2021-11-23T06:52:55.131Z appoptics:debug starting runtimeMetrics


  pino v6.13.3
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (179ms)
  14 failing

  1) pino v6.13.3
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4617
         "time": 1637650375159
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v6.13.3
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C580DEA6F728F255284739BF6B9236F1860741E0-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4617
         "time": 1637650375165
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v6.13.3
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2185E28463EFA68211CF8994CAE905291514AC43-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4617
         "time": 1637650375168
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v6.13.3
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "79BA3C878CE1816FA924223B2DB7684364BF71D1-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4617
         "time": 1637650375171
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v6.13.3
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1D45E1D0F5D2BAA8981570CC6354B9DAD215B29B-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4617
         "time": 1637650375173
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v6.13.3
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4617
         "time": 1637650375176
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v6.13.3
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1570CD6F1EB886B016B94814F33F469B89F0BBFE-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4617
         "time": 1637650375177
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v6.13.3
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D6780FDD8F2C748FF870C043B63C06EB36024886-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4617
         "time": 1637650375178
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v6.13.3
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4617
         "time": 1637650375180
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v6.13.3
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "105A26A51555D991B3C79B9511C638DC025483CA-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4617
         "time": 1637650375181
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v6.13.3
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4617
         "time": 1637650375182
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v6.13.3
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0D3923D1E25DC93BCBD273DCE46443067DE98241-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4617
         "time": 1637650375184
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v6.13.3
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DB938BE3D31F2B3792732CB735333AB756A5192C-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4617
         "time": 1637650375287
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v6.13.3
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 95AACAE85C50C87A5D7FC26D86FD798F63D29AAF-1"
         "pid": 4617
         "time": 1637650375316
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.0.0
added 6 packages from 4 contributors, removed 2 packages, updated 3 packages and audited 1090 packages in 5.821s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:53:02.444Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:53:02.445Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:53:02.445Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:53:02.446Z appoptics:debug using context provider: ace-context
2021-11-23T06:53:02.507Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:53:02.631Z appoptics:patching patched crypto 
2021-11-23T06:53:02.647Z appoptics:patching patched https 
2021-11-23T06:53:02.647Z appoptics:patching patched http 
2021-11-23T06:53:02.673Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:53:02.673Z appoptics:patching patched fs 
2021-11-23T06:53:02.687Z appoptics:patching patched pino 7.0.0
2021-11-23T06:53:02.690Z appoptics:debug starting runtimeMetrics


  pino v7.0.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (170ms)
  14 failing

  1) pino v7.0.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4640
         "time": 1637650382713
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v7.0.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "60DB601BABD0FC9256903ECEB6719FA001DD0AF4-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4640
         "time": 1637650382719
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v7.0.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "BDD50449A558009AEDA694225FB8C6C73065A167-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4640
         "time": 1637650382721
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v7.0.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9EADD15BC44AB0623CA54CF2B380D7D473D06290-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4640
         "time": 1637650382723
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v7.0.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F6E3A10347F5214A75D042BAFD1480C2F8792640-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4640
         "time": 1637650382725
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v7.0.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4640
         "time": 1637650382728
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v7.0.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5826832BCD0A536B211ADBEC711B23DAED34AC89-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4640
         "time": 1637650382729
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v7.0.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4BCF1FFD154053DD1D5ABD9A21EE42A2ED34BAA8-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4640
         "time": 1637650382730
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v7.0.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4640
         "time": 1637650382731
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v7.0.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0E561BFA83F24C2E5B5941BC099FF125132D8317-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4640
         "time": 1637650382732
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v7.0.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4640
         "time": 1637650382733
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v7.0.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A729B0ECB5E69405CC9DF9441570864D1F3CEEF9-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4640
         "time": 1637650382735
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v7.0.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "AFFA67C54017A6E545668BEEF9F02AFA075488C4-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4640
         "time": 1637650382838
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v7.0.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous FB834AB4234EC5BD1083F27A29ECF88BF032818F-1"
         "pid": 4640
         "time": 1637650382866
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.0.1
updated 1 package and audited 1090 packages in 4.656s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:53:08.504Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:53:08.504Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:53:08.505Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:53:08.505Z appoptics:debug using context provider: ace-context
2021-11-23T06:53:08.570Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:53:08.700Z appoptics:patching patched crypto 
2021-11-23T06:53:08.716Z appoptics:patching patched https 
2021-11-23T06:53:08.717Z appoptics:patching patched http 
2021-11-23T06:53:08.752Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:53:08.752Z appoptics:patching patched fs 
2021-11-23T06:53:08.760Z appoptics:patching patched pino 7.0.1
2021-11-23T06:53:08.764Z appoptics:debug starting runtimeMetrics


  pino v7.0.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (172ms)
  14 failing

  1) pino v7.0.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4663
         "time": 1637650388787
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v7.0.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "AC1F5411C047454124312E309E2AD273ECD951D8-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4663
         "time": 1637650388793
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v7.0.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "57872B6EC83928CEDE9143DCB56966D9BF78FE9D-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4663
         "time": 1637650388795
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v7.0.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "37FE390E4AB8B61A4BF713A77656EB5FE5F22F9B-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4663
         "time": 1637650388797
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v7.0.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C7BA8E3F3322E2B0F3E1CDC95B6B0A006530F26A-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4663
         "time": 1637650388799
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v7.0.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4663
         "time": 1637650388802
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v7.0.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C9DC63771A8790B0F450A2CDBB4F33CC0305F676-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4663
         "time": 1637650388803
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v7.0.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E29AD9B22661FDBBA3C2CDCF2F91E6F4DBE22473-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4663
         "time": 1637650388804
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v7.0.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4663
         "time": 1637650388805
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v7.0.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FDF345EE106EA94934A19D69C23911EC7830E6AE-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4663
         "time": 1637650388806
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v7.0.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4663
         "time": 1637650388807
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v7.0.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "79F4933E170C27343FAAC95334288B4144371D3C-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4663
         "time": 1637650388809
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v7.0.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2292DC8E6E803E97A55731CCE1E97B323444A5EF-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4663
         "time": 1637650388913
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v7.0.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 72D822890C8D972728F705A4D7518D8D61D3908C-1"
         "pid": 4663
         "time": 1637650388941
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.0.2
updated 1 package and audited 1090 packages in 4.856s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:53:14.732Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:53:14.733Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:53:14.733Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:53:14.733Z appoptics:debug using context provider: ace-context
2021-11-23T06:53:14.806Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:53:14.961Z appoptics:patching patched crypto 
2021-11-23T06:53:14.979Z appoptics:patching patched https 
2021-11-23T06:53:14.979Z appoptics:patching patched http 
2021-11-23T06:53:15.034Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:53:15.035Z appoptics:patching patched fs 
2021-11-23T06:53:15.054Z appoptics:patching patched pino 7.0.2
2021-11-23T06:53:15.058Z appoptics:debug starting runtimeMetrics


  pino v7.0.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (177ms)
  14 failing

  1) pino v7.0.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4686
         "time": 1637650395085
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v7.0.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B58242216AF2AD0E221417DA32930059307781D4-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4686
         "time": 1637650395091
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v7.0.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B86D2634FEF1F51B0E1A035B5EB55C4E2ADDFCFF-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4686
         "time": 1637650395093
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v7.0.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "11B7F7FECC999083ED3C90DB797AB14B89865729-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4686
         "time": 1637650395096
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v7.0.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7B3E24C0309E98752FC0C590F2342E250D49B577-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4686
         "time": 1637650395098
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v7.0.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4686
         "time": 1637650395100
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v7.0.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A0B16D7785439AFA9197EB37856EC36275634D89-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4686
         "time": 1637650395102
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v7.0.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9305F80C51D9F9BCF0A42EE0C58C2009D1165417-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4686
         "time": 1637650395103
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v7.0.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4686
         "time": 1637650395104
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v7.0.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "77973B7AD4B69E27CB8B4A1EDCD46154709400BD-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4686
         "time": 1637650395106
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v7.0.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4686
         "time": 1637650395107
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v7.0.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "60530EE365935F3BE04E72EF716EB03927FA2144-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4686
         "time": 1637650395108
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v7.0.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3DAAE2250E67E374077FF91B7611E0BCCA2FB9F5-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4686
         "time": 1637650395212
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v7.0.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous B5AD7EF3383F97FD71BD014056398868FEE77084-1"
         "pid": 4686
         "time": 1637650395240
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.0.3
updated 1 package and audited 1090 packages in 4.198s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:53:20.426Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:53:20.426Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:53:20.426Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:53:20.427Z appoptics:debug using context provider: ace-context
2021-11-23T06:53:20.489Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:53:20.624Z appoptics:patching patched crypto 
2021-11-23T06:53:20.641Z appoptics:patching patched https 
2021-11-23T06:53:20.642Z appoptics:patching patched http 
2021-11-23T06:53:20.678Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:53:20.678Z appoptics:patching patched fs 
2021-11-23T06:53:20.686Z appoptics:patching patched pino 7.0.3
2021-11-23T06:53:20.690Z appoptics:debug starting runtimeMetrics


  pino v7.0.3
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (175ms)
  14 failing

  1) pino v7.0.3
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4709
         "time": 1637650400714
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v7.0.3
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "69F2FB28A25AE0E9361B6101883774D515EC8809-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4709
         "time": 1637650400721
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v7.0.3
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1602A6E257554497F81802924F192D24D2D9799D-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4709
         "time": 1637650400723
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v7.0.3
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "67B9DDCABD90F728AAA99019D7F32DF19432D6C1-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4709
         "time": 1637650400725
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v7.0.3
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D65D24AB402C064F203C1F1B7F61AE174942D665-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4709
         "time": 1637650400728
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v7.0.3
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4709
         "time": 1637650400730
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v7.0.3
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CEAB43C6BBE8C97E20D7AF1184FCA727F6276DC7-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4709
         "time": 1637650400731
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v7.0.3
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7645CF5A381EF1AE8AB4A59A0B8ECAE53F3B9F3F-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4709
         "time": 1637650400733
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v7.0.3
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4709
         "time": 1637650400734
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v7.0.3
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "54A79C869FB50F991A8EF34F7B7D7C621C70DF11-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4709
         "time": 1637650400735
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v7.0.3
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4709
         "time": 1637650400736
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v7.0.3
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "66111F2DB60FCD108147E77AEF79577C570D8660-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4709
         "time": 1637650400738
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v7.0.3
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "67A1359B22839FE03777136C397843B8699BEB9B-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4709
         "time": 1637650400842
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v7.0.3
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 612135131E92BB52F6726FC39ECF92E1A5764E08-1"
         "pid": 4709
         "time": 1637650400871
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.0.4
updated 1 package and audited 1090 packages in 6.301s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:53:28.112Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:53:28.112Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:53:28.112Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:53:28.113Z appoptics:debug using context provider: ace-context
2021-11-23T06:53:28.175Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:53:28.305Z appoptics:patching patched crypto 
2021-11-23T06:53:28.325Z appoptics:patching patched https 
2021-11-23T06:53:28.325Z appoptics:patching patched http 
2021-11-23T06:53:28.356Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:53:28.356Z appoptics:patching patched fs 
2021-11-23T06:53:28.364Z appoptics:patching patched pino 7.0.4
2021-11-23T06:53:28.368Z appoptics:debug starting runtimeMetrics


  pino v7.0.4
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (172ms)
  14 failing

  1) pino v7.0.4
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4732
         "time": 1637650408391
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v7.0.4
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FE9023CF606D5BB2A65789AF71844B3674858B17-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4732
         "time": 1637650408396
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v7.0.4
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7912573E5BABA22F7788CE4CC6EE9F0B02ED6B6D-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4732
         "time": 1637650408399
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v7.0.4
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3C00ACA4973AF38F2B42FA8F81B96ABD38FF9E58-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4732
         "time": 1637650408401
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v7.0.4
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E59C5B2B639991FD55B1F87B98A4C52835E66203-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4732
         "time": 1637650408403
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v7.0.4
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4732
         "time": 1637650408405
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v7.0.4
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E4F7880EFB69DD5BDA51EE833EFB636C4B9CABC2-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4732
         "time": 1637650408407
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v7.0.4
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5F567135A1E17CC9E0F86079E1BC562A53E96468-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4732
         "time": 1637650408408
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v7.0.4
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4732
         "time": 1637650408409
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v7.0.4
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "069E83B5F3A75650D01B62443102CC01D5476688-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4732
         "time": 1637650408411
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v7.0.4
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4732
         "time": 1637650408412
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v7.0.4
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4F919433C77A3E46F5C8BD525349ED55F50F9AAD-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4732
         "time": 1637650408413
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v7.0.4
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "064F88C874C02FCECF7DD46DA426AA5B904BEE80-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4732
         "time": 1637650408517
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v7.0.4
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous D08957F1D69990189B9D92F6D82E19E59562CD95-1"
         "pid": 4732
         "time": 1637650408546
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.0.5
updated 1 package and audited 1090 packages in 5.283s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:53:34.800Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:53:34.800Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:53:34.801Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:53:34.801Z appoptics:debug using context provider: ace-context
2021-11-23T06:53:34.884Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:53:35.062Z appoptics:patching patched crypto 
2021-11-23T06:53:35.085Z appoptics:patching patched https 
2021-11-23T06:53:35.085Z appoptics:patching patched http 
2021-11-23T06:53:35.171Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:53:35.171Z appoptics:patching patched fs 
2021-11-23T06:53:35.179Z appoptics:patching patched pino 7.0.5
2021-11-23T06:53:35.182Z appoptics:debug starting runtimeMetrics


  pino v7.0.5
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (180ms)
  14 failing

  1) pino v7.0.5
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4755
         "time": 1637650415210
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v7.0.5
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "348347F1927A4510C6206688F799FC3A317F2D08-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4755
         "time": 1637650415217
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v7.0.5
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DEF96E893DFAE768CC1C3C265820B6D1AA3333FA-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4755
         "time": 1637650415219
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v7.0.5
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D34F010B672DA86B6B57FDC689828C874A2E4738-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4755
         "time": 1637650415222
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v7.0.5
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "73D45CEBC671366EB742044C4D9BD146C37E08B2-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4755
         "time": 1637650415224
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v7.0.5
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4755
         "time": 1637650415227
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v7.0.5
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6C21C90421E02E9885B10DC47448A79FD67D0747-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4755
         "time": 1637650415228
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v7.0.5
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "152EB52937539C662E27A2A884DAFD058803F5C5-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4755
         "time": 1637650415230
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v7.0.5
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4755
         "time": 1637650415231
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v7.0.5
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E2DCC85E312527556AFA01ED84565AECDEB6E111-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4755
         "time": 1637650415233
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v7.0.5
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4755
         "time": 1637650415234
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v7.0.5
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "894C6D4CAEE66D8C16D6340E06E1984D7BC854E9-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4755
         "time": 1637650415236
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v7.0.5
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "33029CED8C864E1DAE7B727E1086705219675C97-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4755
         "time": 1637650415340
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v7.0.5
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 5F57E3434B7444FE642C147E19061560DF08CE7D-1"
         "pid": 4755
         "time": 1637650415369
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.1.0
added 2 packages from 2 contributors, updated 3 packages and audited 1092 packages in 4.963s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:53:41.420Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:53:41.420Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:53:41.420Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:53:41.421Z appoptics:debug using context provider: ace-context
2021-11-23T06:53:41.483Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:53:41.615Z appoptics:patching patched crypto 
2021-11-23T06:53:41.631Z appoptics:patching patched https 
2021-11-23T06:53:41.631Z appoptics:patching patched http 
2021-11-23T06:53:41.659Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:53:41.663Z appoptics:patching patched fs 
2021-11-23T06:53:41.673Z appoptics:patching patched pino 7.1.0
2021-11-23T06:53:41.676Z appoptics:debug starting runtimeMetrics


  pino v7.1.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (171ms)
  14 failing

  1) pino v7.1.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4778
         "time": 1637650421699
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v7.1.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D08CD23592ABBA324973AB873BB60F3887F56E17-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4778
         "time": 1637650421705
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v7.1.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2B125107C3DB0514AF31D1123F4796BF7A28FC4B-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4778
         "time": 1637650421707
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v7.1.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EF644F6BCCFA029637502D2285734F7756A7BA92-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4778
         "time": 1637650421709
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v7.1.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DA0986B72353656AC8F78A30864A17B0B255E79F-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4778
         "time": 1637650421711
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v7.1.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4778
         "time": 1637650421714
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v7.1.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "365E9951D92975FB906C7D527AD4BEC79392DA21-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4778
         "time": 1637650421715
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v7.1.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A75D106660072234605A8915CFF8A2A4C4B6B2FA-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4778
         "time": 1637650421716
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v7.1.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4778
         "time": 1637650421718
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v7.1.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "72EB5B29DF88F8349F532E6E468C5C4E06F1B431-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4778
         "time": 1637650421719
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v7.1.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4778
         "time": 1637650421720
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v7.1.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "279D123E129BB68DC2AACD296C2C4532D39B769E-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4778
         "time": 1637650421721
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v7.1.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F745966037DD590CDBD18E958A5A609A6427EB51-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4778
         "time": 1637650421825
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v7.1.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 6EF6A076ED93FDD0AD3B127FA8E8AB1AA86203A9-1"
         "pid": 4778
         "time": 1637650421853
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.2.0
added 1 package from 2 contributors, updated 2 packages and audited 1093 packages in 4.151s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:53:47.012Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:53:47.013Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:53:47.013Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:53:47.014Z appoptics:debug using context provider: ace-context
2021-11-23T06:53:47.082Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:53:47.272Z appoptics:patching patched crypto 
2021-11-23T06:53:47.293Z appoptics:patching patched https 
2021-11-23T06:53:47.293Z appoptics:patching patched http 
2021-11-23T06:53:47.324Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:53:47.324Z appoptics:patching patched fs 
2021-11-23T06:53:47.356Z appoptics:patching patched pino 7.2.0
2021-11-23T06:53:47.363Z appoptics:debug starting runtimeMetrics


  pino v7.2.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (193ms)
  14 failing

  1) pino v7.2.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4801
         "time": 1637650427391
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v7.2.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8F5B88B0CC3EA048B345A5B9CFE8115CD217BAAD-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4801
         "time": 1637650427397
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v7.2.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C35699CB88CFA4A8CAF4EBB21A96AD35EB7DE682-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4801
         "time": 1637650427402
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v7.2.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3D90F3789784E4492A509AD3699B7FD216B4BAB3-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4801
         "time": 1637650427405
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v7.2.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8E5C9B64FE319C7D7B9518CA93CF10AF35393B58-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4801
         "time": 1637650427408
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v7.2.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4801
         "time": 1637650427415
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v7.2.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D2D70307D5122488805F8B2A37D9F8CE81D61874-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4801
         "time": 1637650427417
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v7.2.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A78B2DF328321ACD49B38E1FED2F0A9EBF6EA06C-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4801
         "time": 1637650427418
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v7.2.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4801
         "time": 1637650427422
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v7.2.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C09CC0473F208735F7EED309D4F03790ED5EED21-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4801
         "time": 1637650427423
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v7.2.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4801
         "time": 1637650427424
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v7.2.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6F903F6FFE9A63F238EBB3EAA5916D85023A1454-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4801
         "time": 1637650427428
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v7.2.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1DDBB49FA3A56E09EE6F4191912273E6FC54DDF0-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4801
         "time": 1637650427533
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v7.2.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous A9660AED573BBC6E7473F6C5C263F7EF2704B6BF-1"
         "pid": 4801
         "time": 1637650427562
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.3.0
updated 1 package and audited 1093 packages in 4.385s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:53:53.206Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:53:53.207Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:53:53.207Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:53:53.208Z appoptics:debug using context provider: ace-context
2021-11-23T06:53:53.266Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:53:53.402Z appoptics:patching patched crypto 
2021-11-23T06:53:53.418Z appoptics:patching patched https 
2021-11-23T06:53:53.419Z appoptics:patching patched http 
2021-11-23T06:53:53.448Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:53:53.448Z appoptics:patching patched fs 
2021-11-23T06:53:53.462Z appoptics:patching patched pino 7.3.0
2021-11-23T06:53:53.466Z appoptics:debug starting runtimeMetrics


  pino v7.3.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (173ms)
  14 failing

  1) pino v7.3.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4824
         "time": 1637650433490
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v7.3.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CC1528F3D7C593F3BB1546ED4A6093FD251C4B5F-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4824
         "time": 1637650433496
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v7.3.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "60B3373266719D831EF261AFD11867BDEAE00162-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4824
         "time": 1637650433498
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v7.3.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A55DC12A3C58D5F17556691C6A2FD83BCBB759B1-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4824
         "time": 1637650433500
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v7.3.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8CE2D8FEF105ED76F8A2F58E9837FBDEC82CB618-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4824
         "time": 1637650433502
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v7.3.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4824
         "time": 1637650433505
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v7.3.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "AC8ED117ECF041F2CB838347AD4D7A7EDEFCA02D-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4824
         "time": 1637650433506
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v7.3.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "421826570A10DF5F3D8C272B0D1AC2FC16B3CB76-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4824
         "time": 1637650433507
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v7.3.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4824
         "time": 1637650433509
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v7.3.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0B96EF5B57A8AD3047A3F7479C8CDC843379B931-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4824
         "time": 1637650433510
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v7.3.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4824
         "time": 1637650433511
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v7.3.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3E1A8B316B89C4A5771D6535F60C689EE3AB5AC8-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4824
         "time": 1637650433513
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v7.3.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F28F5049D3B365A532118699AB5F8323852A64C9-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4824
         "time": 1637650433617
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v7.3.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 0BB72BCD4CCAC194DC3C50AA27E1908AED58CE6E-1"
         "pid": 4824
         "time": 1637650433645
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.4.0
updated 1 package and audited 1093 packages in 4.27s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:53:58.847Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:53:58.848Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:53:58.848Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:53:58.849Z appoptics:debug using context provider: ace-context
2021-11-23T06:53:58.925Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:53:59.237Z appoptics:patching patched crypto 
2021-11-23T06:53:59.261Z appoptics:patching patched https 
2021-11-23T06:53:59.263Z appoptics:patching patched http 
2021-11-23T06:53:59.321Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:53:59.321Z appoptics:patching patched fs 
2021-11-23T06:53:59.332Z appoptics:patching patched pino 7.4.0
2021-11-23T06:53:59.336Z appoptics:debug starting runtimeMetrics


  pino v7.4.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (233ms)
  14 failing

  1) pino v7.4.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4847
         "time": 1637650439386
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) pino v7.4.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8391703E571FC5B2C34B6F4A9BC55227DAECBBE8-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4847
         "time": 1637650439405
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) pino v7.4.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CD5D6DA8E5FF01BFA8D8EE2C8DE568944646644B-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4847
         "time": 1637650439408
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) pino v7.4.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3835552043BDBC31BDADBB2D97A6C7D03ECC64D2-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4847
         "time": 1637650439418
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) pino v7.4.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A989045143CEEB14DCF819460E5082D140B1B51B-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4847
         "time": 1637650439425
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) pino v7.4.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4847
         "time": 1637650439427
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  7) pino v7.4.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A19FD4D1795142B3703CE864083A0DCD9297A37F-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4847
         "time": 1637650439432
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  8) pino v7.4.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A91D24CC716CCC2EB8697AE26A2AEA925C6B50F1-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4847
         "time": 1637650439433
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  9) pino v7.4.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4847
         "time": 1637650439435
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  10) pino v7.4.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4464B36A95DFAABF459649F9175D29670E78AE2D-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4847
         "time": 1637650439441
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  11) pino v7.4.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "always insert"
         "pid": 4847
         "time": 1637650439442
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:79:11)

  12) pino v7.4.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1445A1E5623C47A73E9474CA9C6512CB63F2E2CD-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4847
         "time": 1637650439444
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) pino v7.4.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "083108D6284F3B8607B21BECA1A1BBEFCA52470C-1"
      +  }
         "hostname": "6767ae4e9637"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4847
         "time": 1637650439548
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) pino v7.4.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 65643EA34299087FA301857E1F4B1173C39D49A5-1"
         "pid": 4847
         "time": 1637650439576
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.17.0
added 2 packages from 8 contributors, removed 10 packages, updated 5 packages and audited 1085 packages in 4.462s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
