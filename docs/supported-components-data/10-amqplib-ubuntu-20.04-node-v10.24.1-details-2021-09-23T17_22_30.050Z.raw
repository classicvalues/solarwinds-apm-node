npm WARN notsup Unsupported engine for amqplib@0.2.0: wanted: {"node":"0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.2.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.2.0
added 1 package from 3 contributors, removed 6 packages, updated 3 packages and audited 1092 packages in 7.032s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:22:39.047Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:39.048Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:39.049Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:39.049Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:39.128Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:39.189Z appoptics:patching patched crypto 
2021-09-23T17:22:39.243Z appoptics:patching patched https 
2021-09-23T17:22:39.243Z appoptics:patching patched http 
2021-09-23T17:22:39.312Z appoptics:patching patched amqplib 0.2.0
2021-09-23T17:22:39.316Z appoptics:patching patched amqplib/callback_api 
2021-09-23T17:22:39.320Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.2.0
    ✓ UDP might lose a message
    promises
      1) "before all" hook for "should report send and consume in existing trace"
      2) "after all" hook for "should include SourceTrace in consume external to traced publish"
    callbacks
      3) "before all" hook for "should report send and consume in existing trace"
      4) "after all" hook for "should include SourceTrace in consume external to traced publish"


  1 passing (4s)
  4 failing

  1) probes.amqplib 0.2.0
       promises
         "before all" hook for "should report send and consume in existing trace":
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/amqplib.test.js)
  

  2) probes.amqplib 0.2.0
       promises
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     TypeError: Cannot read property 'close' of undefined
      at Context.<anonymous> (test/probes/amqplib.test.js:181:23)

  3) probes.amqplib 0.2.0
       callbacks
         "before all" hook for "should report send and consume in existing trace":
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/amqplib.test.js)
  

  4) probes.amqplib 0.2.0
       callbacks
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     TypeError: Cannot read property 'close' of undefined
      at Context.<anonymous> (test/probes/amqplib.test.js:211:23)



npm WARN notsup Unsupported engine for amqplib@0.2.1: wanted: {"node":"0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.2.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.2.1
updated 2 packages and audited 1092 packages in 7.744s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:22:52.705Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:52.707Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:52.707Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:52.708Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:52.803Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:52.864Z appoptics:patching patched crypto 
2021-09-23T17:22:52.900Z appoptics:patching patched https 
2021-09-23T17:22:52.900Z appoptics:patching patched http 
2021-09-23T17:22:52.989Z appoptics:patching patched amqplib 0.2.1
2021-09-23T17:22:52.992Z appoptics:patching patched amqplib/callback_api 
2021-09-23T17:22:52.996Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.2.1
    ✓ UDP might lose a message
    promises
(node:510) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace (58ms)
      ✓ should start new trace for consume (51ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (56ms)


  7 passing (330ms)

npm WARN notsup Unsupported engine for amqplib@0.3.0: wanted: {"node":"0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.3.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.3.0
updated 1 package and audited 1092 packages in 5.937s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:23:00.898Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:00.899Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:00.899Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:00.900Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:00.980Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:01.036Z appoptics:patching patched crypto 
2021-09-23T17:23:01.074Z appoptics:patching patched https 
2021-09-23T17:23:01.075Z appoptics:patching patched http 
2021-09-23T17:23:01.165Z appoptics:patching patched amqplib 0.3.0
2021-09-23T17:23:01.168Z appoptics:patching patched amqplib/callback_api 
2021-09-23T17:23:01.172Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.3.0
    ✓ UDP might lose a message
    promises
(node:533) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (48ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (212ms)

npm WARN notsup Unsupported engine for amqplib@0.3.1: wanted: {"node":"0.8 || 0.9 || 0.10 || 0.11 || 0.12 || 1.0 || 1.1"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.3.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.3.1
updated 2 packages and audited 1092 packages in 6.486s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:23:09.670Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:09.672Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:09.672Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:09.673Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:09.783Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:09.846Z appoptics:patching patched crypto 
2021-09-23T17:23:09.893Z appoptics:patching patched https 
2021-09-23T17:23:09.893Z appoptics:patching patched http 
2021-09-23T17:23:10.042Z appoptics:patching patched amqplib 0.3.1
2021-09-23T17:23:10.046Z appoptics:patching patched amqplib/callback_api 
2021-09-23T17:23:10.049Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.3.1
    ✓ UDP might lose a message
    promises
(node:556) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace (61ms)
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (51ms)


  7 passing (259ms)

npm WARN notsup Unsupported engine for amqplib@0.3.2: wanted: {"node":">=0.8 <0.13 || ^1"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.3.2
updated 1 package and audited 1092 packages in 6.719s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:23:18.623Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:18.625Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:18.625Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:18.626Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:18.706Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:18.765Z appoptics:patching patched crypto 
2021-09-23T17:23:18.800Z appoptics:patching patched https 
2021-09-23T17:23:18.801Z appoptics:patching patched http 
2021-09-23T17:23:18.878Z appoptics:patching patched amqplib 0.3.2
2021-09-23T17:23:18.880Z appoptics:patching patched amqplib/callback_api 
2021-09-23T17:23:18.884Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.3.2
    ✓ UDP might lose a message
    promises
(node:579) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace (58ms)
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (209ms)

npm WARN notsup Unsupported engine for amqplib@0.4.0: wanted: {"node":">=0.8 <4 || ^4"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.4.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.4.0
updated 1 package and audited 1092 packages in 6.055s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:23:26.732Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:26.734Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:26.734Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:26.735Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:26.813Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:26.871Z appoptics:patching patched crypto 
2021-09-23T17:23:26.905Z appoptics:patching patched https 
2021-09-23T17:23:26.905Z appoptics:patching patched http 
2021-09-23T17:23:26.975Z appoptics:patching patched amqplib 0.4.0
2021-09-23T17:23:26.978Z appoptics:patching patched amqplib/callback_api 
2021-09-23T17:23:26.982Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.4.0
    ✓ UDP might lose a message
    promises
(node:602) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace (60ms)
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish
      1) "after all" hook for "should include SourceTrace in consume external to traced publish"
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (48ms)
      2) "after all" hook for "should include SourceTrace in consume external to traced publish"


  7 passing (258ms)
  2 failing

  1) probes.amqplib 0.4.0
       promises
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     Error: done() invoked with non-Error: Closed by client
      at Connection.C.toClosed (node_modules/amqplib/lib/connection.js:411:8)
      at Connection.accept (node_modules/amqplib/lib/connection.js:378:12)
      at Socket.go (node_modules/amqplib/lib/connection.js:474:48)
      at emitReadable_ (_stream_readable.js:555:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.amqplib 0.4.0
       callbacks
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     Error: done() invoked with non-Error: Closed by client
      at Connection.C.toClosed (node_modules/amqplib/lib/connection.js:411:8)
      at Connection.accept (node_modules/amqplib/lib/connection.js:378:12)
      at Socket.go (node_modules/amqplib/lib/connection.js:474:48)
      at emitReadable_ (_stream_readable.js:555:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)



npm WARN notsup Unsupported engine for amqplib@0.4.1: wanted: {"node":">=0.8 <5 || ^5"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.4.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.4.1
updated 1 package and audited 1092 packages in 6.676s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:23:35.725Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:35.727Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:35.727Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:35.728Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:35.816Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:35.876Z appoptics:patching patched crypto 
2021-09-23T17:23:35.913Z appoptics:patching patched https 
2021-09-23T17:23:35.913Z appoptics:patching patched http 
2021-09-23T17:23:35.984Z appoptics:patching patched amqplib 0.4.1
2021-09-23T17:23:35.987Z appoptics:patching patched amqplib/callback_api 
2021-09-23T17:23:35.990Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.4.1
    ✓ UDP might lose a message
    promises
(node:625) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (49ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (212ms)

npm WARN notsup Unsupported engine for amqplib@0.4.2: wanted: {"node":">=0.8 <6 || ^6"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.4.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.4.2
updated 1 package and audited 1092 packages in 6.72s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:23:44.568Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:44.570Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:44.570Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:44.571Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:44.653Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:44.714Z appoptics:patching patched crypto 
2021-09-23T17:23:44.749Z appoptics:patching patched https 
2021-09-23T17:23:44.749Z appoptics:patching patched http 
2021-09-23T17:23:44.823Z appoptics:patching patched amqplib 0.4.2
2021-09-23T17:23:44.827Z appoptics:patching patched amqplib/callback_api 
2021-09-23T17:23:44.831Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.4.2
    ✓ UDP might lose a message
    promises
(node:648) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (47ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (243ms)

npm WARN notsup Unsupported engine for amqplib@0.5.1: wanted: {"node":">=0.8 <6 || ^6"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.5.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.1
removed 1 package, updated 1 package and audited 1092 packages in 5.85s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:23:52.492Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:52.494Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:52.494Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:52.495Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:52.575Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:52.632Z appoptics:patching patched crypto 
2021-09-23T17:23:52.666Z appoptics:patching patched https 
2021-09-23T17:23:52.667Z appoptics:patching patched http 
2021-09-23T17:23:52.779Z appoptics:patching patched bluebird 3.7.2
2021-09-23T17:23:52.782Z appoptics:patching patched amqplib 0.5.1
2021-09-23T17:23:52.785Z appoptics:patching patched amqplib/callback_api 
2021-09-23T17:23:52.788Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.1
    ✓ UDP might lose a message
    promises
(node:671) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (52ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (42ms)


  7 passing (212ms)

npm WARN notsup Unsupported engine for amqplib@0.5.2: wanted: {"node":">=0.8 <=9"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.5.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.2
updated 1 package and audited 1092 packages in 7.245s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:24:01.906Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:01.908Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:01.908Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:01.909Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:01.989Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:02.048Z appoptics:patching patched crypto 
2021-09-23T17:24:02.086Z appoptics:patching patched https 
2021-09-23T17:24:02.086Z appoptics:patching patched http 
2021-09-23T17:24:02.172Z appoptics:patching patched bluebird 3.7.2
2021-09-23T17:24:02.175Z appoptics:patching patched amqplib 0.5.2
2021-09-23T17:24:02.178Z appoptics:patching patched amqplib/callback_api 
2021-09-23T17:24:02.182Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.2
    ✓ UDP might lose a message
    promises
(node:694) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace (61ms)
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (251ms)

npm WARN notsup Unsupported engine for amqplib@0.5.3: wanted: {"node":">=0.8 <=9"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.5.3
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.3
added 5 packages from 4 contributors, updated 3 packages and audited 1097 packages in 7.022s

72 packages are looking for funding
  run `npm fund` for details

found 25 vulnerabilities (5 low, 5 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:24:11.021Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:11.023Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:11.023Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:11.024Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:11.103Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:11.164Z appoptics:patching patched crypto 
2021-09-23T17:24:11.201Z appoptics:patching patched https 
2021-09-23T17:24:11.201Z appoptics:patching patched http 
2021-09-23T17:24:11.297Z appoptics:patching patched bluebird 3.7.2
2021-09-23T17:24:11.300Z appoptics:patching patched amqplib 0.5.3
2021-09-23T17:24:11.304Z appoptics:patching patched amqplib/callback_api 
2021-09-23T17:24:11.307Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.3
    ✓ UDP might lose a message
    promises
(node:717) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (53ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (52ms)


  7 passing (263ms)

npm WARN deprecated amqplib@0.5.4: See github.com/squaremo/amqp.node/issues/534
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.4
updated 1 package and audited 1097 packages in 6.142s

72 packages are looking for funding
  run `npm fund` for details

found 25 vulnerabilities (5 low, 5 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:24:19.387Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:19.389Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:19.389Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:19.389Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:19.467Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:19.525Z appoptics:patching patched crypto 
2021-09-23T17:24:19.562Z appoptics:patching patched https 
2021-09-23T17:24:19.562Z appoptics:patching patched http 

Error: Cannot find module './defs'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connection.js:7:12)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connect.js:11:18)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/channel_api.js:1:19)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.5
updated 1 package and audited 1097 packages in 6.605s

72 packages are looking for funding
  run `npm fund` for details

found 25 vulnerabilities (5 low, 5 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:24:27.822Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:27.824Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:27.824Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:27.825Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:27.911Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:27.981Z appoptics:patching patched crypto 
2021-09-23T17:24:28.036Z appoptics:patching patched https 
2021-09-23T17:24:28.036Z appoptics:patching patched http 
2021-09-23T17:24:28.153Z appoptics:patching patched bluebird 3.7.2
2021-09-23T17:24:28.156Z appoptics:patching patched amqplib 0.5.5
2021-09-23T17:24:28.159Z appoptics:patching patched amqplib/callback_api 
2021-09-23T17:24:28.167Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.5
    ✓ UDP might lose a message
    promises
(node:759) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (48ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (260ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.6
updated 1 package and audited 1097 packages in 6.468s

72 packages are looking for funding
  run `npm fund` for details

found 25 vulnerabilities (5 low, 5 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:24:36.691Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:36.693Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:36.693Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:36.694Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:36.776Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:36.837Z appoptics:patching patched crypto 
2021-09-23T17:24:36.882Z appoptics:patching patched https 
2021-09-23T17:24:36.883Z appoptics:patching patched http 
2021-09-23T17:24:37.005Z appoptics:patching patched bluebird 3.7.2
2021-09-23T17:24:37.008Z appoptics:patching patched amqplib 0.5.6
2021-09-23T17:24:37.011Z appoptics:patching patched amqplib/callback_api 
2021-09-23T17:24:37.014Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.6
    ✓ UDP might lose a message
    promises
(node:782) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (48ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (50ms)


  7 passing (214ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.6.0
updated 1 package and audited 1097 packages in 6.045s

72 packages are looking for funding
  run `npm fund` for details

found 25 vulnerabilities (5 low, 5 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:24:44.930Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:44.932Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:44.932Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:44.933Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:45.015Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:45.071Z appoptics:patching patched crypto 
2021-09-23T17:24:45.111Z appoptics:patching patched https 
2021-09-23T17:24:45.111Z appoptics:patching patched http 
2021-09-23T17:24:45.238Z appoptics:patching patched bluebird 3.7.2
2021-09-23T17:24:45.242Z appoptics:patching patched amqplib 0.6.0
2021-09-23T17:24:45.244Z appoptics:patching patched amqplib/callback_api 
2021-09-23T17:24:45.248Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.6.0
    ✓ UDP might lose a message
    promises
(node:805) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace (61ms)
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (269ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.7.0
updated 1 package and audited 1097 packages in 6.665s

72 packages are looking for funding
  run `npm fund` for details

found 25 vulnerabilities (5 low, 5 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:24:53.930Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:53.932Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:53.932Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:53.933Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:54.012Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:54.068Z appoptics:patching patched crypto 
2021-09-23T17:24:54.104Z appoptics:patching patched https 
2021-09-23T17:24:54.104Z appoptics:patching patched http 
2021-09-23T17:24:54.195Z appoptics:patching patched bluebird 3.7.2
2021-09-23T17:24:54.198Z appoptics:patching patched amqplib 0.7.0
2021-09-23T17:24:54.201Z appoptics:patching patched amqplib/callback_api 
2021-09-23T17:24:54.210Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.7.0
    ✓ UDP might lose a message
    promises
(node:828) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (56ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (227ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.7.1
added 1 package from 1 contributor, updated 2 packages and audited 1098 packages in 6.685s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:25:02.842Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:02.843Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:02.843Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:02.844Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:02.932Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:02.990Z appoptics:patching patched crypto 
2021-09-23T17:25:03.032Z appoptics:patching patched https 
2021-09-23T17:25:03.032Z appoptics:patching patched http 
2021-09-23T17:25:03.131Z appoptics:patching patched bluebird 3.7.2
2021-09-23T17:25:03.135Z appoptics:patching patched amqplib 0.7.1
2021-09-23T17:25:03.138Z appoptics:patching patched amqplib/callback_api 
2021-09-23T17:25:03.142Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.7.1
    ✓ UDP might lose a message
    promises
(node:851) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (46ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (51ms)


  7 passing (220ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.8.0
updated 1 package and audited 1098 packages in 6.105s

71 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:25:11.082Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:11.084Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:11.084Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:11.085Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:11.199Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:11.264Z appoptics:patching patched crypto 
2021-09-23T17:25:11.301Z appoptics:patching patched https 
2021-09-23T17:25:11.302Z appoptics:patching patched http 
2021-09-23T17:25:11.431Z appoptics:patching patched bluebird 3.7.2
2021-09-23T17:25:11.435Z appoptics:patching patched amqplib 0.8.0
2021-09-23T17:25:11.444Z appoptics:patching patched amqplib/callback_api 
2021-09-23T17:25:11.452Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.8.0
    ✓ UDP might lose a message (55ms)
    promises
(node:874) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace (91ms)
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (424ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.8.0
updated 1 package and audited 1098 packages in 5.942s

71 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
