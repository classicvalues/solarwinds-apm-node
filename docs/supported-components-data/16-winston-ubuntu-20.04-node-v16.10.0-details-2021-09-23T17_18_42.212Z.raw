
added 4 packages, removed 20 packages, changed 2 packages, and audited 1086 packages in 8s

71 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:18:50.858Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:18:50.858Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:18:50.858Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:18:50.859Z appoptics:debug using context provider: ace-context
2021-09-23T17:18:50.935Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:18:51.000Z appoptics:patching patched crypto 
2021-09-23T17:18:51.032Z appoptics:patching patched https 
2021-09-23T17:18:51.033Z appoptics:patching patched http 
2021-09-23T17:18:51.059Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:18:51.060Z appoptics:patching patched fs 
2021-09-23T17:18:51.081Z appoptics:patching patched winston 1.0.0
2021-09-23T17:18:51.093Z appoptics:debug starting runtimeMetrics
(node:464) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)


  winston v1.0.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)


changed 1 package, and audited 1086 packages in 7s

71 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:18:58.534Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:18:58.535Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:18:58.535Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:18:58.536Z appoptics:debug using context provider: ace-context
2021-09-23T17:18:58.608Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:18:58.661Z appoptics:patching patched crypto 
2021-09-23T17:18:58.686Z appoptics:patching patched https 
2021-09-23T17:18:58.686Z appoptics:patching patched http 
2021-09-23T17:18:58.712Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:18:58.713Z appoptics:patching patched fs 
2021-09-23T17:18:58.733Z appoptics:patching patched winston 1.0.1
2021-09-23T17:18:58.748Z appoptics:debug starting runtimeMetrics
(node:487) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)


  winston v1.0.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (107ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)


changed 2 packages, and audited 1086 packages in 8s

71 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:07.336Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:07.337Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:07.337Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:07.338Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:07.408Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:07.461Z appoptics:patching patched crypto 
2021-09-23T17:19:07.486Z appoptics:patching patched https 
2021-09-23T17:19:07.486Z appoptics:patching patched http 
2021-09-23T17:19:07.511Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:19:07.511Z appoptics:patching patched fs 
2021-09-23T17:19:07.539Z appoptics:patching patched winston 1.0.2
2021-09-23T17:19:07.551Z appoptics:debug starting runtimeMetrics
(node:510) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)


  winston v1.0.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)


changed 1 package, and audited 1086 packages in 7s

71 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:15.612Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:15.612Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:15.613Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:15.613Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:15.718Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:15.781Z appoptics:patching patched crypto 
2021-09-23T17:19:15.807Z appoptics:patching patched https 
2021-09-23T17:19:15.807Z appoptics:patching patched http 
2021-09-23T17:19:15.830Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:19:15.831Z appoptics:patching patched fs 
2021-09-23T17:19:15.850Z appoptics:patching patched winston 1.1.0
2021-09-23T17:19:15.862Z appoptics:debug starting runtimeMetrics
(node:533) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)


  winston v1.1.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1086 packages in 7s

71 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:23.606Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:23.607Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:23.607Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:23.608Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:23.681Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:23.737Z appoptics:patching patched crypto 
2021-09-23T17:19:23.762Z appoptics:patching patched https 
2021-09-23T17:19:23.763Z appoptics:patching patched http 
2021-09-23T17:19:23.788Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:19:23.788Z appoptics:patching patched fs 
2021-09-23T17:19:23.810Z appoptics:patching patched winston 1.1.1
2021-09-23T17:19:23.821Z appoptics:debug starting runtimeMetrics
(node:556) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)


  winston v1.1.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1086 packages in 8s

71 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:32.367Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:32.367Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:32.368Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:32.373Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:32.449Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:32.502Z appoptics:patching patched crypto 
2021-09-23T17:19:32.528Z appoptics:patching patched https 
2021-09-23T17:19:32.528Z appoptics:patching patched http 
2021-09-23T17:19:32.553Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:19:32.553Z appoptics:patching patched fs 
2021-09-23T17:19:32.572Z appoptics:patching patched winston 1.1.2
2021-09-23T17:19:32.585Z appoptics:debug starting runtimeMetrics
(node:579) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)


  winston v1.1.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)


changed 1 package, and audited 1086 packages in 8s

71 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:41.456Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:41.457Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:41.457Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:41.458Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:41.538Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:41.588Z appoptics:patching patched crypto 
2021-09-23T17:19:41.613Z appoptics:patching patched https 
2021-09-23T17:19:41.614Z appoptics:patching patched http 
2021-09-23T17:19:41.638Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:19:41.638Z appoptics:patching patched fs 
2021-09-23T17:19:41.659Z appoptics:patching patched winston 2.0.0
2021-09-23T17:19:41.672Z appoptics:debug starting runtimeMetrics
(node:602) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)


  winston v2.0.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (105ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (199ms)


changed 1 package, and audited 1086 packages in 7s

71 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:49.227Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:49.228Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:49.228Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:49.228Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:49.301Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:49.352Z appoptics:patching patched crypto 
2021-09-23T17:19:49.376Z appoptics:patching patched https 
2021-09-23T17:19:49.377Z appoptics:patching patched http 
2021-09-23T17:19:49.400Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:19:49.401Z appoptics:patching patched fs 
2021-09-23T17:19:49.424Z appoptics:patching patched winston 2.0.1
2021-09-23T17:19:49.432Z appoptics:debug starting runtimeMetrics
(node:625) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)


  winston v2.0.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)


changed 1 package, and audited 1086 packages in 8s

71 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:58.135Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:58.135Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:58.136Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:58.136Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:58.250Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:58.312Z appoptics:patching patched crypto 
2021-09-23T17:19:58.339Z appoptics:patching patched https 
2021-09-23T17:19:58.339Z appoptics:patching patched http 
2021-09-23T17:19:58.363Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:19:58.363Z appoptics:patching patched fs 
2021-09-23T17:19:58.386Z appoptics:patching patched winston 2.1.0
2021-09-23T17:19:58.394Z appoptics:debug starting runtimeMetrics
(node:648) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)


  winston v2.1.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)


changed 1 package, and audited 1086 packages in 8s

71 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:07.095Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:07.096Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:07.096Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:07.097Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:07.169Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:07.220Z appoptics:patching patched crypto 
2021-09-23T17:20:07.246Z appoptics:patching patched https 
2021-09-23T17:20:07.246Z appoptics:patching patched http 
2021-09-23T17:20:07.271Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:07.271Z appoptics:patching patched fs 
2021-09-23T17:20:07.291Z appoptics:patching patched winston 2.1.1
2021-09-23T17:20:07.304Z appoptics:debug starting runtimeMetrics
(node:671) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)


  winston v2.1.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)


changed 1 package, and audited 1086 packages in 7s

71 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:15.217Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:15.218Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:15.218Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:15.219Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:15.327Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:15.387Z appoptics:patching patched crypto 
2021-09-23T17:20:15.413Z appoptics:patching patched https 
2021-09-23T17:20:15.414Z appoptics:patching patched http 
2021-09-23T17:20:15.439Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:15.439Z appoptics:patching patched fs 
2021-09-23T17:20:15.460Z appoptics:patching patched winston 2.2.0
2021-09-23T17:20:15.473Z appoptics:debug starting runtimeMetrics
(node:694) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)


  winston v2.2.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)


removed 1 package, changed 1 package, and audited 1085 packages in 8s

71 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:23.758Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:23.759Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:23.759Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:23.760Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:23.831Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:23.882Z appoptics:patching patched crypto 
2021-09-23T17:20:23.907Z appoptics:patching patched https 
2021-09-23T17:20:23.908Z appoptics:patching patched http 
2021-09-23T17:20:23.933Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:23.933Z appoptics:patching patched fs 
2021-09-23T17:20:23.950Z appoptics:patching patched winston 2.3.0
2021-09-23T17:20:23.962Z appoptics:debug starting runtimeMetrics
(node:717) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)


  winston v2.3.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)


changed 1 package, and audited 1085 packages in 8s

71 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:32.380Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:32.380Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:32.381Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:32.381Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:32.451Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:32.502Z appoptics:patching patched crypto 
2021-09-23T17:20:32.527Z appoptics:patching patched https 
2021-09-23T17:20:32.527Z appoptics:patching patched http 
2021-09-23T17:20:32.552Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:32.552Z appoptics:patching patched fs 
2021-09-23T17:20:32.569Z appoptics:patching patched winston 2.3.1
2021-09-23T17:20:32.582Z appoptics:debug starting runtimeMetrics
(node:740) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)


  winston v2.3.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)


changed 1 package, and audited 1085 packages in 7s

71 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:40.261Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:40.262Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:40.262Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:40.263Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:40.337Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:40.388Z appoptics:patching patched crypto 
2021-09-23T17:20:40.413Z appoptics:patching patched https 
2021-09-23T17:20:40.413Z appoptics:patching patched http 
2021-09-23T17:20:40.438Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:40.439Z appoptics:patching patched fs 
2021-09-23T17:20:40.455Z appoptics:patching patched winston 2.4.0
2021-09-23T17:20:40.467Z appoptics:debug starting runtimeMetrics
(node:763) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)


  winston v2.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)


changed 1 package, and audited 1085 packages in 8s

71 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:48.843Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:48.844Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:48.844Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:48.845Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:48.931Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:49.000Z appoptics:patching patched crypto 
2021-09-23T17:20:49.025Z appoptics:patching patched https 
2021-09-23T17:20:49.026Z appoptics:patching patched http 
2021-09-23T17:20:49.051Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:49.052Z appoptics:patching patched fs 
2021-09-23T17:20:49.068Z appoptics:patching patched winston 2.4.1
2021-09-23T17:20:49.081Z appoptics:debug starting runtimeMetrics
(node:786) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)


  winston v2.4.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)


changed 1 package, and audited 1085 packages in 7s

71 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:56.995Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:56.996Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:56.996Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:56.997Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:57.088Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:57.148Z appoptics:patching patched crypto 
2021-09-23T17:20:57.178Z appoptics:patching patched https 
2021-09-23T17:20:57.179Z appoptics:patching patched http 
2021-09-23T17:20:57.212Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:57.213Z appoptics:patching patched fs 
2021-09-23T17:20:57.239Z appoptics:patching patched winston 2.4.2
2021-09-23T17:20:57.255Z appoptics:debug starting runtimeMetrics
(node:809) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)


  winston v2.4.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (229ms)


changed 1 package, and audited 1085 packages in 8s

71 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:06.165Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:06.166Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:06.166Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:06.166Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:06.251Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:06.306Z appoptics:patching patched crypto 
2021-09-23T17:21:06.332Z appoptics:patching patched https 
2021-09-23T17:21:06.332Z appoptics:patching patched http 
2021-09-23T17:21:06.363Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:21:06.364Z appoptics:patching patched fs 
2021-09-23T17:21:06.383Z appoptics:patching patched winston 2.4.3
2021-09-23T17:21:06.392Z appoptics:debug starting runtimeMetrics
(node:832) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)


  winston v2.4.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (185ms)


changed 1 package, and audited 1085 packages in 8s

71 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:15.439Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:15.440Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:15.440Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:15.441Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:15.522Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:15.578Z appoptics:patching patched crypto 
2021-09-23T17:21:15.604Z appoptics:patching patched https 
2021-09-23T17:21:15.604Z appoptics:patching patched http 
2021-09-23T17:21:15.630Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:21:15.630Z appoptics:patching patched fs 
2021-09-23T17:21:15.648Z appoptics:patching patched winston 2.4.4
2021-09-23T17:21:15.661Z appoptics:debug starting runtimeMetrics
(node:855) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)


  winston v2.4.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)


changed 1 package, and audited 1085 packages in 8s

71 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:24.378Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:24.378Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:24.379Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:24.379Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:24.475Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:24.528Z appoptics:patching patched crypto 
2021-09-23T17:21:24.564Z appoptics:patching patched https 
2021-09-23T17:21:24.564Z appoptics:patching patched http 
2021-09-23T17:21:24.601Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:21:24.602Z appoptics:patching patched fs 
2021-09-23T17:21:24.652Z appoptics:patching patched winston 2.4.5
2021-09-23T17:21:24.672Z appoptics:debug starting runtimeMetrics


  winston v2.4.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)


added 21 packages, removed 2 packages, changed 3 packages, and audited 1104 packages in 7s

71 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:32.635Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:32.636Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:32.636Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:32.637Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:32.727Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:32.784Z appoptics:patching patched crypto 
2021-09-23T17:21:32.811Z appoptics:patching patched https 
2021-09-23T17:21:32.812Z appoptics:patching patched http 
2021-09-23T17:21:32.907Z appoptics:patching patched winston 3.0.0
2021-09-23T17:21:32.917Z appoptics:debug starting runtimeMetrics


  winston v3.0.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (193ms)


changed 1 package, and audited 1104 packages in 8s

71 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:41.694Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:41.695Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:41.695Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:41.696Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:41.769Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:41.819Z appoptics:patching patched crypto 
2021-09-23T17:21:41.845Z appoptics:patching patched https 
2021-09-23T17:21:41.845Z appoptics:patching patched http 
2021-09-23T17:21:41.952Z appoptics:patching patched winston 3.0.1
2021-09-23T17:21:41.963Z appoptics:debug starting runtimeMetrics


  winston v3.0.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (108ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (185ms)


changed 1 package, and audited 1104 packages in 8s

71 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:50.249Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:50.249Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:50.249Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:50.250Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:50.321Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:50.371Z appoptics:patching patched crypto 
2021-09-23T17:21:50.396Z appoptics:patching patched https 
2021-09-23T17:21:50.396Z appoptics:patching patched http 
2021-09-23T17:21:50.488Z appoptics:patching patched winston 3.1.0
2021-09-23T17:21:50.498Z appoptics:debug starting runtimeMetrics


  winston v3.1.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)


added 1 package, removed 1 package, changed 5 packages, and audited 1104 packages in 7s

71 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:58.242Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:58.242Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:58.243Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:58.243Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:58.321Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:58.373Z appoptics:patching patched crypto 
2021-09-23T17:21:58.403Z appoptics:patching patched https 
2021-09-23T17:21:58.404Z appoptics:patching patched http 
2021-09-23T17:21:58.501Z appoptics:patching patched winston 3.2.0
2021-09-23T17:21:58.513Z appoptics:debug starting runtimeMetrics


  winston v3.2.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (191ms)


changed 1 package, and audited 1104 packages in 8s

71 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:22:06.974Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:06.974Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:06.974Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:06.975Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:07.077Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:07.137Z appoptics:patching patched crypto 
2021-09-23T17:22:07.167Z appoptics:patching patched https 
2021-09-23T17:22:07.168Z appoptics:patching patched http 
2021-09-23T17:22:07.292Z appoptics:patching patched winston 3.2.1
2021-09-23T17:22:07.304Z appoptics:debug starting runtimeMetrics


  winston v3.2.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (194ms)


added 3 packages, removed 3 packages, changed 6 packages, and audited 1104 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:22:15.699Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:15.700Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:15.700Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:15.701Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:15.781Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:15.840Z appoptics:patching patched crypto 
2021-09-23T17:22:15.892Z appoptics:patching patched https 
2021-09-23T17:22:15.893Z appoptics:patching patched http 
2021-09-23T17:22:16.087Z appoptics:patching patched winston 3.3.0
2021-09-23T17:22:16.126Z appoptics:debug starting runtimeMetrics


  winston v3.3.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (191ms)


removed 2 packages, changed 2 packages, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:22:24.358Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:24.359Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:24.359Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:24.360Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:24.444Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:24.518Z appoptics:patching patched crypto 
2021-09-23T17:22:24.548Z appoptics:patching patched https 
2021-09-23T17:22:24.548Z appoptics:patching patched http 
2021-09-23T17:22:24.632Z appoptics:patching patched winston 3.3.1
2021-09-23T17:22:24.646Z appoptics:debug starting runtimeMetrics


  winston v3.3.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (190ms)


added 1 package, removed 1 package, changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:22:32.918Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:32.919Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:32.919Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:32.920Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:32.990Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:33.043Z appoptics:patching patched crypto 
2021-09-23T17:22:33.069Z appoptics:patching patched https 
2021-09-23T17:22:33.069Z appoptics:patching patched http 
2021-09-23T17:22:33.154Z appoptics:patching patched winston 3.3.2
2021-09-23T17:22:33.166Z appoptics:debug starting runtimeMetrics


  winston v3.3.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (105ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (195ms)


changed 1 package, and audited 1102 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:22:42.054Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:42.055Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:42.055Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:42.056Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:42.134Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:42.196Z appoptics:patching patched crypto 
2021-09-23T17:22:42.224Z appoptics:patching patched https 
2021-09-23T17:22:42.225Z appoptics:patching patched http 
2021-09-23T17:22:42.321Z appoptics:patching patched winston 3.3.3
2021-09-23T17:22:42.333Z appoptics:debug starting runtimeMetrics


  winston v3.3.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (200ms)


up to date, audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
