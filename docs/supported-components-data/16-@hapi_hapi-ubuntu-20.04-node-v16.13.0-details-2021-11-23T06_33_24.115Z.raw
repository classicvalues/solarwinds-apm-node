npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated @hapi/pinpoint@1.0.2: Moved to 'npm install @sideway/pinpoint'
npm WARN deprecated @hapi/mimos@4.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/pez@4.1.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/nigel@3.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/topo@3.1.6: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/subtext@6.1.3: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/statehood@6.1.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/vise@3.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/teamwork@3.3.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/podium@3.4.3: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/iron@5.1.4: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/somever@2.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/heavy@6.2.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/shot@4.1.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/cryptiles@4.2.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/formula@1.2.0: Moved to 'npm install @sideway/formula'
npm WARN deprecated @hapi/file@1.0.0: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/content@4.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/bourne@1.3.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/b64@4.2.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/wreck@15.1.0: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/bounce@1.3.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/ammo@3.1.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/boom@7.4.11: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/catbox@10.2.3: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/call@5.1.3: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/accept@3.2.4: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/address@2.1.4: Moved to 'npm install @sideway/address'
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@6.2.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/catbox-memory@3.2.0: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/joi@15.1.1: Switch to 'npm install joi'
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'
npm WARN deprecated @hapi/hapi@17.9.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'

added 36 packages, changed 28 packages, and audited 1114 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

27 vulnerabilities (20 moderate, 5 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

up to date, audited 1114 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

27 vulnerabilities (20 moderate, 5 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:33:40.428Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:33:40.428Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:33:40.428Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:33:40.429Z appoptics:debug using context provider: ace-context
2021-11-23T06:33:40.497Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:33:40.625Z appoptics:patching patched crypto 
2021-11-23T06:33:40.679Z appoptics:patching patched https 
2021-11-23T06:33:40.679Z appoptics:patching patched http 
2021-11-23T06:33:40.725Z appoptics:patching patched zlib 
2021-11-23T06:33:40.771Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:33:40.771Z appoptics:patching patched fs 
2021-11-23T06:33:41.408Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:33:41.408Z appoptics:patching patched @hapi/hapi 17.9.0
2021-11-23T06:33:41.459Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:33:41.462Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (140ms)
  10 failing

  1) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should forward controller/action data from get request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should trace render span:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:218:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should skip vision when disabled:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:266:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should allow a custom TransactionName:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:338:12)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:351:44)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should handle an error in the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:368:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:375:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/catbox-memory@4.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hapi@18.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

added 1 package, removed 1 package, changed 2 packages, and audited 1114 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

27 vulnerabilities (20 moderate, 5 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:33:48.722Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:33:48.723Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:33:48.723Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:33:48.724Z appoptics:debug using context provider: ace-context
2021-11-23T06:33:48.784Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:33:48.906Z appoptics:patching patched crypto 
2021-11-23T06:33:48.924Z appoptics:patching patched https 
2021-11-23T06:33:48.924Z appoptics:patching patched http 
2021-11-23T06:33:48.970Z appoptics:patching patched zlib 
2021-11-23T06:33:49.015Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:33:49.016Z appoptics:patching patched fs 
2021-11-23T06:33:49.554Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:33:49.555Z appoptics:patching patched @hapi/hapi 18.2.0
2021-11-23T06:33:49.603Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:33:49.606Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (95ms)
  10 failing

  1) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should forward controller/action data from get request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should trace render span:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:218:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should skip vision when disabled:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:266:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should allow a custom TransactionName:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:338:12)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:351:44)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should handle an error in the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:368:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:375:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated @hapi/hapi@18.3.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1114 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

27 vulnerabilities (20 moderate, 5 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:33:56.869Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:33:56.871Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:33:56.871Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:33:56.872Z appoptics:debug using context provider: ace-context
2021-11-23T06:33:56.947Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:33:57.089Z appoptics:patching patched crypto 
2021-11-23T06:33:57.106Z appoptics:patching patched https 
2021-11-23T06:33:57.107Z appoptics:patching patched http 
2021-11-23T06:33:57.156Z appoptics:patching patched zlib 
2021-11-23T06:33:57.204Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:33:57.204Z appoptics:patching patched fs 
2021-11-23T06:33:57.786Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:33:57.786Z appoptics:patching patched @hapi/hapi 18.3.0
2021-11-23T06:33:57.834Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:33:57.838Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (89ms)
  10 failing

  1) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should forward controller/action data from get request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should trace render span:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:218:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should skip vision when disabled:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:266:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should allow a custom TransactionName:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:338:12)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:351:44)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should handle an error in the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:368:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:375:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated @hapi/hapi@18.3.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1114 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

27 vulnerabilities (20 moderate, 5 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:34:03.963Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:03.964Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:03.964Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:03.965Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:04.040Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:04.176Z appoptics:patching patched crypto 
2021-11-23T06:34:04.195Z appoptics:patching patched https 
2021-11-23T06:34:04.195Z appoptics:patching patched http 
2021-11-23T06:34:04.241Z appoptics:patching patched zlib 
2021-11-23T06:34:04.287Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:34:04.287Z appoptics:patching patched fs 
2021-11-23T06:34:04.803Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:34:04.803Z appoptics:patching patched @hapi/hapi 18.3.1
2021-11-23T06:34:04.851Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:34:04.855Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (91ms)
  10 failing

  1) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should forward controller/action data from get request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should trace render span:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:218:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should skip vision when disabled:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:266:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should allow a custom TransactionName:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:338:12)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:351:44)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should handle an error in the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:368:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:375:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hapi@18.3.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

removed 22 packages, changed 2 packages, and audited 1092 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

27 vulnerabilities (20 moderate, 5 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:34:12.105Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:12.106Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:12.106Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:12.107Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:12.166Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:12.292Z appoptics:patching patched crypto 
2021-11-23T06:34:12.309Z appoptics:patching patched https 
2021-11-23T06:34:12.310Z appoptics:patching patched http 
2021-11-23T06:34:12.357Z appoptics:patching patched zlib 
2021-11-23T06:34:12.402Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:34:12.402Z appoptics:patching patched fs 
2021-11-23T06:34:12.780Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:34:12.780Z appoptics:patching patched @hapi/hapi 18.3.2
2021-11-23T06:34:12.829Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:34:12.832Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (87ms)
  10 failing

  1) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should forward controller/action data from get request:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should trace render span:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:218:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should skip vision when disabled:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:266:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should allow a custom TransactionName:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:338:12)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:351:44)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should handle an error in the custom name function:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:368:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:375:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated @hapi/hapi@18.4.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1092 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

27 vulnerabilities (20 moderate, 5 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:34:19.827Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:19.833Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:19.833Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:19.834Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:19.963Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:20.090Z appoptics:patching patched crypto 
2021-11-23T06:34:20.108Z appoptics:patching patched https 
2021-11-23T06:34:20.108Z appoptics:patching patched http 
2021-11-23T06:34:20.152Z appoptics:patching patched zlib 
2021-11-23T06:34:20.197Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:34:20.197Z appoptics:patching patched fs 
2021-11-23T06:34:20.564Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:34:20.564Z appoptics:patching patched @hapi/hapi 18.4.0
2021-11-23T06:34:20.613Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:34:20.617Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.4.0 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    âœ“ should forward controller/action data from get request (103ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    âœ“ should trace render span
    âœ“ should skip vision when disabled
    âœ“ should allow a custom TransactionName
    âœ“ should allow a custom TransactionName with domain prefix
    âœ“ should handle an error in the custom name function
    âœ“ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 18.4.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 18.4.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 18.4.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated @hapi/hapi@18.4.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1092 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:34:33.874Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:33.875Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:33.875Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:33.876Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:33.934Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:34.058Z appoptics:patching patched crypto 
2021-11-23T06:34:34.075Z appoptics:patching patched https 
2021-11-23T06:34:34.076Z appoptics:patching patched http 
2021-11-23T06:34:34.121Z appoptics:patching patched zlib 
2021-11-23T06:34:34.181Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:34:34.182Z appoptics:patching patched fs 
2021-11-23T06:34:34.588Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:34:34.588Z appoptics:patching patched @hapi/hapi 18.4.1
2021-11-23T06:34:34.635Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:34:34.638Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.4.1 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    âœ“ should forward controller/action data from get request (52ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    âœ“ should trace render span
    âœ“ should skip vision when disabled
    âœ“ should allow a custom TransactionName
    âœ“ should allow a custom TransactionName with domain prefix
    âœ“ should handle an error in the custom name function
    âœ“ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 18.4.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 18.4.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 18.4.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/accept@4.0.1: This version has been deprecated
npm WARN deprecated @hapi/call@7.0.1: This version has been deprecated
npm WARN deprecated @hapi/teamwork@4.0.0: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/boom@8.0.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/formula@2.0.0: Moved to 'npm install @sideway/formula'
npm WARN deprecated @hapi/pinpoint@2.0.0: Moved to 'npm install @sideway/pinpoint'
npm WARN deprecated @hapi/hapi@19.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN deprecated @hapi/ammo@4.0.1: This version has been deprecated
npm WARN deprecated @hapi/address@4.1.0: Moved to 'npm install @sideway/address'
npm WARN deprecated @hapi/joi@17.1.1: Switch to 'npm install joi'

added 4 packages, removed 10 packages, changed 32 packages, and audited 1086 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (20 moderate, 7 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:34:48.009Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:48.010Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:48.010Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:48.011Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:48.069Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:48.189Z appoptics:patching patched crypto 
2021-11-23T06:34:48.207Z appoptics:patching patched https 
2021-11-23T06:34:48.207Z appoptics:patching patched http 
2021-11-23T06:34:48.252Z appoptics:patching patched zlib 
2021-11-23T06:34:48.296Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:34:48.296Z appoptics:patching patched fs 
2021-11-23T06:34:48.544Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:34:48.544Z appoptics:patching patched @hapi/hapi 19.0.0
2021-11-23T06:34:48.554Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:34:48.558Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.0 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    âœ“ should forward controller/action data from get request (67ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    âœ“ should trace render span
    âœ“ should skip vision when disabled
    âœ“ should allow a custom TransactionName
    âœ“ should allow a custom TransactionName with domain prefix
    âœ“ should handle an error in the custom name function
    âœ“ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.0.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.0.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated @hapi/hapi@19.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1086 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (20 moderate, 7 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:35:01.716Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:01.717Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:01.717Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:01.718Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:01.776Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:01.895Z appoptics:patching patched crypto 
2021-11-23T06:35:01.913Z appoptics:patching patched https 
2021-11-23T06:35:01.913Z appoptics:patching patched http 
2021-11-23T06:35:01.959Z appoptics:patching patched zlib 
2021-11-23T06:35:02.004Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:02.005Z appoptics:patching patched fs 
2021-11-23T06:35:02.251Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:35:02.251Z appoptics:patching patched @hapi/hapi 19.0.1
2021-11-23T06:35:02.261Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:35:02.265Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.1 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    âœ“ should forward controller/action data from get request (53ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    âœ“ should trace render span
    âœ“ should skip vision when disabled
    âœ“ should allow a custom TransactionName
    âœ“ should allow a custom TransactionName with domain prefix
    âœ“ should handle an error in the custom name function
    âœ“ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.0.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.0.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated @hapi/hapi@19.0.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1086 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (20 moderate, 7 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:35:14.682Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:14.682Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:14.682Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:14.683Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:14.745Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:14.866Z appoptics:patching patched crypto 
2021-11-23T06:35:14.883Z appoptics:patching patched https 
2021-11-23T06:35:14.884Z appoptics:patching patched http 
2021-11-23T06:35:14.929Z appoptics:patching patched zlib 
2021-11-23T06:35:14.973Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:14.974Z appoptics:patching patched fs 
2021-11-23T06:35:15.248Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:35:15.248Z appoptics:patching patched @hapi/hapi 19.0.2
2021-11-23T06:35:15.258Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:35:15.261Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.2 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    âœ“ should forward controller/action data from get request (60ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    âœ“ should trace render span
    âœ“ should skip vision when disabled
    âœ“ should allow a custom TransactionName
    âœ“ should allow a custom TransactionName with domain prefix
    âœ“ should handle an error in the custom name function
    âœ“ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.2 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.0.2 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.0.2 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated @hapi/hapi@19.0.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1086 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (20 moderate, 7 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:35:27.932Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:27.932Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:27.933Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:27.933Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:27.992Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:28.111Z appoptics:patching patched crypto 
2021-11-23T06:35:28.127Z appoptics:patching patched https 
2021-11-23T06:35:28.128Z appoptics:patching patched http 
2021-11-23T06:35:28.172Z appoptics:patching patched zlib 
2021-11-23T06:35:28.216Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:28.217Z appoptics:patching patched fs 
2021-11-23T06:35:28.468Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:35:28.468Z appoptics:patching patched @hapi/hapi 19.0.3
2021-11-23T06:35:28.479Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:35:28.482Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.3 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    âœ“ should forward controller/action data from get request (53ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    âœ“ should trace render span
    âœ“ should skip vision when disabled
    âœ“ should allow a custom TransactionName
    âœ“ should allow a custom TransactionName with domain prefix
    âœ“ should handle an error in the custom name function
    âœ“ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.3 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.0.3 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.0.3 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated @hapi/hapi@19.0.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1086 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (20 moderate, 7 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:35:41.027Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:41.028Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:41.028Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:41.029Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:41.099Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:41.238Z appoptics:patching patched crypto 
2021-11-23T06:35:41.256Z appoptics:patching patched https 
2021-11-23T06:35:41.256Z appoptics:patching patched http 
2021-11-23T06:35:41.307Z appoptics:patching patched zlib 
2021-11-23T06:35:41.356Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:41.357Z appoptics:patching patched fs 
2021-11-23T06:35:41.654Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:35:41.654Z appoptics:patching patched @hapi/hapi 19.0.4
2021-11-23T06:35:41.677Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:35:41.683Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.4 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    âœ“ should forward controller/action data from get request (83ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    âœ“ should trace render span
    âœ“ should skip vision when disabled
    âœ“ should allow a custom TransactionName
    âœ“ should allow a custom TransactionName with domain prefix
    âœ“ should handle an error in the custom name function
    âœ“ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.4 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.0.4 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.0.4 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated @hapi/hapi@19.0.5: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

removed 3 packages, changed 3 packages, and audited 1083 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

27 vulnerabilities (20 moderate, 5 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:35:54.345Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:54.346Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:54.346Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:54.346Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:54.404Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:54.524Z appoptics:patching patched crypto 
2021-11-23T06:35:54.542Z appoptics:patching patched https 
2021-11-23T06:35:54.543Z appoptics:patching patched http 
2021-11-23T06:35:54.595Z appoptics:patching patched zlib 
2021-11-23T06:35:54.642Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:54.643Z appoptics:patching patched fs 
2021-11-23T06:35:54.910Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:35:54.910Z appoptics:patching patched @hapi/hapi 19.0.5
2021-11-23T06:35:54.920Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:35:54.924Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.5 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    âœ“ should forward controller/action data from get request (53ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    âœ“ should trace render span
    âœ“ should skip vision when disabled
    âœ“ should allow a custom TransactionName
    âœ“ should allow a custom TransactionName with domain prefix
    âœ“ should handle an error in the custom name function
    âœ“ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.5 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.0.5 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.0.5 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated @hapi/hapi@19.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1083 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

27 vulnerabilities (20 moderate, 5 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:36:07.887Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:07.887Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:07.887Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:07.888Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:07.946Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:08.065Z appoptics:patching patched crypto 
2021-11-23T06:36:08.082Z appoptics:patching patched https 
2021-11-23T06:36:08.082Z appoptics:patching patched http 
2021-11-23T06:36:08.128Z appoptics:patching patched zlib 
2021-11-23T06:36:08.171Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:08.172Z appoptics:patching patched fs 
2021-11-23T06:36:08.408Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:36:08.408Z appoptics:patching patched @hapi/hapi 19.1.0
2021-11-23T06:36:08.416Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:36:08.420Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.1.0 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    âœ“ should forward controller/action data from get request (54ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    âœ“ should trace render span
    âœ“ should skip vision when disabled
    âœ“ should allow a custom TransactionName
    âœ“ should allow a custom TransactionName with domain prefix
    âœ“ should handle an error in the custom name function
    âœ“ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.1.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.1.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.1.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated @hapi/hapi@19.1.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 2 packages, and audited 1083 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:36:21.584Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:21.585Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:21.585Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:21.586Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:21.645Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:21.765Z appoptics:patching patched crypto 
2021-11-23T06:36:21.783Z appoptics:patching patched https 
2021-11-23T06:36:21.783Z appoptics:patching patched http 
2021-11-23T06:36:21.829Z appoptics:patching patched zlib 
2021-11-23T06:36:21.875Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:21.875Z appoptics:patching patched fs 
2021-11-23T06:36:22.113Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:36:22.113Z appoptics:patching patched @hapi/hapi 19.1.1
2021-11-23T06:36:22.121Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:36:22.124Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.1.1 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    âœ“ should forward controller/action data from get request (53ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    âœ“ should trace render span
    âœ“ should skip vision when disabled
    âœ“ should allow a custom TransactionName
    âœ“ should allow a custom TransactionName with domain prefix
    âœ“ should handle an error in the custom name function
    âœ“ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.1.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.1.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.1.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated @hapi/hapi@19.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1083 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:36:35.372Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:35.372Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:35.373Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:35.373Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:35.435Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:35.559Z appoptics:patching patched crypto 
2021-11-23T06:36:35.576Z appoptics:patching patched https 
2021-11-23T06:36:35.576Z appoptics:patching patched http 
2021-11-23T06:36:35.635Z appoptics:patching patched zlib 
2021-11-23T06:36:35.689Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:35.689Z appoptics:patching patched fs 
2021-11-23T06:36:35.924Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:36:35.924Z appoptics:patching patched @hapi/hapi 19.2.0
2021-11-23T06:36:35.932Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:36:35.935Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.2.0 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    âœ“ should forward controller/action data from get request (53ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    âœ“ should trace render span
    âœ“ should skip vision when disabled
    âœ“ should allow a custom TransactionName
    âœ“ should allow a custom TransactionName with domain prefix
    âœ“ should handle an error in the custom name function
    âœ“ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.2.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.2.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.2.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

removed 5 packages, changed 2 packages, and audited 1078 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:36:48.267Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:48.268Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:48.268Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:48.268Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:48.326Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:48.445Z appoptics:patching patched crypto 
2021-11-23T06:36:48.462Z appoptics:patching patched https 
2021-11-23T06:36:48.462Z appoptics:patching patched http 
2021-11-23T06:36:48.508Z appoptics:patching patched zlib 
2021-11-23T06:36:48.551Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:48.552Z appoptics:patching patched fs 
2021-11-23T06:36:48.737Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:36:48.737Z appoptics:patching patched @hapi/hapi 20.0.0
2021-11-23T06:36:48.747Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:36:48.751Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.0.0 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    âœ“ should forward controller/action data from get request (51ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    âœ“ should trace render span
    âœ“ should skip vision when disabled
    âœ“ should allow a custom TransactionName
    âœ“ should allow a custom TransactionName with domain prefix
    âœ“ should handle an error in the custom name function
    âœ“ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.0.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 20.0.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 20.0.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1078 packages in 5s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:37:00.748Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:00.748Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:00.748Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:00.749Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:00.807Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:00.927Z appoptics:patching patched crypto 
2021-11-23T06:37:00.945Z appoptics:patching patched https 
2021-11-23T06:37:00.945Z appoptics:patching patched http 
2021-11-23T06:37:00.992Z appoptics:patching patched zlib 
2021-11-23T06:37:01.078Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:01.079Z appoptics:patching patched fs 
2021-11-23T06:37:01.435Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:37:01.435Z appoptics:patching patched @hapi/hapi 20.0.1
2021-11-23T06:37:01.447Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:37:01.451Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.0.1 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    âœ“ should forward controller/action data from get request (54ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    âœ“ should trace render span
    âœ“ should skip vision when disabled
    âœ“ should allow a custom TransactionName
    âœ“ should allow a custom TransactionName with domain prefix
    âœ“ should handle an error in the custom name function
    âœ“ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.0.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 20.0.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 20.0.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1078 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:37:13.581Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:13.581Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:13.582Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:13.582Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:13.641Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:13.759Z appoptics:patching patched crypto 
2021-11-23T06:37:13.776Z appoptics:patching patched https 
2021-11-23T06:37:13.776Z appoptics:patching patched http 
2021-11-23T06:37:13.820Z appoptics:patching patched zlib 
2021-11-23T06:37:13.863Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:13.864Z appoptics:patching patched fs 
2021-11-23T06:37:14.044Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:37:14.044Z appoptics:patching patched @hapi/hapi 20.0.2
2021-11-23T06:37:14.054Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:37:14.058Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.0.2 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    âœ“ should forward controller/action data from get request (50ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    âœ“ should trace render span
    âœ“ should skip vision when disabled
    âœ“ should allow a custom TransactionName
    âœ“ should allow a custom TransactionName with domain prefix
    âœ“ should handle an error in the custom name function
    âœ“ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.0.2 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 20.0.2 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 20.0.2 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1078 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:37:26.312Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:26.313Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:26.313Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:26.314Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:26.373Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:26.507Z appoptics:patching patched crypto 
2021-11-23T06:37:26.524Z appoptics:patching patched https 
2021-11-23T06:37:26.525Z appoptics:patching patched http 
2021-11-23T06:37:26.572Z appoptics:patching patched zlib 
2021-11-23T06:37:26.623Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:26.623Z appoptics:patching patched fs 
2021-11-23T06:37:26.870Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:37:26.870Z appoptics:patching patched @hapi/hapi 20.0.3
2021-11-23T06:37:26.885Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:37:26.889Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.0.3 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    âœ“ should forward controller/action data from get request (61ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    âœ“ should trace render span
    âœ“ should skip vision when disabled
    âœ“ should allow a custom TransactionName
    âœ“ should allow a custom TransactionName with domain prefix
    âœ“ should handle an error in the custom name function
    âœ“ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.0.3 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 20.0.3 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 20.0.3 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1078 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:37:39.461Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:39.462Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:39.462Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:39.463Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:39.544Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:39.743Z appoptics:patching patched crypto 
2021-11-23T06:37:39.761Z appoptics:patching patched https 
2021-11-23T06:37:39.761Z appoptics:patching patched http 
2021-11-23T06:37:39.806Z appoptics:patching patched zlib 
2021-11-23T06:37:39.851Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:39.852Z appoptics:patching patched fs 
2021-11-23T06:37:40.033Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:37:40.033Z appoptics:patching patched @hapi/hapi 20.1.0
2021-11-23T06:37:40.043Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:37:40.047Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.0 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    âœ“ should forward controller/action data from get request (61ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    âœ“ should trace render span
    âœ“ should skip vision when disabled
    âœ“ should allow a custom TransactionName
    âœ“ should allow a custom TransactionName with domain prefix
    âœ“ should handle an error in the custom name function
    âœ“ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.1.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 20.1.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 20.1.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1078 packages in 25s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:11.960Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:11.960Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:11.961Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:11.961Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:12.029Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:12.156Z appoptics:patching patched crypto 
2021-11-23T06:38:12.173Z appoptics:patching patched https 
2021-11-23T06:38:12.174Z appoptics:patching patched http 
2021-11-23T06:38:12.219Z appoptics:patching patched zlib 
2021-11-23T06:38:12.280Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:12.281Z appoptics:patching patched fs 
2021-11-23T06:38:12.488Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:38:12.489Z appoptics:patching patched @hapi/hapi 20.1.1
2021-11-23T06:38:12.500Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:38:12.503Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.1 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    âœ“ should forward controller/action data from get request (51ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    âœ“ should trace render span
    âœ“ should skip vision when disabled
    âœ“ should allow a custom TransactionName
    âœ“ should allow a custom TransactionName with domain prefix
    âœ“ should handle an error in the custom name function
    âœ“ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.1.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 20.1.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 20.1.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1078 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:24.835Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:24.835Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:24.835Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:24.836Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:24.905Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:25.043Z appoptics:patching patched crypto 
2021-11-23T06:38:25.061Z appoptics:patching patched https 
2021-11-23T06:38:25.062Z appoptics:patching patched http 
2021-11-23T06:38:25.114Z appoptics:patching patched zlib 
2021-11-23T06:38:25.165Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:25.166Z appoptics:patching patched fs 
2021-11-23T06:38:25.480Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:38:25.480Z appoptics:patching patched @hapi/hapi 20.1.2
2021-11-23T06:38:25.496Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:38:25.499Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.2 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    âœ“ should forward controller/action data from get request (55ms)
    âœ“ should forward controller/action data from post request
    âœ“ should forward controller/action data from put request
    âœ“ should forward controller/action data from delete request
    âœ“ should trace render span
    âœ“ should skip vision when disabled
    âœ“ should allow a custom TransactionName
    âœ“ should allow a custom TransactionName with domain prefix
    âœ“ should handle an error in the custom name function
    âœ“ should handle a falsey return by the custom name function


  11 passing (211ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 2 packages, and audited 1078 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:31.865Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:31.865Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:31.865Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:31.866Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:31.958Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:32.086Z appoptics:patching patched crypto 
2021-11-23T06:38:32.104Z appoptics:patching patched https 
2021-11-23T06:38:32.104Z appoptics:patching patched http 
2021-11-23T06:38:32.154Z appoptics:patching patched zlib 
2021-11-23T06:38:32.199Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:32.200Z appoptics:patching patched fs 
2021-11-23T06:38:32.376Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:38:32.376Z appoptics:patching patched @hapi/hapi 20.1.3
2021-11-23T06:38:32.383Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:38:32.387Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.3 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    âœ“ should forward controller/action data from get request (50ms)
    âœ“ should forward controller/action data from post request
    âœ“ should forward controller/action data from put request
    âœ“ should forward controller/action data from delete request
    âœ“ should trace render span
    âœ“ should skip vision when disabled
    âœ“ should allow a custom TransactionName
    âœ“ should allow a custom TransactionName with domain prefix
    âœ“ should handle an error in the custom name function
    âœ“ should handle a falsey return by the custom name function


  11 passing (218ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1078 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:39.307Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:39.308Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:39.308Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:39.308Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:39.367Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:39.491Z appoptics:patching patched crypto 
2021-11-23T06:38:39.508Z appoptics:patching patched https 
2021-11-23T06:38:39.509Z appoptics:patching patched http 
2021-11-23T06:38:39.553Z appoptics:patching patched zlib 
2021-11-23T06:38:39.599Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:39.600Z appoptics:patching patched fs 
2021-11-23T06:38:39.776Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:38:39.776Z appoptics:patching patched @hapi/hapi 20.1.4
2021-11-23T06:38:39.783Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:38:39.787Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.4 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    âœ“ should forward controller/action data from get request (50ms)
    âœ“ should forward controller/action data from post request
    âœ“ should forward controller/action data from put request
    âœ“ should forward controller/action data from delete request
    âœ“ should trace render span
    âœ“ should skip vision when disabled
    âœ“ should allow a custom TransactionName
    âœ“ should allow a custom TransactionName with domain prefix
    âœ“ should handle an error in the custom name function
    âœ“ should handle a falsey return by the custom name function


  11 passing (190ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1078 packages in 5s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:45.785Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:45.786Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:45.786Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:45.787Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:45.845Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:45.967Z appoptics:patching patched crypto 
2021-11-23T06:38:45.984Z appoptics:patching patched https 
2021-11-23T06:38:45.985Z appoptics:patching patched http 
2021-11-23T06:38:46.029Z appoptics:patching patched zlib 
2021-11-23T06:38:46.073Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:46.074Z appoptics:patching patched fs 
2021-11-23T06:38:46.242Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:38:46.243Z appoptics:patching patched @hapi/hapi 20.1.5
2021-11-23T06:38:46.250Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:38:46.254Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.5 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    âœ“ should forward controller/action data from get request (50ms)
    âœ“ should forward controller/action data from post request
    âœ“ should forward controller/action data from put request
    âœ“ should forward controller/action data from delete request
    âœ“ should trace render span
    âœ“ should skip vision when disabled
    âœ“ should allow a custom TransactionName
    âœ“ should allow a custom TransactionName with domain prefix
    âœ“ should handle an error in the custom name function
    âœ“ should handle a falsey return by the custom name function


  11 passing (192ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:53.358Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:53.359Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:53.359Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:53.360Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:53.417Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:53.536Z appoptics:patching patched crypto 
2021-11-23T06:38:53.553Z appoptics:patching patched https 
2021-11-23T06:38:53.554Z appoptics:patching patched http 
2021-11-23T06:38:53.597Z appoptics:patching patched zlib 
2021-11-23T06:38:53.640Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:53.641Z appoptics:patching patched fs 
2021-11-23T06:38:53.809Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:38:53.809Z appoptics:patching patched @hapi/hapi 20.2.0
2021-11-23T06:38:53.816Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:38:53.820Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.2.0 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    âœ“ should forward controller/action data from get request (49ms)
    âœ“ should forward controller/action data from post request
    âœ“ should forward controller/action data from put request
    âœ“ should forward controller/action data from delete request
    âœ“ should trace render span
    âœ“ should skip vision when disabled
    âœ“ should allow a custom TransactionName
    âœ“ should allow a custom TransactionName with domain prefix
    âœ“ should handle an error in the custom name function
    âœ“ should handle a falsey return by the custom name function


  11 passing (190ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

changed 1 package, and audited 1078 packages in 5s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:59.685Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:59.686Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:59.686Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:59.687Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:59.745Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:59.866Z appoptics:patching patched crypto 
2021-11-23T06:38:59.883Z appoptics:patching patched https 
2021-11-23T06:38:59.883Z appoptics:patching patched http 
2021-11-23T06:38:59.930Z appoptics:patching patched zlib 
2021-11-23T06:38:59.973Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:59.973Z appoptics:patching patched fs 
2021-11-23T06:39:00.151Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:39:00.151Z appoptics:patching patched @hapi/hapi 20.2.1
2021-11-23T06:39:00.172Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:39:00.175Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.2.1 @hapi/vision 6.1.0
    âœ“ UDP might lose a message
    âœ“ should forward controller/action data from get request (76ms)
    âœ“ should forward controller/action data from post request
    âœ“ should forward controller/action data from put request
    âœ“ should forward controller/action data from delete request
    âœ“ should trace render span
    âœ“ should skip vision when disabled
    âœ“ should allow a custom TransactionName
    âœ“ should allow a custom TransactionName with domain prefix
    âœ“ should handle an error in the custom name function
    âœ“ should handle a falsey return by the custom name function


  11 passing (258ms)

npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 

up to date, audited 1078 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
