
added 16 packages, removed 5 packages, changed 2 packages, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:50:05.346Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:05.346Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:05.346Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:05.347Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:05.404Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:05.448Z appoptics:patching patched crypto 
2021-09-18T00:50:05.472Z appoptics:patching patched https 
2021-09-18T00:50:05.472Z appoptics:patching patched http 
2021-09-18T00:50:05.504Z appoptics:patching patched pino 2.3.0
2021-09-18T00:50:05.508Z appoptics:debug starting runtimeMetrics


  pino v2.3.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:50:11.893Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:11.893Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:11.893Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:11.894Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:11.950Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:11.991Z appoptics:patching patched crypto 
2021-09-18T00:50:12.010Z appoptics:patching patched https 
2021-09-18T00:50:12.011Z appoptics:patching patched http 
2021-09-18T00:50:12.042Z appoptics:patching patched pino 2.4.0
2021-09-18T00:50:12.050Z appoptics:debug starting runtimeMetrics


  pino v2.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:50:17.767Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:17.767Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:17.767Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:17.768Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:17.824Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:17.864Z appoptics:patching patched crypto 
2021-09-18T00:50:17.883Z appoptics:patching patched https 
2021-09-18T00:50:17.884Z appoptics:patching patched http 
2021-09-18T00:50:17.915Z appoptics:patching patched pino 2.4.1
2021-09-18T00:50:17.918Z appoptics:debug starting runtimeMetrics


  pino v2.4.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (162ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:50:25.432Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:25.432Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:25.432Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:25.433Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:25.501Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:25.547Z appoptics:patching patched crypto 
2021-09-18T00:50:25.570Z appoptics:patching patched https 
2021-09-18T00:50:25.570Z appoptics:patching patched http 
2021-09-18T00:50:25.608Z appoptics:patching patched pino 2.4.2
2021-09-18T00:50:25.611Z appoptics:debug starting runtimeMetrics


  pino v2.4.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (162ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:50:32.388Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:32.389Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:32.389Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:32.390Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:32.466Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:32.512Z appoptics:patching patched crypto 
2021-09-18T00:50:32.534Z appoptics:patching patched https 
2021-09-18T00:50:32.534Z appoptics:patching patched http 
2021-09-18T00:50:32.578Z appoptics:patching patched pino 2.4.3
2021-09-18T00:50:32.588Z appoptics:debug starting runtimeMetrics


  pino v2.4.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)


changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:50:38.518Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:38.518Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:38.518Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:38.519Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:38.574Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:38.615Z appoptics:patching patched crypto 
2021-09-18T00:50:38.635Z appoptics:patching patched https 
2021-09-18T00:50:38.635Z appoptics:patching patched http 
2021-09-18T00:50:38.669Z appoptics:patching patched pino 2.4.4
2021-09-18T00:50:38.677Z appoptics:debug starting runtimeMetrics


  pino v2.4.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:50:45.408Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:45.408Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:45.408Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:45.409Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:45.465Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:45.505Z appoptics:patching patched crypto 
2021-09-18T00:50:45.524Z appoptics:patching patched https 
2021-09-18T00:50:45.524Z appoptics:patching patched http 
2021-09-18T00:50:45.556Z appoptics:patching patched pino 2.5.0
2021-09-18T00:50:45.564Z appoptics:debug starting runtimeMetrics


  pino v2.5.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:50:51.159Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:51.160Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:51.160Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:51.160Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:51.218Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:51.258Z appoptics:patching patched crypto 
2021-09-18T00:50:51.278Z appoptics:patching patched https 
2021-09-18T00:50:51.278Z appoptics:patching patched http 
2021-09-18T00:50:51.309Z appoptics:patching patched pino 2.6.0
2021-09-18T00:50:51.321Z appoptics:debug starting runtimeMetrics


  pino v2.6.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:50:58.110Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:58.110Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:58.110Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:58.111Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:58.166Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:58.206Z appoptics:patching patched crypto 
2021-09-18T00:50:58.225Z appoptics:patching patched https 
2021-09-18T00:50:58.226Z appoptics:patching patched http 
2021-09-18T00:50:58.257Z appoptics:patching patched pino 2.6.1
2021-09-18T00:50:58.261Z appoptics:debug starting runtimeMetrics


  pino v2.6.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:03.859Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:03.860Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:03.860Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:03.861Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:03.937Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:03.982Z appoptics:patching patched crypto 
2021-09-18T00:51:04.002Z appoptics:patching patched https 
2021-09-18T00:51:04.002Z appoptics:patching patched http 
2021-09-18T00:51:04.038Z appoptics:patching patched pino 2.7.0
2021-09-18T00:51:04.044Z appoptics:debug starting runtimeMetrics


  pino v2.7.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:10.374Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:10.375Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:10.375Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:10.375Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:10.433Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:10.473Z appoptics:patching patched crypto 
2021-09-18T00:51:10.493Z appoptics:patching patched https 
2021-09-18T00:51:10.494Z appoptics:patching patched http 
2021-09-18T00:51:10.525Z appoptics:patching patched pino 2.7.1
2021-09-18T00:51:10.534Z appoptics:debug starting runtimeMetrics


  pino v2.7.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (162ms)


changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:16.210Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:16.211Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:16.211Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:16.212Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:16.267Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:16.308Z appoptics:patching patched crypto 
2021-09-18T00:51:16.328Z appoptics:patching patched https 
2021-09-18T00:51:16.328Z appoptics:patching patched http 
2021-09-18T00:51:16.359Z appoptics:patching patched pino 2.7.2
2021-09-18T00:51:16.368Z appoptics:debug starting runtimeMetrics


  pino v2.7.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:22.879Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:22.879Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:22.879Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:22.880Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:22.936Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:22.977Z appoptics:patching patched crypto 
2021-09-18T00:51:22.997Z appoptics:patching patched https 
2021-09-18T00:51:22.998Z appoptics:patching patched http 
2021-09-18T00:51:23.029Z appoptics:patching patched pino 2.7.3
2021-09-18T00:51:23.042Z appoptics:debug starting runtimeMetrics


  pino v2.7.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:28.868Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:28.869Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:28.869Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:28.869Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:28.925Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:28.966Z appoptics:patching patched crypto 
2021-09-18T00:51:28.986Z appoptics:patching patched https 
2021-09-18T00:51:28.986Z appoptics:patching patched http 
2021-09-18T00:51:29.018Z appoptics:patching patched pino 2.7.4
2021-09-18T00:51:29.021Z appoptics:debug starting runtimeMetrics


  pino v2.7.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:35.255Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:35.256Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:35.256Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:35.257Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:35.312Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:35.353Z appoptics:patching patched crypto 
2021-09-18T00:51:35.374Z appoptics:patching patched https 
2021-09-18T00:51:35.374Z appoptics:patching patched http 
2021-09-18T00:51:35.410Z appoptics:patching patched pino 2.7.5
2021-09-18T00:51:35.416Z appoptics:debug starting runtimeMetrics


  pino v2.7.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:41.351Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:41.352Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:41.352Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:41.352Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:41.408Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:41.448Z appoptics:patching patched crypto 
2021-09-18T00:51:41.470Z appoptics:patching patched https 
2021-09-18T00:51:41.470Z appoptics:patching patched http 
2021-09-18T00:51:41.501Z appoptics:patching patched pino 2.8.0
2021-09-18T00:51:41.505Z appoptics:debug starting runtimeMetrics


  pino v2.8.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:47.680Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:47.680Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:47.680Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:47.681Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:47.737Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:47.777Z appoptics:patching patched crypto 
2021-09-18T00:51:47.797Z appoptics:patching patched https 
2021-09-18T00:51:47.797Z appoptics:patching patched http 
2021-09-18T00:51:47.841Z appoptics:patching patched pino 2.8.1
2021-09-18T00:51:47.844Z appoptics:debug starting runtimeMetrics


  pino v2.8.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)


changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:53.682Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:53.683Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:53.683Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:53.684Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:53.740Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:53.783Z appoptics:patching patched crypto 
2021-09-18T00:51:53.803Z appoptics:patching patched https 
2021-09-18T00:51:53.803Z appoptics:patching patched http 
2021-09-18T00:51:53.847Z appoptics:patching patched pino 2.8.2
2021-09-18T00:51:53.850Z appoptics:debug starting runtimeMetrics


  pino v2.8.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:00.121Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:00.121Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:00.121Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:00.122Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:00.224Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:00.286Z appoptics:patching patched crypto 
2021-09-18T00:52:00.321Z appoptics:patching patched https 
2021-09-18T00:52:00.321Z appoptics:patching patched http 
2021-09-18T00:52:00.384Z appoptics:patching patched pino 2.8.3
2021-09-18T00:52:00.388Z appoptics:debug starting runtimeMetrics


  pino v2.8.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)


changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:05.999Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:06.000Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:06.000Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:06.001Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:06.069Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:06.115Z appoptics:patching patched crypto 
2021-09-18T00:52:06.136Z appoptics:patching patched https 
2021-09-18T00:52:06.137Z appoptics:patching patched http 
2021-09-18T00:52:06.183Z appoptics:patching patched pino 2.9.0
2021-09-18T00:52:06.186Z appoptics:debug starting runtimeMetrics


  pino v2.9.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (162ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:12.467Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:12.467Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:12.467Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:12.468Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:12.545Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:12.586Z appoptics:patching patched crypto 
2021-09-18T00:52:12.607Z appoptics:patching patched https 
2021-09-18T00:52:12.607Z appoptics:patching patched http 
2021-09-18T00:52:12.653Z appoptics:patching patched pino 2.10.0
2021-09-18T00:52:12.656Z appoptics:debug starting runtimeMetrics


  pino v2.10.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:18.301Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:18.301Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:18.301Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:18.302Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:18.357Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:18.397Z appoptics:patching patched crypto 
2021-09-18T00:52:18.417Z appoptics:patching patched https 
2021-09-18T00:52:18.417Z appoptics:patching patched http 
2021-09-18T00:52:18.461Z appoptics:patching patched pino 2.10.1
2021-09-18T00:52:18.464Z appoptics:debug starting runtimeMetrics


  pino v2.10.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:24.896Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:24.897Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:24.897Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:24.898Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:24.954Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:25.011Z appoptics:patching patched crypto 
2021-09-18T00:52:25.034Z appoptics:patching patched https 
2021-09-18T00:52:25.034Z appoptics:patching patched http 
2021-09-18T00:52:25.086Z appoptics:patching patched pino 2.11.0
2021-09-18T00:52:25.089Z appoptics:debug starting runtimeMetrics


  pino v2.11.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:30.726Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:30.727Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:30.727Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:30.727Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:30.828Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:30.920Z appoptics:patching patched crypto 
2021-09-18T00:52:30.955Z appoptics:patching patched https 
2021-09-18T00:52:30.956Z appoptics:patching patched http 
2021-09-18T00:52:31.003Z appoptics:patching patched pino 2.12.0
2021-09-18T00:52:31.006Z appoptics:debug starting runtimeMetrics


  pino v2.12.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:37.261Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:37.261Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:37.262Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:37.262Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:37.318Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:37.359Z appoptics:patching patched crypto 
2021-09-18T00:52:37.378Z appoptics:patching patched https 
2021-09-18T00:52:37.379Z appoptics:patching patched http 
2021-09-18T00:52:37.422Z appoptics:patching patched pino 2.12.1
2021-09-18T00:52:37.426Z appoptics:debug starting runtimeMetrics


  pino v2.12.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)


changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:43.260Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:43.261Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:43.261Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:43.262Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:43.358Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:43.405Z appoptics:patching patched crypto 
2021-09-18T00:52:43.429Z appoptics:patching patched https 
2021-09-18T00:52:43.430Z appoptics:patching patched http 
2021-09-18T00:52:43.514Z appoptics:patching patched pino 2.12.2
2021-09-18T00:52:43.518Z appoptics:debug starting runtimeMetrics


  pino v2.12.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (181ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:49.982Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:49.982Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:49.982Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:49.983Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:50.041Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:50.082Z appoptics:patching patched crypto 
2021-09-18T00:52:50.102Z appoptics:patching patched https 
2021-09-18T00:52:50.103Z appoptics:patching patched http 
2021-09-18T00:52:50.147Z appoptics:patching patched pino 2.12.3
2021-09-18T00:52:50.151Z appoptics:debug starting runtimeMetrics


  pino v2.12.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:56.536Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:56.537Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:56.537Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:56.537Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:56.607Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:56.652Z appoptics:patching patched crypto 
2021-09-18T00:52:56.678Z appoptics:patching patched https 
2021-09-18T00:52:56.678Z appoptics:patching patched http 
2021-09-18T00:52:56.769Z appoptics:patching patched pino 2.12.4
2021-09-18T00:52:56.779Z appoptics:debug starting runtimeMetrics


  pino v2.12.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (168ms)


changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:02.597Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:02.598Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:02.598Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:02.598Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:02.655Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:02.695Z appoptics:patching patched crypto 
2021-09-18T00:53:02.715Z appoptics:patching patched https 
2021-09-18T00:53:02.716Z appoptics:patching patched http 
2021-09-18T00:53:02.759Z appoptics:patching patched pino 2.13.0
2021-09-18T00:53:02.763Z appoptics:debug starting runtimeMetrics


  pino v2.13.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:09.092Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:09.093Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:09.093Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:09.093Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:09.177Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:09.223Z appoptics:patching patched crypto 
2021-09-18T00:53:09.243Z appoptics:patching patched https 
2021-09-18T00:53:09.244Z appoptics:patching patched http 
2021-09-18T00:53:09.289Z appoptics:patching patched pino 2.13.2
2021-09-18T00:53:09.293Z appoptics:debug starting runtimeMetrics


  pino v2.13.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (162ms)


changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:15.031Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:15.032Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:15.032Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:15.032Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:15.091Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:15.131Z appoptics:patching patched crypto 
2021-09-18T00:53:15.152Z appoptics:patching patched https 
2021-09-18T00:53:15.152Z appoptics:patching patched http 
2021-09-18T00:53:15.198Z appoptics:patching patched pino 2.14.0
2021-09-18T00:53:15.201Z appoptics:debug starting runtimeMetrics


  pino v2.14.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:22.100Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:22.100Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:22.101Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:22.101Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:22.158Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:22.199Z appoptics:patching patched crypto 
2021-09-18T00:53:22.219Z appoptics:patching patched https 
2021-09-18T00:53:22.220Z appoptics:patching patched http 
2021-09-18T00:53:22.264Z appoptics:patching patched pino 2.15.0
2021-09-18T00:53:22.267Z appoptics:debug starting runtimeMetrics


  pino v2.15.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


added 1 package, removed 1 package, changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:28.294Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:28.295Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:28.295Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:28.295Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:28.351Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:28.391Z appoptics:patching patched crypto 
2021-09-18T00:53:28.411Z appoptics:patching patched https 
2021-09-18T00:53:28.412Z appoptics:patching patched http 
2021-09-18T00:53:28.433Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:28.433Z appoptics:patching patched fs 
2021-09-18T00:53:28.462Z appoptics:patching patched pino 2.16.0
2021-09-18T00:53:28.466Z appoptics:debug starting runtimeMetrics


  pino v2.16.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)


added 1 package, removed 1 package, changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:34.772Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:34.773Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:34.773Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:34.773Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:34.829Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:34.869Z appoptics:patching patched crypto 
2021-09-18T00:53:34.890Z appoptics:patching patched https 
2021-09-18T00:53:34.890Z appoptics:patching patched http 
2021-09-18T00:53:34.910Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:34.910Z appoptics:patching patched fs 
2021-09-18T00:53:34.931Z appoptics:patching patched pino 3.0.0
2021-09-18T00:53:34.935Z appoptics:debug starting runtimeMetrics


  pino v3.0.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


added 1 package, removed 1 package, changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:40.749Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:40.749Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:40.749Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:40.750Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:40.806Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:40.846Z appoptics:patching patched crypto 
2021-09-18T00:53:40.865Z appoptics:patching patched https 
2021-09-18T00:53:40.866Z appoptics:patching patched http 
2021-09-18T00:53:40.885Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:40.885Z appoptics:patching patched fs 
2021-09-18T00:53:40.905Z appoptics:patching patched pino 3.0.1
2021-09-18T00:53:40.909Z appoptics:debug starting runtimeMetrics


  pino v3.0.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:47.332Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:47.332Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:47.332Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:47.333Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:47.388Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:47.429Z appoptics:patching patched crypto 
2021-09-18T00:53:47.449Z appoptics:patching patched https 
2021-09-18T00:53:47.449Z appoptics:patching patched http 
2021-09-18T00:53:47.468Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:47.469Z appoptics:patching patched fs 
2021-09-18T00:53:47.489Z appoptics:patching patched pino 3.0.2
2021-09-18T00:53:47.493Z appoptics:debug starting runtimeMetrics


  pino v3.0.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (168ms)


changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:53.277Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:53.278Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:53.278Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:53.279Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:53.335Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:53.375Z appoptics:patching patched crypto 
2021-09-18T00:53:53.395Z appoptics:patching patched https 
2021-09-18T00:53:53.396Z appoptics:patching patched http 
2021-09-18T00:53:53.415Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:53.415Z appoptics:patching patched fs 
2021-09-18T00:53:53.435Z appoptics:patching patched pino 3.0.3
2021-09-18T00:53:53.439Z appoptics:debug starting runtimeMetrics


  pino v3.0.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:59.805Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:59.806Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:59.806Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:59.806Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:59.877Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:59.919Z appoptics:patching patched crypto 
2021-09-18T00:53:59.938Z appoptics:patching patched https 
2021-09-18T00:53:59.939Z appoptics:patching patched http 
2021-09-18T00:53:59.960Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:59.960Z appoptics:patching patched fs 
2021-09-18T00:53:59.981Z appoptics:patching patched pino 3.0.4
2021-09-18T00:53:59.985Z appoptics:debug starting runtimeMetrics


  pino v3.0.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)


changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:54:05.734Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:05.735Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:05.735Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:05.735Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:05.791Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:05.832Z appoptics:patching patched crypto 
2021-09-18T00:54:05.853Z appoptics:patching patched https 
2021-09-18T00:54:05.854Z appoptics:patching patched http 
2021-09-18T00:54:05.874Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:05.874Z appoptics:patching patched fs 
2021-09-18T00:54:05.894Z appoptics:patching patched pino 3.0.5
2021-09-18T00:54:05.898Z appoptics:debug starting runtimeMetrics


  pino v3.0.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:54:12.401Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:12.401Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:12.402Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:12.402Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:12.459Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:12.508Z appoptics:patching patched crypto 
2021-09-18T00:54:12.543Z appoptics:patching patched https 
2021-09-18T00:54:12.543Z appoptics:patching patched http 
2021-09-18T00:54:12.564Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:12.564Z appoptics:patching patched fs 
2021-09-18T00:54:12.589Z appoptics:patching patched pino 3.0.6
2021-09-18T00:54:12.593Z appoptics:debug starting runtimeMetrics


  pino v3.0.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:54:18.244Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:18.244Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:18.244Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:18.245Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:18.300Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:18.341Z appoptics:patching patched crypto 
2021-09-18T00:54:18.360Z appoptics:patching patched https 
2021-09-18T00:54:18.360Z appoptics:patching patched http 
2021-09-18T00:54:18.380Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:18.380Z appoptics:patching patched fs 
2021-09-18T00:54:18.400Z appoptics:patching patched pino 3.0.7
2021-09-18T00:54:18.404Z appoptics:debug starting runtimeMetrics


  pino v3.0.7
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:54:24.646Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:24.646Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:24.646Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:24.647Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:24.702Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:24.743Z appoptics:patching patched crypto 
2021-09-18T00:54:24.763Z appoptics:patching patched https 
2021-09-18T00:54:24.763Z appoptics:patching patched http 
2021-09-18T00:54:24.782Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:24.783Z appoptics:patching patched fs 
2021-09-18T00:54:24.802Z appoptics:patching patched pino 3.1.0
2021-09-18T00:54:24.806Z appoptics:debug starting runtimeMetrics


  pino v3.1.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1109 packages in 33s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:54:58.700Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:58.701Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:58.701Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:58.702Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:58.758Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:58.798Z appoptics:patching patched crypto 
2021-09-18T00:54:58.819Z appoptics:patching patched https 
2021-09-18T00:54:58.819Z appoptics:patching patched http 
2021-09-18T00:54:58.839Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:58.839Z appoptics:patching patched fs 
2021-09-18T00:54:58.859Z appoptics:patching patched pino 3.1.1
2021-09-18T00:54:58.863Z appoptics:debug starting runtimeMetrics


  pino v3.1.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:55:04.986Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:04.987Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:04.987Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:04.987Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:05.058Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:05.103Z appoptics:patching patched crypto 
2021-09-18T00:55:05.126Z appoptics:patching patched https 
2021-09-18T00:55:05.127Z appoptics:patching patched http 
2021-09-18T00:55:05.148Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:05.148Z appoptics:patching patched fs 
2021-09-18T00:55:05.169Z appoptics:patching patched pino 3.1.2
2021-09-18T00:55:05.180Z appoptics:debug starting runtimeMetrics


  pino v3.1.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:55:11.317Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:11.318Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:11.318Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:11.318Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:11.375Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:11.416Z appoptics:patching patched crypto 
2021-09-18T00:55:11.436Z appoptics:patching patched https 
2021-09-18T00:55:11.436Z appoptics:patching patched http 
2021-09-18T00:55:11.456Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:11.457Z appoptics:patching patched fs 
2021-09-18T00:55:11.476Z appoptics:patching patched pino 3.1.3
2021-09-18T00:55:11.480Z appoptics:debug starting runtimeMetrics


  pino v3.1.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:55:17.317Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:17.318Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:17.318Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:17.319Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:17.375Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:17.416Z appoptics:patching patched crypto 
2021-09-18T00:55:17.436Z appoptics:patching patched https 
2021-09-18T00:55:17.437Z appoptics:patching patched http 
2021-09-18T00:55:17.460Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:17.460Z appoptics:patching patched fs 
2021-09-18T00:55:17.483Z appoptics:patching patched pino 3.2.0
2021-09-18T00:55:17.487Z appoptics:debug starting runtimeMetrics


  pino v3.2.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:55:23.489Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:23.489Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:23.489Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:23.490Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:23.547Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:23.601Z appoptics:patching patched crypto 
2021-09-18T00:55:23.623Z appoptics:patching patched https 
2021-09-18T00:55:23.624Z appoptics:patching patched http 
2021-09-18T00:55:23.648Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:23.649Z appoptics:patching patched fs 

Error: Cannot find module './lib/events'
Require stack:
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/pino.js
- /__w/appoptics-apm-node/appoptics-apm-node/test/probes/pino.test.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/esm-utils.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/mocha.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/one-and-dones.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/options.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/bin/mocha
    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:933:15)
    at Function.Module._load (node:internal/modules/cjs/loader:778:27)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/pino.js:7:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/pino.test.js:11:14)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:94:18)
    at Object.exports.requireOrImport (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/esm-utils.js:42:12)
    at Object.exports.loadFilesAsync (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/esm-utils.js:55:34)
    at Mocha.loadFilesAsync (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/mocha.js:473:19)
    at singleRun (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/run-helpers.js:125:15)
    at exports.runMocha (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/run-helpers.js:190:10)

changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:55:29.385Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:29.385Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:29.386Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:29.386Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:29.467Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:29.523Z appoptics:patching patched crypto 
2021-09-18T00:55:29.546Z appoptics:patching patched https 
2021-09-18T00:55:29.547Z appoptics:patching patched http 
2021-09-18T00:55:29.578Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:29.579Z appoptics:patching patched fs 
2021-09-18T00:55:29.613Z appoptics:patching patched pino 3.3.1
2021-09-18T00:55:29.617Z appoptics:debug starting runtimeMetrics


  pino v3.3.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


changed 1 package, and audited 1109 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:55:35.603Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:35.603Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:35.603Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:35.604Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:35.661Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:35.701Z appoptics:patching patched crypto 
2021-09-18T00:55:35.722Z appoptics:patching patched https 
2021-09-18T00:55:35.722Z appoptics:patching patched http 
2021-09-18T00:55:35.741Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:35.741Z appoptics:patching patched fs 
2021-09-18T00:55:35.763Z appoptics:patching patched pino 3.3.2
2021-09-18T00:55:35.767Z appoptics:debug starting runtimeMetrics


  pino v3.3.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)


added 2 packages, changed 1 package, and audited 1111 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:55:41.762Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:41.762Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:41.762Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:41.763Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:41.872Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:41.946Z appoptics:patching patched crypto 
2021-09-18T00:55:41.974Z appoptics:patching patched https 
2021-09-18T00:55:41.974Z appoptics:patching patched http 
2021-09-18T00:55:42.001Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:42.002Z appoptics:patching patched fs 
2021-09-18T00:55:42.037Z appoptics:patching patched pino 3.4.0
2021-09-18T00:55:42.042Z appoptics:debug starting runtimeMetrics


  pino v3.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1111 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:55:48.023Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:48.024Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:48.024Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:48.024Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:48.090Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:48.134Z appoptics:patching patched crypto 
2021-09-18T00:55:48.157Z appoptics:patching patched https 
2021-09-18T00:55:48.158Z appoptics:patching patched http 
2021-09-18T00:55:48.177Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:48.178Z appoptics:patching patched fs 
2021-09-18T00:55:48.207Z appoptics:patching patched pino 4.0.0
2021-09-18T00:55:48.212Z appoptics:debug starting runtimeMetrics


  pino v4.0.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


changed 1 package, and audited 1111 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:55:54.271Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:54.271Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:54.271Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:54.272Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:54.341Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:54.389Z appoptics:patching patched crypto 
2021-09-18T00:55:54.412Z appoptics:patching patched https 
2021-09-18T00:55:54.412Z appoptics:patching patched http 
2021-09-18T00:55:54.432Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:54.432Z appoptics:patching patched fs 
2021-09-18T00:55:54.462Z appoptics:patching patched pino 4.0.1
2021-09-18T00:55:54.466Z appoptics:debug starting runtimeMetrics


  pino v4.0.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:56:00.731Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:00.731Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:00.732Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:00.732Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:00.789Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:00.831Z appoptics:patching patched crypto 
2021-09-18T00:56:00.851Z appoptics:patching patched https 
2021-09-18T00:56:00.852Z appoptics:patching patched http 
2021-09-18T00:56:00.871Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:00.871Z appoptics:patching patched fs 
2021-09-18T00:56:00.894Z appoptics:patching patched pino 4.0.2
2021-09-18T00:56:00.898Z appoptics:debug starting runtimeMetrics


  pino v4.0.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:56:07.152Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:07.153Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:07.153Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:07.154Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:07.209Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:07.249Z appoptics:patching patched crypto 
2021-09-18T00:56:07.269Z appoptics:patching patched https 
2021-09-18T00:56:07.269Z appoptics:patching patched http 
2021-09-18T00:56:07.289Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:07.289Z appoptics:patching patched fs 
2021-09-18T00:56:07.311Z appoptics:patching patched pino 4.0.3
2021-09-18T00:56:07.315Z appoptics:debug starting runtimeMetrics


  pino v4.0.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)

npm ERR! code ENOENT
npm ERR! syscall chmod
npm ERR! path /__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/bin.js
npm ERR! errno -2
npm ERR! enoent ENOENT: no such file or directory, chmod '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/bin.js'
npm ERR! enoent This is related to npm not being able to find a file.
npm ERR! enoent 

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-18T00_56_12_826Z-debug.log

changed 151 packages, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:56:19.606Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:19.607Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:19.607Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:19.608Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:19.690Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:19.744Z appoptics:patching patched crypto 
2021-09-18T00:56:19.764Z appoptics:patching patched https 
2021-09-18T00:56:19.764Z appoptics:patching patched http 
2021-09-18T00:56:19.783Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:19.783Z appoptics:patching patched fs 
2021-09-18T00:56:19.806Z appoptics:patching patched pino 4.1.1
2021-09-18T00:56:19.810Z appoptics:debug starting runtimeMetrics


  pino v4.1.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1111 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:56:25.628Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:25.629Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:25.629Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:25.630Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:25.685Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:25.726Z appoptics:patching patched crypto 
2021-09-18T00:56:25.746Z appoptics:patching patched https 
2021-09-18T00:56:25.746Z appoptics:patching patched http 
2021-09-18T00:56:25.765Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:25.766Z appoptics:patching patched fs 
2021-09-18T00:56:25.788Z appoptics:patching patched pino 4.1.2
2021-09-18T00:56:25.792Z appoptics:debug starting runtimeMetrics


  pino v4.1.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:56:32.227Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:32.228Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:32.228Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:32.229Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:32.284Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:32.323Z appoptics:patching patched crypto 
2021-09-18T00:56:32.344Z appoptics:patching patched https 
2021-09-18T00:56:32.344Z appoptics:patching patched http 
2021-09-18T00:56:32.363Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:32.364Z appoptics:patching patched fs 
2021-09-18T00:56:32.389Z appoptics:patching patched pino 4.2.0
2021-09-18T00:56:32.393Z appoptics:debug starting runtimeMetrics


  pino v4.2.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


changed 1 package, and audited 1111 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:56:37.988Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:37.988Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:37.988Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:37.989Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:38.045Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:38.085Z appoptics:patching patched crypto 
2021-09-18T00:56:38.105Z appoptics:patching patched https 
2021-09-18T00:56:38.105Z appoptics:patching patched http 
2021-09-18T00:56:38.124Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:38.124Z appoptics:patching patched fs 
2021-09-18T00:56:38.155Z appoptics:patching patched pino 4.2.1
2021-09-18T00:56:38.159Z appoptics:debug starting runtimeMetrics


  pino v4.2.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:56:44.854Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:44.854Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:44.854Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:44.855Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:44.915Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:44.969Z appoptics:patching patched crypto 
2021-09-18T00:56:44.989Z appoptics:patching patched https 
2021-09-18T00:56:44.990Z appoptics:patching patched http 
2021-09-18T00:56:45.008Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:45.009Z appoptics:patching patched fs 
2021-09-18T00:56:45.031Z appoptics:patching patched pino 4.2.2
2021-09-18T00:56:45.035Z appoptics:debug starting runtimeMetrics


  pino v4.2.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1111 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:56:50.622Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:50.622Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:50.622Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:50.623Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:50.680Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:50.722Z appoptics:patching patched crypto 
2021-09-18T00:56:50.742Z appoptics:patching patched https 
2021-09-18T00:56:50.742Z appoptics:patching patched http 
2021-09-18T00:56:50.761Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:50.762Z appoptics:patching patched fs 
2021-09-18T00:56:50.784Z appoptics:patching patched pino 4.2.3
2021-09-18T00:56:50.788Z appoptics:debug starting runtimeMetrics


  pino v4.2.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:56:57.442Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:57.442Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:57.442Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:57.443Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:57.499Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:57.539Z appoptics:patching patched crypto 
2021-09-18T00:56:57.559Z appoptics:patching patched https 
2021-09-18T00:56:57.559Z appoptics:patching patched http 
2021-09-18T00:56:57.578Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:57.578Z appoptics:patching patched fs 
2021-09-18T00:56:57.603Z appoptics:patching patched pino 4.2.4
2021-09-18T00:56:57.607Z appoptics:debug starting runtimeMetrics


  pino v4.2.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1111 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:57:03.562Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:03.563Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:03.563Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:03.564Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:03.620Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:03.661Z appoptics:patching patched crypto 
2021-09-18T00:57:03.681Z appoptics:patching patched https 
2021-09-18T00:57:03.682Z appoptics:patching patched http 
2021-09-18T00:57:03.701Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:57:03.702Z appoptics:patching patched fs 
2021-09-18T00:57:03.726Z appoptics:patching patched pino 4.3.0
2021-09-18T00:57:03.730Z appoptics:debug starting runtimeMetrics


  pino v4.3.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (168ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:57:10.239Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:10.239Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:10.240Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:10.240Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:10.298Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:10.352Z appoptics:patching patched crypto 
2021-09-18T00:57:10.379Z appoptics:patching patched https 
2021-09-18T00:57:10.381Z appoptics:patching patched http 
2021-09-18T00:57:10.401Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:57:10.402Z appoptics:patching patched fs 
2021-09-18T00:57:10.430Z appoptics:patching patched pino 4.4.0
2021-09-18T00:57:10.434Z appoptics:debug starting runtimeMetrics


  pino v4.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)


changed 1 package, and audited 1111 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:57:16.413Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:16.414Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:16.414Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:16.415Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:16.487Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:16.527Z appoptics:patching patched crypto 
2021-09-18T00:57:16.548Z appoptics:patching patched https 
2021-09-18T00:57:16.549Z appoptics:patching patched http 
2021-09-18T00:57:16.569Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:57:16.569Z appoptics:patching patched fs 
2021-09-18T00:57:16.603Z appoptics:patching patched pino 4.5.0
2021-09-18T00:57:16.607Z appoptics:debug starting runtimeMetrics


  pino v4.5.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:57:22.826Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:22.827Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:22.827Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:22.828Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:22.884Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:22.924Z appoptics:patching patched crypto 
2021-09-18T00:57:22.944Z appoptics:patching patched https 
2021-09-18T00:57:22.944Z appoptics:patching patched http 
2021-09-18T00:57:22.964Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:57:22.964Z appoptics:patching patched fs 
2021-09-18T00:57:22.987Z appoptics:patching patched pino 4.5.1
2021-09-18T00:57:22.991Z appoptics:debug starting runtimeMetrics


  pino v4.5.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1111 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:57:28.952Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:28.952Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:28.952Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:28.953Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:29.009Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:29.050Z appoptics:patching patched crypto 
2021-09-18T00:57:29.070Z appoptics:patching patched https 
2021-09-18T00:57:29.071Z appoptics:patching patched http 
2021-09-18T00:57:29.091Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:57:29.091Z appoptics:patching patched fs 
2021-09-18T00:57:29.116Z appoptics:patching patched pino 4.5.2
2021-09-18T00:57:29.120Z appoptics:debug starting runtimeMetrics


  pino v4.5.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:57:35.470Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:35.471Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:35.471Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:35.472Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:35.528Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:35.568Z appoptics:patching patched crypto 
2021-09-18T00:57:35.588Z appoptics:patching patched https 
2021-09-18T00:57:35.588Z appoptics:patching patched http 
2021-09-18T00:57:35.608Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:57:35.609Z appoptics:patching patched fs 
2021-09-18T00:57:35.631Z appoptics:patching patched pino 4.5.3
2021-09-18T00:57:35.635Z appoptics:debug starting runtimeMetrics


  pino v4.5.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (168ms)


changed 1 package, and audited 1111 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:57:41.470Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:41.471Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:41.471Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:41.471Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:41.526Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:41.566Z appoptics:patching patched crypto 
2021-09-18T00:57:41.594Z appoptics:patching patched https 
2021-09-18T00:57:41.595Z appoptics:patching patched http 
2021-09-18T00:57:41.615Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:57:41.615Z appoptics:patching patched fs 
2021-09-18T00:57:41.647Z appoptics:patching patched pino 4.5.4
2021-09-18T00:57:41.658Z appoptics:debug starting runtimeMetrics


  pino v4.5.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (168ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:57:47.914Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:47.915Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:47.915Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:47.916Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:47.971Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:48.011Z appoptics:patching patched crypto 
2021-09-18T00:57:48.030Z appoptics:patching patched https 
2021-09-18T00:57:48.030Z appoptics:patching patched http 
2021-09-18T00:57:48.049Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:57:48.049Z appoptics:patching patched fs 
2021-09-18T00:57:48.072Z appoptics:patching patched pino 4.6.0
2021-09-18T00:57:48.076Z appoptics:debug starting runtimeMetrics


  pino v4.6.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


added 3 packages, removed 4 packages, changed 4 packages, and audited 1110 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:57:53.956Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:53.956Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:53.956Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:53.958Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:54.026Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:54.072Z appoptics:patching patched crypto 
2021-09-18T00:57:54.095Z appoptics:patching patched https 
2021-09-18T00:57:54.095Z appoptics:patching patched http 
2021-09-18T00:57:54.116Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:57:54.116Z appoptics:patching patched fs 
2021-09-18T00:57:54.152Z appoptics:patching patched pino 4.7.0
2021-09-18T00:57:54.156Z appoptics:debug starting runtimeMetrics


  pino v4.7.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (182ms)


changed 1 package, and audited 1110 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:58:00.571Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:58:00.572Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:58:00.572Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:58:00.573Z appoptics:debug using context provider: ace-context
2021-09-18T00:58:00.629Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:58:00.670Z appoptics:patching patched crypto 
2021-09-18T00:58:00.689Z appoptics:patching patched https 
2021-09-18T00:58:00.690Z appoptics:patching patched http 
2021-09-18T00:58:00.709Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:58:00.709Z appoptics:patching patched fs 
2021-09-18T00:58:00.736Z appoptics:patching patched pino 4.7.1
2021-09-18T00:58:00.740Z appoptics:debug starting runtimeMetrics


  pino v4.7.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)


changed 1 package, and audited 1110 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:58:06.704Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:58:06.705Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:58:06.705Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:58:06.705Z appoptics:debug using context provider: ace-context
2021-09-18T00:58:06.774Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:58:06.818Z appoptics:patching patched crypto 
2021-09-18T00:58:06.842Z appoptics:patching patched https 
2021-09-18T00:58:06.843Z appoptics:patching patched http 
2021-09-18T00:58:06.863Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:58:06.863Z appoptics:patching patched fs 
2021-09-18T00:58:06.899Z appoptics:patching patched pino 4.7.2
2021-09-18T00:58:06.903Z appoptics:debug starting runtimeMetrics


  pino v4.7.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)


changed 1 package, and audited 1110 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:58:12.891Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:58:12.892Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:58:12.892Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:58:12.892Z appoptics:debug using context provider: ace-context
2021-09-18T00:58:12.948Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:58:12.989Z appoptics:patching patched crypto 
2021-09-18T00:58:13.018Z appoptics:patching patched https 
2021-09-18T00:58:13.018Z appoptics:patching patched http 
2021-09-18T00:58:13.038Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:58:13.039Z appoptics:patching patched fs 
2021-09-18T00:58:13.069Z appoptics:patching patched pino 4.7.3
2021-09-18T00:58:13.074Z appoptics:debug starting runtimeMetrics


  pino v4.7.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


changed 1 package, and audited 1110 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:58:19.222Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:58:19.223Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:58:19.223Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:58:19.223Z appoptics:debug using context provider: ace-context
2021-09-18T00:58:19.279Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:58:19.319Z appoptics:patching patched crypto 
2021-09-18T00:58:19.338Z appoptics:patching patched https 
2021-09-18T00:58:19.339Z appoptics:patching patched http 
2021-09-18T00:58:19.358Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:58:19.358Z appoptics:patching patched fs 
2021-09-18T00:58:19.386Z appoptics:patching patched pino 4.8.0
2021-09-18T00:58:19.390Z appoptics:debug starting runtimeMetrics


  pino v4.8.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1110 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:58:25.195Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:58:25.196Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:58:25.196Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:58:25.197Z appoptics:debug using context provider: ace-context
2021-09-18T00:58:25.254Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:58:25.295Z appoptics:patching patched crypto 
2021-09-18T00:58:25.315Z appoptics:patching patched https 
2021-09-18T00:58:25.316Z appoptics:patching patched http 
2021-09-18T00:58:25.335Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:58:25.335Z appoptics:patching patched fs 
2021-09-18T00:58:25.365Z appoptics:patching patched pino 4.8.1
2021-09-18T00:58:25.369Z appoptics:debug starting runtimeMetrics


  pino v4.8.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


changed 1 package, and audited 1110 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:58:31.712Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:58:31.712Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:58:31.712Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:58:31.713Z appoptics:debug using context provider: ace-context
2021-09-18T00:58:31.772Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:58:31.821Z appoptics:patching patched crypto 
2021-09-18T00:58:31.844Z appoptics:patching patched https 
2021-09-18T00:58:31.845Z appoptics:patching patched http 
2021-09-18T00:58:31.865Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:58:31.865Z appoptics:patching patched fs 
2021-09-18T00:58:31.896Z appoptics:patching patched pino 4.8.2
2021-09-18T00:58:31.900Z appoptics:debug starting runtimeMetrics


  pino v4.8.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


changed 1 package, and audited 1110 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:58:37.586Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:58:37.586Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:58:37.586Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:58:37.587Z appoptics:debug using context provider: ace-context
2021-09-18T00:58:37.642Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:58:37.687Z appoptics:patching patched crypto 
2021-09-18T00:58:37.713Z appoptics:patching patched https 
2021-09-18T00:58:37.714Z appoptics:patching patched http 
2021-09-18T00:58:37.734Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:58:37.735Z appoptics:patching patched fs 
2021-09-18T00:58:37.766Z appoptics:patching patched pino 4.9.0
2021-09-18T00:58:37.770Z appoptics:debug starting runtimeMetrics


  pino v4.9.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)


changed 1 package, and audited 1110 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:58:44.561Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:58:44.562Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:58:44.562Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:58:44.562Z appoptics:debug using context provider: ace-context
2021-09-18T00:58:44.618Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:58:44.657Z appoptics:patching patched crypto 
2021-09-18T00:58:44.677Z appoptics:patching patched https 
2021-09-18T00:58:44.678Z appoptics:patching patched http 
2021-09-18T00:58:44.697Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:58:44.697Z appoptics:patching patched fs 
2021-09-18T00:58:44.726Z appoptics:patching patched pino 4.10.0
2021-09-18T00:58:44.730Z appoptics:debug starting runtimeMetrics


  pino v4.10.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (168ms)


changed 1 package, and audited 1110 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:58:50.611Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:58:50.611Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:58:50.612Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:58:50.612Z appoptics:debug using context provider: ace-context
2021-09-18T00:58:50.668Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:58:50.709Z appoptics:patching patched crypto 
2021-09-18T00:58:50.729Z appoptics:patching patched https 
2021-09-18T00:58:50.730Z appoptics:patching patched http 
2021-09-18T00:58:50.749Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:58:50.749Z appoptics:patching patched fs 
2021-09-18T00:58:50.780Z appoptics:patching patched pino 4.10.1
2021-09-18T00:58:50.784Z appoptics:debug starting runtimeMetrics


  pino v4.10.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


changed 1 package, and audited 1110 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:58:57.430Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:58:57.430Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:58:57.430Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:58:57.431Z appoptics:debug using context provider: ace-context
2021-09-18T00:58:57.487Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:58:57.527Z appoptics:patching patched crypto 
2021-09-18T00:58:57.547Z appoptics:patching patched https 
2021-09-18T00:58:57.548Z appoptics:patching patched http 
2021-09-18T00:58:57.567Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:58:57.567Z appoptics:patching patched fs 
2021-09-18T00:58:57.594Z appoptics:patching patched pino 4.10.2
2021-09-18T00:58:57.598Z appoptics:debug starting runtimeMetrics


  pino v4.10.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)


changed 2 packages, and audited 1110 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:59:03.237Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:59:03.237Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:59:03.237Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:59:03.238Z appoptics:debug using context provider: ace-context
2021-09-18T00:59:03.298Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:59:03.338Z appoptics:patching patched crypto 
2021-09-18T00:59:03.358Z appoptics:patching patched https 
2021-09-18T00:59:03.359Z appoptics:patching patched http 
2021-09-18T00:59:03.378Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:59:03.378Z appoptics:patching patched fs 
2021-09-18T00:59:03.406Z appoptics:patching patched pino 4.10.3
2021-09-18T00:59:03.410Z appoptics:debug starting runtimeMetrics


  pino v4.10.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)


changed 1 package, and audited 1110 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:59:09.685Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:59:09.686Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:59:09.686Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:59:09.686Z appoptics:debug using context provider: ace-context
2021-09-18T00:59:09.742Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:59:09.782Z appoptics:patching patched crypto 
2021-09-18T00:59:09.802Z appoptics:patching patched https 
2021-09-18T00:59:09.802Z appoptics:patching patched http 
2021-09-18T00:59:09.821Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:59:09.821Z appoptics:patching patched fs 
2021-09-18T00:59:09.851Z appoptics:patching patched pino 4.10.4
2021-09-18T00:59:09.855Z appoptics:debug starting runtimeMetrics


  pino v4.10.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1110 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:59:15.715Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:59:15.716Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:59:15.716Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:59:15.717Z appoptics:debug using context provider: ace-context
2021-09-18T00:59:15.772Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:59:15.813Z appoptics:patching patched crypto 
2021-09-18T00:59:15.833Z appoptics:patching patched https 
2021-09-18T00:59:15.833Z appoptics:patching patched http 
2021-09-18T00:59:15.852Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:59:15.853Z appoptics:patching patched fs 
2021-09-18T00:59:15.881Z appoptics:patching patched pino 4.11.0
2021-09-18T00:59:15.885Z appoptics:debug starting runtimeMetrics


  pino v4.11.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (168ms)


added 1 package, changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:59:22.284Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:59:22.284Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:59:22.285Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:59:22.285Z appoptics:debug using context provider: ace-context
2021-09-18T00:59:22.355Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:59:22.395Z appoptics:patching patched crypto 
2021-09-18T00:59:22.415Z appoptics:patching patched https 
2021-09-18T00:59:22.415Z appoptics:patching patched http 
2021-09-18T00:59:22.437Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:59:22.437Z appoptics:patching patched fs 
2021-09-18T00:59:22.464Z appoptics:patching patched pino 4.12.0
2021-09-18T00:59:22.468Z appoptics:debug starting runtimeMetrics


  pino v4.12.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (168ms)


changed 1 package, and audited 1111 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:59:28.320Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:59:28.321Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:59:28.321Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:59:28.321Z appoptics:debug using context provider: ace-context
2021-09-18T00:59:28.377Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:59:28.417Z appoptics:patching patched crypto 
2021-09-18T00:59:28.436Z appoptics:patching patched https 
2021-09-18T00:59:28.437Z appoptics:patching patched http 
2021-09-18T00:59:28.457Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:59:28.457Z appoptics:patching patched fs 
2021-09-18T00:59:28.484Z appoptics:patching patched pino 4.13.0
2021-09-18T00:59:28.488Z appoptics:debug starting runtimeMetrics


  pino v4.13.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)


changed 2 packages, and audited 1111 packages in 37s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:00:05.898Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:00:05.899Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:00:05.899Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:00:05.899Z appoptics:debug using context provider: ace-context
2021-09-18T01:00:05.955Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:00:05.995Z appoptics:patching patched crypto 
2021-09-18T01:00:06.015Z appoptics:patching patched https 
2021-09-18T01:00:06.016Z appoptics:patching patched http 
2021-09-18T01:00:06.036Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:00:06.036Z appoptics:patching patched fs 
2021-09-18T01:00:06.063Z appoptics:patching patched pino 4.14.0
2021-09-18T01:00:06.067Z appoptics:debug starting runtimeMetrics


  pino v4.14.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:00:12.189Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:00:12.190Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:00:12.190Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:00:12.190Z appoptics:debug using context provider: ace-context
2021-09-18T01:00:12.246Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:00:12.286Z appoptics:patching patched crypto 
2021-09-18T01:00:12.306Z appoptics:patching patched https 
2021-09-18T01:00:12.307Z appoptics:patching patched http 
2021-09-18T01:00:12.327Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:00:12.328Z appoptics:patching patched fs 
2021-09-18T01:00:12.357Z appoptics:patching patched pino 4.15.0
2021-09-18T01:00:12.361Z appoptics:debug starting runtimeMetrics


  pino v4.15.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:00:18.758Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:00:18.759Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:00:18.759Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:00:18.760Z appoptics:debug using context provider: ace-context
2021-09-18T01:00:18.815Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:00:18.855Z appoptics:patching patched crypto 
2021-09-18T01:00:18.875Z appoptics:patching patched https 
2021-09-18T01:00:18.875Z appoptics:patching patched http 
2021-09-18T01:00:18.895Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:00:18.896Z appoptics:patching patched fs 
2021-09-18T01:00:18.923Z appoptics:patching patched pino 4.15.1
2021-09-18T01:00:18.927Z appoptics:debug starting runtimeMetrics


  pino v4.15.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)


changed 1 package, and audited 1111 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:00:24.775Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:00:24.775Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:00:24.776Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:00:24.776Z appoptics:debug using context provider: ace-context
2021-09-18T01:00:24.832Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:00:24.872Z appoptics:patching patched crypto 
2021-09-18T01:00:24.892Z appoptics:patching patched https 
2021-09-18T01:00:24.892Z appoptics:patching patched http 
2021-09-18T01:00:24.912Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:00:24.913Z appoptics:patching patched fs 
2021-09-18T01:00:24.940Z appoptics:patching patched pino 4.15.2
2021-09-18T01:00:24.944Z appoptics:debug starting runtimeMetrics


  pino v4.15.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)


changed 2 packages, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:00:31.291Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:00:31.292Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:00:31.292Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:00:31.293Z appoptics:debug using context provider: ace-context
2021-09-18T01:00:31.364Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:00:31.408Z appoptics:patching patched crypto 
2021-09-18T01:00:31.430Z appoptics:patching patched https 
2021-09-18T01:00:31.430Z appoptics:patching patched http 
2021-09-18T01:00:31.451Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:00:31.451Z appoptics:patching patched fs 
2021-09-18T01:00:31.485Z appoptics:patching patched pino 4.15.3
2021-09-18T01:00:31.489Z appoptics:debug starting runtimeMetrics


  pino v4.15.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)


changed 1 package, and audited 1111 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:00:37.358Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:00:37.359Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:00:37.359Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:00:37.360Z appoptics:debug using context provider: ace-context
2021-09-18T01:00:37.415Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:00:37.455Z appoptics:patching patched crypto 
2021-09-18T01:00:37.475Z appoptics:patching patched https 
2021-09-18T01:00:37.475Z appoptics:patching patched http 
2021-09-18T01:00:37.495Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:00:37.496Z appoptics:patching patched fs 
2021-09-18T01:00:37.523Z appoptics:patching patched pino 4.15.4
2021-09-18T01:00:37.527Z appoptics:debug starting runtimeMetrics


  pino v4.15.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:00:43.942Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:00:43.943Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:00:43.943Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:00:43.943Z appoptics:debug using context provider: ace-context
2021-09-18T01:00:43.999Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:00:44.040Z appoptics:patching patched crypto 
2021-09-18T01:00:44.059Z appoptics:patching patched https 
2021-09-18T01:00:44.059Z appoptics:patching patched http 
2021-09-18T01:00:44.080Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:00:44.080Z appoptics:patching patched fs 
2021-09-18T01:00:44.108Z appoptics:patching patched pino 4.16.0
2021-09-18T01:00:44.112Z appoptics:debug starting runtimeMetrics


  pino v4.16.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)


changed 1 package, and audited 1111 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:00:49.750Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:00:49.751Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:00:49.751Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:00:49.751Z appoptics:debug using context provider: ace-context
2021-09-18T01:00:49.807Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:00:49.846Z appoptics:patching patched crypto 
2021-09-18T01:00:49.867Z appoptics:patching patched https 
2021-09-18T01:00:49.867Z appoptics:patching patched http 
2021-09-18T01:00:49.889Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:00:49.889Z appoptics:patching patched fs 
2021-09-18T01:00:49.917Z appoptics:patching patched pino 4.16.1
2021-09-18T01:00:49.921Z appoptics:debug starting runtimeMetrics


  pino v4.16.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:00:56.495Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:00:56.495Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:00:56.495Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:00:56.496Z appoptics:debug using context provider: ace-context
2021-09-18T01:00:56.552Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:00:56.594Z appoptics:patching patched crypto 
2021-09-18T01:00:56.614Z appoptics:patching patched https 
2021-09-18T01:00:56.614Z appoptics:patching patched http 
2021-09-18T01:00:56.635Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:00:56.635Z appoptics:patching patched fs 
2021-09-18T01:00:56.663Z appoptics:patching patched pino 4.17.0
2021-09-18T01:00:56.667Z appoptics:debug starting runtimeMetrics


  pino v4.17.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)


changed 1 package, and audited 1111 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:01:02.472Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:01:02.472Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:01:02.472Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:01:02.473Z appoptics:debug using context provider: ace-context
2021-09-18T01:01:02.528Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:01:02.569Z appoptics:patching patched crypto 
2021-09-18T01:01:02.588Z appoptics:patching patched https 
2021-09-18T01:01:02.588Z appoptics:patching patched http 
2021-09-18T01:01:02.609Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:01:02.609Z appoptics:patching patched fs 
2021-09-18T01:01:02.637Z appoptics:patching patched pino 4.17.1
2021-09-18T01:01:02.642Z appoptics:debug starting runtimeMetrics


  pino v4.17.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:01:09.258Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:01:09.258Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:01:09.258Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:01:09.259Z appoptics:debug using context provider: ace-context
2021-09-18T01:01:09.314Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:01:09.354Z appoptics:patching patched crypto 
2021-09-18T01:01:09.373Z appoptics:patching patched https 
2021-09-18T01:01:09.374Z appoptics:patching patched http 
2021-09-18T01:01:09.394Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:01:09.395Z appoptics:patching patched fs 
2021-09-18T01:01:09.423Z appoptics:patching patched pino 4.17.2
2021-09-18T01:01:09.427Z appoptics:debug starting runtimeMetrics


  pino v4.17.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1111 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:01:15.128Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:01:15.129Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:01:15.129Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:01:15.129Z appoptics:debug using context provider: ace-context
2021-09-18T01:01:15.227Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:01:15.306Z appoptics:patching patched crypto 
2021-09-18T01:01:15.334Z appoptics:patching patched https 
2021-09-18T01:01:15.335Z appoptics:patching patched http 
2021-09-18T01:01:15.356Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:01:15.356Z appoptics:patching patched fs 
2021-09-18T01:01:15.386Z appoptics:patching patched pino 4.17.3
2021-09-18T01:01:15.391Z appoptics:debug starting runtimeMetrics


  pino v4.17.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)


changed 1 package, and audited 1111 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:01:21.720Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:01:21.721Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:01:21.721Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:01:21.722Z appoptics:debug using context provider: ace-context
2021-09-18T01:01:21.777Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:01:21.818Z appoptics:patching patched crypto 
2021-09-18T01:01:21.837Z appoptics:patching patched https 
2021-09-18T01:01:21.838Z appoptics:patching patched http 
2021-09-18T01:01:21.859Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:01:21.859Z appoptics:patching patched fs 
2021-09-18T01:01:21.898Z appoptics:patching patched pino 4.17.5
2021-09-18T01:01:21.902Z appoptics:debug starting runtimeMetrics


  pino v4.17.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1111 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:01:27.708Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:01:27.708Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:01:27.708Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:01:27.709Z appoptics:debug using context provider: ace-context
2021-09-18T01:01:27.765Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:01:27.804Z appoptics:patching patched crypto 
2021-09-18T01:01:27.825Z appoptics:patching patched https 
2021-09-18T01:01:27.826Z appoptics:patching patched http 
2021-09-18T01:01:27.846Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:01:27.847Z appoptics:patching patched fs 
2021-09-18T01:01:27.883Z appoptics:patching patched pino 4.17.6
2021-09-18T01:01:27.887Z appoptics:debug starting runtimeMetrics


  pino v4.17.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (168ms)


added 2 packages, removed 13 packages, changed 3 packages, and audited 1100 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:01:33.918Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:01:33.918Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:01:33.918Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:01:33.919Z appoptics:debug using context provider: ace-context
2021-09-18T01:01:33.976Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:01:34.019Z appoptics:patching patched crypto 
2021-09-18T01:01:34.054Z appoptics:patching patched https 
2021-09-18T01:01:34.054Z appoptics:patching patched http 
2021-09-18T01:01:34.075Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:01:34.076Z appoptics:patching patched fs 
2021-09-18T01:01:34.087Z appoptics:patching patched pino 5.0.0
2021-09-18T01:01:34.091Z appoptics:debug starting runtimeMetrics


  pino v5.0.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 2 packages, and audited 1100 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:01:39.995Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:01:39.995Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:01:39.995Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:01:39.996Z appoptics:debug using context provider: ace-context
2021-09-18T01:01:40.055Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:01:40.100Z appoptics:patching patched crypto 
2021-09-18T01:01:40.123Z appoptics:patching patched https 
2021-09-18T01:01:40.124Z appoptics:patching patched http 
2021-09-18T01:01:40.152Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:01:40.153Z appoptics:patching patched fs 
2021-09-18T01:01:40.178Z appoptics:patching patched pino 5.0.1
2021-09-18T01:01:40.183Z appoptics:debug starting runtimeMetrics


  pino v5.0.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (187ms)


changed 1 package, and audited 1100 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:01:46.237Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:01:46.238Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:01:46.238Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:01:46.239Z appoptics:debug using context provider: ace-context
2021-09-18T01:01:46.296Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:01:46.337Z appoptics:patching patched crypto 
2021-09-18T01:01:46.357Z appoptics:patching patched https 
2021-09-18T01:01:46.358Z appoptics:patching patched http 
2021-09-18T01:01:46.378Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:01:46.379Z appoptics:patching patched fs 
2021-09-18T01:01:46.388Z appoptics:patching patched pino 5.0.2
2021-09-18T01:01:46.392Z appoptics:debug starting runtimeMetrics


  pino v5.0.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)


changed 1 package, and audited 1100 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:01:52.237Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:01:52.237Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:01:52.237Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:01:52.238Z appoptics:debug using context provider: ace-context
2021-09-18T01:01:52.341Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:01:52.393Z appoptics:patching patched crypto 
2021-09-18T01:01:52.416Z appoptics:patching patched https 
2021-09-18T01:01:52.417Z appoptics:patching patched http 
2021-09-18T01:01:52.439Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:01:52.440Z appoptics:patching patched fs 
2021-09-18T01:01:52.467Z appoptics:patching patched pino 5.0.3
2021-09-18T01:01:52.471Z appoptics:debug starting runtimeMetrics


  pino v5.0.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1100 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:01:58.398Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:01:58.398Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:01:58.398Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:01:58.399Z appoptics:debug using context provider: ace-context
2021-09-18T01:01:58.466Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:01:58.510Z appoptics:patching patched crypto 
2021-09-18T01:01:58.532Z appoptics:patching patched https 
2021-09-18T01:01:58.533Z appoptics:patching patched http 
2021-09-18T01:01:58.559Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:01:58.560Z appoptics:patching patched fs 
2021-09-18T01:01:58.570Z appoptics:patching patched pino 5.0.4
2021-09-18T01:01:58.574Z appoptics:debug starting runtimeMetrics


  pino v5.0.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


changed 1 package, and audited 1100 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:02:04.627Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:04.627Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:04.627Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:04.628Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:04.692Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:04.734Z appoptics:patching patched crypto 
2021-09-18T01:02:04.755Z appoptics:patching patched https 
2021-09-18T01:02:04.755Z appoptics:patching patched http 
2021-09-18T01:02:04.777Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:02:04.777Z appoptics:patching patched fs 
2021-09-18T01:02:04.789Z appoptics:patching patched pino 5.0.5
2021-09-18T01:02:04.793Z appoptics:debug starting runtimeMetrics


  pino v5.0.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (168ms)


changed 1 package, and audited 1100 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:02:10.754Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:10.755Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:10.755Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:10.755Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:10.813Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:10.853Z appoptics:patching patched crypto 
2021-09-18T01:02:10.875Z appoptics:patching patched https 
2021-09-18T01:02:10.875Z appoptics:patching patched http 
2021-09-18T01:02:10.897Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:02:10.897Z appoptics:patching patched fs 
2021-09-18T01:02:10.907Z appoptics:patching patched pino 5.1.0
2021-09-18T01:02:10.911Z appoptics:debug starting runtimeMetrics


  pino v5.1.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)


changed 1 package, and audited 1100 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:02:17.274Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:17.274Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:17.274Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:17.275Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:17.334Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:17.374Z appoptics:patching patched crypto 
2021-09-18T01:02:17.393Z appoptics:patching patched https 
2021-09-18T01:02:17.394Z appoptics:patching patched http 
2021-09-18T01:02:17.414Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:02:17.415Z appoptics:patching patched fs 
2021-09-18T01:02:17.425Z appoptics:patching patched pino 5.1.1
2021-09-18T01:02:17.429Z appoptics:debug starting runtimeMetrics


  pino v5.1.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)


changed 1 package, and audited 1100 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:02:23.256Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:23.257Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:23.257Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:23.258Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:23.314Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:23.354Z appoptics:patching patched crypto 
2021-09-18T01:02:23.373Z appoptics:patching patched https 
2021-09-18T01:02:23.374Z appoptics:patching patched http 
2021-09-18T01:02:23.394Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:02:23.394Z appoptics:patching patched fs 
2021-09-18T01:02:23.403Z appoptics:patching patched pino 5.2.0
2021-09-18T01:02:23.408Z appoptics:debug starting runtimeMetrics


  pino v5.2.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1100 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:02:29.569Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:29.569Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:29.569Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:29.570Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:29.626Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:29.668Z appoptics:patching patched crypto 
2021-09-18T01:02:29.687Z appoptics:patching patched https 
2021-09-18T01:02:29.688Z appoptics:patching patched http 
2021-09-18T01:02:29.708Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:02:29.708Z appoptics:patching patched fs 
2021-09-18T01:02:29.718Z appoptics:patching patched pino 5.3.0
2021-09-18T01:02:29.722Z appoptics:debug starting runtimeMetrics


  pino v5.3.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)


changed 1 package, and audited 1100 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:02:35.632Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:35.633Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:35.633Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:35.634Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:35.690Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:35.729Z appoptics:patching patched crypto 
2021-09-18T01:02:35.749Z appoptics:patching patched https 
2021-09-18T01:02:35.750Z appoptics:patching patched http 
2021-09-18T01:02:35.770Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:02:35.770Z appoptics:patching patched fs 
2021-09-18T01:02:35.781Z appoptics:patching patched pino 5.3.1
2021-09-18T01:02:35.785Z appoptics:debug starting runtimeMetrics


  pino v5.3.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


changed 1 package, and audited 1100 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:02:42.273Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:42.273Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:42.273Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:42.274Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:42.331Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:42.371Z appoptics:patching patched crypto 
2021-09-18T01:02:42.391Z appoptics:patching patched https 
2021-09-18T01:02:42.391Z appoptics:patching patched http 
2021-09-18T01:02:42.412Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:02:42.412Z appoptics:patching patched fs 
2021-09-18T01:02:42.422Z appoptics:patching patched pino 5.4.0
2021-09-18T01:02:42.426Z appoptics:debug starting runtimeMetrics


  pino v5.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1100 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:02:48.139Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:48.140Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:48.140Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:48.140Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:48.196Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:48.237Z appoptics:patching patched crypto 
2021-09-18T01:02:48.257Z appoptics:patching patched https 
2021-09-18T01:02:48.257Z appoptics:patching patched http 
2021-09-18T01:02:48.277Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:02:48.278Z appoptics:patching patched fs 
2021-09-18T01:02:48.287Z appoptics:patching patched pino 5.4.1
2021-09-18T01:02:48.291Z appoptics:debug starting runtimeMetrics


  pino v5.4.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)


changed 1 package, and audited 1100 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:02:54.982Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:02:54.983Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:02:54.983Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:02:54.983Z appoptics:debug using context provider: ace-context
2021-09-18T01:02:55.039Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:02:55.079Z appoptics:patching patched crypto 
2021-09-18T01:02:55.100Z appoptics:patching patched https 
2021-09-18T01:02:55.100Z appoptics:patching patched http 
2021-09-18T01:02:55.125Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:02:55.125Z appoptics:patching patched fs 
2021-09-18T01:02:55.135Z appoptics:patching patched pino 5.5.0
2021-09-18T01:02:55.139Z appoptics:debug starting runtimeMetrics


  pino v5.5.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1100 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:03:00.866Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:03:00.867Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:03:00.867Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:03:00.867Z appoptics:debug using context provider: ace-context
2021-09-18T01:03:00.940Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:03:00.984Z appoptics:patching patched crypto 
2021-09-18T01:03:01.005Z appoptics:patching patched https 
2021-09-18T01:03:01.005Z appoptics:patching patched http 
2021-09-18T01:03:01.027Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:03:01.027Z appoptics:patching patched fs 
2021-09-18T01:03:01.037Z appoptics:patching patched pino 5.6.0
2021-09-18T01:03:01.041Z appoptics:debug starting runtimeMetrics


  pino v5.6.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)


changed 1 package, and audited 1100 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:03:07.675Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:03:07.676Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:03:07.676Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:03:07.676Z appoptics:debug using context provider: ace-context
2021-09-18T01:03:07.732Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:03:07.773Z appoptics:patching patched crypto 
2021-09-18T01:03:07.792Z appoptics:patching patched https 
2021-09-18T01:03:07.793Z appoptics:patching patched http 
2021-09-18T01:03:07.813Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:03:07.813Z appoptics:patching patched fs 
2021-09-18T01:03:07.823Z appoptics:patching patched pino 5.6.1
2021-09-18T01:03:07.827Z appoptics:debug starting runtimeMetrics


  pino v5.6.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1100 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:03:13.438Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:03:13.439Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:03:13.439Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:03:13.439Z appoptics:debug using context provider: ace-context
2021-09-18T01:03:13.499Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:03:13.548Z appoptics:patching patched crypto 
2021-09-18T01:03:13.571Z appoptics:patching patched https 
2021-09-18T01:03:13.572Z appoptics:patching patched http 
2021-09-18T01:03:13.595Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:03:13.595Z appoptics:patching patched fs 
2021-09-18T01:03:13.605Z appoptics:patching patched pino 5.6.2
2021-09-18T01:03:13.609Z appoptics:debug starting runtimeMetrics


  pino v5.6.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1100 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:03:20.042Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:03:20.043Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:03:20.043Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:03:20.043Z appoptics:debug using context provider: ace-context
2021-09-18T01:03:20.100Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:03:20.141Z appoptics:patching patched crypto 
2021-09-18T01:03:20.161Z appoptics:patching patched https 
2021-09-18T01:03:20.161Z appoptics:patching patched http 
2021-09-18T01:03:20.182Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:03:20.182Z appoptics:patching patched fs 
2021-09-18T01:03:20.192Z appoptics:patching patched pino 5.6.3
2021-09-18T01:03:20.196Z appoptics:debug starting runtimeMetrics


  pino v5.6.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)


changed 1 package, and audited 1100 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:03:26.152Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:03:26.153Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:03:26.153Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:03:26.154Z appoptics:debug using context provider: ace-context
2021-09-18T01:03:26.220Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:03:26.261Z appoptics:patching patched crypto 
2021-09-18T01:03:26.281Z appoptics:patching patched https 
2021-09-18T01:03:26.282Z appoptics:patching patched http 
2021-09-18T01:03:26.303Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:03:26.303Z appoptics:patching patched fs 
2021-09-18T01:03:26.315Z appoptics:patching patched pino 5.6.4
2021-09-18T01:03:26.319Z appoptics:debug starting runtimeMetrics


  pino v5.6.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1100 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:03:32.502Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:03:32.502Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:03:32.502Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:03:32.503Z appoptics:debug using context provider: ace-context
2021-09-18T01:03:32.559Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:03:32.600Z appoptics:patching patched crypto 
2021-09-18T01:03:32.619Z appoptics:patching patched https 
2021-09-18T01:03:32.620Z appoptics:patching patched http 
2021-09-18T01:03:32.640Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:03:32.640Z appoptics:patching patched fs 
2021-09-18T01:03:32.650Z appoptics:patching patched pino 5.7.0
2021-09-18T01:03:32.654Z appoptics:debug starting runtimeMetrics


  pino v5.7.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)


changed 1 package, and audited 1100 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:03:38.552Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:03:38.552Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:03:38.552Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:03:38.553Z appoptics:debug using context provider: ace-context
2021-09-18T01:03:38.610Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:03:38.650Z appoptics:patching patched crypto 
2021-09-18T01:03:38.670Z appoptics:patching patched https 
2021-09-18T01:03:38.670Z appoptics:patching patched http 
2021-09-18T01:03:38.691Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:03:38.691Z appoptics:patching patched fs 
2021-09-18T01:03:38.701Z appoptics:patching patched pino 5.8.0
2021-09-18T01:03:38.705Z appoptics:debug starting runtimeMetrics


  pino v5.8.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1100 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:03:45.236Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:03:45.237Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:03:45.237Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:03:45.237Z appoptics:debug using context provider: ace-context
2021-09-18T01:03:45.294Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:03:45.335Z appoptics:patching patched crypto 
2021-09-18T01:03:45.355Z appoptics:patching patched https 
2021-09-18T01:03:45.355Z appoptics:patching patched http 
2021-09-18T01:03:45.379Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:03:45.380Z appoptics:patching patched fs 
2021-09-18T01:03:45.386Z appoptics:patching patched pino 5.8.1
2021-09-18T01:03:45.390Z appoptics:debug starting runtimeMetrics


  pino v5.8.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (167ms)


changed 1 package, and audited 1100 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:03:51.140Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:03:51.141Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:03:51.141Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:03:51.141Z appoptics:debug using context provider: ace-context
2021-09-18T01:03:51.209Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:03:51.260Z appoptics:patching patched crypto 
2021-09-18T01:03:51.280Z appoptics:patching patched https 
2021-09-18T01:03:51.280Z appoptics:patching patched http 
2021-09-18T01:03:51.304Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:03:51.304Z appoptics:patching patched fs 
2021-09-18T01:03:51.310Z appoptics:patching patched pino 5.9.0
2021-09-18T01:03:51.314Z appoptics:debug starting runtimeMetrics


  pino v5.9.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)


added 1 package, changed 2 packages, and audited 1101 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:03:57.613Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:03:57.614Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:03:57.614Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:03:57.615Z appoptics:debug using context provider: ace-context
2021-09-18T01:03:57.682Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:03:57.726Z appoptics:patching patched crypto 
2021-09-18T01:03:57.748Z appoptics:patching patched https 
2021-09-18T01:03:57.748Z appoptics:patching patched http 
2021-09-18T01:03:57.778Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:03:57.778Z appoptics:patching patched fs 
2021-09-18T01:03:57.785Z appoptics:patching patched pino 5.10.1
2021-09-18T01:03:57.789Z appoptics:debug starting runtimeMetrics


  pino v5.10.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (105ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (182ms)


changed 1 package, and audited 1101 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:04:03.555Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:04:03.555Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:04:03.555Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:04:03.556Z appoptics:debug using context provider: ace-context
2021-09-18T01:04:03.634Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:04:03.685Z appoptics:patching patched crypto 
2021-09-18T01:04:03.707Z appoptics:patching patched https 
2021-09-18T01:04:03.708Z appoptics:patching patched http 
2021-09-18T01:04:03.732Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:04:03.732Z appoptics:patching patched fs 
2021-09-18T01:04:03.739Z appoptics:patching patched pino 5.10.2
2021-09-18T01:04:03.743Z appoptics:debug starting runtimeMetrics


  pino v5.10.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1101 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:04:10.203Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:04:10.204Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:04:10.204Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:04:10.205Z appoptics:debug using context provider: ace-context
2021-09-18T01:04:10.261Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:04:10.302Z appoptics:patching patched crypto 
2021-09-18T01:04:10.322Z appoptics:patching patched https 
2021-09-18T01:04:10.322Z appoptics:patching patched http 
2021-09-18T01:04:10.348Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:04:10.348Z appoptics:patching patched fs 
2021-09-18T01:04:10.354Z appoptics:patching patched pino 5.10.3
2021-09-18T01:04:10.358Z appoptics:debug starting runtimeMetrics


  pino v5.10.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)


changed 1 package, and audited 1101 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:04:16.124Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:04:16.125Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:04:16.125Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:04:16.126Z appoptics:debug using context provider: ace-context
2021-09-18T01:04:16.193Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:04:16.253Z appoptics:patching patched crypto 
2021-09-18T01:04:16.290Z appoptics:patching patched https 
2021-09-18T01:04:16.290Z appoptics:patching patched http 
2021-09-18T01:04:16.317Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:04:16.317Z appoptics:patching patched fs 
2021-09-18T01:04:16.329Z appoptics:patching patched pino 5.10.4
2021-09-18T01:04:16.333Z appoptics:debug starting runtimeMetrics


  pino v5.10.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (185ms)


removed 3 packages, changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:04:22.291Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:04:22.292Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:04:22.292Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:04:22.293Z appoptics:debug using context provider: ace-context
2021-09-18T01:04:22.351Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:04:22.424Z appoptics:patching patched crypto 
2021-09-18T01:04:22.452Z appoptics:patching patched https 
2021-09-18T01:04:22.452Z appoptics:patching patched http 
2021-09-18T01:04:22.487Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:04:22.488Z appoptics:patching patched fs 
2021-09-18T01:04:22.495Z appoptics:patching patched pino 5.10.5
2021-09-18T01:04:22.502Z appoptics:debug starting runtimeMetrics


  pino v5.10.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:04:28.531Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:04:28.532Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:04:28.532Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:04:28.532Z appoptics:debug using context provider: ace-context
2021-09-18T01:04:28.640Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:04:28.685Z appoptics:patching patched crypto 
2021-09-18T01:04:28.708Z appoptics:patching patched https 
2021-09-18T01:04:28.709Z appoptics:patching patched http 
2021-09-18T01:04:28.734Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:04:28.734Z appoptics:patching patched fs 
2021-09-18T01:04:28.746Z appoptics:patching patched pino 5.10.6
2021-09-18T01:04:28.750Z appoptics:debug starting runtimeMetrics


  pino v5.10.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:04:34.886Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:04:34.887Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:04:34.887Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:04:34.887Z appoptics:debug using context provider: ace-context
2021-09-18T01:04:34.944Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:04:34.985Z appoptics:patching patched crypto 
2021-09-18T01:04:35.005Z appoptics:patching patched https 
2021-09-18T01:04:35.005Z appoptics:patching patched http 
2021-09-18T01:04:35.030Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:04:35.030Z appoptics:patching patched fs 
2021-09-18T01:04:35.036Z appoptics:patching patched pino 5.10.7
2021-09-18T01:04:35.041Z appoptics:debug starting runtimeMetrics


  pino v5.10.7
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


changed 1 package, and audited 1098 packages in 39s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:05:15.219Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:05:15.219Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:05:15.219Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:05:15.220Z appoptics:debug using context provider: ace-context
2021-09-18T01:05:15.293Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:05:15.346Z appoptics:patching patched crypto 
2021-09-18T01:05:15.371Z appoptics:patching patched https 
2021-09-18T01:05:15.372Z appoptics:patching patched http 
2021-09-18T01:05:15.401Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:05:15.401Z appoptics:patching patched fs 
2021-09-18T01:05:15.415Z appoptics:patching patched pino 5.10.8
2021-09-18T01:05:15.420Z appoptics:debug starting runtimeMetrics


  pino v5.10.8
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:05:21.355Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:05:21.356Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:05:21.356Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:05:21.357Z appoptics:debug using context provider: ace-context
2021-09-18T01:05:21.413Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:05:21.454Z appoptics:patching patched crypto 
2021-09-18T01:05:21.473Z appoptics:patching patched https 
2021-09-18T01:05:21.474Z appoptics:patching patched http 
2021-09-18T01:05:21.498Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:05:21.498Z appoptics:patching patched fs 
2021-09-18T01:05:21.504Z appoptics:patching patched pino 5.10.9
2021-09-18T01:05:21.509Z appoptics:debug starting runtimeMetrics


  pino v5.10.9
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)


changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:05:27.891Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:05:27.892Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:05:27.892Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:05:27.892Z appoptics:debug using context provider: ace-context
2021-09-18T01:05:27.948Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:05:27.988Z appoptics:patching patched crypto 
2021-09-18T01:05:28.008Z appoptics:patching patched https 
2021-09-18T01:05:28.008Z appoptics:patching patched http 
2021-09-18T01:05:28.033Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:05:28.033Z appoptics:patching patched fs 
2021-09-18T01:05:28.039Z appoptics:patching patched pino 5.10.10
2021-09-18T01:05:28.043Z appoptics:debug starting runtimeMetrics


  pino v5.10.10
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:05:33.764Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:05:33.765Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:05:33.766Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:05:33.766Z appoptics:debug using context provider: ace-context
2021-09-18T01:05:33.822Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:05:33.862Z appoptics:patching patched crypto 
2021-09-18T01:05:33.882Z appoptics:patching patched https 
2021-09-18T01:05:33.883Z appoptics:patching patched http 
2021-09-18T01:05:33.907Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:05:33.907Z appoptics:patching patched fs 
2021-09-18T01:05:33.915Z appoptics:patching patched pino 5.11.0
2021-09-18T01:05:33.919Z appoptics:debug starting runtimeMetrics


  pino v5.11.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:05:40.450Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:05:40.451Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:05:40.451Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:05:40.452Z appoptics:debug using context provider: ace-context
2021-09-18T01:05:40.507Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:05:40.548Z appoptics:patching patched crypto 
2021-09-18T01:05:40.568Z appoptics:patching patched https 
2021-09-18T01:05:40.568Z appoptics:patching patched http 
2021-09-18T01:05:40.592Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:05:40.593Z appoptics:patching patched fs 
2021-09-18T01:05:40.599Z appoptics:patching patched pino 5.11.1
2021-09-18T01:05:40.603Z appoptics:debug starting runtimeMetrics


  pino v5.11.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:05:46.586Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:05:46.587Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:05:46.587Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:05:46.588Z appoptics:debug using context provider: ace-context
2021-09-18T01:05:46.645Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:05:46.686Z appoptics:patching patched crypto 
2021-09-18T01:05:46.707Z appoptics:patching patched https 
2021-09-18T01:05:46.707Z appoptics:patching patched http 
2021-09-18T01:05:46.731Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:05:46.732Z appoptics:patching patched fs 
2021-09-18T01:05:46.738Z appoptics:patching patched pino 5.11.2
2021-09-18T01:05:46.742Z appoptics:debug starting runtimeMetrics


  pino v5.11.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)


changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:05:52.989Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:05:52.990Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:05:52.990Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:05:52.990Z appoptics:debug using context provider: ace-context
2021-09-18T01:05:53.048Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:05:53.088Z appoptics:patching patched crypto 
2021-09-18T01:05:53.109Z appoptics:patching patched https 
2021-09-18T01:05:53.109Z appoptics:patching patched http 
2021-09-18T01:05:53.133Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:05:53.133Z appoptics:patching patched fs 
2021-09-18T01:05:53.140Z appoptics:patching patched pino 5.11.3
2021-09-18T01:05:53.144Z appoptics:debug starting runtimeMetrics


  pino v5.11.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:05:59.175Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:05:59.176Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:05:59.176Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:05:59.177Z appoptics:debug using context provider: ace-context
2021-09-18T01:05:59.233Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:05:59.273Z appoptics:patching patched crypto 
2021-09-18T01:05:59.294Z appoptics:patching patched https 
2021-09-18T01:05:59.294Z appoptics:patching patched http 
2021-09-18T01:05:59.319Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:05:59.319Z appoptics:patching patched fs 
2021-09-18T01:05:59.327Z appoptics:patching patched pino 5.12.0
2021-09-18T01:05:59.331Z appoptics:debug starting runtimeMetrics


  pino v5.12.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:06:05.527Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:06:05.527Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:06:05.527Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:06:05.528Z appoptics:debug using context provider: ace-context
2021-09-18T01:06:05.584Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:06:05.624Z appoptics:patching patched crypto 
2021-09-18T01:06:05.644Z appoptics:patching patched https 
2021-09-18T01:06:05.645Z appoptics:patching patched http 
2021-09-18T01:06:05.669Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:06:05.669Z appoptics:patching patched fs 
2021-09-18T01:06:05.675Z appoptics:patching patched pino 5.12.1
2021-09-18T01:06:05.679Z appoptics:debug starting runtimeMetrics


  pino v5.12.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:06:11.539Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:06:11.540Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:06:11.540Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:06:11.541Z appoptics:debug using context provider: ace-context
2021-09-18T01:06:11.597Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:06:11.637Z appoptics:patching patched crypto 
2021-09-18T01:06:11.657Z appoptics:patching patched https 
2021-09-18T01:06:11.658Z appoptics:patching patched http 
2021-09-18T01:06:11.682Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:06:11.682Z appoptics:patching patched fs 
2021-09-18T01:06:11.688Z appoptics:patching patched pino 5.12.2
2021-09-18T01:06:11.692Z appoptics:debug starting runtimeMetrics


  pino v5.12.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (162ms)


changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:06:18.184Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:06:18.189Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:06:18.189Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:06:18.190Z appoptics:debug using context provider: ace-context
2021-09-18T01:06:18.272Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:06:18.316Z appoptics:patching patched crypto 
2021-09-18T01:06:18.339Z appoptics:patching patched https 
2021-09-18T01:06:18.339Z appoptics:patching patched http 
2021-09-18T01:06:18.364Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:06:18.364Z appoptics:patching patched fs 
2021-09-18T01:06:18.375Z appoptics:patching patched pino 5.12.3
2021-09-18T01:06:18.379Z appoptics:debug starting runtimeMetrics


  pino v5.12.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:06:23.976Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:06:23.977Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:06:23.977Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:06:23.978Z appoptics:debug using context provider: ace-context
2021-09-18T01:06:24.033Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:06:24.075Z appoptics:patching patched crypto 
2021-09-18T01:06:24.100Z appoptics:patching patched https 
2021-09-18T01:06:24.100Z appoptics:patching patched http 
2021-09-18T01:06:24.127Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:06:24.128Z appoptics:patching patched fs 
2021-09-18T01:06:24.135Z appoptics:patching patched pino 5.12.4
2021-09-18T01:06:24.139Z appoptics:debug starting runtimeMetrics


  pino v5.12.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)


changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:06:30.548Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:06:30.548Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:06:30.549Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:06:30.549Z appoptics:debug using context provider: ace-context
2021-09-18T01:06:30.606Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:06:30.646Z appoptics:patching patched crypto 
2021-09-18T01:06:30.666Z appoptics:patching patched https 
2021-09-18T01:06:30.667Z appoptics:patching patched http 
2021-09-18T01:06:30.690Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:06:30.691Z appoptics:patching patched fs 
2021-09-18T01:06:30.697Z appoptics:patching patched pino 5.12.5
2021-09-18T01:06:30.702Z appoptics:debug starting runtimeMetrics


  pino v5.12.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:06:36.623Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:06:36.623Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:06:36.623Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:06:36.624Z appoptics:debug using context provider: ace-context
2021-09-18T01:06:36.679Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:06:36.719Z appoptics:patching patched crypto 
2021-09-18T01:06:36.739Z appoptics:patching patched https 
2021-09-18T01:06:36.739Z appoptics:patching patched http 
2021-09-18T01:06:36.771Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:06:36.771Z appoptics:patching patched fs 
2021-09-18T01:06:36.777Z appoptics:patching patched pino 5.12.6
2021-09-18T01:06:36.782Z appoptics:debug starting runtimeMetrics


  pino v5.12.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:06:43.128Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:06:43.128Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:06:43.129Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:06:43.129Z appoptics:debug using context provider: ace-context
2021-09-18T01:06:43.186Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:06:43.227Z appoptics:patching patched crypto 
2021-09-18T01:06:43.246Z appoptics:patching patched https 
2021-09-18T01:06:43.247Z appoptics:patching patched http 
2021-09-18T01:06:43.271Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:06:43.271Z appoptics:patching patched fs 
2021-09-18T01:06:43.277Z appoptics:patching patched pino 5.13.0
2021-09-18T01:06:43.282Z appoptics:debug starting runtimeMetrics


  pino v5.13.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:06:48.998Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:06:48.998Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:06:48.999Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:06:48.999Z appoptics:debug using context provider: ace-context
2021-09-18T01:06:49.056Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:06:49.097Z appoptics:patching patched crypto 
2021-09-18T01:06:49.117Z appoptics:patching patched https 
2021-09-18T01:06:49.117Z appoptics:patching patched http 
2021-09-18T01:06:49.142Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:06:49.142Z appoptics:patching patched fs 
2021-09-18T01:06:49.148Z appoptics:patching patched pino 5.13.1
2021-09-18T01:06:49.152Z appoptics:debug starting runtimeMetrics


  pino v5.13.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (165ms)


changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:06:55.699Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:06:55.699Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:06:55.700Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:06:55.700Z appoptics:debug using context provider: ace-context
2021-09-18T01:06:55.757Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:06:55.797Z appoptics:patching patched crypto 
2021-09-18T01:06:55.817Z appoptics:patching patched https 
2021-09-18T01:06:55.817Z appoptics:patching patched http 
2021-09-18T01:06:55.841Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:06:55.841Z appoptics:patching patched fs 
2021-09-18T01:06:55.847Z appoptics:patching patched pino 5.13.2
2021-09-18T01:06:55.851Z appoptics:debug starting runtimeMetrics


  pino v5.13.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:07:01.683Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:07:01.683Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:07:01.684Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:07:01.684Z appoptics:debug using context provider: ace-context
2021-09-18T01:07:01.750Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:07:01.792Z appoptics:patching patched crypto 
2021-09-18T01:07:01.813Z appoptics:patching patched https 
2021-09-18T01:07:01.813Z appoptics:patching patched http 
2021-09-18T01:07:01.838Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:07:01.838Z appoptics:patching patched fs 
2021-09-18T01:07:01.845Z appoptics:patching patched pino 5.13.3
2021-09-18T01:07:01.849Z appoptics:debug starting runtimeMetrics


  pino v5.13.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (107ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (168ms)


changed 2 packages, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:07:07.941Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:07:07.942Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:07:07.942Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:07:07.942Z appoptics:debug using context provider: ace-context
2021-09-18T01:07:07.999Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:07:08.041Z appoptics:patching patched crypto 
2021-09-18T01:07:08.061Z appoptics:patching patched https 
2021-09-18T01:07:08.061Z appoptics:patching patched http 
2021-09-18T01:07:08.086Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:07:08.087Z appoptics:patching patched fs 
2021-09-18T01:07:08.093Z appoptics:patching patched pino 5.13.4
2021-09-18T01:07:08.097Z appoptics:debug starting runtimeMetrics


  pino v5.13.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:07:13.961Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:07:13.962Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:07:13.962Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:07:13.963Z appoptics:debug using context provider: ace-context
2021-09-18T01:07:14.032Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:07:14.073Z appoptics:patching patched crypto 
2021-09-18T01:07:14.097Z appoptics:patching patched https 
2021-09-18T01:07:14.097Z appoptics:patching patched http 
2021-09-18T01:07:14.124Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:07:14.125Z appoptics:patching patched fs 
2021-09-18T01:07:14.131Z appoptics:patching patched pino 5.13.5
2021-09-18T01:07:14.136Z appoptics:debug starting runtimeMetrics


  pino v5.13.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (164ms)


changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:07:20.492Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:07:20.492Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:07:20.492Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:07:20.493Z appoptics:debug using context provider: ace-context
2021-09-18T01:07:20.551Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:07:20.592Z appoptics:patching patched crypto 
2021-09-18T01:07:20.612Z appoptics:patching patched https 
2021-09-18T01:07:20.612Z appoptics:patching patched http 
2021-09-18T01:07:20.636Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:07:20.636Z appoptics:patching patched fs 
2021-09-18T01:07:20.643Z appoptics:patching patched pino 5.13.6
2021-09-18T01:07:20.647Z appoptics:debug starting runtimeMetrics


  pino v5.13.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (166ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:07:26.820Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:07:26.820Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:07:26.820Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:07:26.821Z appoptics:debug using context provider: ace-context
2021-09-18T01:07:26.927Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:07:27.015Z appoptics:patching patched crypto 
2021-09-18T01:07:27.040Z appoptics:patching patched https 
2021-09-18T01:07:27.041Z appoptics:patching patched http 
2021-09-18T01:07:27.075Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:07:27.076Z appoptics:patching patched fs 
2021-09-18T01:07:27.085Z appoptics:patching patched pino 5.14.0
2021-09-18T01:07:27.090Z appoptics:debug starting runtimeMetrics


  pino v5.14.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (184ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:07:32.770Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:07:32.770Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:07:32.770Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:07:32.771Z appoptics:debug using context provider: ace-context
2021-09-18T01:07:32.827Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:07:32.867Z appoptics:patching patched crypto 
2021-09-18T01:07:32.887Z appoptics:patching patched https 
2021-09-18T01:07:32.887Z appoptics:patching patched http 
2021-09-18T01:07:32.911Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:07:32.912Z appoptics:patching patched fs 
2021-09-18T01:07:32.918Z appoptics:patching patched pino 5.15.0
2021-09-18T01:07:32.922Z appoptics:debug starting runtimeMetrics


  pino v5.15.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:07:38.946Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:07:38.947Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:07:38.947Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:07:38.947Z appoptics:debug using context provider: ace-context
2021-09-18T01:07:39.014Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:07:39.057Z appoptics:patching patched crypto 
2021-09-18T01:07:39.079Z appoptics:patching patched https 
2021-09-18T01:07:39.080Z appoptics:patching patched http 
2021-09-18T01:07:39.105Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:07:39.105Z appoptics:patching patched fs 
2021-09-18T01:07:39.117Z appoptics:patching patched pino 5.16.0
2021-09-18T01:07:39.121Z appoptics:debug starting runtimeMetrics


  pino v5.16.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:07:44.956Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:07:44.957Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:07:44.957Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:07:44.958Z appoptics:debug using context provider: ace-context
2021-09-18T01:07:45.027Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:07:45.071Z appoptics:patching patched crypto 
2021-09-18T01:07:45.094Z appoptics:patching patched https 
2021-09-18T01:07:45.095Z appoptics:patching patched http 
2021-09-18T01:07:45.130Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:07:45.130Z appoptics:patching patched fs 
2021-09-18T01:07:45.144Z appoptics:patching patched pino 5.17.0
2021-09-18T01:07:45.158Z appoptics:debug starting runtimeMetrics


  pino v5.17.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (163ms)


changed 3 packages, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:07:51.492Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:07:51.492Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:07:51.493Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:07:51.493Z appoptics:debug using context provider: ace-context
2021-09-18T01:07:51.554Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:07:51.599Z appoptics:patching patched crypto 
2021-09-18T01:07:51.621Z appoptics:patching patched https 
2021-09-18T01:07:51.622Z appoptics:patching patched http 
2021-09-18T01:07:51.646Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:07:51.646Z appoptics:patching patched fs 
2021-09-18T01:07:51.654Z appoptics:patching patched pino 6.0.0
2021-09-18T01:07:51.659Z appoptics:debug starting runtimeMetrics


  pino v6.0.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (172ms)
  14 failing

  1) pino v6.0.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4013
         "time": 1631927271789
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.0.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4013
         "time": 1631927271795
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.0.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4013
         "time": 1631927271798
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.0.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4013
         "time": 1631927271800
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.0.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4013
         "time": 1631927271802
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.0.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4013
         "time": 1631927271804
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.0.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4013
         "time": 1631927271806
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.0.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4013
         "time": 1631927271807
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.0.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4013
         "time": 1631927271808
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.0.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4013
         "time": 1631927271809
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.0.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4013
         "time": 1631927271810
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.0.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4013
         "time": 1631927271812
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.0.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4013
         "time": 1631927271915
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.0.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 95316A539A5F2254D0AE7F4F36E309D2708EC43F-1"
         "pid": 4013
         "time": 1631927271943
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:07:57.533Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:07:57.533Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:07:57.533Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:07:57.534Z appoptics:debug using context provider: ace-context
2021-09-18T01:07:57.590Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:07:57.631Z appoptics:patching patched crypto 
2021-09-18T01:07:57.650Z appoptics:patching patched https 
2021-09-18T01:07:57.651Z appoptics:patching patched http 
2021-09-18T01:07:57.676Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:07:57.676Z appoptics:patching patched fs 
2021-09-18T01:07:57.683Z appoptics:patching patched pino 6.1.0
2021-09-18T01:07:57.687Z appoptics:debug starting runtimeMetrics


  pino v6.1.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (172ms)
  14 failing

  1) pino v6.1.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4036
         "time": 1631927277818
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.1.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4036
         "time": 1631927277824
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.1.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4036
         "time": 1631927277827
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.1.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4036
         "time": 1631927277829
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.1.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4036
         "time": 1631927277832
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.1.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4036
         "time": 1631927277834
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.1.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4036
         "time": 1631927277835
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.1.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4036
         "time": 1631927277837
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.1.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4036
         "time": 1631927277838
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.1.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4036
         "time": 1631927277839
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.1.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4036
         "time": 1631927277840
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.1.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4036
         "time": 1631927277842
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.1.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4036
         "time": 1631927277945
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.1.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 51AD2842852C8A5C079170FA5D8049A7467EC9BE-1"
         "pid": 4036
         "time": 1631927277973
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:08:03.821Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:08:03.822Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:08:03.822Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:08:03.823Z appoptics:debug using context provider: ace-context
2021-09-18T01:08:03.894Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:08:03.935Z appoptics:patching patched crypto 
2021-09-18T01:08:03.954Z appoptics:patching patched https 
2021-09-18T01:08:03.954Z appoptics:patching patched http 
2021-09-18T01:08:03.978Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:08:03.978Z appoptics:patching patched fs 
2021-09-18T01:08:03.985Z appoptics:patching patched pino 6.1.1
2021-09-18T01:08:03.989Z appoptics:debug starting runtimeMetrics


  pino v6.1.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (172ms)
  14 failing

  1) pino v6.1.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4059
         "time": 1631927284119
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.1.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4059
         "time": 1631927284125
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.1.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4059
         "time": 1631927284127
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.1.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4059
         "time": 1631927284130
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.1.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4059
         "time": 1631927284132
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.1.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4059
         "time": 1631927284134
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.1.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4059
         "time": 1631927284135
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.1.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4059
         "time": 1631927284137
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.1.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4059
         "time": 1631927284138
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.1.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4059
         "time": 1631927284139
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.1.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4059
         "time": 1631927284140
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.1.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4059
         "time": 1631927284142
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.1.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4059
         "time": 1631927284245
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.1.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 6019A9DCB0376222E8AFF4A7DBC7FD9CDC20683D-1"
         "pid": 4059
         "time": 1631927284274
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:08:09.763Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:08:09.764Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:08:09.764Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:08:09.765Z appoptics:debug using context provider: ace-context
2021-09-18T01:08:09.820Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:08:09.860Z appoptics:patching patched crypto 
2021-09-18T01:08:09.880Z appoptics:patching patched https 
2021-09-18T01:08:09.880Z appoptics:patching patched http 
2021-09-18T01:08:09.905Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:08:09.906Z appoptics:patching patched fs 
2021-09-18T01:08:09.912Z appoptics:patching patched pino 6.2.0
2021-09-18T01:08:09.916Z appoptics:debug starting runtimeMetrics


  pino v6.2.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (174ms)
  14 failing

  1) pino v6.2.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4082
         "time": 1631927290048
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.2.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4082
         "time": 1631927290055
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.2.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4082
         "time": 1631927290057
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.2.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4082
         "time": 1631927290059
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.2.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4082
         "time": 1631927290061
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.2.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4082
         "time": 1631927290064
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.2.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4082
         "time": 1631927290065
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.2.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4082
         "time": 1631927290066
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.2.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4082
         "time": 1631927290068
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.2.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4082
         "time": 1631927290069
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.2.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4082
         "time": 1631927290070
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.2.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4082
         "time": 1631927290071
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.2.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4082
         "time": 1631927290175
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.2.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 1CB7BFEF8BB95F5EE502F65C884B5564AB10942F-1"
         "pid": 4082
         "time": 1631927290204
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:08:16.130Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:08:16.131Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:08:16.131Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:08:16.132Z appoptics:debug using context provider: ace-context
2021-09-18T01:08:16.196Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:08:16.237Z appoptics:patching patched crypto 
2021-09-18T01:08:16.256Z appoptics:patching patched https 
2021-09-18T01:08:16.256Z appoptics:patching patched http 
2021-09-18T01:08:16.280Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:08:16.281Z appoptics:patching patched fs 
2021-09-18T01:08:16.287Z appoptics:patching patched pino 6.2.1
2021-09-18T01:08:16.291Z appoptics:debug starting runtimeMetrics


  pino v6.2.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (170ms)
  14 failing

  1) pino v6.2.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4105
         "time": 1631927296420
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.2.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4105
         "time": 1631927296426
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.2.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4105
         "time": 1631927296429
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.2.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4105
         "time": 1631927296431
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.2.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4105
         "time": 1631927296433
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.2.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4105
         "time": 1631927296436
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.2.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4105
         "time": 1631927296437
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.2.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4105
         "time": 1631927296438
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.2.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4105
         "time": 1631927296439
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.2.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4105
         "time": 1631927296441
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.2.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4105
         "time": 1631927296442
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.2.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4105
         "time": 1631927296443
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.2.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4105
         "time": 1631927296547
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.2.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous AD7F84DE95CAD6C18CDBEDA9AEB90C665F029406-1"
         "pid": 4105
         "time": 1631927296574
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:08:22.426Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:08:22.427Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:08:22.427Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:08:22.428Z appoptics:debug using context provider: ace-context
2021-09-18T01:08:22.485Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:08:22.526Z appoptics:patching patched crypto 
2021-09-18T01:08:22.546Z appoptics:patching patched https 
2021-09-18T01:08:22.546Z appoptics:patching patched http 
2021-09-18T01:08:22.570Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:08:22.571Z appoptics:patching patched fs 
2021-09-18T01:08:22.577Z appoptics:patching patched pino 6.3.0
2021-09-18T01:08:22.581Z appoptics:debug starting runtimeMetrics


  pino v6.3.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (173ms)
  14 failing

  1) pino v6.3.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4128
         "time": 1631927302715
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.3.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4128
         "time": 1631927302721
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.3.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4128
         "time": 1631927302724
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.3.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4128
         "time": 1631927302726
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.3.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4128
         "time": 1631927302728
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.3.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4128
         "time": 1631927302731
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.3.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4128
         "time": 1631927302732
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.3.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4128
         "time": 1631927302733
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.3.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4128
         "time": 1631927302735
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.3.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4128
         "time": 1631927302736
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.3.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4128
         "time": 1631927302737
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.3.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4128
         "time": 1631927302738
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.3.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4128
         "time": 1631927302842
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.3.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous DDEDA336730295B6FAA1ECB1BBABFE85F1BAC570-1"
         "pid": 4128
         "time": 1631927302871
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:08:28.982Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:08:28.983Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:08:28.983Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:08:28.984Z appoptics:debug using context provider: ace-context
2021-09-18T01:08:29.039Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:08:29.090Z appoptics:patching patched crypto 
2021-09-18T01:08:29.113Z appoptics:patching patched https 
2021-09-18T01:08:29.113Z appoptics:patching patched http 
2021-09-18T01:08:29.139Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:08:29.139Z appoptics:patching patched fs 
2021-09-18T01:08:29.146Z appoptics:patching patched pino 6.3.1
2021-09-18T01:08:29.150Z appoptics:debug starting runtimeMetrics


  pino v6.3.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (169ms)
  14 failing

  1) pino v6.3.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4151
         "time": 1631927309281
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.3.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4151
         "time": 1631927309287
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.3.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4151
         "time": 1631927309290
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.3.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4151
         "time": 1631927309292
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.3.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4151
         "time": 1631927309294
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.3.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4151
         "time": 1631927309296
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.3.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4151
         "time": 1631927309298
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.3.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4151
         "time": 1631927309299
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.3.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4151
         "time": 1631927309300
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.3.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4151
         "time": 1631927309301
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.3.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4151
         "time": 1631927309302
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.3.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4151
         "time": 1631927309304
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.3.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4151
         "time": 1631927309407
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.3.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 4D9255EE8173214C1C975A8EAB4367FD0205F158-1"
         "pid": 4151
         "time": 1631927309434
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:08:34.758Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:08:34.759Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:08:34.759Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:08:34.759Z appoptics:debug using context provider: ace-context
2021-09-18T01:08:34.815Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:08:34.856Z appoptics:patching patched crypto 
2021-09-18T01:08:34.876Z appoptics:patching patched https 
2021-09-18T01:08:34.876Z appoptics:patching patched http 
2021-09-18T01:08:34.900Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:08:34.900Z appoptics:patching patched fs 
2021-09-18T01:08:34.907Z appoptics:patching patched pino 6.3.2
2021-09-18T01:08:34.911Z appoptics:debug starting runtimeMetrics


  pino v6.3.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (171ms)
  14 failing

  1) pino v6.3.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4174
         "time": 1631927315041
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.3.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4174
         "time": 1631927315047
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.3.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4174
         "time": 1631927315049
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.3.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4174
         "time": 1631927315051
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.3.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4174
         "time": 1631927315054
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.3.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4174
         "time": 1631927315056
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.3.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4174
         "time": 1631927315057
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.3.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4174
         "time": 1631927315059
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.3.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4174
         "time": 1631927315060
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.3.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4174
         "time": 1631927315061
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.3.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4174
         "time": 1631927315062
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.3.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4174
         "time": 1631927315063
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.3.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4174
         "time": 1631927315168
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.3.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 3DCE588B078BBAB1F4CCC8D5D72E7694A3F2D146-1"
         "pid": 4174
         "time": 1631927315195
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:08:41.532Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:08:41.533Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:08:41.533Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:08:41.534Z appoptics:debug using context provider: ace-context
2021-09-18T01:08:41.591Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:08:41.643Z appoptics:patching patched crypto 
2021-09-18T01:08:41.663Z appoptics:patching patched https 
2021-09-18T01:08:41.664Z appoptics:patching patched http 
2021-09-18T01:08:41.690Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:08:41.690Z appoptics:patching patched fs 
2021-09-18T01:08:41.697Z appoptics:patching patched pino 6.4.0
2021-09-18T01:08:41.701Z appoptics:debug starting runtimeMetrics


  pino v6.4.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (172ms)
  14 failing

  1) pino v6.4.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4197
         "time": 1631927321834
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.4.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DAFBE96C0202B8AFB7B43D57D33B357D632551F5-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4197
         "time": 1631927321840
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.4.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "AFF549F1B886A685DAA52364BDB2AC181814C7F4-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4197
         "time": 1631927321843
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.4.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A031EE50673819736AE2102E1AC4FD7913D8EF43-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4197
         "time": 1631927321845
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.4.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F96FE49F81C9C0E10448DFF084541308532D84A9-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4197
         "time": 1631927321847
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.4.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4197
         "time": 1631927321850
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.4.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "92284970281DA249A6781A2B7269CEBA5275D3AD-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4197
         "time": 1631927321851
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.4.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B8BA7BFCADF193223F5F4ABD9801BFD508E502C6-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4197
         "time": 1631927321852
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.4.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4197
         "time": 1631927321853
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.4.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "82A9CA89FFE5ED24E54D69CDDB96A03F3B3ADCED-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4197
         "time": 1631927321854
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.4.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "always insert"
         "pid": 4197
         "time": 1631927321855
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.4.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CC6257336CEC88CF903A3DB05D00AEA0719C11BC-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4197
         "time": 1631927321857
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.4.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8D63631A1463922B711C3BA1F3DC7F5A09A24941-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4197
         "time": 1631927321960
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.4.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 864CDBEF654EC3EA966526F9412BA111050BA893-1"
         "pid": 4197
         "time": 1631927321989
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:08:47.474Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:08:47.474Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:08:47.475Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:08:47.475Z appoptics:debug using context provider: ace-context
2021-09-18T01:08:47.534Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:08:47.574Z appoptics:patching patched crypto 
2021-09-18T01:08:47.594Z appoptics:patching patched https 
2021-09-18T01:08:47.594Z appoptics:patching patched http 
2021-09-18T01:08:47.619Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:08:47.619Z appoptics:patching patched fs 
2021-09-18T01:08:47.626Z appoptics:patching patched pino 6.4.1
2021-09-18T01:08:47.630Z appoptics:debug starting runtimeMetrics


  pino v6.4.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (171ms)
  14 failing

  1) pino v6.4.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4220
         "time": 1631927327764
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.4.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "15C297B0E1D19810FC0A4804DC890487BDB5ECE9-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4220
         "time": 1631927327770
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.4.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5344B831E4A5E65DF77DB072A3A1B1621D883F26-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4220
         "time": 1631927327773
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.4.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "AAB65CC103460417BA1C1B1180573BE90750B685-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4220
         "time": 1631927327775
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.4.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1A797E0663914B22C48B664A718A925F39B9D993-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4220
         "time": 1631927327777
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.4.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4220
         "time": 1631927327779
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.4.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "08FE93D548A38E400F204F3CE58D56CCFF2C786E-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4220
         "time": 1631927327781
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.4.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8A35F52CB60D589C9A9A1621CA29BAF8F57DA327-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4220
         "time": 1631927327782
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.4.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4220
         "time": 1631927327783
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.4.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "62B0C34EFF2E8BE4A0248EDDF3B3865251084109-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4220
         "time": 1631927327784
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.4.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "always insert"
         "pid": 4220
         "time": 1631927327785
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.4.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B72672E4C8C01E891F0A0FDC354FCF5530A377E3-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4220
         "time": 1631927327787
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.4.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "97E06C61E5410AAC304D4B5EB7D32B819E70DB22-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4220
         "time": 1631927327890
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.4.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 00C6378472D186EDC4E12107FFE046C13DE37E7A-1"
         "pid": 4220
         "time": 1631927327917
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:08:54.252Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:08:54.253Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:08:54.253Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:08:54.253Z appoptics:debug using context provider: ace-context
2021-09-18T01:08:54.309Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:08:54.349Z appoptics:patching patched crypto 
2021-09-18T01:08:54.370Z appoptics:patching patched https 
2021-09-18T01:08:54.370Z appoptics:patching patched http 
2021-09-18T01:08:54.394Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:08:54.395Z appoptics:patching patched fs 
2021-09-18T01:08:54.401Z appoptics:patching patched pino 6.5.0
2021-09-18T01:08:54.409Z appoptics:debug starting runtimeMetrics


  pino v6.5.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (170ms)
  14 failing

  1) pino v6.5.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4243
         "time": 1631927334553
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.5.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "91CA093CD6DDD23C6692CD7D843677750910DB35-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4243
         "time": 1631927334559
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.5.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B8B3FD294CF3B4326A699370A794DD4E1726CD5F-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4243
         "time": 1631927334562
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.5.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0FD3B377106AE194B2EA0C82716CEBF705FB80F6-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4243
         "time": 1631927334564
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.5.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "308A9A7AAEDBAEFC0D197C8886B3A000EED0F4D5-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4243
         "time": 1631927334566
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.5.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4243
         "time": 1631927334568
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.5.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2095E4B617826B92B48BBEFDB2D0C0CFB64901F2-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4243
         "time": 1631927334570
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.5.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "190BB86DA66AD5ED03175282852047B3F6A133D6-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4243
         "time": 1631927334571
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.5.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4243
         "time": 1631927334572
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.5.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1E6A3CBAEE71E43E7E9D609935DAA299E1694C76-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4243
         "time": 1631927334573
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.5.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "always insert"
         "pid": 4243
         "time": 1631927334574
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.5.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0E7D78C51532F2CB020EAB81ED5CB53AF95244AB-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4243
         "time": 1631927334575
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.5.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B623709E5A50DE75028D66B5275035167716EE90-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4243
         "time": 1631927334679
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.5.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous AA341CBEE6FF740ECFAB4868BC0309551AB6AEB6-1"
         "pid": 4243
         "time": 1631927334707
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:09:00.189Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:09:00.190Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:09:00.190Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:09:00.191Z appoptics:debug using context provider: ace-context
2021-09-18T01:09:00.246Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:09:00.287Z appoptics:patching patched crypto 
2021-09-18T01:09:00.306Z appoptics:patching patched https 
2021-09-18T01:09:00.307Z appoptics:patching patched http 
2021-09-18T01:09:00.331Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:09:00.331Z appoptics:patching patched fs 
2021-09-18T01:09:00.338Z appoptics:patching patched pino 6.5.1
2021-09-18T01:09:00.342Z appoptics:debug starting runtimeMetrics


  pino v6.5.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (175ms)
  14 failing

  1) pino v6.5.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4266
         "time": 1631927340501
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.5.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D950825FE9FBD5FC02F7A5E116A11E3166C76D35-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4266
         "time": 1631927340507
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.5.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DAA140508F735697B88011D323FEC46FEB6010DD-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4266
         "time": 1631927340510
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.5.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EF700A7EE79623C8B61F208991869BD7481739ED-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4266
         "time": 1631927340512
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.5.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A318B0ED96ED1B31785C2E4D9A10D00251667D50-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4266
         "time": 1631927340515
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.5.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4266
         "time": 1631927340517
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.5.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F0EDE6EA94D2075E31B752001F00A7DF2FB4230D-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4266
         "time": 1631927340519
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.5.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9475E2632FFD0BF9D729CE7F07852F6FD1767EA9-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4266
         "time": 1631927340520
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.5.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4266
         "time": 1631927340521
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.5.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DB82339FB680B61E8FF8A7A2886E524F26098379-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4266
         "time": 1631927340522
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.5.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "always insert"
         "pid": 4266
         "time": 1631927340523
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.5.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C819CC9D28213B02CE4F377F5AB8622265C7D2D4-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4266
         "time": 1631927340525
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.5.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C42A9E00C465CBB59B92451331FA298B7DF6E0B8-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4266
         "time": 1631927340629
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.5.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous EC744D68CE21769722766C9CE1150A698130208B-1"
         "pid": 4266
         "time": 1631927340658
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:09:06.900Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:09:06.900Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:09:06.900Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:09:06.901Z appoptics:debug using context provider: ace-context
2021-09-18T01:09:06.983Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:09:07.030Z appoptics:patching patched crypto 
2021-09-18T01:09:07.055Z appoptics:patching patched https 
2021-09-18T01:09:07.055Z appoptics:patching patched http 
2021-09-18T01:09:07.081Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:09:07.082Z appoptics:patching patched fs 
2021-09-18T01:09:07.088Z appoptics:patching patched pino 6.6.0
2021-09-18T01:09:07.092Z appoptics:debug starting runtimeMetrics


  pino v6.6.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (171ms)
  14 failing

  1) pino v6.6.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4289
         "time": 1631927347237
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.6.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A876754890AE9803202A39793151AB771A74B975-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4289
         "time": 1631927347244
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.6.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "78EC68BF793A36695DBE08A036D8C3998F7E8FCB-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4289
         "time": 1631927347246
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.6.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D04CED252413DED07248D50F5309AD45218C8B73-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4289
         "time": 1631927347248
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.6.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0B6ADF494DAAC56F1BD11A3445E09138B5395AFE-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4289
         "time": 1631927347250
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.6.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4289
         "time": 1631927347253
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.6.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "190A9ADDAF3C302EDA188DFD6B9762349F6994F9-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4289
         "time": 1631927347254
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.6.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A966B56EC13ADD41EF2AF819DFB3FD99FFAAF48B-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4289
         "time": 1631927347255
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.6.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4289
         "time": 1631927347257
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.6.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "513288A05441C7A353296492679521EA18097FAC-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4289
         "time": 1631927347258
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.6.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "always insert"
         "pid": 4289
         "time": 1631927347259
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.6.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8BE2A5DA00D5072700AF5FA84002E6208079A946-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4289
         "time": 1631927347260
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.6.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6B1E6B045FC52EDC30008328A3B55CD54BBB64F4-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4289
         "time": 1631927347364
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.6.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 476414ACA6CB2B86BC9C76E6A8FC80968D35F632-1"
         "pid": 4289
         "time": 1631927347392
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:09:12.966Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:09:12.967Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:09:12.967Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:09:12.967Z appoptics:debug using context provider: ace-context
2021-09-18T01:09:13.023Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:09:13.063Z appoptics:patching patched crypto 
2021-09-18T01:09:13.083Z appoptics:patching patched https 
2021-09-18T01:09:13.083Z appoptics:patching patched http 
2021-09-18T01:09:13.108Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:09:13.108Z appoptics:patching patched fs 
2021-09-18T01:09:13.115Z appoptics:patching patched pino 6.6.1
2021-09-18T01:09:13.119Z appoptics:debug starting runtimeMetrics


  pino v6.6.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (172ms)
  14 failing

  1) pino v6.6.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4312
         "time": 1631927353250
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.6.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "447CD780E84A64858983F3B0DF6AB13751F2F854-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4312
         "time": 1631927353256
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.6.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0FFB4AEB7B901C8EE43D2D05229ABB4CD3BB6788-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4312
         "time": 1631927353258
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.6.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9E78B6B209F40CBA42A085BF11CFC2452BB600C9-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4312
         "time": 1631927353260
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.6.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A4E5E9766B78CDD5CCA9539E347C8F44C8E51F34-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4312
         "time": 1631927353262
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.6.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4312
         "time": 1631927353265
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.6.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A98BFCD2115A69E4B9BD2CF5E46DAEFDE2DAB8CE-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4312
         "time": 1631927353266
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.6.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "70F0D5BADCDD3477405BD68B73E403E9D3EFFAA1-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4312
         "time": 1631927353267
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.6.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4312
         "time": 1631927353268
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.6.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B311AF1AA2DE5B4A289B58054B8E97C093EA3E7E-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4312
         "time": 1631927353270
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.6.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "always insert"
         "pid": 4312
         "time": 1631927353271
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.6.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "00CB3A8A44F06F1515DD0093FBB94C6FB23B41D3-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4312
         "time": 1631927353272
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.6.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DCEE38E4BC21A47062CE91E8DAB1B873E35F3E32-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4312
         "time": 1631927353376
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.6.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 8E9B2D2D12FF8A234AA293046759DA6444DEA5F9-1"
         "pid": 4312
         "time": 1631927353405
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 2 packages, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:09:19.312Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:09:19.313Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:09:19.313Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:09:19.313Z appoptics:debug using context provider: ace-context
2021-09-18T01:09:19.369Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:09:19.410Z appoptics:patching patched crypto 
2021-09-18T01:09:19.430Z appoptics:patching patched https 
2021-09-18T01:09:19.430Z appoptics:patching patched http 
2021-09-18T01:09:19.454Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:09:19.455Z appoptics:patching patched fs 
2021-09-18T01:09:19.461Z appoptics:patching patched pino 6.7.0
2021-09-18T01:09:19.466Z appoptics:debug starting runtimeMetrics


  pino v6.7.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (172ms)
  14 failing

  1) pino v6.7.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4335
         "time": 1631927359623
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.7.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CBC2FF36A10CDD11660D758A12D7E854EE8F42C6-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4335
         "time": 1631927359629
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.7.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "53B22E20F23104C95B07964041A54E28839E3A59-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4335
         "time": 1631927359632
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.7.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "62E71CDFB0D00616E9FDFB3229EF3D8553721771-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4335
         "time": 1631927359634
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.7.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "14083EA2C1B9245FF5E50044F504826600EBB111-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4335
         "time": 1631927359636
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.7.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4335
         "time": 1631927359638
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.7.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "AFCD4DFDA4813D0F871601F0ACB1B4CD47899642-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4335
         "time": 1631927359640
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.7.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FDBF2B84797473628750ED949CB259683866176B-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4335
         "time": 1631927359641
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.7.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4335
         "time": 1631927359642
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.7.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "BF88882A7F9893C3C34AB7A0BC50B76D671F3F97-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4335
         "time": 1631927359643
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.7.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "always insert"
         "pid": 4335
         "time": 1631927359644
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.7.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5447FCAA4CA000BCF3A38E1BA46FABDE9C41312B-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4335
         "time": 1631927359646
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.7.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "22D5DA3CB5D15F594F6EC6BD9CF330C2C735668D-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4335
         "time": 1631927359749
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.7.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 7331BE83303E064B017886F336D079EB159C365B-1"
         "pid": 4335
         "time": 1631927359778
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:09:25.455Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:09:25.455Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:09:25.455Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:09:25.456Z appoptics:debug using context provider: ace-context
2021-09-18T01:09:25.512Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:09:25.553Z appoptics:patching patched crypto 
2021-09-18T01:09:25.573Z appoptics:patching patched https 
2021-09-18T01:09:25.574Z appoptics:patching patched http 
2021-09-18T01:09:25.599Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:09:25.599Z appoptics:patching patched fs 
2021-09-18T01:09:25.606Z appoptics:patching patched pino 6.8.0
2021-09-18T01:09:25.610Z appoptics:debug starting runtimeMetrics


  pino v6.8.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (173ms)
  14 failing

  1) pino v6.8.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4358
         "time": 1631927365745
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.8.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "09B091CDEDFF7ECE66F720932767DBB347D81105-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4358
         "time": 1631927365751
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.8.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "263CA7ED18E92B590AD0631C9F87321890042488-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4358
         "time": 1631927365754
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.8.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "15AF746AA4DA7FB19F2C3CDE5DB2ABC039889B15-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4358
         "time": 1631927365756
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.8.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B58DECA798F06D516C3CB34E4C08F0EDD10A7FB6-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4358
         "time": 1631927365758
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.8.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4358
         "time": 1631927365761
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.8.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C83FB291B837F4759E0F12D5C9C11BADB1E24DB9-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4358
         "time": 1631927365762
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.8.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "992A310F5C59C126ABCBD1DB2A02A5C7E228667C-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4358
         "time": 1631927365763
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.8.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4358
         "time": 1631927365765
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.8.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CBE1397A72C09F5908436742EA8F5FA7F7549660-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4358
         "time": 1631927365766
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.8.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "always insert"
         "pid": 4358
         "time": 1631927365767
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.8.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4FD6E2B74A67F3B653FA6B4EA631365E568A40FF-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4358
         "time": 1631927365768
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.8.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6A3813ADBE541AB7F9EB8300B57C2047F801778E-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4358
         "time": 1631927365873
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.8.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous A096552D64820BEC4040BE3F8B27CBA3E15FA7CC-1"
         "pid": 4358
         "time": 1631927365900
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:09:32.052Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:09:32.053Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:09:32.053Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:09:32.054Z appoptics:debug using context provider: ace-context
2021-09-18T01:09:32.111Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:09:32.152Z appoptics:patching patched crypto 
2021-09-18T01:09:32.172Z appoptics:patching patched https 
2021-09-18T01:09:32.172Z appoptics:patching patched http 
2021-09-18T01:09:32.196Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:09:32.197Z appoptics:patching patched fs 
2021-09-18T01:09:32.203Z appoptics:patching patched pino 6.9.0
2021-09-18T01:09:32.208Z appoptics:debug starting runtimeMetrics


  pino v6.9.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (172ms)
  14 failing

  1) pino v6.9.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4381
         "time": 1631927372340
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.9.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A6BDC3F104363931CB6FAE9667FFFD16DD7C2BF1-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4381
         "time": 1631927372346
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.9.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A166E11AA0DF7EE73426F9938960D7A0D7050954-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4381
         "time": 1631927372348
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.9.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "ACF59A182D459448EE134440E92832AB505419BA-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4381
         "time": 1631927372350
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.9.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8DA070AFC3A7CA72F0C6C424488E655BA911CE6E-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4381
         "time": 1631927372352
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.9.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4381
         "time": 1631927372355
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.9.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "773C5B4A06189DB741DD61AA4E55C406CB3CF1EF-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4381
         "time": 1631927372356
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.9.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "880238695ED813B22B5D3D81738D707E36B2277F-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4381
         "time": 1631927372357
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.9.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4381
         "time": 1631927372359
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.9.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E70B8B3464FE113213E18D5EF4D53650CAD15570-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4381
         "time": 1631927372360
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.9.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "always insert"
         "pid": 4381
         "time": 1631927372361
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.9.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4B20B6D8E0FC50E6148D4B201DE97D50370AA678-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4381
         "time": 1631927372362
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.9.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0D3DFE89D69C422C5B2C587EE3233D69ABAECECE-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4381
         "time": 1631927372466
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.9.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 1DE2F851CD4C1A8645CF50BA2C1F60BD351608AE-1"
         "pid": 4381
         "time": 1631927372494
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 2 packages, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:09:38.510Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:09:38.510Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:09:38.510Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:09:38.511Z appoptics:debug using context provider: ace-context
2021-09-18T01:09:38.589Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:09:38.647Z appoptics:patching patched crypto 
2021-09-18T01:09:38.694Z appoptics:patching patched https 
2021-09-18T01:09:38.695Z appoptics:patching patched http 
2021-09-18T01:09:38.740Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:09:38.740Z appoptics:patching patched fs 
2021-09-18T01:09:38.754Z appoptics:patching patched pino 6.10.0
2021-09-18T01:09:38.763Z appoptics:debug starting runtimeMetrics


  pino v6.10.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (172ms)
  14 failing

  1) pino v6.10.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4404
         "time": 1631927378927
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.10.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F1CF2DAA008CE72CC3A9713E157A6FC36451118E-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4404
         "time": 1631927378933
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.10.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A22632EFEB3A0C71EA5B2C2467651341BD2AE6AC-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4404
         "time": 1631927378935
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.10.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5BC69F2271F99473856A76EF84E6FCB86582C9D4-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4404
         "time": 1631927378938
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.10.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A2797134A8CF400E3781E3BF38696A896597AC9B-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4404
         "time": 1631927378940
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.10.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4404
         "time": 1631927378942
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.10.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "14DBB0AFF990C87E74CBDD75EECCA3C507ACDC36-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4404
         "time": 1631927378943
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.10.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "13F273B7F589A129926781D20C94A627E69E9716-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4404
         "time": 1631927378945
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.10.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4404
         "time": 1631927378946
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.10.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "11796D47F38EF470779D220731FB02F0A031BB30-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4404
         "time": 1631927378947
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.10.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "always insert"
         "pid": 4404
         "time": 1631927378948
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.10.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C06A639DD6B5CD533E6DD871D43961C1C1A5E6D5-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4404
         "time": 1631927378949
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.10.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E691EEFFC83269EE4F281AEBB5F9BE99CCA95055-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4404
         "time": 1631927379053
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.10.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous CE1B948D2052DB591E7B8C7576FEA9E20E20843C-1"
         "pid": 4404
         "time": 1631927379081
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 41s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:10:20.191Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:10:20.192Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:10:20.192Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:10:20.192Z appoptics:debug using context provider: ace-context
2021-09-18T01:10:20.249Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:10:20.290Z appoptics:patching patched crypto 
2021-09-18T01:10:20.310Z appoptics:patching patched https 
2021-09-18T01:10:20.311Z appoptics:patching patched http 
2021-09-18T01:10:20.336Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:10:20.336Z appoptics:patching patched fs 
2021-09-18T01:10:20.343Z appoptics:patching patched pino 6.11.0
2021-09-18T01:10:20.347Z appoptics:debug starting runtimeMetrics


  pino v6.11.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (172ms)
  14 failing

  1) pino v6.11.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4427
         "time": 1631927420479
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.11.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C0E42F6CA999C916F113D4CFFAD24324830CC176-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4427
         "time": 1631927420485
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.11.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8B49DD6558C6566B69F7F0D4E0323061A4C97F89-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4427
         "time": 1631927420488
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.11.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F877E709569356B3EF8DFC247766E086BA97508A-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4427
         "time": 1631927420490
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.11.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7DC8B7AA7909F739D2080DC02181D44E55654304-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4427
         "time": 1631927420492
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.11.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4427
         "time": 1631927420495
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.11.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "77B39BCB2BE58B62173C975CB6D1FC12D9D561FA-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4427
         "time": 1631927420496
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.11.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FB188345A8CD8C245B9AD7FD343AA7F811FC93D6-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4427
         "time": 1631927420497
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.11.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4427
         "time": 1631927420499
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.11.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E9D58BD3A2ADEE355CA993FEF19626C9202663A1-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4427
         "time": 1631927420500
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.11.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "always insert"
         "pid": 4427
         "time": 1631927420501
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.11.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "ACD770037CE8A0AAFE80B5C7FE62137F4F266A3E-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4427
         "time": 1631927420502
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.11.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "22804FF1A18021DC198B1B1333E90BC0F32D272A-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4427
         "time": 1631927420606
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.11.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 15CF66D60D0AA461C77A0FEBA62B02FEC3987834-1"
         "pid": 4427
         "time": 1631927420634
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:10:26.849Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:10:26.849Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:10:26.849Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:10:26.850Z appoptics:debug using context provider: ace-context
2021-09-18T01:10:26.906Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:10:26.946Z appoptics:patching patched crypto 
2021-09-18T01:10:26.966Z appoptics:patching patched https 
2021-09-18T01:10:26.966Z appoptics:patching patched http 
2021-09-18T01:10:26.991Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:10:26.991Z appoptics:patching patched fs 
2021-09-18T01:10:26.998Z appoptics:patching patched pino 6.11.1
2021-09-18T01:10:27.002Z appoptics:debug starting runtimeMetrics


  pino v6.11.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (174ms)
  14 failing

  1) pino v6.11.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4450
         "time": 1631927427133
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.11.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0B475F373D6209578AF56D2847AE745E97A7EEE2-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4450
         "time": 1631927427140
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.11.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0A82922CC90A6051EEC43A3397B3F4BE92450D8B-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4450
         "time": 1631927427142
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.11.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F3D00EBDC8EE19BD96863E6F56723059C44DC226-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4450
         "time": 1631927427144
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.11.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9F904427FFC3EEB07FF8889AB0ADCCADBFFF3918-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4450
         "time": 1631927427146
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.11.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4450
         "time": 1631927427149
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.11.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FC0C10EF963EF5D8B44CAD75A9A30B0567F6B18D-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4450
         "time": 1631927427150
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.11.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EB45C06223DB7DA5C5165747756B78476319378E-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4450
         "time": 1631927427151
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.11.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4450
         "time": 1631927427152
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.11.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "85EADB33C50CC32806139A4484308213D3FFF81F-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4450
         "time": 1631927427153
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.11.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "always insert"
         "pid": 4450
         "time": 1631927427154
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.11.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "028AD56B6A4DF437AEA0AB627794ED9B33AE2045-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4450
         "time": 1631927427156
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.11.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F7311785F2E0E135621F1E6C52D084E537D99A5B-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4450
         "time": 1631927427259
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.11.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 4597486967ADE796D3910F72792A4C3C33A8CACF-1"
         "pid": 4450
         "time": 1631927427287
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 2 packages, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:10:32.778Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:10:32.778Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:10:32.778Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:10:32.779Z appoptics:debug using context provider: ace-context
2021-09-18T01:10:32.835Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:10:32.876Z appoptics:patching patched crypto 
2021-09-18T01:10:32.896Z appoptics:patching patched https 
2021-09-18T01:10:32.896Z appoptics:patching patched http 
2021-09-18T01:10:32.921Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:10:32.921Z appoptics:patching patched fs 
2021-09-18T01:10:32.928Z appoptics:patching patched pino 6.11.2
2021-09-18T01:10:32.932Z appoptics:debug starting runtimeMetrics


  pino v6.11.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (173ms)
  14 failing

  1) pino v6.11.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4473
         "time": 1631927433065
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.11.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3B2BCF32ECE62C0670DB6F0A18663A0C191E359B-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4473
         "time": 1631927433071
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.11.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9E706EE4C979C7EFCA60D5C8753FE7E764CDAFBA-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4473
         "time": 1631927433074
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.11.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5B8E503734A4AC9AC9AE960DE9D5EEB5A63D9D81-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4473
         "time": 1631927433076
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.11.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "73BF4CC1125739CEBDD7CD3C80CFD4DBF20624FD-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4473
         "time": 1631927433078
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.11.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4473
         "time": 1631927433081
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.11.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F4A74ED6EC9A6EBD90B84D7ED6F2120E6FA22D7A-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4473
         "time": 1631927433082
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.11.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1B7B196F33AF0F5D5919407F61C70953F5566FC6-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4473
         "time": 1631927433083
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.11.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4473
         "time": 1631927433084
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.11.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8F5374CB4728470446EC7DC0614D485238DC3E5D-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4473
         "time": 1631927433086
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.11.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "always insert"
         "pid": 4473
         "time": 1631927433087
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.11.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5BFAFEFCBA9FE0F2366B5C54F7DAC7A3EEFFFE32-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4473
         "time": 1631927433088
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.11.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E19A4A7D4F316DD694CF1D5EAD4FD77DDA7EB217-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4473
         "time": 1631927433192
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.11.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 2A71086E47846D589822DE063D861E1F2943F1B3-1"
         "pid": 4473
         "time": 1631927433221
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 2 packages, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:10:39.458Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:10:39.459Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:10:39.459Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:10:39.459Z appoptics:debug using context provider: ace-context
2021-09-18T01:10:39.519Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:10:39.560Z appoptics:patching patched crypto 
2021-09-18T01:10:39.580Z appoptics:patching patched https 
2021-09-18T01:10:39.580Z appoptics:patching patched http 
2021-09-18T01:10:39.605Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:10:39.605Z appoptics:patching patched fs 
2021-09-18T01:10:39.612Z appoptics:patching patched pino 6.11.3
2021-09-18T01:10:39.616Z appoptics:debug starting runtimeMetrics


  pino v6.11.3
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (172ms)
  14 failing

  1) pino v6.11.3
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4496
         "time": 1631927439751
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.11.3
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1E03A392C62E38B0B008C547A9661318BA772059-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4496
         "time": 1631927439757
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.11.3
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DFB3036C4C114A68AD92B962E16B6DD136ADDB3C-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4496
         "time": 1631927439760
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.11.3
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B24D58CC2BE1041B441E965F24D6CE61D53DAC06-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4496
         "time": 1631927439762
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.11.3
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DDCF943183DF12F2F398EC8129CF3036F147B0E2-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4496
         "time": 1631927439764
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.11.3
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4496
         "time": 1631927439766
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.11.3
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6F2CD64A7890D0837913841A62F85DC92DC44878-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4496
         "time": 1631927439768
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.11.3
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E1C3E089D0340DE9DCC8622AC5BE7840C03C0631-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4496
         "time": 1631927439769
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.11.3
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4496
         "time": 1631927439770
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.11.3
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "59B7D9C7FF47471A9F049254D04049BF65A504DE-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4496
         "time": 1631927439771
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.11.3
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "always insert"
         "pid": 4496
         "time": 1631927439772
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.11.3
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9A2AB1F095E81F1B780D6DED4EE5666EACCC542B-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4496
         "time": 1631927439774
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.11.3
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2E9C3A24536A22EDD63E514214A819903201D158-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4496
         "time": 1631927439878
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.11.3
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous B8B3D8E8005E09F4036614E8CB6C6BA9617E3490-1"
         "pid": 4496
         "time": 1631927439907
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:10:45.273Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:10:45.274Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:10:45.274Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:10:45.274Z appoptics:debug using context provider: ace-context
2021-09-18T01:10:45.330Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:10:45.371Z appoptics:patching patched crypto 
2021-09-18T01:10:45.391Z appoptics:patching patched https 
2021-09-18T01:10:45.391Z appoptics:patching patched http 
2021-09-18T01:10:45.415Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:10:45.416Z appoptics:patching patched fs 
2021-09-18T01:10:45.422Z appoptics:patching patched pino 6.12.0
2021-09-18T01:10:45.427Z appoptics:debug starting runtimeMetrics


  pino v6.12.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (172ms)
  14 failing

  1) pino v6.12.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4519
         "time": 1631927445584
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.12.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B63C1317186A31B839EB0FAC145E182710D49F51-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4519
         "time": 1631927445590
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.12.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3D648A61B5227D37F2AC4622FECC796EF8C0E52D-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4519
         "time": 1631927445592
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.12.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2C2A6B76CE3AC8C0887DED0E144FF23CE3A4E58D-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4519
         "time": 1631927445594
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.12.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F0ED7A7BCEB2BEECD7AD234F5CA84DB26DF7EEED-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4519
         "time": 1631927445596
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.12.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4519
         "time": 1631927445599
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.12.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D3DCACDA8A0DF4CDA27D80C6311818D6A705C320-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4519
         "time": 1631927445600
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.12.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2F2009491AF00092DC77819F4DD48344BBC3EA2E-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4519
         "time": 1631927445601
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.12.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4519
         "time": 1631927445602
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.12.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "ECBC728D444C140E8FAC8DE74BE3C96F11EB6A13-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4519
         "time": 1631927445604
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.12.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "always insert"
         "pid": 4519
         "time": 1631927445605
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.12.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "074D12FCB25D0C4CA848FFC19F59D05B9B2FC564-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4519
         "time": 1631927445606
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.12.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B1AA42FA0C1DEE945A61D7501AD3403357B11609-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4519
         "time": 1631927445711
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.12.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous B047276C2E8EEF7CF017CFDC8388FACDBCA8B848-1"
         "pid": 4519
         "time": 1631927445738
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:10:52.354Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:10:52.355Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:10:52.355Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:10:52.355Z appoptics:debug using context provider: ace-context
2021-09-18T01:10:52.411Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:10:52.452Z appoptics:patching patched crypto 
2021-09-18T01:10:52.472Z appoptics:patching patched https 
2021-09-18T01:10:52.472Z appoptics:patching patched http 
2021-09-18T01:10:52.497Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:10:52.497Z appoptics:patching patched fs 
2021-09-18T01:10:52.504Z appoptics:patching patched pino 6.13.0
2021-09-18T01:10:52.508Z appoptics:debug starting runtimeMetrics


  pino v6.13.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (172ms)
  14 failing

  1) pino v6.13.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4542
         "time": 1631927452642
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.13.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "BE8E2022CB84DA1068D2FF5F48FFB3ABD0E0FDF7-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4542
         "time": 1631927452648
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.13.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4BC6B2A8F1DEE593200C1CDEC610B4CAED98E00F-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4542
         "time": 1631927452651
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.13.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0B44CC6E6FA7F672DF75CAC883B8B799C76464C7-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4542
         "time": 1631927452653
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.13.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "674B86C2892F24B6CB14F8B3725BF3AB7EE83A79-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4542
         "time": 1631927452655
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.13.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4542
         "time": 1631927452657
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.13.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "AC06CB3B014D70CC938F5B8B6506030E28EB935A-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4542
         "time": 1631927452659
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.13.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2F28A4371442C82E207058FD106F770144E18478-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4542
         "time": 1631927452660
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.13.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4542
         "time": 1631927452661
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.13.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DB2897690E217C7887776D0EF71BC1FF7A59F19B-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4542
         "time": 1631927452662
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.13.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "always insert"
         "pid": 4542
         "time": 1631927452663
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.13.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FB1C3FD1461C0F5A0AD57574C2B45BFB6090D4AF-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4542
         "time": 1631927452664
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.13.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CAEB2EB8323ED1C54DE6F7565A9EE39D740E83F4-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4542
         "time": 1631927452769
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.13.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous A4AA530A614F0FF5B587CC6CCD9B276B3FB56369-1"
         "pid": 4542
         "time": 1631927452796
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




added 1 package, changed 1 package, and audited 1099 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:10:58.127Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:10:58.128Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:10:58.128Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:10:58.128Z appoptics:debug using context provider: ace-context
2021-09-18T01:10:58.184Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:10:58.224Z appoptics:patching patched crypto 
2021-09-18T01:10:58.243Z appoptics:patching patched https 
2021-09-18T01:10:58.244Z appoptics:patching patched http 
2021-09-18T01:10:58.267Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:10:58.268Z appoptics:patching patched fs 
2021-09-18T01:10:58.275Z appoptics:patching patched pino 6.13.1
2021-09-18T01:10:58.279Z appoptics:debug starting runtimeMetrics


  pino v6.13.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (172ms)
  14 failing

  1) pino v6.13.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4565
         "time": 1631927458410
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.13.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F6AB17CE2EDCE6263037FA86726AE0A411F806C9-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4565
         "time": 1631927458416
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.13.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E3D31F0BDB3FC63F6A8AA84B0057CBBF697F2087-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4565
         "time": 1631927458419
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.13.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B18B35783BDF256770B64BC5E2970E35765EFBCE-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4565
         "time": 1631927458421
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.13.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7A267C42CC2BDBF92A39646AFF800994BEE32099-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4565
         "time": 1631927458423
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.13.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4565
         "time": 1631927458425
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.13.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C0A2DFDC178D95512008CC84F916C7A77BDBE87C-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4565
         "time": 1631927458427
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.13.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5DCD7343AECE9BBA986E014B94403F3266627F1B-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4565
         "time": 1631927458428
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.13.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4565
         "time": 1631927458429
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.13.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "62EBC10F2B128DB22A15728375AC9B67E5393A80-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4565
         "time": 1631927458430
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.13.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "always insert"
         "pid": 4565
         "time": 1631927458431
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.13.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4A1C94DF384A380BBBFB5234BC91182506A639CA-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4565
         "time": 1631927458432
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.13.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F2C0D79C05677AF03289389BA394E5CDF3A40329-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4565
         "time": 1631927458536
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.13.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous AF79D08713E964891AB3A6E64B5585D29C3C33ED-1"
         "pid": 4565
         "time": 1631927458564
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1099 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T01:11:04.584Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T01:11:04.584Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T01:11:04.584Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T01:11:04.585Z appoptics:debug using context provider: ace-context
2021-09-18T01:11:04.641Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T01:11:04.681Z appoptics:patching patched crypto 
2021-09-18T01:11:04.700Z appoptics:patching patched https 
2021-09-18T01:11:04.701Z appoptics:patching patched http 
2021-09-18T01:11:04.726Z appoptics:patching fs.realpath - adding native method
2021-09-18T01:11:04.726Z appoptics:patching patched fs 
2021-09-18T01:11:04.734Z appoptics:patching patched pino 6.13.2
2021-09-18T01:11:04.738Z appoptics:debug starting runtimeMetrics


  pino v6.13.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (171ms)
  14 failing

  1) pino v6.13.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4588
         "time": 1631927464870
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) pino v6.13.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8D7A30EF31CD405C2B1AE5482091BF0DED0C0589-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4588
         "time": 1631927464875
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) pino v6.13.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B18C4EA16A280C5787B11809AD1D447891779A18-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4588
         "time": 1631927464878
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) pino v6.13.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "BCEDDD91B60E010E9D49718AB2BD86C3439CF25B-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4588
         "time": 1631927464880
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) pino v6.13.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "BA64DAADA0EE283C321153913E8AB2BD44539D58-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4588
         "time": 1631927464882
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) pino v6.13.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4588
         "time": 1631927464885
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  7) pino v6.13.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "212515C303B5A6449CAA9F4FB85082338F36D9EF-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4588
         "time": 1631927464886
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  8) pino v6.13.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8F8FD3C76339C5F9C55709448ADFB3A618C01876-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4588
         "time": 1631927464887
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  9) pino v6.13.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4588
         "time": 1631927464888
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  10) pino v6.13.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EED89D8AAD7849590ED822A2DF7D3E1E1D937103-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4588
         "time": 1631927464890
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  11) pino v6.13.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "always insert"
         "pid": 4588
         "time": 1631927464891
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (node:internal/process/task_queues:78:11)

  12) pino v6.13.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8D3D6CBC34D863B4AF341FB3932EF428EC38D59A-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4588
         "time": 1631927464892
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) pino v6.13.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "21AFEFDCD6407C7E09D6D41927CA465C98FD1969-1"
      +  }
         "hostname": "196a9ca8c576"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4588
         "time": 1631927464996
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) pino v6.13.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 598065635BF1726371BED2865EEEB004CC06D6F3-1"
         "pid": 4588
         "time": 1631927465023
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




removed 1 package, changed 5 packages, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
