
added 5 packages, removed 4 packages, changed 5 packages, and audited 1099 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:50:29.719Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:29.720Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:29.720Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:29.721Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:29.780Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:29.822Z appoptics:patching patched crypto 
2021-09-18T00:50:29.847Z appoptics:patching patched https 
2021-09-18T00:50:29.847Z appoptics:patching patched http 
2021-09-18T00:50:29.882Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:50:29.883Z appoptics:patching patched fs 
2021-09-18T00:50:29.898Z appoptics:patching patched zlib 
2021-09-18T00:50:29.987Z appoptics:patching patched mongodb 3.3.0
2021-09-18T00:50:29.992Z appoptics:debug starting runtimeMetrics
(node:462) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:462) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:462) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:462) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.3.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (48ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:462) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:462) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:462) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group (41ms)
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group (60ms)
        ✓ should map_reduce


  35 passing (675ms)


changed 1 package, and audited 1099 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:50:36.195Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:36.195Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:36.195Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:36.196Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:36.252Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:36.317Z appoptics:patching patched crypto 
2021-09-18T00:50:36.343Z appoptics:patching patched https 
2021-09-18T00:50:36.343Z appoptics:patching patched http 
2021-09-18T00:50:36.382Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:50:36.383Z appoptics:patching patched fs 
2021-09-18T00:50:36.399Z appoptics:patching patched zlib 
2021-09-18T00:50:36.488Z appoptics:patching patched mongodb 3.3.1
2021-09-18T00:50:36.494Z appoptics:debug starting runtimeMetrics
(node:485) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:485) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:485) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:485) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.3.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (62ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:485) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:485) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:485) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (409ms)


changed 1 package, and audited 1099 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:50:43.479Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:43.480Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:43.480Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:43.480Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:43.533Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:43.572Z appoptics:patching patched crypto 
2021-09-18T00:50:43.591Z appoptics:patching patched https 
2021-09-18T00:50:43.591Z appoptics:patching patched http 
2021-09-18T00:50:43.627Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:50:43.628Z appoptics:patching patched fs 
2021-09-18T00:50:43.642Z appoptics:patching patched zlib 
2021-09-18T00:50:43.731Z appoptics:patching patched mongodb 3.3.2
2021-09-18T00:50:43.735Z appoptics:debug starting runtimeMetrics
(node:508) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:508) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:508) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:508) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.3.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (60ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:508) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:508) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:508) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (468ms)


changed 1 package, and audited 1099 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:50:49.672Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:49.673Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:49.673Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:49.674Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:49.727Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:49.765Z appoptics:patching patched crypto 
2021-09-18T00:50:49.784Z appoptics:patching patched https 
2021-09-18T00:50:49.785Z appoptics:patching patched http 
2021-09-18T00:50:49.818Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:50:49.818Z appoptics:patching patched fs 
2021-09-18T00:50:49.832Z appoptics:patching patched zlib 
2021-09-18T00:50:49.920Z appoptics:patching patched mongodb 3.3.3
2021-09-18T00:50:49.924Z appoptics:debug starting runtimeMetrics
(node:531) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:531) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:531) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:531) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.3.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (75ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:531) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:531) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:531) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (509ms)


changed 1 package, and audited 1099 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:50:56.344Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:56.345Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:56.345Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:56.346Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:56.400Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:56.438Z appoptics:patching patched crypto 
2021-09-18T00:50:56.460Z appoptics:patching patched https 
2021-09-18T00:50:56.460Z appoptics:patching patched http 
2021-09-18T00:50:56.503Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:50:56.503Z appoptics:patching patched fs 
2021-09-18T00:50:56.518Z appoptics:patching patched zlib 
2021-09-18T00:50:56.607Z appoptics:patching patched mongodb 3.3.4
2021-09-18T00:50:56.611Z appoptics:debug starting runtimeMetrics
(node:554) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:554) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:554) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:554) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.3.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:554) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:554) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:554) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (491ms)


changed 1 package, and audited 1099 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:02.645Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:02.646Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:02.646Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:02.647Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:02.715Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:02.759Z appoptics:patching patched crypto 
2021-09-18T00:51:02.782Z appoptics:patching patched https 
2021-09-18T00:51:02.782Z appoptics:patching patched http 
2021-09-18T00:51:02.843Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:02.844Z appoptics:patching patched fs 
2021-09-18T00:51:02.865Z appoptics:patching patched zlib 
2021-09-18T00:51:02.989Z appoptics:patching patched mongodb 3.3.5
2021-09-18T00:51:02.995Z appoptics:debug starting runtimeMetrics
(node:577) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:577) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:577) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:577) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.3.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:577) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:577) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:577) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (463ms)


changed 1 package, and audited 1099 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:09.186Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:09.188Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:09.188Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:09.189Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:09.281Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:09.328Z appoptics:patching patched crypto 
2021-09-18T00:51:09.349Z appoptics:patching patched https 
2021-09-18T00:51:09.349Z appoptics:patching patched http 
2021-09-18T00:51:09.390Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:09.391Z appoptics:patching patched fs 
2021-09-18T00:51:09.404Z appoptics:patching patched zlib 
2021-09-18T00:51:09.511Z appoptics:patching patched mongodb 3.4.0
2021-09-18T00:51:09.517Z appoptics:debug starting runtimeMetrics
(node:600) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:600) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:600) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:600) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.4.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:600) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:600) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:600) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (239ms)


changed 1 package, and audited 1099 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:16.116Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:16.116Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:16.116Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:16.117Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:16.193Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:16.243Z appoptics:patching patched crypto 
2021-09-18T00:51:16.269Z appoptics:patching patched https 
2021-09-18T00:51:16.269Z appoptics:patching patched http 
2021-09-18T00:51:16.322Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:16.324Z appoptics:patching patched fs 
2021-09-18T00:51:16.342Z appoptics:patching patched zlib 
2021-09-18T00:51:16.471Z appoptics:patching patched mongodb 3.4.1
2021-09-18T00:51:16.477Z appoptics:debug starting runtimeMetrics
(node:623) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:623) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:623) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:623) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.4.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:623) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:623) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:623) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (268ms)


added 2 packages, removed 5 packages, changed 4 packages, and audited 1096 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:22.648Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:22.648Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:22.648Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:22.649Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:22.713Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:22.757Z appoptics:patching patched crypto 
2021-09-18T00:51:22.778Z appoptics:patching patched https 
2021-09-18T00:51:22.779Z appoptics:patching patched http 
2021-09-18T00:51:22.817Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:22.817Z appoptics:patching patched fs 
2021-09-18T00:51:22.834Z appoptics:patching patched zlib 
2021-09-18T00:51:22.986Z appoptics:patching patched mongodb 3.5.0
2021-09-18T00:51:22.992Z appoptics:debug starting runtimeMetrics
(node:646) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:646) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:646) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:646) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (44ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:646) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:646) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:646) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (253ms)


changed 1 package, and audited 1096 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:29.672Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:29.672Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:29.672Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:29.673Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:29.747Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:29.786Z appoptics:patching patched crypto 
2021-09-18T00:51:29.805Z appoptics:patching patched https 
2021-09-18T00:51:29.805Z appoptics:patching patched http 
2021-09-18T00:51:29.844Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:29.844Z appoptics:patching patched fs 
2021-09-18T00:51:29.861Z appoptics:patching patched zlib 
2021-09-18T00:51:29.956Z appoptics:patching patched mongodb 3.5.1
2021-09-18T00:51:29.961Z appoptics:debug starting runtimeMetrics
(node:669) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:669) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:669) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:669) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:669) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:669) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:669) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (202ms)


changed 1 package, and audited 1096 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:35.797Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:35.798Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:35.798Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:35.799Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:35.862Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:35.907Z appoptics:patching patched crypto 
2021-09-18T00:51:35.928Z appoptics:patching patched https 
2021-09-18T00:51:35.929Z appoptics:patching patched http 
2021-09-18T00:51:35.966Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:35.966Z appoptics:patching patched fs 
2021-09-18T00:51:35.983Z appoptics:patching patched zlib 
2021-09-18T00:51:36.093Z appoptics:patching patched mongodb 3.5.2
2021-09-18T00:51:36.098Z appoptics:debug starting runtimeMetrics
(node:692) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:692) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:692) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:692) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:692) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:692) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:692) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (262ms)


changed 1 package, and audited 1096 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:42.932Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:42.932Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:42.932Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:42.933Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:42.995Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:43.036Z appoptics:patching patched crypto 
2021-09-18T00:51:43.058Z appoptics:patching patched https 
2021-09-18T00:51:43.059Z appoptics:patching patched http 
2021-09-18T00:51:43.101Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:43.102Z appoptics:patching patched fs 
2021-09-18T00:51:43.117Z appoptics:patching patched zlib 
2021-09-18T00:51:43.225Z appoptics:patching patched mongodb 3.5.3
2021-09-18T00:51:43.230Z appoptics:debug starting runtimeMetrics
(node:715) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:715) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:715) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:715) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:715) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:715) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:715) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (232ms)


changed 1 package, and audited 1096 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:49.365Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:49.366Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:49.366Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:49.367Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:49.419Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:49.457Z appoptics:patching patched crypto 
2021-09-18T00:51:49.476Z appoptics:patching patched https 
2021-09-18T00:51:49.476Z appoptics:patching patched http 
2021-09-18T00:51:49.512Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:49.512Z appoptics:patching patched fs 
2021-09-18T00:51:49.524Z appoptics:patching patched zlib 
2021-09-18T00:51:49.617Z appoptics:patching patched mongodb 3.5.4
2021-09-18T00:51:49.621Z appoptics:debug starting runtimeMetrics
(node:738) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:738) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:738) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:738) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (60ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:738) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:738) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:738) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (292ms)


changed 1 package, and audited 1096 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:55.810Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:55.811Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:55.811Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:55.811Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:55.863Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:55.902Z appoptics:patching patched crypto 
2021-09-18T00:51:55.920Z appoptics:patching patched https 
2021-09-18T00:51:55.920Z appoptics:patching patched http 
2021-09-18T00:51:55.953Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:55.953Z appoptics:patching patched fs 
2021-09-18T00:51:55.968Z appoptics:patching patched zlib 
2021-09-18T00:51:56.060Z appoptics:patching patched mongodb 3.5.5
2021-09-18T00:51:56.065Z appoptics:debug starting runtimeMetrics
(node:761) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:761) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:761) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:761) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (49ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:761) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:761) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:761) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (234ms)


changed 1 package, and audited 1096 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:01.794Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:01.795Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:01.795Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:01.796Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:01.849Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:01.886Z appoptics:patching patched crypto 
2021-09-18T00:52:01.905Z appoptics:patching patched https 
2021-09-18T00:52:01.905Z appoptics:patching patched http 
2021-09-18T00:52:01.938Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:01.938Z appoptics:patching patched fs 
2021-09-18T00:52:01.953Z appoptics:patching patched zlib 
2021-09-18T00:52:02.047Z appoptics:patching patched mongodb 3.5.6
2021-09-18T00:52:02.051Z appoptics:debug starting runtimeMetrics
(node:784) Warning: Accessing non-existent property 'count' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:784) Warning: Accessing non-existent property 'findOne' of module exports inside circular dependency
(node:784) Warning: Accessing non-existent property 'remove' of module exports inside circular dependency
(node:784) Warning: Accessing non-existent property 'updateOne' of module exports inside circular dependency


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (80ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:784) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:784) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:784) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (304ms)


changed 1 package, and audited 1096 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:07.996Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:07.997Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:07.997Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:07.997Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:08.050Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:08.087Z appoptics:patching patched crypto 
2021-09-18T00:52:08.107Z appoptics:patching patched https 
2021-09-18T00:52:08.107Z appoptics:patching patched http 
2021-09-18T00:52:08.142Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:08.142Z appoptics:patching patched fs 
2021-09-18T00:52:08.159Z appoptics:patching patched zlib 
2021-09-18T00:52:08.253Z appoptics:patching patched mongodb 3.5.7
2021-09-18T00:52:08.258Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (66ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:807) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:807) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:807) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (251ms)


changed 1 package, and audited 1096 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:14.326Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:14.327Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:14.327Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:14.328Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:14.380Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:14.417Z appoptics:patching patched crypto 
2021-09-18T00:52:14.436Z appoptics:patching patched https 
2021-09-18T00:52:14.436Z appoptics:patching patched http 
2021-09-18T00:52:14.470Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:14.471Z appoptics:patching patched fs 
2021-09-18T00:52:14.486Z appoptics:patching patched zlib 
2021-09-18T00:52:14.579Z appoptics:patching patched mongodb 3.5.8
2021-09-18T00:52:14.584Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:830) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:830) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:830) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (233ms)


changed 1 package, and audited 1096 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:20.972Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:20.972Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:20.972Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:20.973Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:21.026Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:21.064Z appoptics:patching patched crypto 
2021-09-18T00:52:21.085Z appoptics:patching patched https 
2021-09-18T00:52:21.086Z appoptics:patching patched http 
2021-09-18T00:52:21.120Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:21.120Z appoptics:patching patched fs 
2021-09-18T00:52:21.137Z appoptics:patching patched zlib 
2021-09-18T00:52:21.235Z appoptics:patching patched mongodb 3.5.9
2021-09-18T00:52:21.240Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:853) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:853) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:853) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (218ms)


changed 1 package, and audited 1096 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:26.810Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:26.810Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:26.810Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:26.811Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:26.867Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:26.902Z appoptics:patching patched crypto 
2021-09-18T00:52:26.922Z appoptics:patching patched https 
2021-09-18T00:52:26.922Z appoptics:patching patched http 
2021-09-18T00:52:26.955Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:26.956Z appoptics:patching patched fs 
2021-09-18T00:52:26.971Z appoptics:patching patched zlib 
2021-09-18T00:52:27.062Z appoptics:patching patched mongodb 3.5.10
2021-09-18T00:52:27.068Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (68ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:876) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:876) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:876) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (317ms)


changed 1 package, and audited 1096 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:33.256Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:33.257Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:33.257Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:33.258Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:33.315Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:33.356Z appoptics:patching patched crypto 
2021-09-18T00:52:33.376Z appoptics:patching patched https 
2021-09-18T00:52:33.376Z appoptics:patching patched http 
2021-09-18T00:52:33.413Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:33.414Z appoptics:patching patched fs 
2021-09-18T00:52:33.427Z appoptics:patching patched zlib 
2021-09-18T00:52:33.519Z appoptics:patching patched mongodb 3.5.11
2021-09-18T00:52:33.523Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.5.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (51ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:899) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:899) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:899) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (241ms)


changed 1 package, and audited 1096 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:38.994Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:38.995Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:38.995Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:38.995Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:39.048Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:39.095Z appoptics:patching patched crypto 
2021-09-18T00:52:39.115Z appoptics:patching patched https 
2021-09-18T00:52:39.115Z appoptics:patching patched http 
2021-09-18T00:52:39.152Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:39.152Z appoptics:patching patched fs 
2021-09-18T00:52:39.170Z appoptics:patching patched zlib 
2021-09-18T00:52:39.301Z appoptics:patching patched mongodb 3.6.0
2021-09-18T00:52:39.308Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:922) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:922) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:922) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:922) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (245ms)


changed 1 package, and audited 1096 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:45.603Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:45.603Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:45.603Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:45.604Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:45.660Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:45.701Z appoptics:patching patched crypto 
2021-09-18T00:52:45.721Z appoptics:patching patched https 
2021-09-18T00:52:45.722Z appoptics:patching patched http 
2021-09-18T00:52:45.759Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:45.759Z appoptics:patching patched fs 
2021-09-18T00:52:45.776Z appoptics:patching patched zlib 
2021-09-18T00:52:45.871Z appoptics:patching patched mongodb 3.6.1
2021-09-18T00:52:45.876Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (53ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:945) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:945) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:945) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:945) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (258ms)


changed 1 package, and audited 1096 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:51.608Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:51.608Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:51.609Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:51.609Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:51.675Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:51.719Z appoptics:patching patched crypto 
2021-09-18T00:52:51.743Z appoptics:patching patched https 
2021-09-18T00:52:51.743Z appoptics:patching patched http 
2021-09-18T00:52:51.793Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:51.796Z appoptics:patching patched fs 
2021-09-18T00:52:51.813Z appoptics:patching patched zlib 
2021-09-18T00:52:51.936Z appoptics:patching patched mongodb 3.6.2
2021-09-18T00:52:51.941Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:968) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:968) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:968) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:968) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (309ms)


changed 1 package, and audited 1096 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:58.196Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:58.196Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:58.196Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:58.197Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:58.250Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:58.288Z appoptics:patching patched crypto 
2021-09-18T00:52:58.306Z appoptics:patching patched https 
2021-09-18T00:52:58.306Z appoptics:patching patched http 
2021-09-18T00:52:58.341Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:58.342Z appoptics:patching patched fs 
2021-09-18T00:52:58.355Z appoptics:patching patched zlib 
2021-09-18T00:52:58.445Z appoptics:patching patched mongodb 3.6.3
2021-09-18T00:52:58.450Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (80ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:991) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:991) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:991) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:991) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (266ms)


changed 1 package, and audited 1096 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:04.361Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:04.364Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:04.364Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:04.364Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:04.499Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:04.572Z appoptics:patching patched crypto 
2021-09-18T00:53:04.600Z appoptics:patching patched https 
2021-09-18T00:53:04.600Z appoptics:patching patched http 
2021-09-18T00:53:04.669Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:04.670Z appoptics:patching patched fs 
2021-09-18T00:53:04.699Z appoptics:patching patched zlib 
2021-09-18T00:53:04.926Z appoptics:patching patched mongodb 3.6.4
2021-09-18T00:53:04.931Z appoptics:debug starting runtimeMetrics
(node:1014) Warning: Accessing non-existent property 'MongoError' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (65ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1014) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
        ✓ should count
        ✓ should countDocuments
(node:1014) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1014) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1014) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (361ms)


changed 1 package, and audited 1096 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:11.024Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:11.025Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:11.025Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:11.025Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:11.078Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:11.114Z appoptics:patching patched crypto 
2021-09-18T00:53:11.133Z appoptics:patching patched https 
2021-09-18T00:53:11.134Z appoptics:patching patched http 
2021-09-18T00:53:11.170Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:11.170Z appoptics:patching patched fs 
2021-09-18T00:53:11.184Z appoptics:patching patched zlib 
2021-09-18T00:53:11.281Z appoptics:patching patched mongodb 3.6.5
2021-09-18T00:53:11.285Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (63ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1037) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1037) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1037) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1037) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (294ms)


added 2 packages, changed 2 packages, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:17.451Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:17.452Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:17.452Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:17.452Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:17.571Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:17.639Z appoptics:patching patched crypto 
2021-09-18T00:53:17.664Z appoptics:patching patched https 
2021-09-18T00:53:17.665Z appoptics:patching patched http 
2021-09-18T00:53:17.704Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:17.704Z appoptics:patching patched fs 
2021-09-18T00:53:17.718Z appoptics:patching patched zlib 
2021-09-18T00:53:17.811Z appoptics:patching patched mongodb 3.6.6
2021-09-18T00:53:17.815Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (79ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1060) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1060) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1060) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1060) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (282ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:23.631Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:23.631Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:23.631Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:23.632Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:23.689Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:23.726Z appoptics:patching patched crypto 
2021-09-18T00:53:23.746Z appoptics:patching patched https 
2021-09-18T00:53:23.746Z appoptics:patching patched http 
2021-09-18T00:53:23.782Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:23.782Z appoptics:patching patched fs 
2021-09-18T00:53:23.798Z appoptics:patching patched zlib 
2021-09-18T00:53:23.896Z appoptics:patching patched mongodb 3.6.7
2021-09-18T00:53:23.901Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (74ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1083) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1083) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1083) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1083) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (267ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:30.033Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:30.034Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:30.034Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:30.035Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:30.089Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:30.128Z appoptics:patching patched crypto 
2021-09-18T00:53:30.146Z appoptics:patching patched https 
2021-09-18T00:53:30.146Z appoptics:patching patched http 
2021-09-18T00:53:30.185Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:30.186Z appoptics:patching patched fs 
2021-09-18T00:53:30.199Z appoptics:patching patched zlib 
2021-09-18T00:53:30.297Z appoptics:patching patched mongodb 3.6.8
2021-09-18T00:53:30.303Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (75ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1106) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1106) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1106) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1106) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (283ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:35.946Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:35.946Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:35.946Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:35.947Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:36.002Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:36.041Z appoptics:patching patched crypto 
2021-09-18T00:53:36.061Z appoptics:patching patched https 
2021-09-18T00:53:36.061Z appoptics:patching patched http 
2021-09-18T00:53:36.102Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:36.102Z appoptics:patching patched fs 
2021-09-18T00:53:36.116Z appoptics:patching patched zlib 
2021-09-18T00:53:36.210Z appoptics:patching patched mongodb 3.6.9
2021-09-18T00:53:36.215Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (53ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1129) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1129) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1129) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1129) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (240ms)


changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:42.524Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:42.525Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:42.525Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:42.526Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:42.582Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:42.622Z appoptics:patching patched crypto 
2021-09-18T00:53:42.642Z appoptics:patching patched https 
2021-09-18T00:53:42.643Z appoptics:patching patched http 
2021-09-18T00:53:42.677Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:42.677Z appoptics:patching patched fs 
2021-09-18T00:53:42.693Z appoptics:patching patched zlib 
2021-09-18T00:53:42.786Z appoptics:patching patched mongodb 3.6.10
2021-09-18T00:53:42.790Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (44ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1152) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1152) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1152) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1152) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (255ms)


removed 1 package, changed 1 package, and audited 1097 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:48.437Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:48.438Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:48.438Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:48.438Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:48.510Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:48.550Z appoptics:patching patched crypto 
2021-09-18T00:53:48.572Z appoptics:patching patched https 
2021-09-18T00:53:48.572Z appoptics:patching patched http 
2021-09-18T00:53:48.610Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:48.610Z appoptics:patching patched fs 
2021-09-18T00:53:48.622Z appoptics:patching patched zlib 
2021-09-18T00:53:48.724Z appoptics:patching patched mongodb 3.6.11
2021-09-18T00:53:48.729Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (60ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1175) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1175) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1175) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1175) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (250ms)


added 1 package, changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:54.896Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:54.896Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:54.896Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:54.897Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:54.951Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:54.990Z appoptics:patching patched crypto 
2021-09-18T00:53:55.011Z appoptics:patching patched https 
2021-09-18T00:53:55.011Z appoptics:patching patched http 
2021-09-18T00:53:55.047Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:55.048Z appoptics:patching patched fs 
2021-09-18T00:53:55.063Z appoptics:patching patched zlib 
2021-09-18T00:53:55.158Z appoptics:patching patched mongodb 3.6.12
2021-09-18T00:53:55.162Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.6.12
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1198) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1198) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1198) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1198) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (220ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:54:00.913Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:00.913Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:00.914Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:00.914Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:00.984Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:01.044Z appoptics:patching patched crypto 
2021-09-18T00:54:01.066Z appoptics:patching patched https 
2021-09-18T00:54:01.067Z appoptics:patching patched http 
2021-09-18T00:54:01.106Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:01.107Z appoptics:patching patched fs 
2021-09-18T00:54:01.124Z appoptics:patching patched zlib 
2021-09-18T00:54:01.229Z appoptics:patching patched mongodb 3.7.0
2021-09-18T00:54:01.234Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.7.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1221) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1221) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1221) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1221) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (234ms)


changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:54:07.667Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:07.668Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:07.668Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:07.669Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:07.725Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:07.765Z appoptics:patching patched crypto 
2021-09-18T00:54:07.786Z appoptics:patching patched https 
2021-09-18T00:54:07.786Z appoptics:patching patched http 
2021-09-18T00:54:07.824Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:07.824Z appoptics:patching patched fs 
2021-09-18T00:54:07.841Z appoptics:patching patched zlib 
2021-09-18T00:54:07.939Z appoptics:patching patched mongodb 3.7.1
2021-09-18T00:54:07.944Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 3.7.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
(node:1244) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
(Use `node --trace-deprecation ...` to show where the warning was created)
        ✓ should count
        ✓ should countDocuments
(node:1244) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.
        ✓ should remove
      indexes
        ✓ should create_indexes
(node:1244) DeprecationWarning: collection.reIndex is deprecated. Use db.command instead.
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
(node:1244) DeprecationWarning: MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insertMany
        ✓ should updateOne
        ✓ should findOneAndUpdate
        ✓ should distinct
        ✓ should count
        ✓ should countDocuments
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  35 passing (235ms)


added 11 packages, removed 5 packages, changed 5 packages, and audited 1104 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:54:14.575Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:14.575Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:14.575Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:14.576Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:14.637Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:14.679Z appoptics:patching patched crypto 
2021-09-18T00:54:14.700Z appoptics:patching patched https 
2021-09-18T00:54:14.701Z appoptics:patching patched http 
2021-09-18T00:54:14.774Z appoptics:patching patched zlib 
2021-09-18T00:54:14.777Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:14.777Z appoptics:patching patched fs 
2021-09-18T00:54:14.864Z appoptics:patching probes.mongodb "topologies/server.js" not found
2021-09-18T00:54:14.864Z appoptics:patching probes.mongodb "Server.prototype" not found
2021-09-18T00:54:14.864Z appoptics:patching probes.mongodb "topologies/replset.js" not found
2021-09-18T00:54:14.864Z appoptics:patching probes.mongodb "ReplSet.prototype" not found
2021-09-18T00:54:14.864Z appoptics:patching probes.mongodb "topologies/mongos.js" not found
2021-09-18T00:54:14.864Z appoptics:patching probes.mongodb "Mongos.prototype" not found
2021-09-18T00:54:14.864Z appoptics:patching probes.mongodb "Cursor.prototype" not found
2021-09-18T00:54:14.864Z appoptics:patching patched mongodb 4.0.0
2021-09-18T00:54:14.877Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 4.0.0
    2.6
      1) "before all" hook in "2.6"
    3.0
      2) "before all" hook in "3.0"


  1 passing (16ms)
  2 failing

  1) probes.mongodb 4.0.0
       2.6
         "before all" hook in "2.6":
     TypeError: mongodb.Server is not a constructor
      at Context.<anonymous> (test/probes/mongodb.test.js:205:18)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb 4.0.0
       3.0
         "before all" hook in "3.0":
     TypeError: mongodb.Server is not a constructor
      at Context.<anonymous> (test/probes/mongodb.test.js:205:18)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1104 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:54:21.242Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:21.243Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:21.243Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:21.244Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:21.312Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:21.351Z appoptics:patching patched crypto 
2021-09-18T00:54:21.373Z appoptics:patching patched https 
2021-09-18T00:54:21.374Z appoptics:patching patched http 
2021-09-18T00:54:21.437Z appoptics:patching patched zlib 
2021-09-18T00:54:21.440Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:21.440Z appoptics:patching patched fs 
2021-09-18T00:54:21.520Z appoptics:patching probes.mongodb "topologies/server.js" not found
2021-09-18T00:54:21.520Z appoptics:patching probes.mongodb "Server.prototype" not found
2021-09-18T00:54:21.520Z appoptics:patching probes.mongodb "topologies/replset.js" not found
2021-09-18T00:54:21.520Z appoptics:patching probes.mongodb "ReplSet.prototype" not found
2021-09-18T00:54:21.520Z appoptics:patching probes.mongodb "topologies/mongos.js" not found
2021-09-18T00:54:21.520Z appoptics:patching probes.mongodb "Mongos.prototype" not found
2021-09-18T00:54:21.520Z appoptics:patching probes.mongodb "Cursor.prototype" not found
2021-09-18T00:54:21.520Z appoptics:patching patched mongodb 4.0.1
2021-09-18T00:54:21.532Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 4.0.1
    2.6
      1) "before all" hook in "2.6"
    3.0
      2) "before all" hook in "3.0"


  1 passing (14ms)
  2 failing

  1) probes.mongodb 4.0.1
       2.6
         "before all" hook in "2.6":
     TypeError: mongodb.Server is not a constructor
      at Context.<anonymous> (test/probes/mongodb.test.js:205:18)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb 4.0.1
       3.0
         "before all" hook in "3.0":
     TypeError: mongodb.Server is not a constructor
      at Context.<anonymous> (test/probes/mongodb.test.js:205:18)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1104 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:54:27.708Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:27.709Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:27.709Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:27.710Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:27.773Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:27.816Z appoptics:patching patched crypto 
2021-09-18T00:54:27.836Z appoptics:patching patched https 
2021-09-18T00:54:27.836Z appoptics:patching patched http 
2021-09-18T00:54:27.877Z appoptics:patching patched zlib 
2021-09-18T00:54:27.880Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:27.880Z appoptics:patching patched fs 
2021-09-18T00:54:27.984Z appoptics:patching probes.mongodb "topologies/server.js" not found
2021-09-18T00:54:27.984Z appoptics:patching probes.mongodb "Server.prototype" not found
2021-09-18T00:54:27.985Z appoptics:patching probes.mongodb "topologies/replset.js" not found
2021-09-18T00:54:27.985Z appoptics:patching probes.mongodb "ReplSet.prototype" not found
2021-09-18T00:54:27.985Z appoptics:patching probes.mongodb "topologies/mongos.js" not found
2021-09-18T00:54:27.985Z appoptics:patching probes.mongodb "Mongos.prototype" not found
2021-09-18T00:54:27.985Z appoptics:patching probes.mongodb "Cursor.prototype" not found
2021-09-18T00:54:27.985Z appoptics:patching patched mongodb 4.1.0
2021-09-18T00:54:27.999Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 4.1.0
    2.6
      1) "before all" hook in "2.6"
    3.0
      2) "before all" hook in "3.0"


  1 passing (18ms)
  2 failing

  1) probes.mongodb 4.1.0
       2.6
         "before all" hook in "2.6":
     TypeError: mongodb.Server is not a constructor
      at Context.<anonymous> (test/probes/mongodb.test.js:205:18)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb 4.1.0
       3.0
         "before all" hook in "3.0":
     TypeError: mongodb.Server is not a constructor
      at Context.<anonymous> (test/probes/mongodb.test.js:205:18)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)




changed 3 packages, and audited 1104 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:54:34.804Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:34.805Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:34.805Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:34.806Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:34.868Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:34.910Z appoptics:patching patched crypto 
2021-09-18T00:54:34.930Z appoptics:patching patched https 
2021-09-18T00:54:34.931Z appoptics:patching patched http 
2021-09-18T00:54:34.967Z appoptics:patching patched zlib 
2021-09-18T00:54:34.974Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:34.975Z appoptics:patching patched fs 
2021-09-18T00:54:35.047Z appoptics:patching probes.mongodb "topologies/server.js" not found
2021-09-18T00:54:35.047Z appoptics:patching probes.mongodb "Server.prototype" not found
2021-09-18T00:54:35.047Z appoptics:patching probes.mongodb "topologies/replset.js" not found
2021-09-18T00:54:35.047Z appoptics:patching probes.mongodb "ReplSet.prototype" not found
2021-09-18T00:54:35.047Z appoptics:patching probes.mongodb "topologies/mongos.js" not found
2021-09-18T00:54:35.047Z appoptics:patching probes.mongodb "Mongos.prototype" not found
2021-09-18T00:54:35.047Z appoptics:patching probes.mongodb "Cursor.prototype" not found
2021-09-18T00:54:35.047Z appoptics:patching patched mongodb 4.1.1
2021-09-18T00:54:35.054Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 4.1.1
    2.6
      1) "before all" hook in "2.6"
    3.0
      2) "before all" hook in "3.0"


  1 passing (17ms)
  2 failing

  1) probes.mongodb 4.1.1
       2.6
         "before all" hook in "2.6":
     TypeError: mongodb.Server is not a constructor
      at Context.<anonymous> (test/probes/mongodb.test.js:205:18)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb 4.1.1
       3.0
         "before all" hook in "3.0":
     TypeError: mongodb.Server is not a constructor
      at Context.<anonymous> (test/probes/mongodb.test.js:205:18)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)




added 2 packages, changed 2 packages, and audited 1106 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:54:40.884Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:40.884Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:40.884Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:40.885Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:40.953Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:40.997Z appoptics:patching patched crypto 
2021-09-18T00:54:41.023Z appoptics:patching patched https 
2021-09-18T00:54:41.023Z appoptics:patching patched http 
2021-09-18T00:54:41.065Z appoptics:patching patched zlib 
2021-09-18T00:54:41.072Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:41.072Z appoptics:patching patched fs 
2021-09-18T00:54:41.144Z appoptics:patching probes.mongodb "topologies/server.js" not found
2021-09-18T00:54:41.144Z appoptics:patching probes.mongodb "Server.prototype" not found
2021-09-18T00:54:41.144Z appoptics:patching probes.mongodb "topologies/replset.js" not found
2021-09-18T00:54:41.144Z appoptics:patching probes.mongodb "ReplSet.prototype" not found
2021-09-18T00:54:41.144Z appoptics:patching probes.mongodb "topologies/mongos.js" not found
2021-09-18T00:54:41.144Z appoptics:patching probes.mongodb "Mongos.prototype" not found
2021-09-18T00:54:41.144Z appoptics:patching probes.mongodb "Cursor.prototype" not found
2021-09-18T00:54:41.144Z appoptics:patching patched mongodb 4.1.2
2021-09-18T00:54:41.150Z appoptics:debug starting runtimeMetrics


  probes.mongodb UDP
    ✓ UDP might lose a message

  probes.mongodb 4.1.2
    2.6
      1) "before all" hook in "2.6"
    3.0
      2) "before all" hook in "3.0"


  1 passing (19ms)
  2 failing

  1) probes.mongodb 4.1.2
       2.6
         "before all" hook in "2.6":
     TypeError: mongodb.Server is not a constructor
      at Context.<anonymous> (test/probes/mongodb.test.js:205:18)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb 4.1.2
       3.0
         "before all" hook in "3.0":
     TypeError: mongodb.Server is not a constructor
      at Context.<anonymous> (test/probes/mongodb.test.js:205:18)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)




added 5 packages, removed 13 packages, changed 6 packages, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
